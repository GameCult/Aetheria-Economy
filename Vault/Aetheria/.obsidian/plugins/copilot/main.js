/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var s8t=Object.create;var _$=Object.defineProperty;var u8t=Object.getOwnPropertyDescriptor;var l8t=Object.getOwnPropertyNames;var c8t=Object.getPrototypeOf,d8t=Object.prototype.hasOwnProperty;var f8t=(e,t,r)=>t in e?_$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var C=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kd=(e,t)=>{for(var r in t)_$(e,r,{get:t[r],enumerable:!0})},B1e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l8t(t))!d8t.call(e,o)&&o!==r&&_$(e,o,{get:()=>t[o],enumerable:!(n=u8t(t,o))||n.enumerable});return e};var B=(e,t,r)=>(r=e!=null?s8t(c8t(e)):{},B1e(t||!e||!e.__esModule?_$(r,"default",{value:e,enumerable:!0}):r,e)),il=e=>B1e(_$({},"__esModule",{value:!0}),e);var Nl=(e,t,r)=>f8t(e,typeof t!="symbol"?t+"":t,r);function h8t(e){U1e=e}function g6(){return U1e}function He(e,t){let r=g6(),n=y6({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===bD?void 0:bD].filter(o=>!!o)});e.common.issues.push(n)}function b6(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function z1e(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function gr(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(a,s)=>{var u,l;let{message:c}=e;return a.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:o}}function V1e(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function R8t(e){return new RegExp(`^${V1e(e)}$`)}function W1e(e){let t=`${H1e}T${V1e(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function D8t(e,t){return!!((t==="v4"||!t)&&O8t.test(e)||(t==="v6"||!t)&&P8t.test(e))}function j8t(e,t){if(!w8t.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function N8t(e,t){return!!((t==="v4"||!t)&&E8t.test(e)||(t==="v6"||!t)&&T8t.test(e))}function L8t(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,i=parseInt(e.toFixed(o).replace(".","")),a=parseInt(t.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}function gD(e){if(e instanceof Zd){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Yd.create(gD(n))}return new Zd({...e._def,shape:()=>t})}else return e instanceof hS?new hS({...e._def,type:gD(e.element)}):e instanceof Yd?Yd.create(gD(e.unwrap())):e instanceof Qg?Qg.create(gD(e.unwrap())):e instanceof Xg?Xg.create(e.items.map(t=>gD(t))):e}function xae(e,t){let r=fS(e),n=fS(t);if(e===t)return{valid:!0,data:e};if(r===Qe.object&&n===Qe.object){let o=Sn.objectKeys(t),i=Sn.objectKeys(e).filter(s=>o.indexOf(s)!==-1),a={...e,...t};for(let s of i){let u=xae(e[s],t[s]);if(!u.valid)return{valid:!1};a[s]=u.data}return{valid:!0,data:a}}else if(r===Qe.array&&n===Qe.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let i=0;i<e.length;i++){let a=e[i],s=t[i],u=xae(a,s);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return r===Qe.date&&n===Qe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}function J1e(e,t){return new OM({values:e,typeName:re.ZodEnum,...gr(t)})}function G1e(e,t={},r){return e?lO.create().superRefine((n,o)=>{var i,a;if(!e(n)){let s=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(a=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,l=typeof s=="string"?{message:s}:s;o.addIssue({code:"custom",...l,fatal:u})}}):lO.create()}var Sn,vae,Qe,fS,ve,p8t,Yf,bD,U1e,y6,m8t,Ic,$t,yD,yd,wae,Sae,hM,S$,mt,v$,w$,Gp,$1e,yr,g8t,y8t,b8t,_8t,v8t,w8t,S8t,x8t,C8t,_ae,O8t,E8t,P8t,T8t,M8t,I8t,H1e,A8t,uO,mM,gM,yM,bM,_D,_M,vM,lO,pS,Rm,vD,hS,Zd,wM,dS,_6,SM,Xg,v6,wD,SD,w6,xM,CM,OM,EM,cO,Zf,Yd,Qg,PM,TM,xD,F8t,x$,C$,MM,k8t,re,B8t,K1e,Y1e,$8t,q8t,Z1e,U8t,z8t,H8t,V8t,W8t,J8t,G8t,K8t,Y8t,Z8t,X8t,Q8t,eHt,tHt,rHt,nHt,oHt,iHt,aHt,sHt,uHt,lHt,cHt,dHt,q1e,fHt,pHt,hHt,mHt,gHt,yHt,bHt,_Ht,vHt,Er,bd=C(()=>{(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{let i={};for(let a of o)i[a]=a;return i},e.getValidEnumValues=o=>{let i=e.objectKeys(o).filter(s=>typeof o[o[s]]!="number"),a={};for(let s of i)a[s]=o[s];return e.objectValues(a)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},e.find=(o,i)=>{for(let a of o)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(Sn||(Sn={}));(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(vae||(vae={}));Qe=Sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fS=e=>{switch(typeof e){case"undefined":return Qe.undefined;case"string":return Qe.string;case"number":return isNaN(e)?Qe.nan:Qe.number;case"boolean":return Qe.boolean;case"function":return Qe.function;case"bigint":return Qe.bigint;case"symbol":return Qe.symbol;case"object":return Array.isArray(e)?Qe.array:e===null?Qe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Qe.promise:typeof Map<"u"&&e instanceof Map?Qe.map:typeof Set<"u"&&e instanceof Set?Qe.set:typeof Date<"u"&&e instanceof Date?Qe.date:Qe.object;default:return Qe.unknown}},ve=Sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p8t=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Yf=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},o=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let s=n,u=0;for(;u<a.path.length;){let l=a.path[u];u===a.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(a))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Yf.create=e=>new Yf(e);bD=(e,t)=>{let r;switch(e.code){case ve.invalid_type:e.received===Qe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Sn.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${Sn.joinValues(e.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Sn.joinValues(e.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${Sn.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Sn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,Sn.assertNever(e)}return{message:r}},U1e=bD;y6=e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,i=[...r,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(a,{data:t,defaultError:s}).message;return{...o,path:i,message:s}},m8t=[];Ic=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return $t;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let i=await o.key,a=await o.value;n.push({key:i,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return $t;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}},$t=Object.freeze({status:"aborted"}),yD=e=>({status:"dirty",value:e}),yd=e=>({status:"valid",value:e}),wae=e=>e.status==="aborted",Sae=e=>e.status==="dirty",hM=e=>e.status==="valid",S$=e=>typeof Promise<"u"&&e instanceof Promise;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(mt||(mt={}));Gp=class{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},$1e=(e,t)=>{if(hM(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Yf(e.common.issues);return this._error=r,this._error}}};yr=class{get description(){return this._def.description}_getType(t){return fS(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fS(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ic,ctx:{common:t.parent.common,data:t.data,parsedType:fS(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(S$(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fS(t)},i=this._parseSync({data:t,path:o.path,parent:o});return $1e(o,i)}"~validate"(t){var r,n;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fS(t)};if(!this["~standard"].async)try{let i=this._parseSync({data:t,path:[],parent:o});return hM(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((n=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(i=>hM(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fS(t)},o=this._parse({data:t,path:n.path,parent:n}),i=await(S$(o)?o:Promise.resolve(o));return $1e(n,i)}refine(t,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,i)=>{let a=t(o),s=()=>i.addIssue({code:ve.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new Zf({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yd.create(this,this._def)}nullable(){return Qg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hS.create(this)}promise(){return cO.create(this,this._def)}or(t){return wM.create([this,t],this._def)}and(t){return SM.create(this,t,this._def)}transform(t){return new Zf({...gr(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new PM({...gr(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new x$({typeName:re.ZodBranded,type:this,...gr(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new TM({...gr(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return C$.create(this,t)}readonly(){return MM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},g8t=/^c[^\s-]{8,}$/i,y8t=/^[0-9a-z]+$/,b8t=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_8t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,v8t=/^[a-z0-9_-]{21}$/i,w8t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,S8t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,x8t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,C8t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",O8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,E8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,P8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,T8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M8t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I8t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H1e="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",A8t=new RegExp(`^${H1e}$`);uO=class e extends yr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Qe.string){let i=this._getOrReturnCtx(t);return He(i,{code:ve.invalid_type,expected:Qe.string,received:i.parsedType}),$t}let n=new Ic,o;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),He(o,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),He(o,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=t.data.length>i.value,s=t.data.length<i.value;(a||s)&&(o=this._getOrReturnCtx(t,o),a?He(o,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&He(o,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")x8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"email",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")_ae||(_ae=new RegExp(C8t,"u")),_ae.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"emoji",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")_8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"uuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")v8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"nanoid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")g8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"cuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")y8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"cuid2",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")b8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"ulid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),He(o,{validation:"url",code:ve.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"regex",code:ve.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?W1e(i).test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?A8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?R8t(i).test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{code:ve.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?S8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"duration",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?D8t(t.data,i.version)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"ip",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?j8t(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"jwt",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?N8t(t.data,i.version)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"cidr",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?M8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"base64",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?I8t.test(t.data)||(o=this._getOrReturnCtx(t,o),He(o,{validation:"base64url",code:ve.invalid_string,message:i.message}),n.dirty()):Sn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:ve.invalid_string,...mt.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...mt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...mt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...mt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...mt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...mt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...mt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...mt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...mt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...mt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...mt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...mt.errToObj(r)})}nonempty(t){return this.min(1,mt.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};uO.create=e=>{var t;return new uO({checks:[],typeName:re.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...gr(e)})};mM=class e extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Qe.number){let i=this._getOrReturnCtx(t);return He(i,{code:ve.invalid_type,expected:Qe.number,received:i.parsedType}),$t}let n,o=new Ic;for(let i of this._def.checks)i.kind==="int"?Sn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:ve.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?L8t(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:ve.not_finite,message:i.message}),o.dirty()):Sn.assertNever(i);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Sn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};mM.create=e=>new mM({checks:[],typeName:re.ZodNumber,coerce:e?.coerce||!1,...gr(e)});gM=class e extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Qe.bigint)return this._getInvalidInput(t);let n,o=new Ic;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),He(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):Sn.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return He(r,{code:ve.invalid_type,expected:Qe.bigint,received:r.parsedType}),$t}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};gM.create=e=>{var t;return new gM({checks:[],typeName:re.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...gr(e)})};yM=class extends yr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Qe.boolean){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.boolean,received:n.parsedType}),$t}return yd(t.data)}};yM.create=e=>new yM({typeName:re.ZodBoolean,coerce:e?.coerce||!1,...gr(e)});bM=class e extends yr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Qe.date){let i=this._getOrReturnCtx(t);return He(i,{code:ve.invalid_type,expected:Qe.date,received:i.parsedType}),$t}if(isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return He(i,{code:ve.invalid_date}),$t}let n=new Ic,o;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),He(o,{code:ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),He(o,{code:ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Sn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:mt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:mt.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};bM.create=e=>new bM({checks:[],coerce:e?.coerce||!1,typeName:re.ZodDate,...gr(e)});_D=class extends yr{_parse(t){if(this._getType(t)!==Qe.symbol){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.symbol,received:n.parsedType}),$t}return yd(t.data)}};_D.create=e=>new _D({typeName:re.ZodSymbol,...gr(e)});_M=class extends yr{_parse(t){if(this._getType(t)!==Qe.undefined){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.undefined,received:n.parsedType}),$t}return yd(t.data)}};_M.create=e=>new _M({typeName:re.ZodUndefined,...gr(e)});vM=class extends yr{_parse(t){if(this._getType(t)!==Qe.null){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.null,received:n.parsedType}),$t}return yd(t.data)}};vM.create=e=>new vM({typeName:re.ZodNull,...gr(e)});lO=class extends yr{constructor(){super(...arguments),this._any=!0}_parse(t){return yd(t.data)}};lO.create=e=>new lO({typeName:re.ZodAny,...gr(e)});pS=class extends yr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yd(t.data)}};pS.create=e=>new pS({typeName:re.ZodUnknown,...gr(e)});Rm=class extends yr{_parse(t){let r=this._getOrReturnCtx(t);return He(r,{code:ve.invalid_type,expected:Qe.never,received:r.parsedType}),$t}};Rm.create=e=>new Rm({typeName:re.ZodNever,...gr(e)});vD=class extends yr{_parse(t){if(this._getType(t)!==Qe.undefined){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.void,received:n.parsedType}),$t}return yd(t.data)}};vD.create=e=>new vD({typeName:re.ZodVoid,...gr(e)});hS=class e extends yr{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==Qe.array)return He(r,{code:ve.invalid_type,expected:Qe.array,received:r.parsedType}),$t;if(o.exactLength!==null){let a=r.data.length>o.exactLength.value,s=r.data.length<o.exactLength.value;(a||s)&&(He(r,{code:a?ve.too_big:ve.too_small,minimum:s?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(He(r,{code:ve.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(He(r,{code:ve.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>o.type._parseAsync(new Gp(r,a,r.path,s)))).then(a=>Ic.mergeArray(n,a));let i=[...r.data].map((a,s)=>o.type._parseSync(new Gp(r,a,r.path,s)));return Ic.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:mt.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:mt.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:mt.toString(r)}})}nonempty(t){return this.min(1,t)}};hS.create=(e,t)=>new hS({type:e,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...gr(t)});Zd=class e extends yr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=Sn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Qe.object){let l=this._getOrReturnCtx(t);return He(l,{code:ve.invalid_type,expected:Qe.object,received:l.parsedType}),$t}let{status:n,ctx:o}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Rm&&this._def.unknownKeys==="strip"))for(let l in o.data)a.includes(l)||s.push(l);let u=[];for(let l of a){let c=i[l],d=o.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Gp(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof Rm){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(l==="strict")s.length>0&&(He(o,{code:ve.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=o.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Gp(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>Ic.mergeObjectSync(n,l)):Ic.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return mt.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i,a,s;let u=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=mt.errToObj(t).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:re.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return Sn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return Sn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return gD(this)}partial(t){let r={};return Sn.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return Sn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yd;)i=i._def.innerType;r[n]=i}}),new e({...this._def,shape:()=>r})}keyof(){return J1e(Sn.objectKeys(this.shape))}};Zd.create=(e,t)=>new Zd({shape:()=>e,unknownKeys:"strip",catchall:Rm.create(),typeName:re.ZodObject,...gr(t)});Zd.strictCreate=(e,t)=>new Zd({shape:()=>e,unknownKeys:"strict",catchall:Rm.create(),typeName:re.ZodObject,...gr(t)});Zd.lazycreate=(e,t)=>new Zd({shape:e,unknownKeys:"strip",catchall:Rm.create(),typeName:re.ZodObject,...gr(t)});wM=class extends yr{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(s=>new Yf(s.ctx.common.issues));return He(r,{code:ve.invalid_union,unionErrors:a}),$t}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(o);{let i,a=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=a.map(u=>new Yf(u));return He(r,{code:ve.invalid_union,unionErrors:s}),$t}}get options(){return this._def.options}};wM.create=(e,t)=>new wM({options:e,typeName:re.ZodUnion,...gr(t)});dS=e=>e instanceof xM?dS(e.schema):e instanceof Zf?dS(e.innerType()):e instanceof CM?[e.value]:e instanceof OM?e.options:e instanceof EM?Sn.objectValues(e.enum):e instanceof PM?dS(e._def.innerType):e instanceof _M?[void 0]:e instanceof vM?[null]:e instanceof Yd?[void 0,...dS(e.unwrap())]:e instanceof Qg?[null,...dS(e.unwrap())]:e instanceof x$||e instanceof MM?dS(e.unwrap()):e instanceof TM?dS(e._def.innerType):[],_6=class e extends yr{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Qe.object)return He(r,{code:ve.invalid_type,expected:Qe.object,received:r.parsedType}),$t;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(He(r,{code:ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),$t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let i of r){let a=dS(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of a){if(o.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);o.set(s,i)}}return new e({typeName:re.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...gr(n)})}};SM=class extends yr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=(i,a)=>{if(wae(i)||wae(a))return $t;let s=xae(i.value,a.value);return s.valid?((Sae(i)||Sae(a))&&r.dirty(),{status:r.value,value:s.data}):(He(n,{code:ve.invalid_intersection_types}),$t)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};SM.create=(e,t,r)=>new SM({left:e,right:t,typeName:re.ZodIntersection,...gr(r)});Xg=class e extends yr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Qe.array)return He(n,{code:ve.invalid_type,expected:Qe.array,received:n.parsedType}),$t;if(n.data.length<this._def.items.length)return He(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$t;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new Gp(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Ic.mergeArray(r,a)):Ic.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Xg.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xg({items:e,typeName:re.ZodTuple,rest:null,...gr(t)})};v6=class e extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Qe.object)return He(n,{code:ve.invalid_type,expected:Qe.object,received:n.parsedType}),$t;let o=[],i=this._def.keyType,a=this._def.valueType;for(let s in n.data)o.push({key:i._parse(new Gp(n,s,n.path,s)),value:a._parse(new Gp(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ic.mergeObjectAsync(r,o):Ic.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof yr?new e({keyType:t,valueType:r,typeName:re.ZodRecord,...gr(n)}):new e({keyType:uO.create(),valueType:t,typeName:re.ZodRecord,...gr(r)})}},wD=class extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Qe.map)return He(n,{code:ve.invalid_type,expected:Qe.map,received:n.parsedType}),$t;let o=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([s,u],l)=>({key:o._parse(new Gp(n,s,n.path,[l,"key"])),value:i._parse(new Gp(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of a){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return $t;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of a){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return $t;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};wD.create=(e,t,r)=>new wD({valueType:t,keyType:e,typeName:re.ZodMap,...gr(r)});SD=class e extends yr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Qe.set)return He(n,{code:ve.invalid_type,expected:Qe.set,received:n.parsedType}),$t;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(He(n,{code:ve.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(He(n,{code:ve.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function a(u){let l=new Set;for(let c of u){if(c.status==="aborted")return $t;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new Gp(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>a(u)):a(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:mt.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:mt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};SD.create=(e,t)=>new SD({valueType:e,minSize:null,maxSize:null,typeName:re.ZodSet,...gr(t)});w6=class e extends yr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Qe.function)return He(r,{code:ve.invalid_type,expected:Qe.function,received:r.parsedType}),$t;function n(s,u){return y6({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,g6(),bD].filter(l=>!!l),issueData:{code:ve.invalid_arguments,argumentsError:u}})}function o(s,u){return y6({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,g6(),bD].filter(l=>!!l),issueData:{code:ve.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof cO){let s=this;return yd(async function(...u){let l=new Yf([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(a,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(o(d,p)),l})})}else{let s=this;return yd(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Yf([n(u,l.error)]);let c=Reflect.apply(a,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Yf([o(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Xg.create(t).rest(pS.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Xg.create([]).rest(pS.create()),returns:r||pS.create(),typeName:re.ZodFunction,...gr(n)})}},xM=class extends yr{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};xM.create=(e,t)=>new xM({getter:e,typeName:re.ZodLazy,...gr(t)});CM=class extends yr{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return He(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),$t}return{status:"valid",value:t.data}}get value(){return this._def.value}};CM.create=(e,t)=>new CM({value:e,typeName:re.ZodLiteral,...gr(t)});OM=class e extends yr{constructor(){super(...arguments),v$.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return He(r,{expected:Sn.joinValues(n),received:r.parsedType,code:ve.invalid_type}),$t}if(b6(this,v$,"f")||z1e(this,v$,new Set(this._def.values),"f"),!b6(this,v$,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return He(r,{received:r.data,code:ve.invalid_enum_value,options:n}),$t}return yd(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};v$=new WeakMap;OM.create=J1e;EM=class extends yr{constructor(){super(...arguments),w$.set(this,void 0)}_parse(t){let r=Sn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Qe.string&&n.parsedType!==Qe.number){let o=Sn.objectValues(r);return He(n,{expected:Sn.joinValues(o),received:n.parsedType,code:ve.invalid_type}),$t}if(b6(this,w$,"f")||z1e(this,w$,new Set(Sn.getValidEnumValues(this._def.values)),"f"),!b6(this,w$,"f").has(t.data)){let o=Sn.objectValues(r);return He(n,{received:n.data,code:ve.invalid_enum_value,options:o}),$t}return yd(t.data)}get enum(){return this._def.values}};w$=new WeakMap;EM.create=(e,t)=>new EM({values:e,typeName:re.ZodNativeEnum,...gr(t)});cO=class extends yr{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Qe.promise&&r.common.async===!1)return He(r,{code:ve.invalid_type,expected:Qe.promise,received:r.parsedType}),$t;let n=r.parsedType===Qe.promise?r.data:Promise.resolve(r.data);return yd(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};cO.create=(e,t)=>new cO({type:e,typeName:re.ZodPromise,...gr(t)});Zf=class extends yr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a=>{He(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let a=o.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async s=>{if(r.value==="aborted")return $t;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?$t:u.status==="dirty"||r.value==="dirty"?yD(u.value):u});{if(r.value==="aborted")return $t;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?$t:s.status==="dirty"||r.value==="dirty"?yD(s.value):s}}if(o.type==="refinement"){let a=s=>{let u=o.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?$t:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?$t:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hM(a))return a;let s=o.transform(a.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>hM(a)?Promise.resolve(o.transform(a.value,i)).then(s=>({status:r.value,value:s})):a);Sn.assertNever(o)}};Zf.create=(e,t,r)=>new Zf({schema:e,typeName:re.ZodEffects,effect:t,...gr(r)});Zf.createWithPreprocess=(e,t,r)=>new Zf({schema:t,effect:{type:"preprocess",transform:e},typeName:re.ZodEffects,...gr(r)});Yd=class extends yr{_parse(t){return this._getType(t)===Qe.undefined?yd(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Yd.create=(e,t)=>new Yd({innerType:e,typeName:re.ZodOptional,...gr(t)});Qg=class extends yr{_parse(t){return this._getType(t)===Qe.null?yd(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Qg.create=(e,t)=>new Qg({innerType:e,typeName:re.ZodNullable,...gr(t)});PM=class extends yr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};PM.create=(e,t)=>new PM({innerType:e,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gr(t)});TM=class extends yr{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return S$(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Yf(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Yf(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};TM.create=(e,t)=>new TM({innerType:e,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gr(t)});xD=class extends yr{_parse(t){if(this._getType(t)!==Qe.nan){let n=this._getOrReturnCtx(t);return He(n,{code:ve.invalid_type,expected:Qe.nan,received:n.parsedType}),$t}return{status:"valid",value:t.data}}};xD.create=e=>new xD({typeName:re.ZodNaN,...gr(e)});F8t=Symbol("zod_brand"),x$=class extends yr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},C$=class e extends yr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?$t:i.status==="dirty"?(r.dirty(),yD(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?$t:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:re.ZodPipeline})}},MM=class extends yr{_parse(t){let r=this._def.innerType._parse(t),n=o=>(hM(o)&&(o.value=Object.freeze(o.value)),o);return S$(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};MM.create=(e,t)=>new MM({innerType:e,typeName:re.ZodReadonly,...gr(t)});k8t={object:Zd.lazycreate};(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(re||(re={}));B8t=(e,t={message:`Input not instance of ${e.name}`})=>G1e(r=>r instanceof e,t),K1e=uO.create,Y1e=mM.create,$8t=xD.create,q8t=gM.create,Z1e=yM.create,U8t=bM.create,z8t=_D.create,H8t=_M.create,V8t=vM.create,W8t=lO.create,J8t=pS.create,G8t=Rm.create,K8t=vD.create,Y8t=hS.create,Z8t=Zd.create,X8t=Zd.strictCreate,Q8t=wM.create,eHt=_6.create,tHt=SM.create,rHt=Xg.create,nHt=v6.create,oHt=wD.create,iHt=SD.create,aHt=w6.create,sHt=xM.create,uHt=CM.create,lHt=OM.create,cHt=EM.create,dHt=cO.create,q1e=Zf.create,fHt=Yd.create,pHt=Qg.create,hHt=Zf.createWithPreprocess,mHt=C$.create,gHt=()=>K1e().optional(),yHt=()=>Y1e().optional(),bHt=()=>Z1e().optional(),_Ht={string:e=>uO.create({...e,coerce:!0}),number:e=>mM.create({...e,coerce:!0}),boolean:e=>yM.create({...e,coerce:!0}),bigint:e=>gM.create({...e,coerce:!0}),date:e=>bM.create({...e,coerce:!0})},vHt=$t,Er=Object.freeze({__proto__:null,defaultErrorMap:bD,setErrorMap:h8t,getErrorMap:g6,makeIssue:y6,EMPTY_PATH:m8t,addIssueToContext:He,ParseStatus:Ic,INVALID:$t,DIRTY:yD,OK:yd,isAborted:wae,isDirty:Sae,isValid:hM,isAsync:S$,get util(){return Sn},get objectUtil(){return vae},ZodParsedType:Qe,getParsedType:fS,ZodType:yr,datetimeRegex:W1e,ZodString:uO,ZodNumber:mM,ZodBigInt:gM,ZodBoolean:yM,ZodDate:bM,ZodSymbol:_D,ZodUndefined:_M,ZodNull:vM,ZodAny:lO,ZodUnknown:pS,ZodNever:Rm,ZodVoid:vD,ZodArray:hS,ZodObject:Zd,ZodUnion:wM,ZodDiscriminatedUnion:_6,ZodIntersection:SM,ZodTuple:Xg,ZodRecord:v6,ZodMap:wD,ZodSet:SD,ZodFunction:w6,ZodLazy:xM,ZodLiteral:CM,ZodEnum:OM,ZodNativeEnum:EM,ZodPromise:cO,ZodEffects:Zf,ZodTransformer:Zf,ZodOptional:Yd,ZodNullable:Qg,ZodDefault:PM,ZodCatch:TM,ZodNaN:xD,BRAND:F8t,ZodBranded:x$,ZodPipeline:C$,ZodReadonly:MM,custom:G1e,Schema:yr,ZodSchema:yr,late:k8t,get ZodFirstPartyTypeKind(){return re},coerce:_Ht,any:W8t,array:Y8t,bigint:q8t,boolean:Z1e,date:U8t,discriminatedUnion:eHt,effect:q1e,enum:lHt,function:aHt,instanceof:B8t,intersection:tHt,lazy:sHt,literal:uHt,map:oHt,nan:$8t,nativeEnum:cHt,never:G8t,null:V8t,nullable:pHt,number:Y1e,object:Z8t,oboolean:bHt,onumber:yHt,optional:fHt,ostring:gHt,pipeline:mHt,preprocess:hHt,promise:dHt,record:nHt,set:iHt,strictObject:X8t,string:K1e,symbol:z8t,transformer:q1e,tuple:rHt,undefined:H8t,union:Q8t,unknown:J8t,void:K8t,NEVER:vHt,ZodIssueCode:ve,quotelessJson:p8t,ZodError:Yf})});var Q1e=b((Wmn,X1e)=>{function Kp(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}X1e.exports=Kp;Kp.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Kp.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Kp.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Kp.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Kp.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Kp.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Kp.prototype.start=Kp.prototype.try;Kp.prototype.errors=function(){return this._errors};Kp.prototype.attempts=function(){return this._attempts};Kp.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=r&&(t=o,r=a)}return t}});var eDe=b(IM=>{var wHt=Q1e();IM.operation=function(e){var t=IM.timeouts(e);return new wHt(t,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};IM.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort(function(i,a){return i-a}),n};IM.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};IM.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var o=0;o<r.length;o++){var i=r[o],a=e[i];e[i]=function(u){var l=IM.operation(t),c=Array.prototype.slice.call(arguments,1),d=c.pop();c.push(function(f){l.retry(f)||(f&&(arguments[0]=l.mainError()),d.apply(this,arguments))}),l.attempt(function(){u.apply(e,c)})}.bind(e,a),e[i].options=t}}});var rDe=b((Gmn,tDe)=>{tDe.exports=eDe()});var C6=b((Kmn,x6)=>{"use strict";var SHt=rDe(),xHt=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],S6=class extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}},CHt=(e,t,r)=>{let n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},OHt=e=>xHt.includes(e),nDe=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};let o=SHt.operation(t);o.attempt(async i=>{try{r(await e(i))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof S6)o.stop(),n(a.originalError);else if(a instanceof TypeError&&!OHt(a.message))o.stop(),n(a);else{CHt(a,i,t);try{await t.onFailedAttempt(a)}catch(s){n(s);return}o.retry(a)||n(o.mainError())}}})});x6.exports=nDe;x6.exports.default=nDe;x6.exports.AbortError=S6});var oDe,iDe=C(()=>{oDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function EHt(e){return typeof e=="string"&&oDe.test(e)}var CD,aDe=C(()=>{iDe();CD=EHt});function sDe(e,t=0){return(Ll[e[t+0]]+Ll[e[t+1]]+Ll[e[t+2]]+Ll[e[t+3]]+"-"+Ll[e[t+4]]+Ll[e[t+5]]+"-"+Ll[e[t+6]]+Ll[e[t+7]]+"-"+Ll[e[t+8]]+Ll[e[t+9]]+"-"+Ll[e[t+10]]+Ll[e[t+11]]+Ll[e[t+12]]+Ll[e[t+13]]+Ll[e[t+14]]+Ll[e[t+15]]).toLowerCase()}var Ll,O6,uDe=C(()=>{Ll=[];for(O6=0;O6<256;++O6)Ll.push((O6+256).toString(16).slice(1))});function Cae(){if(!E6&&(E6=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E6(PHt)}var E6,PHt,lDe=C(()=>{PHt=new Uint8Array(16)});var THt,Oae,cDe=C(()=>{THt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oae={randomUUID:THt}});function MHt(e,t,r){if(Oae.randomUUID&&!t&&!e)return Oae.randomUUID();e=e||{};var n=e.random||(e.rng||Cae)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return sDe(n)}var Xd,dDe=C(()=>{cDe();lDe();uDe();Xd=MHt});var O$=C(()=>{dDe();aDe()});var fDe,pDe=C(()=>{fDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function AHt(e){return typeof e=="string"&&fDe.test(e)}var Eae,hDe=C(()=>{pDe();Eae=AHt});function mDe(e,t=0){return(Fl[e[t+0]]+Fl[e[t+1]]+Fl[e[t+2]]+Fl[e[t+3]]+"-"+Fl[e[t+4]]+Fl[e[t+5]]+"-"+Fl[e[t+6]]+Fl[e[t+7]]+"-"+Fl[e[t+8]]+Fl[e[t+9]]+"-"+Fl[e[t+10]]+Fl[e[t+11]]+Fl[e[t+12]]+Fl[e[t+13]]+Fl[e[t+14]]+Fl[e[t+15]]).toLowerCase()}var Fl,P6,gDe=C(()=>{Fl=[];for(P6=0;P6<256;++P6)Fl.push((P6+256).toString(16).slice(1))});function Pae(){if(!T6&&(T6=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T6(RHt)}var T6,RHt,yDe=C(()=>{RHt=new Uint8Array(16)});var DHt,Tae,bDe=C(()=>{DHt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tae={randomUUID:DHt}});function jHt(e,t,r){if(Tae.randomUUID&&!t&&!e)return Tae.randomUUID();e=e||{};var n=e.random||(e.rng||Pae)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return mDe(n)}var dO,_De=C(()=>{bDe();yDe();gDe();dO=jHt});var M6=C(()=>{_De();hDe()});var wDe=b((vgn,Iae)=>{"use strict";var NHt=Object.prototype.hasOwnProperty,_d="~";function E$(){}Object.create&&(E$.prototype=Object.create(null),new E$().__proto__||(_d=!1));function LHt(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function vDe(e,t,r,n,o){if(typeof r!="function")throw new TypeError("The listener must be a function");var i=new LHt(r,n||e,o),a=_d?_d+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function I6(e,t){--e._eventsCount===0?e._events=new E$:delete e._events[t]}function Ac(){this._events=new E$,this._eventsCount=0}Ac.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)NHt.call(r,n)&&t.push(_d?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ac.prototype.listeners=function(t){var r=_d?_d+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a};Ac.prototype.listenerCount=function(t){var r=_d?_d+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ac.prototype.emit=function(t,r,n,o,i,a){var s=_d?_d+t:t;if(!this._events[s])return!1;var u=this._events[s],l=arguments.length,c,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,o),!0;case 5:return u.fn.call(u.context,r,n,o,i),!0;case 6:return u.fn.call(u.context,r,n,o,i,a),!0}for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];u.fn.apply(u.context,c)}else{var f=u.length,p;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];u[d].fn.apply(u[d].context,c)}}return!0};Ac.prototype.on=function(t,r,n){return vDe(this,t,r,n,!1)};Ac.prototype.once=function(t,r,n){return vDe(this,t,r,n,!0)};Ac.prototype.removeListener=function(t,r,n,o){var i=_d?_d+t:t;if(!this._events[i])return this;if(!r)return I6(this,i),this;var a=this._events[i];if(a.fn)a.fn===r&&(!o||a.once)&&(!n||a.context===n)&&I6(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==r||o&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=u.length===1?u[0]:u:I6(this,i)}return this};Ac.prototype.removeAllListeners=function(t){var r;return t?(r=_d?_d+t:t,this._events[r]&&I6(this,r)):(this._events=new E$,this._eventsCount=0),this};Ac.prototype.off=Ac.prototype.removeListener;Ac.prototype.addListener=Ac.prototype.on;Ac.prefixed=_d;Ac.EventEmitter=Ac;typeof Iae<"u"&&(Iae.exports=Ac)});var xDe=b((wgn,SDe)=>{"use strict";SDe.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var ODe=b((Sgn,R6)=>{"use strict";var FHt=xDe(),A6=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},CDe=(e,t,r)=>new Promise((n,o)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let i=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){o(u)}return}let a=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new A6(a);typeof e.cancel=="function"&&e.cancel(),o(s)},t);FHt(e.then(n,o),()=>{clearTimeout(i)})});R6.exports=CDe;R6.exports.default=CDe;R6.exports.TimeoutError=A6});var EDe=b(Aae=>{"use strict";Object.defineProperty(Aae,"__esModule",{value:!0});function kHt(e,t,r){let n=0,o=e.length;for(;o>0;){let i=o/2|0,a=n+i;r(e[a],t)<=0?(n=++a,o-=i+1):o=i}return n}Aae.default=kHt});var PDe=b(Dae=>{"use strict";Object.defineProperty(Dae,"__esModule",{value:!0});var BHt=EDe(),Rae=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let o=BHt.default(this._queue,n,(i,a)=>a.priority-i.priority);this._queue.splice(o,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Dae.default=Rae});var j6=b(Nae=>{"use strict";Object.defineProperty(Nae,"__esModule",{value:!0});var $Ht=wDe(),TDe=ODe(),qHt=PDe(),D6=()=>{},UHt=new TDe.TimeoutError,jae=class extends $Ht{constructor(t){var r,n,o,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=D6,this._resolveIdle=D6,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:qHt.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(i=(o=t.interval)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=D6,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=D6,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,o)=>{let i=async()=>{this._pendingCount++,this._intervalCount++;try{let a=this._timeout===void 0&&r.timeout===void 0?t():TDe.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&o(UHt)});n(await a)}catch(a){o(a)}this._next()};this._queue.enqueue(i,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Nae.default=jae});var zHt,HHt,wt,N6=C(()=>{zHt=(...e)=>fetch(...e),HHt=Symbol.for("ls:fetch_implementation"),wt=()=>globalThis[HHt]??zHt});var MDe,L6,VHt,WHt,P$,IDe=C(()=>{MDe=B(C6(),1),L6=B(j6(),1);N6();VHt=[400,401,403,404,405,406,407,408],WHt=[409],P$=class{constructor(t){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,"default"in L6.default?this.queue=new L6.default.default({concurrency:this.maxConcurrency}):this.queue=new L6.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=t?.onFailedResponseHook}call(t,...r){let n=this.onFailedResponseHook;return this.queue.add(()=>(0,MDe.default)(()=>t(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt(o){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.message.startsWith("AbortError")||o?.code==="ECONNABORTED")throw o;let i=o?.response,a=i?.status;if(a){if(VHt.includes(+a))throw o;if(WHt.includes(+a))return;n&&await n(i)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,r,...n){return t.signal?Promise.race([this.call(r,...n),new Promise((o,i)=>{t.signal?.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...t){return this.call(()=>wt()(...t).then(r=>r.ok?r:Promise.reject(r)))}}});function Lae(e){return typeof e?._getType=="function"}function Fae(e){let t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}var ADe=C(()=>{});function en(e,t){if(!Eae(e)){let r=t!==void 0?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`;throw new Error(r)}return e}var RDe=C(()=>{M6()});function F6(e){DDe[e]||(console.warn(e),DDe[e]=!0)}var DDe,kae=C(()=>{DDe={}});var T$=b((Rgn,jDe)=>{var JHt="2.0.0",GHt=Number.MAX_SAFE_INTEGER||9007199254740991,KHt=16,YHt=250,ZHt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];jDe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:KHt,MAX_SAFE_BUILD_LENGTH:YHt,MAX_SAFE_INTEGER:GHt,RELEASE_TYPES:ZHt,SEMVER_SPEC_VERSION:JHt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var M$=b((Dgn,NDe)=>{var XHt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};NDe.exports=XHt});var OD=b((mS,LDe)=>{var{MAX_SAFE_COMPONENT_LENGTH:Bae,MAX_SAFE_BUILD_LENGTH:QHt,MAX_LENGTH:e6t}=T$(),t6t=M$();mS=LDe.exports={};var r6t=mS.re=[],n6t=mS.safeRe=[],tt=mS.src=[],rt=mS.t={},o6t=0,$ae="[a-zA-Z0-9-]",i6t=[["\\s",1],["\\d",e6t],[$ae,QHt]],a6t=e=>{for(let[t,r]of i6t)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},cr=(e,t,r)=>{let n=a6t(t),o=o6t++;t6t(e,o,t),rt[e]=o,tt[o]=t,r6t[o]=new RegExp(t,r?"g":void 0),n6t[o]=new RegExp(n,r?"g":void 0)};cr("NUMERICIDENTIFIER","0|[1-9]\\d*");cr("NUMERICIDENTIFIERLOOSE","\\d+");cr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${$ae}*`);cr("MAINVERSION",`(${tt[rt.NUMERICIDENTIFIER]})\\.(${tt[rt.NUMERICIDENTIFIER]})\\.(${tt[rt.NUMERICIDENTIFIER]})`);cr("MAINVERSIONLOOSE",`(${tt[rt.NUMERICIDENTIFIERLOOSE]})\\.(${tt[rt.NUMERICIDENTIFIERLOOSE]})\\.(${tt[rt.NUMERICIDENTIFIERLOOSE]})`);cr("PRERELEASEIDENTIFIER",`(?:${tt[rt.NUMERICIDENTIFIER]}|${tt[rt.NONNUMERICIDENTIFIER]})`);cr("PRERELEASEIDENTIFIERLOOSE",`(?:${tt[rt.NUMERICIDENTIFIERLOOSE]}|${tt[rt.NONNUMERICIDENTIFIER]})`);cr("PRERELEASE",`(?:-(${tt[rt.PRERELEASEIDENTIFIER]}(?:\\.${tt[rt.PRERELEASEIDENTIFIER]})*))`);cr("PRERELEASELOOSE",`(?:-?(${tt[rt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${tt[rt.PRERELEASEIDENTIFIERLOOSE]})*))`);cr("BUILDIDENTIFIER",`${$ae}+`);cr("BUILD",`(?:\\+(${tt[rt.BUILDIDENTIFIER]}(?:\\.${tt[rt.BUILDIDENTIFIER]})*))`);cr("FULLPLAIN",`v?${tt[rt.MAINVERSION]}${tt[rt.PRERELEASE]}?${tt[rt.BUILD]}?`);cr("FULL",`^${tt[rt.FULLPLAIN]}$`);cr("LOOSEPLAIN",`[v=\\s]*${tt[rt.MAINVERSIONLOOSE]}${tt[rt.PRERELEASELOOSE]}?${tt[rt.BUILD]}?`);cr("LOOSE",`^${tt[rt.LOOSEPLAIN]}$`);cr("GTLT","((?:<|>)?=?)");cr("XRANGEIDENTIFIERLOOSE",`${tt[rt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);cr("XRANGEIDENTIFIER",`${tt[rt.NUMERICIDENTIFIER]}|x|X|\\*`);cr("XRANGEPLAIN",`[v=\\s]*(${tt[rt.XRANGEIDENTIFIER]})(?:\\.(${tt[rt.XRANGEIDENTIFIER]})(?:\\.(${tt[rt.XRANGEIDENTIFIER]})(?:${tt[rt.PRERELEASE]})?${tt[rt.BUILD]}?)?)?`);cr("XRANGEPLAINLOOSE",`[v=\\s]*(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:${tt[rt.PRERELEASELOOSE]})?${tt[rt.BUILD]}?)?)?`);cr("XRANGE",`^${tt[rt.GTLT]}\\s*${tt[rt.XRANGEPLAIN]}$`);cr("XRANGELOOSE",`^${tt[rt.GTLT]}\\s*${tt[rt.XRANGEPLAINLOOSE]}$`);cr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Bae}})(?:\\.(\\d{1,${Bae}}))?(?:\\.(\\d{1,${Bae}}))?`);cr("COERCE",`${tt[rt.COERCEPLAIN]}(?:$|[^\\d])`);cr("COERCEFULL",tt[rt.COERCEPLAIN]+`(?:${tt[rt.PRERELEASE]})?(?:${tt[rt.BUILD]})?(?:$|[^\\d])`);cr("COERCERTL",tt[rt.COERCE],!0);cr("COERCERTLFULL",tt[rt.COERCEFULL],!0);cr("LONETILDE","(?:~>?)");cr("TILDETRIM",`(\\s*)${tt[rt.LONETILDE]}\\s+`,!0);mS.tildeTrimReplace="$1~";cr("TILDE",`^${tt[rt.LONETILDE]}${tt[rt.XRANGEPLAIN]}$`);cr("TILDELOOSE",`^${tt[rt.LONETILDE]}${tt[rt.XRANGEPLAINLOOSE]}$`);cr("LONECARET","(?:\\^)");cr("CARETTRIM",`(\\s*)${tt[rt.LONECARET]}\\s+`,!0);mS.caretTrimReplace="$1^";cr("CARET",`^${tt[rt.LONECARET]}${tt[rt.XRANGEPLAIN]}$`);cr("CARETLOOSE",`^${tt[rt.LONECARET]}${tt[rt.XRANGEPLAINLOOSE]}$`);cr("COMPARATORLOOSE",`^${tt[rt.GTLT]}\\s*(${tt[rt.LOOSEPLAIN]})$|^$`);cr("COMPARATOR",`^${tt[rt.GTLT]}\\s*(${tt[rt.FULLPLAIN]})$|^$`);cr("COMPARATORTRIM",`(\\s*)${tt[rt.GTLT]}\\s*(${tt[rt.LOOSEPLAIN]}|${tt[rt.XRANGEPLAIN]})`,!0);mS.comparatorTrimReplace="$1$2$3";cr("HYPHENRANGE",`^\\s*(${tt[rt.XRANGEPLAIN]})\\s+-\\s+(${tt[rt.XRANGEPLAIN]})\\s*$`);cr("HYPHENRANGELOOSE",`^\\s*(${tt[rt.XRANGEPLAINLOOSE]})\\s+-\\s+(${tt[rt.XRANGEPLAINLOOSE]})\\s*$`);cr("STAR","(<|>)?=?\\s*\\*");cr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");cr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var k6=b((jgn,FDe)=>{var s6t=Object.freeze({loose:!0}),u6t=Object.freeze({}),l6t=e=>e?typeof e!="object"?s6t:e:u6t;FDe.exports=l6t});var qae=b((Ngn,$De)=>{var kDe=/^[0-9]+$/,BDe=(e,t)=>{let r=kDe.test(e),n=kDe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},c6t=(e,t)=>BDe(t,e);$De.exports={compareIdentifiers:BDe,rcompareIdentifiers:c6t}});var Rc=b((Lgn,HDe)=>{var B6=M$(),{MAX_LENGTH:qDe,MAX_SAFE_INTEGER:$6}=T$(),{safeRe:UDe,t:zDe}=OD(),d6t=k6(),{compareIdentifiers:ED}=qae(),Uae=class e{constructor(t,r){if(r=d6t(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>qDe)throw new TypeError(`version is longer than ${qDe} characters`);B6("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?UDe[zDe.LOOSE]:UDe[zDe.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>$6||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$6||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$6||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<$6)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(B6("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),ED(this.major,t.major)||ED(this.minor,t.minor)||ED(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=t.prerelease[r];if(B6("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return ED(n,o)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],o=t.build[r];if(B6("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return ED(n,o)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let i=[r,o];n===!1&&(i=[r]),ED(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};HDe.exports=Uae});var AM=b((Fgn,WDe)=>{var VDe=Rc(),f6t=(e,t,r=!1)=>{if(e instanceof VDe)return e;try{return new VDe(e,t)}catch(n){if(!r)return null;throw n}};WDe.exports=f6t});var GDe=b((kgn,JDe)=>{var p6t=AM(),h6t=(e,t)=>{let r=p6t(e,t);return r?r.version:null};JDe.exports=h6t});var YDe=b((Bgn,KDe)=>{var m6t=AM(),g6t=(e,t)=>{let r=m6t(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};KDe.exports=g6t});var QDe=b(($gn,XDe)=>{var ZDe=Rc(),y6t=(e,t,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new ZDe(e instanceof ZDe?e.version:e,r).inc(t,n,o).version}catch{return null}};XDe.exports=y6t});var rje=b((qgn,tje)=>{var eje=AM(),b6t=(e,t)=>{let r=eje(e,null,!0),n=eje(t,null,!0),o=r.compare(n);if(o===0)return null;let i=o>0,a=i?r:n,s=i?n:r,u=!!a.prerelease.length;if(!!s.prerelease.length&&!u)return!s.patch&&!s.minor?"major":a.patch?"patch":a.minor?"minor":"major";let c=u?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};tje.exports=b6t});var oje=b((Ugn,nje)=>{var _6t=Rc(),v6t=(e,t)=>new _6t(e,t).major;nje.exports=v6t});var aje=b((zgn,ije)=>{var w6t=Rc(),S6t=(e,t)=>new w6t(e,t).minor;ije.exports=S6t});var uje=b((Hgn,sje)=>{var x6t=Rc(),C6t=(e,t)=>new x6t(e,t).patch;sje.exports=C6t});var cje=b((Vgn,lje)=>{var O6t=AM(),E6t=(e,t)=>{let r=O6t(e,t);return r&&r.prerelease.length?r.prerelease:null};lje.exports=E6t});var Yp=b((Wgn,fje)=>{var dje=Rc(),P6t=(e,t,r)=>new dje(e,r).compare(new dje(t,r));fje.exports=P6t});var hje=b((Jgn,pje)=>{var T6t=Yp(),M6t=(e,t,r)=>T6t(t,e,r);pje.exports=M6t});var gje=b((Ggn,mje)=>{var I6t=Yp(),A6t=(e,t)=>I6t(e,t,!0);mje.exports=A6t});var q6=b((Kgn,bje)=>{var yje=Rc(),R6t=(e,t,r)=>{let n=new yje(e,r),o=new yje(t,r);return n.compare(o)||n.compareBuild(o)};bje.exports=R6t});var vje=b((Ygn,_je)=>{var D6t=q6(),j6t=(e,t)=>e.sort((r,n)=>D6t(r,n,t));_je.exports=j6t});var Sje=b((Zgn,wje)=>{var N6t=q6(),L6t=(e,t)=>e.sort((r,n)=>N6t(n,r,t));wje.exports=L6t});var I$=b((Xgn,xje)=>{var F6t=Yp(),k6t=(e,t,r)=>F6t(e,t,r)>0;xje.exports=k6t});var U6=b((Qgn,Cje)=>{var B6t=Yp(),$6t=(e,t,r)=>B6t(e,t,r)<0;Cje.exports=$6t});var zae=b((eyn,Oje)=>{var q6t=Yp(),U6t=(e,t,r)=>q6t(e,t,r)===0;Oje.exports=U6t});var Hae=b((tyn,Eje)=>{var z6t=Yp(),H6t=(e,t,r)=>z6t(e,t,r)!==0;Eje.exports=H6t});var z6=b((ryn,Pje)=>{var V6t=Yp(),W6t=(e,t,r)=>V6t(e,t,r)>=0;Pje.exports=W6t});var H6=b((nyn,Tje)=>{var J6t=Yp(),G6t=(e,t,r)=>J6t(e,t,r)<=0;Tje.exports=G6t});var Vae=b((oyn,Mje)=>{var K6t=zae(),Y6t=Hae(),Z6t=I$(),X6t=z6(),Q6t=U6(),eVt=H6(),tVt=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return K6t(e,r,n);case"!=":return Y6t(e,r,n);case">":return Z6t(e,r,n);case">=":return X6t(e,r,n);case"<":return Q6t(e,r,n);case"<=":return eVt(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};Mje.exports=tVt});var Aje=b((iyn,Ije)=>{var rVt=Rc(),nVt=AM(),{safeRe:V6,t:W6}=OD(),oVt=(e,t)=>{if(e instanceof rVt)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?V6[W6.COERCEFULL]:V6[W6.COERCE]);else{let u=t.includePrerelease?V6[W6.COERCERTLFULL]:V6[W6.COERCERTL],l;for(;(l=u.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),u.lastIndex=l.index+l[1].length+l[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",i=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",s=t.includePrerelease&&r[6]?`+${r[6]}`:"";return nVt(`${n}.${o}.${i}${a}${s}`,t)};Ije.exports=oVt});var Dje=b((ayn,Rje)=>{var Wae=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(t,r)}return this}};Rje.exports=Wae});var Zp=b((syn,Fje)=>{var iVt=/\s+/g,Jae=class e{constructor(t,r){if(r=sVt(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Gae)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(iVt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Nje(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&hVt(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&fVt)|(this.options.loose&&pVt))+":"+t,o=jje.get(n);if(o)return o;let i=this.options.loose,a=i?Qd[vd.HYPHENRANGELOOSE]:Qd[vd.HYPHENRANGE];t=t.replace(a,CVt(this.options.includePrerelease)),yi("hyphen replace",t),t=t.replace(Qd[vd.COMPARATORTRIM],lVt),yi("comparator trim",t),t=t.replace(Qd[vd.TILDETRIM],cVt),yi("tilde trim",t),t=t.replace(Qd[vd.CARETTRIM],dVt),yi("caret trim",t);let s=t.split(" ").map(d=>mVt(d,this.options)).join(" ").split(/\s+/).map(d=>xVt(d,this.options));i&&(s=s.filter(d=>(yi("loose invalid filter",d,this.options),!!d.match(Qd[vd.COMPARATORLOOSE])))),yi("range list",s);let u=new Map,l=s.map(d=>new Gae(d,this.options));for(let d of l){if(Nje(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let c=[...u.values()];return jje.set(n,c),c}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Lje(n,r)&&t.set.some(o=>Lje(o,r)&&n.every(i=>o.every(a=>i.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new uVt(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(OVt(this.set[r],t,this.options))return!0;return!1}};Fje.exports=Jae;var aVt=Dje(),jje=new aVt,sVt=k6(),Gae=A$(),yi=M$(),uVt=Rc(),{safeRe:Qd,t:vd,comparatorTrimReplace:lVt,tildeTrimReplace:cVt,caretTrimReplace:dVt}=OD(),{FLAG_INCLUDE_PRERELEASE:fVt,FLAG_LOOSE:pVt}=T$(),Nje=e=>e.value==="<0.0.0-0",hVt=e=>e.value==="",Lje=(e,t)=>{let r=!0,n=e.slice(),o=n.pop();for(;r&&n.length;)r=n.every(i=>o.intersects(i,t)),o=n.pop();return r},mVt=(e,t)=>(yi("comp",e,t),e=bVt(e,t),yi("caret",e),e=gVt(e,t),yi("tildes",e),e=vVt(e,t),yi("xrange",e),e=SVt(e,t),yi("stars",e),e),wd=e=>!e||e.toLowerCase()==="x"||e==="*",gVt=(e,t)=>e.trim().split(/\s+/).map(r=>yVt(r,t)).join(" "),yVt=(e,t)=>{let r=t.loose?Qd[vd.TILDELOOSE]:Qd[vd.TILDE];return e.replace(r,(n,o,i,a,s)=>{yi("tilde",e,n,o,i,a,s);let u;return wd(o)?u="":wd(i)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:wd(a)?u=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:s?(yi("replaceTilde pr",s),u=`>=${o}.${i}.${a}-${s} <${o}.${+i+1}.0-0`):u=`>=${o}.${i}.${a} <${o}.${+i+1}.0-0`,yi("tilde return",u),u})},bVt=(e,t)=>e.trim().split(/\s+/).map(r=>_Vt(r,t)).join(" "),_Vt=(e,t)=>{yi("caret",e,t);let r=t.loose?Qd[vd.CARETLOOSE]:Qd[vd.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(o,i,a,s,u)=>{yi("caret",e,o,i,a,s,u);let l;return wd(i)?l="":wd(a)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:wd(s)?i==="0"?l=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:u?(yi("replaceCaret pr",u),i==="0"?a==="0"?l=`>=${i}.${a}.${s}-${u} <${i}.${a}.${+s+1}-0`:l=`>=${i}.${a}.${s}-${u} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${s}-${u} <${+i+1}.0.0-0`):(yi("no pr"),i==="0"?a==="0"?l=`>=${i}.${a}.${s}${n} <${i}.${a}.${+s+1}-0`:l=`>=${i}.${a}.${s}${n} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${s} <${+i+1}.0.0-0`),yi("caret return",l),l})},vVt=(e,t)=>(yi("replaceXRanges",e,t),e.split(/\s+/).map(r=>wVt(r,t)).join(" ")),wVt=(e,t)=>{e=e.trim();let r=t.loose?Qd[vd.XRANGELOOSE]:Qd[vd.XRANGE];return e.replace(r,(n,o,i,a,s,u)=>{yi("xRange",e,n,o,i,a,s,u);let l=wd(i),c=l||wd(a),d=c||wd(s),f=d;return o==="="&&f&&(o=""),u=t.includePrerelease?"-0":"",l?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&f?(c&&(a=0),s=0,o===">"?(o=">=",c?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):o==="<="&&(o="<",c?i=+i+1:a=+a+1),o==="<"&&(u="-0"),n=`${o+i}.${a}.${s}${u}`):c?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${u} <${i}.${+a+1}.0-0`),yi("xRange return",n),n})},SVt=(e,t)=>(yi("replaceStars",e,t),e.trim().replace(Qd[vd.STAR],"")),xVt=(e,t)=>(yi("replaceGTE0",e,t),e.trim().replace(Qd[t.includePrerelease?vd.GTE0PRE:vd.GTE0],"")),CVt=e=>(t,r,n,o,i,a,s,u,l,c,d,f)=>(wd(n)?r="":wd(o)?r=`>=${n}.0.0${e?"-0":""}`:wd(i)?r=`>=${n}.${o}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,wd(l)?u="":wd(c)?u=`<${+l+1}.0.0-0`:wd(d)?u=`<${l}.${+c+1}.0-0`:f?u=`<=${l}.${c}.${d}-${f}`:e?u=`<${l}.${c}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),OVt=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(yi(e[n].semver),e[n].semver!==Gae.ANY&&e[n].semver.prerelease.length>0){let o=e[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}});var A$=b((uyn,zje)=>{var R$=Symbol("SemVer ANY"),Zae=class e{static get ANY(){return R$}constructor(t,r){if(r=kje(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Yae("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===R$?this.value="":this.value=this.operator+this.semver.version,Yae("comp",this)}parse(t){let r=this.options.loose?Bje[$je.COMPARATORLOOSE]:Bje[$je.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new qje(n[2],this.options.loose):this.semver=R$}toString(){return this.value}test(t){if(Yae("Comparator.test",t,this.options.loose),this.semver===R$||t===R$)return!0;if(typeof t=="string")try{t=new qje(t,this.options)}catch{return!1}return Kae(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Uje(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new Uje(this.value,r).test(t.semver):(r=kje(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Kae(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Kae(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};zje.exports=Zae;var kje=k6(),{safeRe:Bje,t:$je}=OD(),Kae=Vae(),Yae=M$(),qje=Rc(),Uje=Zp()});var D$=b((lyn,Hje)=>{var EVt=Zp(),PVt=(e,t,r)=>{try{t=new EVt(t,r)}catch{return!1}return t.test(e)};Hje.exports=PVt});var Wje=b((cyn,Vje)=>{var TVt=Zp(),MVt=(e,t)=>new TVt(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Vje.exports=MVt});var Gje=b((dyn,Jje)=>{var IVt=Rc(),AVt=Zp(),RVt=(e,t,r)=>{let n=null,o=null,i=null;try{i=new AVt(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||o.compare(a)===-1)&&(n=a,o=new IVt(n,r))}),n};Jje.exports=RVt});var Yje=b((fyn,Kje)=>{var DVt=Rc(),jVt=Zp(),NVt=(e,t,r)=>{let n=null,o=null,i=null;try{i=new jVt(t,r)}catch{return null}return e.forEach(a=>{i.test(a)&&(!n||o.compare(a)===1)&&(n=a,o=new DVt(n,r))}),n};Kje.exports=NVt});var Qje=b((pyn,Xje)=>{var Xae=Rc(),LVt=Zp(),Zje=I$(),FVt=(e,t)=>{e=new LVt(e,t);let r=new Xae("0.0.0");if(e.test(r)||(r=new Xae("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let o=e.set[n],i=null;o.forEach(a=>{let s=new Xae(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!i||Zje(s,i))&&(i=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||Zje(r,i))&&(r=i)}return r&&e.test(r)?r:null};Xje.exports=FVt});var tNe=b((hyn,eNe)=>{var kVt=Zp(),BVt=(e,t)=>{try{return new kVt(e,t).range||"*"}catch{return null}};eNe.exports=BVt});var J6=b((myn,iNe)=>{var $Vt=Rc(),oNe=A$(),{ANY:qVt}=oNe,UVt=Zp(),zVt=D$(),rNe=I$(),nNe=U6(),HVt=H6(),VVt=z6(),WVt=(e,t,r,n)=>{e=new $Vt(e,n),t=new UVt(t,n);let o,i,a,s,u;switch(r){case">":o=rNe,i=HVt,a=nNe,s=">",u=">=";break;case"<":o=nNe,i=VVt,a=rNe,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zVt(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let c=t.set[l],d=null,f=null;if(c.forEach(p=>{p.semver===qVt&&(p=new oNe(">=0.0.0")),d=d||p,f=f||p,o(p.semver,d.semver,n)?d=p:a(p.semver,f.semver,n)&&(f=p)}),d.operator===s||d.operator===u||(!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===u&&a(e,f.semver))return!1}return!0};iNe.exports=WVt});var sNe=b((gyn,aNe)=>{var JVt=J6(),GVt=(e,t,r)=>JVt(e,t,">",r);aNe.exports=GVt});var lNe=b((yyn,uNe)=>{var KVt=J6(),YVt=(e,t,r)=>KVt(e,t,"<",r);uNe.exports=YVt});var fNe=b((byn,dNe)=>{var cNe=Zp(),ZVt=(e,t,r)=>(e=new cNe(e,r),t=new cNe(t,r),e.intersects(t,r));dNe.exports=ZVt});var hNe=b((_yn,pNe)=>{var XVt=D$(),QVt=Yp();pNe.exports=(e,t,r)=>{let n=[],o=null,i=null,a=e.sort((c,d)=>QVt(c,d,r));for(let c of a)XVt(c,t,r)?(i=c,o||(o=c)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);let s=[];for(let[c,d]of n)c===d?s.push(c):!d&&c===a[0]?s.push("*"):d?c===a[0]?s.push(`<=${d}`):s.push(`${c} - ${d}`):s.push(`>=${c}`);let u=s.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return u.length<l.length?u:t}});var vNe=b((vyn,_Ne)=>{var mNe=Zp(),ese=A$(),{ANY:Qae}=ese,j$=D$(),tse=Yp(),e5t=(e,t,r={})=>{if(e===t)return!0;e=new mNe(e,r),t=new mNe(t,r);let n=!1;e:for(let o of e.set){for(let i of t.set){let a=r5t(o,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},t5t=[new ese(">=0.0.0-0")],gNe=[new ese(">=0.0.0")],r5t=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Qae){if(t.length===1&&t[0].semver===Qae)return!0;r.includePrerelease?e=t5t:e=gNe}if(t.length===1&&t[0].semver===Qae){if(r.includePrerelease)return!0;t=gNe}let n=new Set,o,i;for(let p of e)p.operator===">"||p.operator===">="?o=yNe(o,p,r):p.operator==="<"||p.operator==="<="?i=bNe(i,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(o&&i){if(a=tse(o.semver,i.semver,r),a>0)return null;if(a===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(o&&!j$(p,String(o),r)||i&&!j$(p,String(i),r))return null;for(let h of t)if(!j$(p,String(h),r))return!1;return!0}let s,u,l,c,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of t){if(c=c||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(s=yNe(o,p,r),s===p&&s!==o)return!1}else if(o.operator===">="&&!j$(o.semver,String(p),r))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=bNe(i,p,r),u===p&&u!==i)return!1}else if(i.operator==="<="&&!j$(i.semver,String(p),r))return!1}if(!p.operator&&(i||o)&&a!==0)return!1}return!(o&&l&&!i&&a!==0||i&&c&&!o&&a!==0||f||d)},yNe=(e,t,r)=>{if(!e)return t;let n=tse(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},bNe=(e,t,r)=>{if(!e)return t;let n=tse(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};_Ne.exports=e5t});var CNe=b((wyn,xNe)=>{var rse=OD(),wNe=T$(),n5t=Rc(),SNe=qae(),o5t=AM(),i5t=GDe(),a5t=YDe(),s5t=QDe(),u5t=rje(),l5t=oje(),c5t=aje(),d5t=uje(),f5t=cje(),p5t=Yp(),h5t=hje(),m5t=gje(),g5t=q6(),y5t=vje(),b5t=Sje(),_5t=I$(),v5t=U6(),w5t=zae(),S5t=Hae(),x5t=z6(),C5t=H6(),O5t=Vae(),E5t=Aje(),P5t=A$(),T5t=Zp(),M5t=D$(),I5t=Wje(),A5t=Gje(),R5t=Yje(),D5t=Qje(),j5t=tNe(),N5t=J6(),L5t=sNe(),F5t=lNe(),k5t=fNe(),B5t=hNe(),$5t=vNe();xNe.exports={parse:o5t,valid:i5t,clean:a5t,inc:s5t,diff:u5t,major:l5t,minor:c5t,patch:d5t,prerelease:f5t,compare:p5t,rcompare:h5t,compareLoose:m5t,compareBuild:g5t,sort:y5t,rsort:b5t,gt:_5t,lt:v5t,eq:w5t,neq:S5t,gte:x5t,lte:C5t,cmp:O5t,coerce:E5t,Comparator:P5t,Range:T5t,satisfies:M5t,toComparators:I5t,maxSatisfying:A5t,minSatisfying:R5t,minVersion:D5t,validRange:j5t,outside:N5t,gtr:L5t,ltr:F5t,intersects:k5t,simplifyRange:B5t,subset:$5t,SemVer:n5t,re:rse.re,src:rse.src,tokens:rse.t,SEMVER_SPEC_VERSION:wNe.SEMVER_SPEC_VERSION,RELEASE_TYPES:wNe.RELEASE_TYPES,compareIdentifiers:SNe.compareIdentifiers,rcompareIdentifiers:SNe.rcompareIdentifiers}});function gS(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);let[t,r]=e.split(":"),n=r||"latest";if(t.includes("/")){let[o,i]=t.split("/",2);if(!o||!i)throw new Error(`Invalid identifier format: ${e}`);return[o,i,n]}else{if(!t)throw new Error(`Invalid identifier format: ${e}`);return["-",t,n]}}var q5t,ONe=C(()=>{q5t=B(CNe(),1)});async function qr(e,t,r){let n;if(e.ok){r&&(n=await e.text());return}n=await e.text();let o=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Server response: ${n}`;throw e.status===409?new nse(o):new Error(o)}var nse,ENe=C(()=>{nse=class extends Error{constructor(t){super(t),this.name="LangSmithConflictError"}}});function z5t(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ef(e,t,r,n){try{return JSON.stringify(e,t,r)}catch(a){if(!a.message?.includes("Converting circular structure to JSON"))return console.warn("[WARNING]: LangSmith received unserializable value."),"[Unserializable]";console.warn("[WARNING]: LangSmith received circular JSON. This will decrease tracer performance."),typeof n>"u"&&(n=z5t()),ise(e,"",0,[],void 0,0,n);var o;try{PD.length===0?o=JSON.stringify(e,t,r):o=JSON.stringify(e,H5t(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;G6.length!==0;){var i=G6.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return o}}function ose(e,t,r,n){var o=Object.getOwnPropertyDescriptor(n,r);o.get!==void 0?o.configurable?(Object.defineProperty(n,r,{value:e}),G6.push([n,r,t,o])):PD.push([t,r,e]):(n[r]=e,G6.push([n,r,t]))}function ise(e,t,r,n,o,i,a){i+=1;var s;if(typeof e=="object"&&e!==null){for(s=0;s<n.length;s++)if(n[s]===e){ose(U5t,e,t,o);return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){ose(PNe,e,t,o);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){ose(PNe,e,t,o);return}if(n.push(e),Array.isArray(e))for(s=0;s<e.length;s++)ise(e[s],s,s,n,e,i,a);else{var u=Object.keys(e);for(s=0;s<u.length;s++){var l=u[s];ise(e[l],l,s,n,e,i,a)}}n.pop()}}function H5t(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(PD.length>0)for(var n=0;n<PD.length;n++){var o=PD[n];if(o[1]===t&&o[0]===r){r=o[2],PD.splice(n,1);break}}return e.call(this,t,r)}}var PNe,U5t,G6,PD,TNe=C(()=>{PNe="[...]",U5t={result:"[Circular]"},G6=[],PD=[]});function MNe(e){let t=Z6(),r=INe(),n=e.extra??{},o=n.metadata;return e.extra={...n,runtime:{...t,...n?.runtime},metadata:{...r,...r.revision_id||e.revision_id?{revision_id:e.revision_id??r.revision_id}:{},...o}},e}async function J5t(e){let t=[];for await(let r of e)t.push(r);return t}function ase(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}var V5t,W5t,G5t,sse,K5t,Y5t,RM,use=C(()=>{M6();IDe();ADe();X6();Y6();RDe();kae();ONe();ENe();N6();TNe();V5t=()=>{let e=yS("TRACING_SAMPLING_RATE");if(e===void 0)return;let t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t},W5t=e=>{let r=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return r==="localhost"||r==="127.0.0.1"||r==="::1"};G5t=async e=>{if(e?.status===429){let t=parseInt(e.headers.get("retry-after")??"30",10)*1e3;if(t>0)return await new Promise(r=>setTimeout(r,t)),!0}return!1},sse=class{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(t){let r,n=new Promise(i=>{r=i}),o=ef(t.item).length;return this.items.push({action:t.action,payload:t.item,itemPromiseResolve:r,itemPromise:n,size:o}),this.sizeBytes+=o,n}pop(t){if(t<1)throw new Error("Number of bytes to pop off may not be less than 1.");let r=[],n=0;for(;n+(this.peek()?.size??0)<t&&this.items.length>0;){let o=this.items.shift();o&&(r.push(o),n+=o.size,this.sizeBytes-=o.size)}if(r.length===0&&this.items.length>0){let o=this.items.shift();r.push(o),n+=o.size,this.sizeBytes-=o.size}return[r.map(o=>({action:o.action,item:o.payload})),()=>r.forEach(o=>o.itemPromiseResolve())]}},K5t=20971520,Y5t=2500,RM=class e{constructor(t={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new sse}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:ey("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1});let r=e.getDefaultClientConfig();if(this.tracingSampleRate=V5t(),this.apiUrl=ase(t.apiUrl??r.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=ase(t.apiKey??r.apiKey),this.webUrl=ase(t.webUrl??r.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=t.timeout_ms??9e4,this.caller=new P$(t.callerOptions??{}),this.traceBatchConcurrency=t.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.batchIngestCaller=new P$({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...t.callerOptions??{},onFailedResponseHook:G5t}),this.hideInputs=t.hideInputs??t.anonymizer??r.hideInputs,this.hideOutputs=t.hideOutputs??t.anonymizer??r.hideOutputs,this.autoBatchTracing=t.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=t.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=t.batchSizeBytesLimit,this.fetchOptions=t.fetchOptions||{},this.manualFlushMode=t.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){let t=yS("API_KEY"),r=yS("ENDPOINT")??"https://api.smith.langchain.com",n=yS("HIDE_INPUTS")==="true",o=yS("HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:t,webUrl:void 0,hideInputs:n,hideOutputs:o}}getHostUrl(){return this.webUrl?this.webUrl:W5t(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){let t={"User-Agent":`langsmith-js/${K6}`};return this.apiKey&&(t["x-api-key"]=`${this.apiKey}`),t}processInputs(t){return this.hideInputs===!1?t:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(t):t}processOutputs(t){return this.hideOutputs===!1?t:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(t):t}prepareRunCreateOrUpdateInputs(t){let r={...t};return r.inputs!==void 0&&(r.inputs=this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=this.processOutputs(r.outputs)),r}async _getResponse(t,r){let n=r?.toString()??"",o=`${this.apiUrl}${t}?${n}`,i=await this.caller.call(wt(),o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(i,`Failed to fetch ${t}`),i}async _get(t,r){return(await this._getResponse(t,r)).json()}async*_getPaginated(t,r=new URLSearchParams,n){let o=Number(r.get("offset"))||0,i=Number(r.get("limit"))||100;for(;;){r.set("offset",String(o)),r.set("limit",String(i));let a=`${this.apiUrl}${t}?${r}`,s=await this.caller.call(wt(),a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(s,`Failed to fetch ${t}`);let u=n?n(await s.json()):await s.json();if(u.length===0||(yield u,u.length<i))break;o+=u.length}}async*_getCursorPaginatedList(t,r=null,n="POST",o="runs"){let i=r?{...r}:{};for(;;){let s=await(await this.caller.call(wt(),`${this.apiUrl}${t}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(i)})).json();if(!s||!s[o])break;yield s[o];let u=s.cursors;if(!u||!u.next)break;i.cursor=u.next}}_filterForSampling(t,r=!1){if(this.tracingSampleRate===void 0)return t;if(r){let n=[];for(let o of t)this.filteredPostUuids.has(o.id)?this.filteredPostUuids.delete(o.id):n.push(o);return n}else{let n=[];for(let o of t)o.id!==o.trace_id&&!this.filteredPostUuids.has(o.trace_id)||Math.random()<this.tracingSampleRate?n.push(o):this.filteredPostUuids.add(o.id);return n}}async _getBatchSizeLimitBytes(){let t=await this._ensureServerInfo();return this.batchSizeBytesLimit??t.batch_ingest_config?.size_limit_bytes??K5t}async _getMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue(t){let r=[];for(;this.autoBatchQueue.items.length>0;){let[n,o]=this.autoBatchQueue.pop(t);if(!n.length){o();break}let i=this._processBatch(n,o).catch(console.error);r.push(i)}return Promise.all(r)}async _processBatch(t,r){if(!t.length){r();return}try{let n={runCreates:t.filter(i=>i.action==="create").map(i=>i.item),runUpdates:t.filter(i=>i.action==="update").map(i=>i.item)};(await this._ensureServerInfo())?.batch_ingest_config?.use_multipart_endpoint?await this.multipartIngestRuns(n):await this.batchIngestRuns(n)}finally{r()}}async processRunOperation(t){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,t.action==="create"&&(t.item=MNe(t.item));let r=this.autoBatchQueue.push(t);if(this.manualFlushMode)return r;let n=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>n&&this.drainAutoBatchQueue(n),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(n)},this.autoBatchAggregationDelayMs)),r}async _getServerInfo(){let t=await wt()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(Y5t),...this.fetchOptions});return await qr(t,"get server info"),t.json()}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch{console.warn("[WARNING]: LangSmith failed to fetch info on supported operations. Falling back to batch operations and default limits.")}return this._serverInfo??{}})()),this._getServerInfoPromise.then(t=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),t))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){let t=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(t)}async createRun(t){if(!this._filterForSampling([t]).length)return;let r={...this.headers,"Content-Type":"application/json"},n=t.project_name;delete t.project_name;let o=this.prepareRunCreateOrUpdateInputs({session_name:n,...t,start_time:t.start_time??Date.now()});if(this.autoBatchTracing&&o.trace_id!==void 0&&o.dotted_order!==void 0){this.processRunOperation({action:"create",item:o}).catch(console.error);return}let i=MNe(o),a=await this.caller.call(wt(),`${this.apiUrl}/runs`,{method:"POST",headers:r,body:ef(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(a,"create run",!0)}async batchIngestRuns({runCreates:t,runUpdates:r}){if(t===void 0&&r===void 0)return;let n=t?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[],o=r?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[];if(n.length>0&&o.length>0){let s=n.reduce((l,c)=>(c.id&&(l[c.id]=c),l),{}),u=[];for(let l of o)l.id!==void 0&&s[l.id]?s[l.id]={...s[l.id],...l}:u.push(l);n=Object.values(s),o=u}let i={post:this._filterForSampling(n),patch:this._filterForSampling(o,!0)};if(!i.post.length&&!i.patch.length)return;let a={post:[],patch:[]};for(let s of["post","patch"]){let u=s,l=i[u].reverse(),c=l.pop();for(;c!==void 0;)a[u].push(c),c=l.pop()}(a.post.length>0||a.patch.length>0)&&await this._postBatchIngestRuns(ef(a))}async _postBatchIngestRuns(t){let r={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(wt(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:r,body:t,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(n,"batch create run",!0)}async multipartIngestRuns({runCreates:t,runUpdates:r}){if(t===void 0&&r===void 0)return;let n={},o=[];for(let c of t??[]){let d=this.prepareRunCreateOrUpdateInputs(c);d.id!==void 0&&d.attachments!==void 0&&(n[d.id]=d.attachments),delete d.attachments,o.push(d)}let i=[];for(let c of r??[])i.push(this.prepareRunCreateOrUpdateInputs(c));if(o.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(i.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(o.length>0&&i.length>0){let c=o.reduce((f,p)=>(p.id&&(f[p.id]=p),f),{}),d=[];for(let f of i)f.id!==void 0&&c[f.id]?c[f.id]={...c[f.id],...f}:d.push(f);o=Object.values(c),i=d}if(o.length===0&&i.length===0)return;let u=[],l=[];for(let[c,d]of[["post",o],["patch",i]])for(let f of d){let{inputs:p,outputs:h,events:m,attachments:_,...g}=f,v={inputs:p,outputs:h,events:m},S=ef(g);l.push({name:`${c}.${g.id}`,payload:new Blob([S],{type:`application/json; length=${S.length}`})});for(let[x,O]of Object.entries(v)){if(O===void 0)continue;let T=ef(O);l.push({name:`${c}.${g.id}.${x}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})})}if(g.id!==void 0){let x=n[g.id];if(x){delete n[g.id];for(let[O,T]of Object.entries(x)){let E,M;if(Array.isArray(T)?[E,M]=T:(E=T.mimeType,M=T.data),O.includes(".")){console.warn(`Skipping attachment '${O}' for run ${g.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}l.push({name:`attachment.${g.id}.${O}`,payload:new Blob([M],{type:`${E}; length=${M.byteLength}`})})}}}u.push(`trace=${g.trace_id},id=${g.id}`)}await this._sendMultipartRequest(l,u.join("; "))}async _sendMultipartRequest(t,r){try{let n="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),o=[];for(let u of t)o.push(new Blob([`--${n}\r
`])),o.push(new Blob([`Content-Disposition: form-data; name="${u.name}"\r
`,`Content-Type: ${u.payload.type}\r
\r
`])),o.push(u.payload),o.push(new Blob([`\r
`]));o.push(new Blob([`--${n}--\r
`]));let a=await new Blob(o).arrayBuffer(),s=await this.batchIngestCaller.call(wt(),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${n}`},body:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(s,"ingest multipart runs",!0)}catch(n){console.warn(`${n.message.trim()}

Context: ${r}`)}}async updateRun(t,r){en(t),r.inputs&&(r.inputs=this.processInputs(r.inputs)),r.outputs&&(r.outputs=this.processOutputs(r.outputs));let n={...r,id:t};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&n.trace_id!==void 0&&n.dotted_order!==void 0){if(r.end_time!==void 0&&n.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:n}).catch(console.error);return}else this.processRunOperation({action:"update",item:n}).catch(console.error);return}let o={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(wt(),`${this.apiUrl}/runs/${t}`,{method:"PATCH",headers:o,body:ef(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(i,"update run",!0)}async readRun(t,{loadChildRuns:r}={loadChildRuns:!1}){en(t);let n=await this._get(`/runs/${t}`);return r&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:t,run:r,projectOpts:n}){if(r!==void 0){let o;r.session_id?o=r.session_id:n?.projectName?o=(await this.readProject({projectName:n?.projectName})).id:n?.projectId?o=n?.projectId:o=(await this.readProject({projectName:yS("PROJECT")||"default"})).id;let i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${o}/r/${r.id}?poll=true`}else if(t!==void 0){let o=await this.readRun(t);if(!o.app_path)throw new Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${o.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(t){let r=await J5t(this.listRuns({id:t.child_run_ids})),n={},o={};r.sort((i,a)=>(i?.dotted_order??"").localeCompare(a?.dotted_order??""));for(let i of r){if(i.parent_run_id===null||i.parent_run_id===void 0)throw new Error(`Child run ${i.id} has no parent`);i.parent_run_id in n||(n[i.parent_run_id]=[]),n[i.parent_run_id].push(i),o[i.id]=i}t.child_runs=n[t.id]||[];for(let i in n)i!==t.id&&(o[i].child_runs=n[i]);return t}async*listRuns(t){let{projectId:r,projectName:n,parentRunId:o,traceId:i,referenceExampleId:a,startTime:s,executionOrder:u,isRoot:l,runType:c,error:d,id:f,query:p,filter:h,traceFilter:m,treeFilter:_,limit:g,select:v}=t,S=[];if(r&&(S=Array.isArray(r)?r:[r]),n){let E=Array.isArray(n)?n:[n],M=await Promise.all(E.map(A=>this.readProject({projectName:A}).then(j=>j.id)));S.push(...M)}let x=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],O={session:S.length?S:null,run_type:c,reference_example:a,query:p,filter:h,trace_filter:m,tree_filter:_,execution_order:u,parent_run:o,start_time:s?s.toISOString():null,error:d,id:f,limit:g,trace:i,select:v||x,is_root:l},T=0;for await(let E of this._getCursorPaginatedList("/runs/query",O))if(g){if(T>=g)break;if(E.length+T>g){yield*E.slice(0,g-T);break}T+=E.length,yield*E}else yield*E}async getRunStats({id:t,trace:r,parentRun:n,runType:o,projectNames:i,projectIds:a,referenceExampleIds:s,startTime:u,endTime:l,error:c,query:d,filter:f,traceFilter:p,treeFilter:h,isRoot:m,dataSourceType:_}){let g=a||[];i&&(g=[...a||[],...await Promise.all(i.map(T=>this.readProject({projectName:T}).then(E=>E.id)))]);let S=Object.fromEntries(Object.entries({id:t,trace:r,parent_run:n,run_type:o,session:g,reference_example:s,start_time:u,end_time:l,error:c,query:d,filter:f,trace_filter:p,tree_filter:h,is_root:m,data_source_type:_}).filter(([T,E])=>E!==void 0));return await(await this.caller.call(wt(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(S),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(t,{shareId:r}={}){let n={run_id:t,share_token:r||dO()};en(t);let i=await(await this.caller.call(wt(),`${this.apiUrl}/runs/${t}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(i===null||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(t){en(t);let r=await this.caller.call(wt(),`${this.apiUrl}/runs/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(r,"unshare run",!0)}async readRunSharedLink(t){en(t);let n=await(await this.caller.call(wt(),`${this.apiUrl}/runs/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(t,{runIds:r}={}){let n=new URLSearchParams({share_token:t});if(r!==void 0)for(let a of r)n.append("id",a);return en(t),await(await this.caller.call(wt(),`${this.apiUrl}/public/${t}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(t,r){if(!t&&!r)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id),en(t);let o=await(await this.caller.call(wt(),`${this.apiUrl}/datasets/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async shareDataset(t,r){if(!t&&!r)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id);let n={dataset_id:t};en(t);let i=await(await this.caller.call(wt(),`${this.apiUrl}/datasets/${t}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async unshareDataset(t){en(t);let r=await this.caller.call(wt(),`${this.apiUrl}/datasets/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(r,"unshare dataset",!0)}async readSharedDataset(t){return en(t),await(await this.caller.call(wt(),`${this.apiUrl}/public/${t}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(t,r){let n={};r?.exampleIds&&(n.id=r.exampleIds);let o=new URLSearchParams;Object.entries(n).forEach(([s,u])=>{Array.isArray(u)?u.forEach(l=>o.append(s,l)):o.append(s,u)});let i=await this.caller.call(wt(),`${this.apiUrl}/public/${t}/examples?${o.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await i.json();if(!i.ok)throw"detail"in a?new Error(`Failed to list shared examples.
Status: ${i.status}
Message: ${a.detail.join(`
`)}`):new Error(`Failed to list shared examples: ${i.status} ${i.statusText}`);return a.map(s=>({...s,_hostUrl:this.getHostUrl()}))}async createProject({projectName:t,description:r=null,metadata:n=null,upsert:o=!1,projectExtra:i=null,referenceDatasetId:a=null}){let s=o?"?upsert=true":"",u=`${this.apiUrl}/sessions${s}`,l=i||{};n&&(l.metadata=n);let c={name:t,extra:l,description:r};a!==null&&(c.reference_dataset_id=a);let d=await this.caller.call(wt(),u,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(d,"create project"),await d.json()}async updateProject(t,{name:r=null,description:n=null,metadata:o=null,projectExtra:i=null,endTime:a=null}){let s=`${this.apiUrl}/sessions/${t}`,u=i;o&&(u={...u||{},metadata:o});let l={name:r,extra:u,description:n,end_time:a?new Date(a).toISOString():null},c=await this.caller.call(wt(),s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(c,"update project"),await c.json()}async hasProject({projectId:t,projectName:r}){let n="/sessions",o=new URLSearchParams;if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)en(t),n+=`/${t}`;else if(r!==void 0)o.append("name",r);else throw new Error("Must provide projectName or projectId");let i=await this.caller.call(wt(),`${this.apiUrl}${n}?${o}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{let a=await i.json();return i.ok?Array.isArray(a)?a.length>0:!0:!1}catch{return!1}}async readProject({projectId:t,projectName:r,includeStats:n}){let o="/sessions",i=new URLSearchParams;if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)en(t),o+=`/${t}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide projectName or projectId");n!==void 0&&i.append("include_stats",n.toString());let a=await this._get(o,i),s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Project[id=${t}, name=${r}] not found`);s=a[0]}else s=a;return s}async getProjectUrl({projectId:t,projectName:r}){if(t===void 0&&r===void 0)throw new Error("Must provide either projectName or projectId");let n=await this.readProject({projectId:t,projectName:r}),o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${n.id}`}async getDatasetUrl({datasetId:t,datasetName:r}){if(t===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");let n=await this.readDataset({datasetId:t,datasetName:r}),o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/datasets/${n.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let t=new URLSearchParams({limit:"1"});for await(let r of this._getPaginated("/sessions",t))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:t,name:r,nameContains:n,referenceDatasetId:o,referenceDatasetName:i,referenceFree:a,metadata:s}={}){let u=new URLSearchParams;if(t!==void 0)for(let l of t)u.append("id",l);if(r!==void 0&&u.append("name",r),n!==void 0&&u.append("name_contains",n),o!==void 0)u.append("reference_dataset",o);else if(i!==void 0){let l=await this.readDataset({datasetName:i});u.append("reference_dataset",l.id)}a!==void 0&&u.append("reference_free",a.toString()),s!==void 0&&u.append("metadata",JSON.stringify(s));for await(let l of this._getPaginated("/sessions",u))yield*l}async deleteProject({projectId:t,projectName:r}){let n;if(t===void 0&&r===void 0)throw new Error("Must provide projectName or projectId");if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");t===void 0?n=(await this.readProject({projectName:r})).id:n=t,en(n);let o=await this.caller.call(wt(),`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(o,`delete session ${n} (${r})`,!0)}async uploadCsv({csvFile:t,fileName:r,inputKeys:n,outputKeys:o,description:i,dataType:a,name:s}){let u=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",t,r),n.forEach(f=>{l.append("input_keys",f)}),o.forEach(f=>{l.append("output_keys",f)}),i&&l.append("description",i),a&&l.append("data_type",a),s&&l.append("name",s);let c=await this.caller.call(wt(),u,{method:"POST",headers:this.headers,body:l,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(c,"upload CSV"),await c.json()}async createDataset(t,{description:r,dataType:n,inputsSchema:o,outputsSchema:i,metadata:a}={}){let s={name:t,description:r,extra:a?{metadata:a}:void 0};n&&(s.data_type=n),o&&(s.inputs_schema_definition=o),i&&(s.outputs_schema_definition=i);let u=await this.caller.call(wt(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(u,"create dataset"),await u.json()}async readDataset({datasetId:t,datasetName:r}){let n="/datasets",o=new URLSearchParams({limit:"1"});if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)en(t),n+=`/${t}`;else if(r!==void 0)o.append("name",r);else throw new Error("Must provide datasetName or datasetId");let i=await this._get(n,o),a;if(Array.isArray(i)){if(i.length===0)throw new Error(`Dataset[id=${t}, name=${r}] not found`);a=i[0]}else a=i;return a}async hasDataset({datasetId:t,datasetName:r}){try{return await this.readDataset({datasetId:t,datasetName:r}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:t,datasetName:r,fromVersion:n,toVersion:o}){let i=t;if(i===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:r})).id);let a=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof o=="string"?o:o.toISOString()});return await this._get(`/datasets/${i}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:t,datasetName:r}){let n="/datasets";if(t===void 0)if(r!==void 0)t=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${t}/openai_ft`)).text()).trim().split(`
`).map(s=>JSON.parse(s))}async*listDatasets({limit:t=100,offset:r=0,datasetIds:n,datasetName:o,datasetNameContains:i,metadata:a}={}){let s="/datasets",u=new URLSearchParams({limit:t.toString(),offset:r.toString()});if(n!==void 0)for(let l of n)u.append("id",l);o!==void 0&&u.append("name",o),i!==void 0&&u.append("name_contains",i),a!==void 0&&u.append("metadata",JSON.stringify(a));for await(let l of this._getPaginated(s,u))yield*l}async updateDataset(t){let{datasetId:r,datasetName:n,...o}=t;if(!r&&!n)throw new Error("Must provide either datasetName or datasetId");let i=r??(await this.readDataset({datasetName:n})).id;en(i);let a=await this.caller.call(wt(),`${this.apiUrl}/datasets/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(a,"update dataset"),await a.json()}async deleteDataset({datasetId:t,datasetName:r}){let n="/datasets",o=t;if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(o=(await this.readDataset({datasetName:r})).id),o!==void 0)en(o),n+=`/${o}`;else throw new Error("Must provide datasetName or datasetId");let i=await this.caller.call(wt(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(i,`delete ${n}`),await i.json()}async indexDataset({datasetId:t,datasetName:r,tag:n}){let o=t;if(!o&&!r)throw new Error("Must provide either datasetName or datasetId");if(o&&r)throw new Error("Must provide either datasetName or datasetId, not both");o||(o=(await this.readDataset({datasetName:r})).id),en(o);let i={tag:n},a=await this.caller.call(wt(),`${this.apiUrl}/datasets/${o}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(a,"index dataset"),await a.json()}async similarExamples(t,r,n,{filter:o}={}){let i={limit:n,inputs:t};o!==void 0&&(i.filter=o),en(r);let a=await this.caller.call(wt(),`${this.apiUrl}/datasets/${r}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(a,"fetch similar examples"),(await a.json()).examples}async createExample(t,r,{datasetId:n,datasetName:o,createdAt:i,exampleId:a,metadata:s,split:u,sourceRunId:l}){let c=n;if(c===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(c!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");c===void 0&&(c=(await this.readDataset({datasetName:o})).id);let f={dataset_id:c,inputs:t,outputs:r,created_at:(i||new Date)?.toISOString(),id:a,metadata:s,split:u,source_run_id:l},p=await this.caller.call(wt(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(p,"create example"),await p.json()}async createExamples(t){let{inputs:r,outputs:n,metadata:o,sourceRunIds:i,exampleIds:a,datasetId:s,datasetName:u}=t,l=s;if(l===void 0&&u===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&u!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:u})).id);let c=r.map((p,h)=>({dataset_id:l,inputs:p,outputs:n?n[h]:void 0,metadata:o?o[h]:void 0,split:t.splits?t.splits[h]:void 0,id:a?a[h]:void 0,source_run_id:i?i[h]:void 0})),d=await this.caller.call(wt(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(d,"create examples"),await d.json()}async createLLMExample(t,r,n){return this.createExample({input:t},{output:r},n)}async createChatExample(t,r,n){let o=t.map(a=>Lae(a)?Fae(a):a),i=Lae(r)?Fae(r):r;return this.createExample({input:o},{output:i},n)}async readExample(t){en(t);let r=`/examples/${t}`,n=await this._get(r),{attachment_urls:o,...i}=n,a=i;return o&&(a.attachments=Object.entries(o).reduce((s,[u,l])=>(s[u.slice(11)]={presigned_url:l.presigned_url},s),{})),a}async*listExamples({datasetId:t,datasetName:r,exampleIds:n,asOf:o,splits:i,inlineS3Urls:a,metadata:s,limit:u,offset:l,filter:c,includeAttachments:d}={}){let f;if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)f=t;else if(r!==void 0)f=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide a datasetName or datasetId");let p=new URLSearchParams({dataset:f}),h=o?typeof o=="string"?o:o?.toISOString():void 0;h&&p.append("as_of",h);let m=a??!0;if(p.append("inline_s3_urls",m.toString()),n!==void 0)for(let g of n)p.append("id",g);if(i!==void 0)for(let g of i)p.append("splits",g);if(s!==void 0){let g=JSON.stringify(s);p.append("metadata",g)}u!==void 0&&p.append("limit",u.toString()),l!==void 0&&p.append("offset",l.toString()),c!==void 0&&p.append("filter",c),d===!0&&["attachment_urls","outputs","metadata"].forEach(g=>p.append("select",g));let _=0;for await(let g of this._getPaginated("/examples",p)){for(let v of g){let{attachment_urls:S,...x}=v,O=x;S&&(O.attachments=Object.entries(S).reduce((T,[E,M])=>(T[E.slice(11)]={presigned_url:M.presigned_url},T),{})),yield O,_++}if(u!==void 0&&_>=u)break}}async deleteExample(t){en(t);let r=`/examples/${t}`,n=await this.caller.call(wt(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(n,`delete ${r}`),await n.json()}async updateExample(t,r){en(t);let n=await this.caller.call(wt(),`${this.apiUrl}/examples/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(n,"update example"),await n.json()}async updateExamples(t){let r=await this.caller.call(wt(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(r,"update examples"),await r.json()}async listDatasetSplits({datasetId:t,datasetName:r,asOf:n}){let o;if(t===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0?o=(await this.readDataset({datasetName:r})).id:o=t,en(o);let i=new URLSearchParams,a=n?typeof n=="string"?n:n?.toISOString():void 0;return a&&i.append("as_of",a),await this._get(`/datasets/${o}/splits`,i)}async updateDatasetSplits({datasetId:t,datasetName:r,splitName:n,exampleIds:o,remove:i=!1}){let a;if(t===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0?a=(await this.readDataset({datasetName:r})).id:a=t,en(a);let s={split_name:n,examples:o.map(l=>(en(l),l)),remove:i},u=await this.caller.call(wt(),`${this.apiUrl}/datasets/${a}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(u,"update dataset splits",!0)}async evaluateRun(t,r,{sourceInfo:n,loadChildRuns:o,referenceExample:i}={loadChildRuns:!1}){F6("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let a;if(typeof t=="string")a=await this.readRun(t,{loadChildRuns:o});else if(typeof t=="object"&&"id"in t)a=t;else throw new Error(`Invalid run type: ${typeof t}`);a.reference_example_id!==null&&a.reference_example_id!==void 0&&(i=await this.readExample(a.reference_example_id));let s=await r.evaluateRun(a,i),[u,l]=await this._logEvaluationFeedback(s,a,n);return l[0]}async createFeedback(t,r,{score:n,value:o,correction:i,comment:a,sourceInfo:s,feedbackSourceType:u="api",sourceRunId:l,feedbackId:c,feedbackConfig:d,projectId:f,comparativeExperimentId:p}){if(!t&&!f)throw new Error("One of runId or projectId must be provided");if(t&&f)throw new Error("Only one of runId or projectId can be provided");let h={type:u??"api",metadata:s??{}};l!==void 0&&h?.metadata!==void 0&&!h.metadata.__run&&(h.metadata.__run={run_id:l}),h?.metadata!==void 0&&h.metadata.__run?.run_id!==void 0&&en(h.metadata.__run.run_id);let m={id:c??dO(),run_id:t,key:r,score:n,value:o,correction:i,comment:a,feedback_source:h,comparative_experiment_id:p,feedbackConfig:d,session_id:f},_=`${this.apiUrl}/feedback`,g=await this.caller.call(wt(),_,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(g,"create feedback",!0),m}async updateFeedback(t,{score:r,value:n,correction:o,comment:i}){let a={};r!=null&&(a.score=r),n!=null&&(a.value=n),o!=null&&(a.correction=o),i!=null&&(a.comment=i),en(t);let s=await this.caller.call(wt(),`${this.apiUrl}/feedback/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(s,"update feedback",!0)}async readFeedback(t){en(t);let r=`/feedback/${t}`;return await this._get(r)}async deleteFeedback(t){en(t);let r=`/feedback/${t}`,n=await this.caller.call(wt(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(n,`delete ${r}`),await n.json()}async*listFeedback({runIds:t,feedbackKeys:r,feedbackSourceTypes:n}={}){let o=new URLSearchParams;if(t&&o.append("run",t.join(",")),r)for(let i of r)o.append("key",i);if(n)for(let i of n)o.append("source",i);for await(let i of this._getPaginated("/feedback",o))yield*i}async createPresignedFeedbackToken(t,r,{expiration:n,feedbackConfig:o}={}){let i={run_id:t,feedback_key:r,feedback_config:o};return n?typeof n=="string"?i.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(i.expires_in=n):i.expires_in={hours:3},await(await this.caller.call(wt(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:t,experimentIds:r,referenceDatasetId:n,createdAt:o,description:i,metadata:a,id:s}){if(r.length===0)throw new Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:r[0]})).reference_dataset_id),!n==null)throw new Error("A reference dataset is required");let u={id:s,name:t,experiment_ids:r,reference_dataset_id:n,description:i,created_at:(o??new Date)?.toISOString(),extra:{}};return a&&(u.extra.metadata=a),await(await this.caller.call(wt(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(t){en(t);let r=new URLSearchParams({run_id:t});for await(let n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(t){let r;return"results"in t?r=t.results:r=[t],r}async _logEvaluationFeedback(t,r,n){let o=this._selectEvalResults(t),i=[];for(let a of o){let s=n||{};a.evaluatorInfo&&(s={...a.evaluatorInfo,...s});let u=null;a.targetRunId?u=a.targetRunId:r&&(u=r.id),i.push(await this.createFeedback(u,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:s,sourceRunId:a.sourceRunId,feedbackConfig:a.feedbackConfig,feedbackSourceType:"model"}))}return[o,i]}async logEvaluationFeedback(t,r,n){let[o]=await this._logEvaluationFeedback(t,r,n);return o}async*listAnnotationQueues(t={}){let{queueIds:r,name:n,nameContains:o,limit:i}=t,a=new URLSearchParams;r&&r.forEach((u,l)=>{en(u,`queueIds[${l}]`),a.append("ids",u)}),n&&a.append("name",n),o&&a.append("name_contains",o),a.append("limit",(i!==void 0?Math.min(i,100):100).toString());let s=0;for await(let u of this._getPaginated("/annotation-queues",a))if(yield*u,s++,i!==void 0&&s>=i)break}async createAnnotationQueue(t){let{name:r,description:n,queueId:o}=t,i={name:r,description:n,id:o||dO()},a=await this.caller.call(wt(),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(i).filter(([u,l])=>l!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(a,"create annotation queue"),await a.json()}async readAnnotationQueue(t){let r=await this.listAnnotationQueues({queueIds:[t]}).next();if(r.done)throw new Error(`Annotation queue with ID ${t} not found`);return r.value}async updateAnnotationQueue(t,r){let{name:n,description:o}=r,i=await this.caller.call(wt(),`${this.apiUrl}/annotation-queues/${en(t,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:n,description:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(i,"update annotation queue")}async deleteAnnotationQueue(t){let r=await this.caller.call(wt(),`${this.apiUrl}/annotation-queues/${en(t,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(r,"delete annotation queue")}async addRunsToAnnotationQueue(t,r){let n=await this.caller.call(wt(),`${this.apiUrl}/annotation-queues/${en(t,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r.map((o,i)=>en(o,`runIds[${i}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(n,"add runs to annotation queue")}async getRunFromAnnotationQueue(t,r){let n=`/annotation-queues/${en(t,"queueId")}/run`,o=await this.caller.call(wt(),`${this.apiUrl}${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(o,"get run from annotation queue"),await o.json()}async _currentTenantIsOwner(t){let r=await this._getSettings();return t=="-"||r.tenant_handle===t}async _ownerConflictError(t,r){let n=await this._getSettings();return new Error(`Cannot ${t} for another tenant.

      Current tenant: ${n.tenant_handle}

      Requested tenant: ${r}`)}async _getLatestCommitHash(t){let r=await this.caller.call(wt(),`${this.apiUrl}/commits/${t}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await r.json();if(!r.ok){let o=typeof n.detail=="string"?n.detail:JSON.stringify(n.detail),i=new Error(`Error ${r.status}: ${r.statusText}
${o}`);throw i.statusCode=r.status,i}if(n.commits.length!==0)return n.commits[0].commit_hash}async _likeOrUnlikePrompt(t,r){let[n,o,i]=gS(t),a=await this.caller.call(wt(),`${this.apiUrl}/likes/${n}/${o}`,{method:"POST",body:JSON.stringify({like:r}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(a,`${r?"like":"unlike"} prompt`),await a.json()}async _getPromptUrl(t){let[r,n,o]=gS(t);if(await this._currentTenantIsOwner(r)){let i=await this._getSettings();return o!=="latest"?`${this.getHostUrl()}/prompts/${n}/${o.substring(0,8)}?organizationId=${i.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${i.id}`}else return o!=="latest"?`${this.getHostUrl()}/hub/${r}/${n}/${o.substring(0,8)}`:`${this.getHostUrl()}/hub/${r}/${n}`}async promptExists(t){return!!await this.getPrompt(t)}async likePrompt(t){return this._likeOrUnlikePrompt(t,!0)}async unlikePrompt(t){return this._likeOrUnlikePrompt(t,!1)}async*listCommits(t){for await(let r of this._getPaginated(`/commits/${t}/`,new URLSearchParams,n=>n.commits))yield*r}async*listPrompts(t){let r=new URLSearchParams;r.append("sort_field",t?.sortField??"updated_at"),r.append("sort_direction","desc"),r.append("is_archived",(!!t?.isArchived).toString()),t?.isPublic!==void 0&&r.append("is_public",t.isPublic.toString()),t?.query&&r.append("query",t.query);for await(let n of this._getPaginated("/repos",r,o=>o.repos))yield*n}async getPrompt(t){let[r,n,o]=gS(t),i=await this.caller.call(wt(),`${this.apiUrl}/repos/${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(i.status===404)return null;await qr(i,"get prompt");let a=await i.json();return a.repo?a.repo:null}async createPrompt(t,r){let n=await this._getSettings();if(r?.isPublic&&!n.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[o,i,a]=gS(t);if(!await this._currentTenantIsOwner(o))throw await this._ownerConflictError("create a prompt",o);let s={repo_handle:i,...r?.description&&{description:r.description},...r?.readme&&{readme:r.readme},...r?.tags&&{tags:r.tags},is_public:!!r?.isPublic},u=await this.caller.call(wt(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(u,"create prompt");let{repo:l}=await u.json();return l}async createCommit(t,r,n){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");let[o,i,a]=gS(t),s=n?.parentCommitHash==="latest"||!n?.parentCommitHash?await this._getLatestCommitHash(`${o}/${i}`):n?.parentCommitHash,u={manifest:JSON.parse(JSON.stringify(r)),parent_commit:s},l=await this.caller.call(wt(),`${this.apiUrl}/commits/${o}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(l,"create commit");let c=await l.json();return this._getPromptUrl(`${o}/${i}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updateExamplesMultipart(t,r=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let a of r){let s=a.id,u={...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split}},l=ef(u),c=new Blob([l],{type:"application/json"});if(n.append(s,c),a.inputs){let d=ef(a.inputs),f=new Blob([d],{type:"application/json"});n.append(`${s}.inputs`,f)}if(a.outputs){let d=ef(a.outputs),f=new Blob([d],{type:"application/json"});n.append(`${s}.outputs`,f)}if(a.attachments)for(let[d,f]of Object.entries(a.attachments)){let p,h;Array.isArray(f)?[p,h]=f:(p=f.mimeType,h=f.data);let m=new Blob([h],{type:`${p}; length=${h.byteLength}`});n.append(`${s}.attachment.${d}`,m)}if(a.attachments_operations){let d=ef(a.attachments_operations),f=new Blob([d],{type:"application/json"});n.append(`${s}.attachments_operations`,f)}}return await(await this.caller.call(wt(),`${this.apiUrl}/v1/platform/datasets/${t}/examples`,{method:"PATCH",headers:this.headers,body:n})).json()}async uploadExamplesMultipart(t,r=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let a of r){let s=(a.id??dO()).toString(),u={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split}},l=ef(u),c=new Blob([l],{type:"application/json"});n.append(s,c);let d=ef(a.inputs),f=new Blob([d],{type:"application/json"});if(n.append(`${s}.inputs`,f),a.outputs){let p=ef(a.outputs),h=new Blob([p],{type:"application/json"});n.append(`${s}.outputs`,h)}if(a.attachments)for(let[p,h]of Object.entries(a.attachments)){let m,_;Array.isArray(h)?[m,_]=h:(m=h.mimeType,_=h.data);let g=new Blob([_],{type:`${m}; length=${_.byteLength}`});n.append(`${s}.attachment.${p}`,g)}}return await(await this.caller.call(wt(),`${this.apiUrl}/v1/platform/datasets/${t}/examples`,{method:"POST",headers:this.headers,body:n})).json()}async updatePrompt(t,r){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");let[n,o]=gS(t);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);let i={};if(r?.description!==void 0&&(i.description=r.description),r?.readme!==void 0&&(i.readme=r.readme),r?.tags!==void 0&&(i.tags=r.tags),r?.isPublic!==void 0&&(i.is_public=r.isPublic),r?.isArchived!==void 0&&(i.is_archived=r.isArchived),Object.keys(i).length===0)throw new Error("No valid update options provided");let a=await this.caller.call(wt(),`${this.apiUrl}/repos/${n}/${o}`,{method:"PATCH",body:JSON.stringify(i),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await qr(a,"update prompt"),a.json()}async deletePrompt(t){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");let[r,n,o]=gS(t);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("delete a prompt",r);return await(await this.caller.call(wt(),`${this.apiUrl}/repos/${r}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(t,r){let[n,o,i]=gS(t),a=await this.caller.call(wt(),`${this.apiUrl}/commits/${n}/${o}/${i}${r?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await qr(a,"pull prompt commit");let s=await a.json();return{owner:n,repo:o,commit_hash:s.commit_hash,manifest:s.manifest,examples:s.examples}}async _pullPrompt(t,r){let n=await this.pullPromptCommit(t,{includeModel:r?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(t,r){return await this.promptExists(t)?r&&Object.keys(r).some(o=>o!=="object")&&await this.updatePrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}):await this.createPrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}),r?.object?await this.createCommit(t,r?.object,{parentCommitHash:r?.parentCommitHash}):await this._getPromptUrl(t)}async clonePublicDataset(t,r={}){let{sourceApiUrl:n=this.apiUrl,datasetName:o}=r,[i,a]=this.parseTokenOrUrl(t,n),s=new e({apiUrl:i,apiKey:"placeholder"}),u=await s.readSharedDataset(a),l=o||u.name;try{if(await this.hasDataset({datasetId:l})){console.log(`Dataset ${l} already exists in your tenant. Skipping.`);return}}catch{}let c=await s.listSharedExamples(a),d=await this.createDataset(l,{description:u.description,dataType:u.data_type||"kv",inputsSchema:u.inputs_schema_definition??void 0,outputsSchema:u.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map(f=>f.inputs),outputs:c.flatMap(f=>f.outputs?[f.outputs]:[]),datasetId:d.id})}catch(f){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),f}}parseTokenOrUrl(t,r,n=2,o="dataset"){try{return en(t),[r,t]}catch{}try{let a=new URL(t).pathname.split("/").filter(s=>s!=="");if(a.length>=n){let s=a[a.length-n];return[r,s]}else throw new Error(`Invalid public ${o} URL: ${t}`)}catch{throw new Error(`Invalid public ${o} URL or token: ${t}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:t})=>t),this.batchIngestCaller.queue.onIdle()])}}});var K6,Y6=C(()=>{use();Q6();N6();K6="0.2.14"});function Z6(){if(lse===void 0){let e=t9t(),t=n9t();lse={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:K6,...t}}return lse}function INe(){let e=r9t()||{},t={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[n,o]of Object.entries(e))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&typeof o=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?t.revision_id=o:t[n]=o);return t}function r9t(){try{return typeof process<"u"&&process.env?Object.entries(process.env).reduce((e,[t,r])=>(e[t]=String(r),e),{}):void 0}catch{return}}function ey(e){try{return typeof process<"u"?process.env?.[e]:void 0}catch{return}}function yS(e){return ey(`LANGSMITH_${e}`)||ey(`LANGCHAIN_${e}`)}function n9t(){if(cse!==void 0)return cse;let e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(let r of e){let n=ey(r);n!==void 0&&(t[r]=n)}return cse=t,t}var _S,Z5t,X5t,Q5t,ANe,e9t,t9t,lse,cse,X6=C(()=>{Y6();Z5t=()=>typeof window<"u"&&typeof window.document<"u",X5t=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Q5t=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ANe=()=>typeof Deno<"u",e9t=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ANe(),t9t=()=>_S||(Z5t()?_S="browser":e9t()?_S="node":X5t()?_S="webworker":Q5t()?_S="jsdom":ANe()?_S="deno":_S="other",_S)});var RNe,DNe=C(()=>{X6();RNe=e=>e!==void 0?e:!!["TRACING_V2","TRACING"].find(r=>yS(r)==="true")});var eV,jNe=C(()=>{eV=Symbol.for("lc:context_variables")});function o9t(e){return e.replace(/[-:.]/g,"")}function i9t(e,t,r=1){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return o9t(`${new Date(e).toISOString().slice(0,-1)}${n}Z`)+t}function rV(e){return e!==void 0&&typeof e.createChild=="function"&&typeof e.postRun=="function"}function LNe(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}function NNe(e){return Array.isArray(e)&&e.some(t=>LNe(t))}function a9t(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}function s9t(e){return e!==void 0&&typeof e.callbacks=="object"&&(NNe(e.callbacks?.handlers)||NNe(e.callbacks))}var tV,bS,Q6=C(()=>{M6();X6();use();DNe();kae();jNe();tV=class e{constructor(t,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=t,this.tags=r}static fromHeader(t){let r=t.split(","),n={},o=[];for(let i of r){let[a,s]=i.split("="),u=decodeURIComponent(s);a==="langsmith-metadata"?n=JSON.parse(u):a==="langsmith-tags"&&(o=u.split(","))}return new e(n,o)}toHeader(){let t=[];return this.metadata&&Object.keys(this.metadata).length>0&&t.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&t.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),t.join(",")}},bS=class e{constructor(t){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),rV(t)){Object.assign(this,{...t});return}let r=e.getDefaultConfig(),{metadata:n,...o}=t,i=o.client??e.getSharedClient(),a={...n,...o?.extra?.metadata};if(o.extra={...o.extra,metadata:a},Object.assign(this,{...r,...o,client:i}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){let s=i9t(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+s:this.dotted_order=s}}static getDefaultConfig(){return{id:dO(),run_type:"chain",project_name:ey("LANGCHAIN_PROJECT")??ey("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:ey("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:ey("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return e.sharedClient||(e.sharedClient=new RM),e.sharedClient}createChild(t){let r=this.child_execution_order+1,n=new e({...t,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:r,child_execution_order:r});eV in this&&(n[eV]=this[eV]);let o=Symbol.for("lc:child_config"),i=t.extra?.[o]??this.extra[o];if(s9t(i)){let u={...i},l=a9t(u.callbacks)?u.callbacks.copy?.():void 0;l&&(Object.assign(l,{_parentRunId:n.id}),l.handlers?.find(LNe)?.updateFromRunTree?.(n),u.callbacks=l),n.extra[o]=u}let a=new Set,s=this;for(;s!=null&&!a.has(s.id);)a.add(s.id),s.child_execution_order=Math.max(s.child_execution_order,r),s=s.parent_run;return this.child_runs.push(n),n}async end(t,r,n=Date.now(),o){this.outputs=this.outputs??t,this.error=this.error??r,this.end_time=this.end_time??n,o&&Object.keys(o).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...o}}:{metadata:o})}_convertToCreate(t,r,n=!0){let o=t.extra??{};if(o.runtime||(o.runtime={}),r)for(let[u,l]of Object.entries(r))o.runtime[u]||(o.runtime[u]=l);let i,a;return n?(a=t.parent_run?.id,i=[]):(i=t.child_runs.map(u=>this._convertToCreate(u,r,n)),a=void 0),{id:t.id,name:t.name,start_time:t.start_time,end_time:t.end_time,run_type:t.run_type,reference_example_id:t.reference_example_id,extra:o,serialized:t.serialized,error:t.error,inputs:t.inputs,outputs:t.outputs,session_name:t.project_name,child_runs:i,parent_run_id:a,trace_id:t.trace_id,dotted_order:t.dotted_order,tags:t.tags,attachments:t.attachments}}async postRun(t=!0){try{let r=Z6(),n=await this._convertToCreate(this,r,!0);if(await this.client.createRun(n),!t){F6("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let o of this.child_runs)await o.postRun(!1)}}catch(r){console.error(`Error in postRun for run ${this.id}:`,r)}}async patchRun(){try{let t={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments};await this.client.updateRun(this.id,t)}catch(t){console.error(`Error in patchRun for run ${this.id}`,t)}}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(t,r){let n=t?.callbacks,o,i,a,s=RNe();if(n){let l=n?.getParentRunId?.()??"",c=n?.handlers?.find(d=>d?.name=="langchain_tracer");o=c?.getRun?.(l),i=c?.projectName,a=c?.client,s=s||!!c}return o?new e({name:o.name,id:o.id,trace_id:o.trace_id,dotted_order:o.dotted_order,client:a,tracingEnabled:s,project_name:i,tags:[...new Set((o?.tags??[]).concat(t?.tags??[]))],extra:{metadata:{...o?.extra?.metadata,...t?.metadata}}}).createChild(r):new e({...r,client:a,tracingEnabled:s,project_name:i})}static fromDottedOrder(t){return this.fromHeaders({"langsmith-trace":t})}static fromHeaders(t,r){let n="get"in t&&typeof t.get=="function"?{"langsmith-trace":t.get("langsmith-trace"),baggage:t.get("baggage")}:t,o=n["langsmith-trace"];if(!o||typeof o!="string")return;let i=o.trim(),a=i.split(".").map(l=>{let[c,d]=l.split("Z");return{strTime:c,time:Date.parse(c+"Z"),uuid:d}}),s=a[0].uuid,u={...r,name:r?.name??"parent",run_type:r?.run_type??"chain",start_time:r?.start_time??Date.now(),id:a.at(-1)?.uuid,trace_id:s,dotted_order:i};if(n.baggage&&typeof n.baggage=="string"){let l=tV.fromHeader(n.baggage);u.metadata=l.metadata,u.tags=l.tags}return new e(u)}toHeaders(t){let r={"langsmith-trace":this.dotted_order,baggage:new tV(this.extra?.metadata,this.tags).toHeader()};if(t)for(let[n,o]of Object.entries(r))t.set(n,o);return r}};Object.defineProperty(bS,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null})});function nV(e){return typeof e=="function"&&"langsmith:traceable"in e}var fse,dse,u9t,pse,l9t,FNe,Qyn,kNe=C(()=>{Q6();fse=class{getStore(){}run(t,r){return r()}},dse=Symbol.for("ls:tracing_async_local_storage"),u9t=new fse,pse=class{getInstance(){return globalThis[dse]??u9t}initializeGlobalInstance(t){globalThis[dse]===void 0&&(globalThis[dse]=t)}},l9t=new pse,FNe=()=>{let e=l9t.getInstance().getStore();if(!rV(e))throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join(`
`));return e},Qyn=Symbol.for("langsmith:traceable:root")});var hse=C(()=>{kNe()});function iV(e,t){return c9t.call(e,t)}function aV(e){if(Array.isArray(e)){let r=new Array(e.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)iV(e,r)&&t.push(r);return t}function Dc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function sV(e){let t=0,r=e.length,n;for(;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}function ty(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function N$(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function oV(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(oV(e[r]))return!0}else if(typeof e=="object"){let r=aV(e),n=r.length;for(var t=0;t<n;t++)if(oV(e[r[t]]))return!0}}return!1}function BNe(e,t){let r=[e];for(let n in t){let o=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof o<"u"&&r.push(`${n}: ${o}`)}return r.join(`
`)}var c9t,DM,L$=C(()=>{c9t=Object.prototype.hasOwnProperty;DM=class extends Error{constructor(t,r,n,o,i){super(BNe(t,{name:r,index:n,operation:o,tree:i})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.setPrototypeOf(this,new.target.prototype),this.message=BNe(t,{name:r,index:n,operation:o,tree:i})}}});var mse={};Kd(mse,{JsonPatchError:()=>Pa,_areEquals:()=>F$,applyOperation:()=>jM,applyPatch:()=>fO,applyReducer:()=>p9t,deepClone:()=>d9t,getValueByPointer:()=>uV,validate:()=>$Ne,validator:()=>lV});function uV(e,t){if(t=="")return e;var r={op:"_get",path:t};return jM(e,r),r.value}function jM(e,t,r=!1,n=!0,o=!0,i=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):lV(t,0)),t.path===""){let a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=uV(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=F$(e,t.value),a.test===!1)throw new Pa("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(r)throw new Pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return a}}else{n||(e=Dc(e));let s=(t.path||"").split("/"),u=e,l=1,c=s.length,d,f,p;for(typeof r=="function"?p=r:p=lV;;){if(f=s[l],f&&f.indexOf("~")!=-1&&(f=N$(f)),o&&(f=="__proto__"||f=="prototype"&&l>0&&s[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(u[f]===void 0?d=s.slice(0,l).join("/"):l==c-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),l++,Array.isArray(u)){if(f==="-")f=u.length;else{if(r&&!sV(f))throw new Pa("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);sV(f)&&(f=~~f)}if(l>=c){if(r&&t.op==="add"&&f>u.length)throw new Pa("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);let h=f9t[t.op].call(t,u,f,e);if(h.test===!1)throw new Pa("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return h}}else if(l>=c){let h=TD[t.op].call(t,u,f,e);if(h.test===!1)throw new Pa("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return h}if(u=u[f],r&&l<c&&(!u||typeof u!="object"))throw new Pa("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}}function fO(e,t,r,n=!0,o=!0){if(r&&!Array.isArray(t))throw new Pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Dc(e));let i=new Array(t.length);for(let a=0,s=t.length;a<s;a++)i[a]=jM(e,t[a],r,!0,o,a),e=i[a].newDocument;return i.newDocument=e,i}function p9t(e,t,r){let n=jM(e,t);if(n.test===!1)throw new Pa("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function lV(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new Pa("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(TD[e.op]){if(typeof e.path!="string")throw new Pa("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Pa('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Pa("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&oV(e.value))throw new Pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var o=e.path.split("/").length,i=n.split("/").length;if(o!==i+1&&o!==i)throw new Pa("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new Pa("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},s=$Ne([a],r);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new Pa("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new Pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function $Ne(e,t,r){try{if(!Array.isArray(e))throw new Pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)fO(Dc(t),Dc(e),r||!0);else{r=r||lV;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(o){if(o instanceof Pa)return o;throw o}}function F$(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),o,i,a;if(r&&n){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(!F$(e[o],t[o]))return!1;return!0}if(r!=n)return!1;var s=Object.keys(e);if(i=s.length,i!==Object.keys(t).length)return!1;for(o=i;o--!==0;)if(!t.hasOwnProperty(s[o]))return!1;for(o=i;o--!==0;)if(a=s[o],!F$(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var Pa,d9t,TD,f9t,cV=C(()=>{L$();Pa=DM,d9t=Dc,TD={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){let n=uV(r,this.path);n&&(n=Dc(n));let o=jM(r,{op:"remove",path:this.from}).removed;return jM(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){let n=uV(r,this.from);return jM(r,{op:"add",path:this.path,value:Dc(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:F$(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},f9t={add:function(e,t,r){return sV(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:TD.move,copy:TD.copy,test:TD.test,_get:TD._get}});function qNe(e,t,r,n,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var i=aV(t),a=aV(e),s=!1,u=!1,l=a.length-1;l>=0;l--){var c=a[l],d=e[c];if(iV(t,c)&&!(t[c]===void 0&&d!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?qNe(d,f,r,n+"/"+ty(c),o):d!==f&&(s=!0,o&&r.push({op:"test",path:n+"/"+ty(c),value:Dc(d)}),r.push({op:"replace",path:n+"/"+ty(c),value:Dc(f)}))}else Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+ty(c),value:Dc(d)}),r.push({op:"remove",path:n+"/"+ty(c)}),u=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}),s=!0)}if(!(!u&&i.length==a.length))for(var l=0;l<i.length;l++){var c=i[l];!iV(e,c)&&t[c]!==void 0&&r.push({op:"add",path:n+"/"+ty(c),value:Dc(t[c])})}}}function dV(e,t,r=!1){var n=[];return qNe(e,t,n,"",r),n}var UNe=C(()=>{L$();cV();});var lbn,gse=C(()=>{cV();UNe();L$();cV();L$();lbn={...mse,JsonPatchError:DM,deepClone:Dc,escapePathComponent:ty,unescapePathComponent:N$}});var HNe=b((hbn,zNe)=>{"use strict";zNe.exports=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");return t=typeof t>"u"?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}});var ZNe=b((mbn,yse)=>{"use strict";var h9t=/[\p{Lu}]/u,m9t=/[\p{Ll}]/u,VNe=/^[\p{Lu}](?![\p{Lu}])/gu,GNe=/([\p{Alpha}\p{N}_]|$)/u,KNe=/[_.\- ]+/,g9t=new RegExp("^"+KNe.source),WNe=new RegExp(KNe.source+GNe.source,"gu"),JNe=new RegExp("\\d+"+GNe.source,"gu"),y9t=(e,t,r)=>{let n=!1,o=!1,i=!1;for(let a=0;a<e.length;a++){let s=e[a];n&&h9t.test(s)?(e=e.slice(0,a)+"-"+e.slice(a),n=!1,i=o,o=!0,a++):o&&i&&m9t.test(s)?(e=e.slice(0,a-1)+"-"+e.slice(a-1),i=o,o=!1,n=!0):(n=t(s)===s&&r(s)!==s,i=o,o=r(s)===s&&t(s)!==s)}return e},b9t=(e,t)=>(VNe.lastIndex=0,e.replace(VNe,r=>t(r))),_9t=(e,t)=>(WNe.lastIndex=0,JNe.lastIndex=0,e.replace(WNe,(r,n)=>t(n)).replace(JNe,r=>t(r))),YNe=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(i=>i.trim()).filter(i=>i.length).join("-"):e=e.trim(),e.length===0)return"";let r=t.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(t.locale),n=t.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?n(e):r(e):(e!==r(e)&&(e=y9t(e,r,n)),e=e.replace(g9t,""),t.preserveConsecutiveUppercase?e=b9t(e,r):e=r(e),t.pascalCase&&(e=n(e.charAt(0))+e.slice(1)),_9t(e,n))};yse.exports=YNe;yse.exports.default=YNe});function QNe(e,t){return t?.[e]||(0,XNe.default)(e)}function eLe(e,t,r){let n={};for(let o in e)Object.hasOwn(e,o)&&(n[t(o,r)]=e[o]);return n}var XNe,v9t,tLe=C(()=>{XNe=B(HNe(),1),v9t=B(ZNe(),1)});function rLe(e){return Array.isArray(e)?[...e]:{...e}}function w9t(e,t){let r=rLe(e);for(let[n,o]of Object.entries(t)){let[i,...a]=n.split(".").reverse(),s=r;for(let u of a.reverse()){if(s[u]===void 0)break;s[u]=rLe(s[u]),s=s[u]}s[i]!==void 0&&(s[i]={lc:1,type:"secret",id:[o]})}return r}function bse(e){let t=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof t.lc_name!="function"||e.lc_name()!==t.lc_name())?e.lc_name():e.name}var tf,NM=C(()=>{tLe();tf=class e{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,bse(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(t,...r){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(t||{}).filter(([n])=>this.lc_serializable_keys?.includes(n))):this.lc_kwargs=t??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof e||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let t={},r={},n=Object.keys(this.lc_kwargs).reduce((o,i)=>(o[i]=i in this?this[i]:this.lc_kwargs[i],o),{});for(let o=Object.getPrototypeOf(this);o;o=Object.getPrototypeOf(o))Object.assign(t,Reflect.get(o,"lc_aliases",this)),Object.assign(r,Reflect.get(o,"lc_secrets",this)),Object.assign(n,Reflect.get(o,"lc_attributes",this));return Object.keys(r).forEach(o=>{let i=this,a=n,[s,...u]=o.split(".").reverse();for(let l of u.reverse()){if(!(l in i)||i[l]===void 0)return;(!(l in a)||a[l]===void 0)&&(typeof i[l]=="object"&&i[l]!=null?a[l]={}:Array.isArray(i[l])&&(a[l]=[])),i=i[l],a=a[l]}s in i&&i[s]!==void 0&&(a[s]=a[s]||i[s])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:eLe(Object.keys(r).length?w9t(n,r):n,QNe,t)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}});async function nLe(){return _se===void 0&&(_se={library:"langchain-js",runtime:E9t()}),_se}function Jt(e){try{return typeof process<"u"?process.env?.[e]:vse()?Deno?.env.get(e):void 0}catch{return}}var S9t,x9t,C9t,vse,O9t,E9t,_se,LM=C(()=>{S9t=()=>typeof window<"u"&&typeof window.document<"u",x9t=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",C9t=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),vse=()=>typeof Deno<"u",O9t=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!vse(),E9t=()=>{let e;return S9t()?e="browser":O9t()?e="node":x9t()?e="webworker":C9t()?e="jsdom":vse()?e="deno":e="other",e}});function Sse(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var wse,FM,oLe,k$=C(()=>{O$();NM();LM();wse=class{};FM=class e extends wse{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,bse(this.constructor)]}constructor(t){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Jt("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=t||{},t&&(this.ignoreLLM=t.ignoreLLM??this.ignoreLLM,this.ignoreChain=t.ignoreChain??this.ignoreChain,this.ignoreAgent=t.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=t.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=t.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=t.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(t._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return tf.prototype.toJSON.call(this)}toJSONNotImplemented(){return tf.prototype.toJSONNotImplemented.call(this)}static fromMethods(t){class r extends e{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Xd()}),Object.assign(this,t)}}return new r}},oLe=e=>{let t=e;return t!==void 0&&typeof t.copy=="function"&&typeof t.name=="string"&&typeof t.awaitHandlers=="boolean"}});function xse(e,t){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[t]:e}}function P9t(e){return e.replace(/[-:.]/g,"")}function T9t(e,t,r){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return P9t(`${new Date(e).toISOString().slice(0,-1)}${n}Z`)+t}function MD(e){return typeof e._addRunToRunMap=="function"}var Xp,kM=C(()=>{k$();Xp=class extends FM{constructor(t){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(t){return t instanceof Error?t.message+(t?.stack?`

${t.stack}`:""):typeof t=="string"?t:`${t}`}_addChildRun(t,r){t.child_runs.push(r)}_addRunToRunMap(t){let r=T9t(t.start_time,t.id,t.execution_order),n={...t};if(n.parent_run_id!==void 0){let o=this.runMap.get(n.parent_run_id);o&&(this._addChildRun(o,n),o.child_execution_order=Math.max(o.child_execution_order,n.child_execution_order),n.trace_id=o.trace_id,o.dotted_order!==void 0&&(n.dotted_order=[o.dotted_order,r].join(".")))}else n.trace_id=n.id,n.dotted_order=r;return this.runMap.set(n.id,n),n}async _endTrace(t){let r=t.parent_run_id!==void 0&&this.runMap.get(t.parent_run_id);r?r.child_execution_order=Math.max(r.child_execution_order,t.child_execution_order):await this.persistRun(t),this.runMap.delete(t.id),await this.onRunUpdate?.(t)}_getExecutionOrder(t){let r=t!==void 0&&this.runMap.get(t);return r?r.child_execution_order+1:1}_createRunForLLMStart(t,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d=s?{...i,metadata:s}:i,f={id:n,name:u??t.id[t.id.length-1],parent_run_id:o,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:r},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleLLMStart(t,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForLLMStart(t,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}_createRunForChatModelStart(t,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d=s?{...i,metadata:s}:i,f={id:n,name:u??t.id[t.id.length-1],parent_run_id:o,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:r},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleChatModelStart(t,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForChatModelStart(t,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}async handleLLMEnd(t,r,n,o,i){let a=this.runMap.get(r);if(!a||a?.run_type!=="llm")throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.outputs=t,a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...i},await this.onLLMEnd?.(a),await this._endTrace(a),a}async handleLLMError(t,r,n,o,i){let a=this.runMap.get(r);if(!a||a?.run_type!=="llm")throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(t),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...i},await this.onLLMError?.(a),await this._endTrace(a),a}_createRunForChainStart(t,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d={id:n,name:u??t.id[t.id.length-1],parent_run_id:o,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:r,execution_order:l,child_execution_order:l,run_type:s??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(d)}async handleChainStart(t,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForChainStart(t,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onChainStart?.(l),l}async handleChainEnd(t,r,n,o,i){let a=this.runMap.get(r);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=xse(t,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),i?.inputs!==void 0&&(a.inputs=xse(i.inputs,"input")),await this.onChainEnd?.(a),await this._endTrace(a),a}async handleChainError(t,r,n,o,i){let a=this.runMap.get(r);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(t),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),i?.inputs!==void 0&&(a.inputs=xse(i.inputs,"input")),await this.onChainError?.(a),await this._endTrace(a),a}_createRunForToolStart(t,r,n,o,i,a,s){let u=this._getExecutionOrder(o),l=Date.now(),c={id:n,name:s??t.id[t.id.length-1],parent_run_id:o,start_time:l,serialized:t,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:r},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleToolStart(t,r,n,o,i,a,s){let u=this.runMap.get(n)??this._createRunForToolStart(t,r,n,o,i,a,s);return await this.onRunCreate?.(u),await this.onToolStart?.(u),u}async handleToolEnd(t,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:t},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await this.onToolEnd?.(n),await this._endTrace(n),n}async handleToolError(t,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(t),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await this.onToolError?.(n),await this._endTrace(n),n}async handleAgentAction(t,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="chain")return;let o=n;o.actions=o.actions||[],o.actions.push(t),o.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:t}}),await this.onAgentAction?.(n)}async handleAgentEnd(t,r){let n=this.runMap.get(r);!n||n?.run_type!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:t}}),await this.onAgentEnd?.(n))}_createRunForRetrieverStart(t,r,n,o,i,a,s){let u=this._getExecutionOrder(o),l=Date.now(),c={id:n,name:s??t.id[t.id.length-1],parent_run_id:o,start_time:l,serialized:t,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:r},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(t,r,n,o,i,a,s){let u=this.runMap.get(n)??this._createRunForRetrieverStart(t,r,n,o,i,a,s);return await this.onRunCreate?.(u),await this.onRetrieverStart?.(u),u}async handleRetrieverEnd(t,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:t},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await this.onRetrieverEnd?.(n),await this._endTrace(n),n}async handleRetrieverError(t,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(t),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await this.onRetrieverError?.(n),await this._endTrace(n),n}async handleText(t,r){let n=this.runMap.get(r);!n||n?.run_type!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:t}}),await this.onText?.(n))}async handleLLMNewToken(t,r,n,o,i,a){let s=this.runMap.get(n);if(!s||s?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return s.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:t,idx:r,chunk:a?.chunk}}),await this.onLLMNewToken?.(s,t,{chunk:a?.chunk}),s}}});var uLe=b((Obn,sLe)=>{"use strict";var iLe=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,aLe=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`;function M9t(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[o,i]of Object.entries(n))t[o]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},n[o]=t[o],e.set(i[0],i[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi256=iLe(),t.color.ansi16m=aLe(),t.bgColor.ansi256=iLe(10),t.bgColor.ansi16m=aLe(10),Object.defineProperties(t,{rgbToAnsi256:{value:(r,n,o)=>r===n&&n===o?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5),enumerable:!1},hexToRgb:{value:r=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(r.toString(16));if(!n)return[0,0,0];let{colorString:o}=n.groups;o.length===3&&(o=o.split("").map(a=>a+a).join(""));let i=Number.parseInt(o,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>t.rgbToAnsi256(...t.hexToRgb(r)),enumerable:!1}}),t}Object.defineProperty(sLe,"exports",{enumerable:!0,get:M9t})});function Sd(e,t){return`${e.open}${t}${e.close}`}function Qp(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}function lLe(e){return typeof e=="string"?e.trim():e==null?e:Qp(e,e.toString())}function pO(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}var Cse,rf,B$,cLe=C(()=>{Cse=B(uLe(),1);kM();({color:rf}=Cse.default),B$=class extends Xp{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(t){return Promise.resolve()}getParents(t){let r=[],n=t;for(;n.parent_run_id;){let o=this.runMap.get(n.parent_run_id);if(o)r.push(o),n=o;else break}return r}getBreadcrumbs(t){let n=[...this.getParents(t).reverse(),t].map((o,i,a)=>{let s=`${o.execution_order}:${o.run_type}:${o.name}`;return i===a.length-1?Sd(Cse.default.bold,s):s}).join(" > ");return Sd(rf.grey,n)}onChainStart(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.green,"[chain/start]")} [${r}] Entering Chain run with input: ${Qp(t.inputs,"[inputs]")}`)}onChainEnd(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.cyan,"[chain/end]")} [${r}] [${pO(t)}] Exiting Chain run with output: ${Qp(t.outputs,"[outputs]")}`)}onChainError(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.red,"[chain/error]")} [${r}] [${pO(t)}] Chain run errored with error: ${Qp(t.error,"[error]")}`)}onLLMStart(t){let r=this.getBreadcrumbs(t),n="prompts"in t.inputs?{prompts:t.inputs.prompts.map(o=>o.trim())}:t.inputs;console.log(`${Sd(rf.green,"[llm/start]")} [${r}] Entering LLM run with input: ${Qp(n,"[inputs]")}`)}onLLMEnd(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.cyan,"[llm/end]")} [${r}] [${pO(t)}] Exiting LLM run with output: ${Qp(t.outputs,"[response]")}`)}onLLMError(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.red,"[llm/error]")} [${r}] [${pO(t)}] LLM run errored with error: ${Qp(t.error,"[error]")}`)}onToolStart(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.green,"[tool/start]")} [${r}] Entering Tool run with input: "${lLe(t.inputs.input)}"`)}onToolEnd(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.cyan,"[tool/end]")} [${r}] [${pO(t)}] Exiting Tool run with output: "${lLe(t.outputs?.output)}"`)}onToolError(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.red,"[tool/error]")} [${r}] [${pO(t)}] Tool run errored with error: ${Qp(t.error,"[error]")}`)}onRetrieverStart(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.green,"[retriever/start]")} [${r}] Entering Retriever run with input: ${Qp(t.inputs,"[inputs]")}`)}onRetrieverEnd(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.cyan,"[retriever/end]")} [${r}] [${pO(t)}] Exiting Retriever run with output: ${Qp(t.outputs,"[outputs]")}`)}onRetrieverError(t){let r=this.getBreadcrumbs(t);console.log(`${Sd(rf.red,"[retriever/error]")} [${r}] [${pO(t)}] Retriever run errored with error: ${Qp(t.error,"[error]")}`)}onAgentAction(t){let r=t,n=this.getBreadcrumbs(t);console.log(`${Sd(rf.blue,"[agent/action]")} [${n}] Agent selected action: ${Qp(r.actions[r.actions.length-1],"[action]")}`)}}});function hO(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${t}/
`,e}var $$=C(()=>{});function AD(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}var ID,fV=C(()=>{ID=class extends Error{constructor(t,r){super(t),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=r}}});function Ose(e,t=RD){e=e.trim();let r=/```(json)?(.*)```/s.exec(e);return t(r?r[2]:e)}function RD(e){if(typeof e>"u")return null;try{return JSON.parse(e)}catch{}let t="",r=[],n=!1,o=!1;for(let i of e){if(n)i==='"'&&!o?n=!1:i===`
`&&!o?i="\\n":i==="\\"?o=!o:o=!1;else if(i==='"')n=!0,o=!1;else if(i==="{")r.push("}");else if(i==="[")r.push("]");else if(i==="}"||i==="]")if(r&&r[r.length-1]===i)r.pop();else return null;t+=i}n&&(t+='"');for(let i=r.length-1;i>=0;i-=1)t+=r[i];try{return JSON.parse(t)}catch{return null}}var Ese=C(()=>{});function eh(e,t){return typeof e=="string"?typeof t=="string"?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?q$(e,t)??[...e,...t]:[...e,{type:"text",text:t}]}function dLe(e,t){return e==="error"||t==="error"?"error":"success"}function I9t(e,t){function r(n,o){if(typeof n!="object"||n===null||n===void 0)return n;if(o>=t)return Array.isArray(n)?"[Array]":"[Object]";if(Array.isArray(n))return n.map(a=>r(a,o+1));let i={};for(let a of Object.keys(n))i[a]=r(n[a],o+1);return i}return JSON.stringify(r(e,0),null,2)}function qa(e,t){let r={...e};for(let[n,o]of Object.entries(t))if(r[n]==null)r[n]=o;else{if(o==null)continue;if(typeof r[n]!=typeof o||Array.isArray(r[n])!==Array.isArray(o))throw new Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string"){if(n==="type")continue;r[n]+=o}else if(typeof r[n]=="object"&&!Array.isArray(r[n]))r[n]=qa(r[n],o);else if(Array.isArray(r[n]))r[n]=q$(r[n],o);else{if(r[n]===o)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}function q$(e,t){if(!(e===void 0&&t===void 0)){if(e===void 0||t===void 0)return e||t;{let r=[...e];for(let n of t)if(typeof n=="object"&&"index"in n&&typeof n.index=="number"){let o=r.findIndex(i=>i.index===n.index);o!==-1?r[o]=qa(r[o],n):r.push(n)}else{if(typeof n=="object"&&"text"in n&&n.text==="")continue;r.push(n)}return r}}}function fLe(e,t){if(!e&&!t)throw new Error("Cannot merge two undefined objects.");if(!e||!t)return e||t;if(typeof e!=typeof t)throw new Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof t}`);if(typeof e=="string"&&typeof t=="string")return e+t;if(Array.isArray(e)&&Array.isArray(t))return q$(e,t);if(typeof e=="object"&&typeof t=="object")return qa(e,t);if(e===t)return e;throw new Error(`Can not merge objects of different types.
Left ${e}
Right ${t}`)}function pLe(e){return typeof e.role=="string"}function th(e){return typeof e?._getType=="function"}function Pse(e){return th(e)&&typeof e.concat=="function"}var Lu,nf,rh=C(()=>{NM();Lu=class extends tf{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}getType(){return this._getType()}constructor(t,r){typeof t=="string"&&(t={content:t,additional_kwargs:r,response_metadata:{}}),t.additional_kwargs||(t.additional_kwargs={}),t.response_metadata||(t.response_metadata={}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.content=t.content,this.additional_kwargs=t.additional_kwargs,this.response_metadata=t.response_metadata,this.id=t.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(t){this.id=t,this.lc_kwargs.id=t}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](t){if(t===null)return this;let r=I9t(this._printableFields,Math.max(4,t));return`${this.constructor.lc_name()} ${r}`}};nf=class extends Lu{}});function hLe(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}function mLe(e){let t=[],r=[];for(let n of e)if(n.function){let o=n.function.name;try{let i=JSON.parse(n.function.arguments),a={name:o||"",args:i||{},id:n.id};t.push(a)}catch{r.push({name:o,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[t,r]}var vS,mO,DD=C(()=>{rh();vS=class extends Lu{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(t,r,n){typeof t=="string"&&(t={content:t,name:n,tool_call_id:r}),super(t),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=t.tool_call_id,this.artifact=t.artifact,this.status=t.status}_getType(){return"tool"}static isInstance(t){return t._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},mO=class e extends nf{constructor(t){super(t),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=t.tool_call_id,this.artifact=t.artifact,this.status=t.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(t){return new e({content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),artifact:fLe(this.artifact,t.artifact),tool_call_id:this.tool_call_id,id:this.id??t.id,status:dLe(this.status,t.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}});function Fu(e){return e._getType()==="ai"}function Tse(e){return e._getType()==="ai"}var Po,Jr,BM=C(()=>{Ese();rh();DD();Po=class extends Lu{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(t,r){let n;if(typeof t=="string")n={content:t,tool_calls:[],invalid_tool_calls:[],additional_kwargs:r??{}};else{n=t;let o=n.additional_kwargs?.tool_calls,i=n.tool_calls;o!=null&&o.length>0&&(i===void 0||i.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&i===void 0){let[a,s]=mLe(o);n.tool_calls=a??[],n.invalid_tool_calls=s??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}};Jr=class e extends nf{constructor(t){let r;if(typeof t=="string")r={content:t,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(t.tool_call_chunks===void 0)r={...t,tool_calls:t.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:t.usage_metadata!==void 0?t.usage_metadata:void 0};else{let n=[],o=[];for(let i of t.tool_call_chunks){let a={};try{if(a=RD(i.args||"{}"),a===null||typeof a!="object"||Array.isArray(a))throw new Error("Malformed tool call chunk args.");n.push({name:i.name??"",args:a,id:i.id,type:"tool_call"})}catch{o.push({name:i.name,args:i.args,id:i.id,error:"Malformed args.",type:"invalid_tool_call"})}}r={...t,tool_calls:n,invalid_tool_calls:o,usage_metadata:t.usage_metadata!==void 0?t.usage_metadata:void 0}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=r.tool_call_chunks??this.tool_call_chunks,this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=r.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(t){let r={content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),tool_call_chunks:[],id:this.id??t.id};if(this.tool_call_chunks!==void 0||t.tool_call_chunks!==void 0){let n=q$(this.tool_call_chunks,t.tool_call_chunks);n!==void 0&&n.length>0&&(r.tool_call_chunks=n)}if(this.usage_metadata!==void 0||t.usage_metadata!==void 0){let n={...(this.usage_metadata?.input_token_details?.audio!==void 0||t.usage_metadata?.input_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.input_token_details?.audio??0)+(t.usage_metadata?.input_token_details?.audio??0)},...(this.usage_metadata?.input_token_details?.cache_read!==void 0||t.usage_metadata?.input_token_details?.cache_read!==void 0)&&{cache_read:(this.usage_metadata?.input_token_details?.cache_read??0)+(t.usage_metadata?.input_token_details?.cache_read??0)},...(this.usage_metadata?.input_token_details?.cache_creation!==void 0||t.usage_metadata?.input_token_details?.cache_creation!==void 0)&&{cache_creation:(this.usage_metadata?.input_token_details?.cache_creation??0)+(t.usage_metadata?.input_token_details?.cache_creation??0)}},o={...(this.usage_metadata?.output_token_details?.audio!==void 0||t.usage_metadata?.output_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.output_token_details?.audio??0)+(t.usage_metadata?.output_token_details?.audio??0)},...(this.usage_metadata?.output_token_details?.reasoning!==void 0||t.usage_metadata?.output_token_details?.reasoning!==void 0)&&{reasoning:(this.usage_metadata?.output_token_details?.reasoning??0)+(t.usage_metadata?.output_token_details?.reasoning??0)}},i=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},a=t.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},s={input_tokens:i.input_tokens+a.input_tokens,output_tokens:i.output_tokens+a.output_tokens,total_tokens:i.total_tokens+a.total_tokens,...Object.keys(n).length>0&&{input_token_details:n},...Object.keys(o).length>0&&{output_token_details:o}};r.usage_metadata=s}return new e(r)}}});var xd,Dm,pV=C(()=>{rh();xd=class e extends Lu{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return e}constructor(t,r){typeof t=="string"&&(t={content:t,role:r}),super(t),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t.role}_getType(){return"generic"}static isInstance(t){return t._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},Dm=class e extends nf{static lc_name(){return"ChatMessageChunk"}constructor(t,r){typeof t=="string"&&(t={content:t,role:r}),super(t),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t.role}_getType(){return"generic"}concat(t){return new e({content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),role:this.role,id:this.id??t.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}});var wS,hV=C(()=>{rh();wS=class e extends nf{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(t){return new e({content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),name:this.name??"",id:this.id??t.id})}}});var Ua,jm,U$=C(()=>{rh();Ua=class extends Lu{static lc_name(){return"HumanMessage"}_getType(){return"human"}},jm=class e extends nf{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(t){return new e({content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),id:this.id??t.id})}}});var SS,ry,mV=C(()=>{rh();SS=class extends Lu{static lc_name(){return"SystemMessage"}_getType(){return"system"}},ry=class e extends nf{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(t){return new e({content:eh(this.content,t.content),additional_kwargs:qa(this.additional_kwargs,t.additional_kwargs),response_metadata:qa(this.response_metadata,t.response_metadata),id:this.id??t.id})}}});function R9t(e){return AD(e)?e:typeof e.id=="string"&&e.type==="function"&&typeof e.function=="object"&&e.function!==null&&"arguments"in e.function&&typeof e.function.arguments=="string"&&"name"in e.function&&typeof e.function.name=="string"?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function D9t(e){return typeof e=="object"&&e!=null&&e.lc===1&&Array.isArray(e.id)&&e.kwargs!=null&&typeof e.kwargs=="object"}function Mse(e){let t,r;if(D9t(e)){let n=e.id.at(-1);n==="HumanMessage"||n==="HumanMessageChunk"?t="user":n==="AIMessage"||n==="AIMessageChunk"?t="assistant":n==="SystemMessage"||n==="SystemMessageChunk"?t="system":n==="FunctionMessage"||n==="FunctionMessageChunk"?t="function":n==="ToolMessage"||n==="ToolMessageChunk"?t="tool":t="unknown",r=e.kwargs}else{let{type:n,...o}=e;t=n,r=o}if(t==="human"||t==="user")return new Ua(r);if(t==="ai"||t==="assistant"){let{tool_calls:n,...o}=r;if(!Array.isArray(n))return new Po(r);let i=n.map(R9t);return new Po({...o,tool_calls:i})}else{if(t==="system")return new SS(r);if(t==="developer")return new SS({...r,additional_kwargs:{...r.additional_kwargs,__openai_role__:"developer"}});if(t==="tool"&&"tool_call_id"in r)return new vS({...r,content:r.content,tool_call_id:r.tool_call_id,name:r.name});throw hO(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Nm(e){if(typeof e=="string")return new Ua(e);if(th(e))return e;if(Array.isArray(e)){let[t,r]=e;return Mse({type:t,content:r})}else if(pLe(e)){let{role:t,...r}=e;return Mse({...r,type:t})}else return Mse(e)}function of(e,t="Human",r="AI"){let n=[];for(let o of e){let i;if(o._getType()==="human")i=t;else if(o._getType()==="ai")i=r;else if(o._getType()==="system")i="System";else if(o._getType()==="function")i="Function";else if(o._getType()==="tool")i="Tool";else if(o._getType()==="generic")i=o.role;else throw new Error(`Got unsupported message type: ${o._getType()}`);let a=o.name?`${o.name}, `:"",s=typeof o.content=="string"?o.content:JSON.stringify(o.content,null,2);n.push(`${i}: ${a}${s}`)}return n.join(`
`)}function Ise(e){let t=e._getType();if(t==="human")return new jm({...e});if(t==="ai"){let r={...e};return"tool_calls"in r&&(r={...r,tool_call_chunks:r.tool_calls?.map(n=>({...n,type:"tool_call_chunk",index:void 0,args:JSON.stringify(n.args)}))}),new Jr({...r})}else{if(t==="system")return new ry({...e});if(t==="function")return new wS({...e});if(xd.isInstance(e))return new Dm({...e});throw new Error("Unknown message type.")}}var gO=C(()=>{$$();fV();BM();rh();pV();hV();U$();mV();DD()});var Ase=C(()=>{Q6()});var Rse=C(()=>{Y6()});var Dse,gLe,yLe=C(()=>{Rse();LM();gLe=()=>{if(Dse===void 0){let e=Jt("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};Dse=new RM(e)}return Dse}});var jD,bLe=C(()=>{Ase();hse();LM();kM();yLe();jD=class e extends Xp{constructor(t={}){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{exampleId:r,projectName:n,client:o}=t;this.projectName=n??Jt("LANGCHAIN_PROJECT")??Jt("LANGCHAIN_SESSION"),this.exampleId=r,this.client=o??gLe();let i=e.getTraceableRunTree();i&&this.updateFromRunTree(i)}async _convertToCreate(t,r=void 0){return{...t,extra:{...t.extra,runtime:await nLe()},child_runs:void 0,session_name:this.projectName,reference_example_id:t.parent_run_id?void 0:r}}async persistRun(t){}async onRunCreate(t){let r=await this._convertToCreate(t,this.exampleId);await this.client.createRun(r)}async onRunUpdate(t){let r={end_time:t.end_time,error:t.error,outputs:t.outputs,events:t.events,inputs:t.inputs,trace_id:t.trace_id,dotted_order:t.dotted_order,parent_run_id:t.parent_run_id,extra:t.extra};await this.client.updateRun(t.id,r)}getRun(t){return this.runMap.get(t)}updateFromRunTree(t){let r=t,n=new Set;for(;r.parent_run&&!(n.has(r.id)||(n.add(r.id),!r.parent_run));)r=r.parent_run;n.clear();let o=[r];for(;o.length>0;){let i=o.shift();!i||n.has(i.id)||(n.add(i.id),this.runMap.set(i.id,i),i.child_runs&&o.push(...i.child_runs))}this.client=t.client??this.client,this.projectName=t.project_name??this.projectName,this.exampleId=t.reference_example_id??this.exampleId}convertToRunTree(t){let r={},n=[];for(let[o,i]of this.runMap){let a=new bS({...i,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});r[o]=a,n.push([o,i.dotted_order])}n.sort((o,i)=>!o[1]||!i[1]?0:o[1].localeCompare(i[1]));for(let[o]of n){let i=this.runMap.get(o),a=r[o];if(!(!i||!a)&&i.parent_run_id){let s=r[i.parent_run_id];s&&(s.child_runs.push(a),a.parent_run=s)}}return r[t]}static getTraceableRunTree(){try{return FNe()}catch{return}}}});var _Le,$M,vLe,yO,z$=C(()=>{_Le=Symbol.for("ls:tracing_async_local_storage"),$M=Symbol.for("lc:context_variables"),vLe=e=>{globalThis[_Le]=e},yO=()=>globalThis[_Le]});function j9t(){let e="default"in gV.default?gV.default.default:gV.default;return new e({autoStart:!0,concurrency:1})}function N9t(){return typeof H$>"u"&&(H$=j9t()),H$}async function za(e,t){if(t===!0){let r=yO();r!==void 0?await r.run(void 0,async()=>e()):await e()}else H$=N9t(),H$.add(async()=>{let r=yO();r!==void 0?await r.run(void 0,async()=>e()):await e()})}var gV,H$,wLe=C(()=>{gV=B(j6(),1);z$()});var SLe=C(()=>{wLe()});var xLe,CLe=C(()=>{LM();xLe=e=>e!==void 0?e:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(r=>Jt(r)==="true")});function jse(e){let t=yO();return t===void 0?void 0:t.getStore()?.[$M]?.[e]}var L9t,OLe,ELe=C(()=>{Ase();z$();L9t=Symbol("lc:configure_hooks"),OLe=()=>jse(L9t)||[]});function qM(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}function V$(e){return"name"in e?e:FM.fromMethods(e)}var Nse,ND,Lse,yV,Fse,kse,ns,bO=C(()=>{O$();k$();cLe();gO();LM();bLe();SLe();CLe();kM();ELe();Nse=class{setHandler(t){return this.setHandlers([t])}},ND=class{constructor(t,r,n,o,i,a,s,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(r=>za(async()=>{try{await r.handleText?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleText: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleCustomEvent(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{try{await a.handleCustomEvent?.(t,r,this.runId,this.tags,this.metadata)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}},Lse=class extends ND{getChild(t){let r=new ns(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreRetriever)try{await r.handleRetrieverEnd?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetriever`),r.raiseError)throw n}},r.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreRetriever)try{await r.handleRetrieverError?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetrieverError: ${n}`),r.raiseError)throw t}},r.awaitHandlers)))}},yV=class extends ND{async handleLLMNewToken(t,r,n,o,i,a){await Promise.all(this.handlers.map(s=>za(async()=>{if(!s.ignoreLLM)try{await s.handleLLMNewToken?.(t,r??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a)}catch(u){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${u}`),s.raiseError)throw u}},s.awaitHandlers)))}async handleLLMError(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{if(!a.ignoreLLM)try{await a.handleLLMError?.(t,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleLLMEnd(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{if(!a.ignoreLLM)try{await a.handleLLMEnd?.(t,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}},Fse=class extends ND{getChild(t){let r=new ns(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleChainError(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{if(!a.ignoreChain)try{await a.handleChainError?.(t,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleChainEnd(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{if(!a.ignoreChain)try{await a.handleChainEnd?.(t,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreAgent)try{await r.handleAgentAction?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentAction: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreAgent)try{await r.handleAgentEnd?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentEnd: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}},kse=class extends ND{getChild(t){let r=new ns(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleToolError(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreAgent)try{await r.handleToolError?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolError: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(r=>za(async()=>{if(!r.ignoreAgent)try{await r.handleToolEnd?.(t,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolEnd: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}},ns=class e extends Nse{constructor(t,r){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=r?.handlers??this.handlers,this.inheritableHandlers=r?.inheritableHandlers??this.inheritableHandlers,this.tags=r?.tags??this.tags,this.inheritableTags=r?.inheritableTags??this.inheritableTags,this.metadata=r?.metadata??this.metadata,this.inheritableMetadata=r?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=t}getParentRunId(){return this._parentRunId}async handleLLMStart(t,r,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(l,c)=>{let d=c===0&&n?n:Xd();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return MD(f)&&f._createRunForLLMStart(t,[l],d,this._parentRunId,i,this.tags,this.metadata,u),za(async()=>{try{await f.handleLLMStart?.(t,[l],d,this._parentRunId,i,this.tags,this.metadata,u)}catch(p){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers)})),new yV(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(t,r,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(l,c)=>{let d=c===0&&n?n:Xd();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return MD(f)&&f._createRunForChatModelStart(t,[l],d,this._parentRunId,i,this.tags,this.metadata,u),za(async()=>{try{if(f.handleChatModelStart)await f.handleChatModelStart?.(t,[l],d,this._parentRunId,i,this.tags,this.metadata,u);else if(f.handleLLMStart){let p=of(l);await f.handleLLMStart?.(t,[p],d,this._parentRunId,i,this.tags,this.metadata,u)}}catch(p){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers)})),new yV(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(t,r,n=Xd(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreChain)return MD(u)&&u._createRunForChainStart(t,r,n,this._parentRunId,this.tags,this.metadata,o,s),za(async()=>{try{await u.handleChainStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,o,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new Fse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(t,r,n=Xd(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreAgent)return MD(u)&&u._createRunForToolStart(t,r,n,this._parentRunId,this.tags,this.metadata,s),za(async()=>{try{await u.handleToolStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleToolStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new kse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(t,r,n=Xd(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreRetriever)return MD(u)&&u._createRunForRetrieverStart(t,r,n,this._parentRunId,this.tags,this.metadata,s),za(async()=>{try{await u.handleRetrieverStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new Lse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(t,r,n,o,i){await Promise.all(this.handlers.map(a=>za(async()=>{if(!a.ignoreCustomEvent)try{await a.handleCustomEvent?.(t,r,n,this.tags,this.metadata)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}addHandler(t,r=!0){this.handlers.push(t),r&&this.inheritableHandlers.push(t)}removeHandler(t){this.handlers=this.handlers.filter(r=>r!==t),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==t)}setHandlers(t,r=!0){this.handlers=[],this.inheritableHandlers=[];for(let n of t)this.addHandler(n,r)}addTags(t,r=!0){this.removeTags(t),this.tags.push(...t),r&&this.inheritableTags.push(...t)}removeTags(t){this.tags=this.tags.filter(r=>!t.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!t.includes(r))}addMetadata(t,r=!0){this.metadata={...this.metadata,...t},r&&(this.inheritableMetadata={...this.inheritableMetadata,...t})}removeMetadata(t){for(let r of Object.keys(t))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(t=[],r=!0){let n=new e(this._parentRunId);for(let o of this.handlers){let i=this.inheritableHandlers.includes(o);n.addHandler(o,i)}for(let o of this.tags){let i=this.inheritableTags.includes(o);n.addTags([o],i)}for(let o of Object.keys(this.metadata)){let i=Object.keys(this.inheritableMetadata).includes(o);n.addMetadata({[o]:this.metadata[o]},i)}for(let o of t)n.handlers.filter(i=>i.name==="console_callback_handler").some(i=>i.name===o.name)||n.addHandler(o,r);return n}static fromHandlers(t){class r extends FM{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Xd()}),Object.assign(this,t)}}let n=new this;return n.addHandler(new r),n}static configure(t,r,n,o,i,a,s){return this._configureSync(t,r,n,o,i,a,s)}static _configureSync(t,r,n,o,i,a,s){let u;(t||r)&&(Array.isArray(t)||!t?(u=new e,u.setHandlers(t?.map(V$)??[],!0)):u=t,u=u.copy(Array.isArray(r)?r.map(V$):r?.handlers,!1));let l=Jt("LANGCHAIN_VERBOSE")==="true"||s?.verbose,c=jD.getTraceableRunTree()?.tracingEnabled||xLe(),d=c||(Jt("LANGCHAIN_TRACING")??!1);if(l||d){if(u||(u=new e),l&&!u.handlers.some(f=>f.name===B$.prototype.name)){let f=new B$;u.addHandler(f,!0)}if(d&&!u.handlers.some(f=>f.name==="langchain_tracer")&&c){let f=new jD;u.addHandler(f,!0),u._parentRunId=jD.getTraceableRunTree()?.id??u._parentRunId}}for(let{contextVar:f,inheritable:p=!0,handlerClass:h,envVar:m}of OLe()){let _=m&&Jt(m)==="true"&&h,g,v=f!==void 0?jse(f):void 0;v&&oLe(v)?g=v:_&&(g=new h({})),g!==void 0&&(u||(u=new e),u.handlers.some(S=>S.name===g.name)||u.addHandler(g,p))}return(n||o)&&u&&(u.addTags(n??[]),u.addTags(o??[],!1)),(i||a)&&u&&(u.addMetadata(i??{}),u.addMetadata(a??{},!1)),u}}});var bV,F9t,PLe,Bse,jc,TLe=C(()=>{Rse();z$();bO();bV=class{getStore(){}run(t,r){return r()}enterWith(t){}},F9t=new bV,PLe=Symbol.for("lc:child_config"),Bse=class{getInstance(){return yO()??F9t}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[PLe]}runWithConfig(t,r,n){let o=ns._configureSync(t?.callbacks,void 0,t?.tags,void 0,t?.metadata),i=this.getInstance(),a=i.getStore(),s=o?.getParentRunId(),u=o?.handlers?.find(c=>c?.name==="langchain_tracer"),l;return u&&s?l=u.convertToRunTree(s):n||(l=new bS({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[PLe]:t}),a!==void 0&&a[$M]!==void 0&&(l[$M]=a[$M]),i.run(l,r)}initializeGlobalInstance(t){yO()===void 0&&vLe(t)}},jc=new Bse});var LD=C(()=>{TLe();z$()});async function af(e){return ns._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function vV(...e){let t={};for(let r of e.filter(n=>!!n))for(let n of Object.keys(r))if(n==="metadata")t[n]={...t[n],...r[n]};else if(n==="tags"){let o=t[n]??[];t[n]=[...new Set(o.concat(r[n]??[]))]}else if(n==="configurable")t[n]={...t[n],...r[n]};else if(n==="timeout")t.timeout===void 0?t.timeout=r.timeout:r.timeout!==void 0&&(t.timeout=Math.min(t.timeout,r.timeout));else if(n==="signal")t.signal===void 0?t.signal=r.signal:r.signal!==void 0&&("any"in AbortSignal?t.signal=AbortSignal.any([t.signal,r.signal]):t.signal=r.signal);else if(n==="callbacks"){let o=t.callbacks,i=r.callbacks;if(Array.isArray(i))if(!o)t.callbacks=i;else if(Array.isArray(o))t.callbacks=o.concat(i);else{let a=o.copy();for(let s of i)a.addHandler(V$(s),!0);t.callbacks=a}else if(i)if(!o)t.callbacks=i;else if(Array.isArray(o)){let a=i.copy();for(let s of o)a.addHandler(V$(s),!0);t.callbacks=a}else t.callbacks=new ns(i._parentRunId,{handlers:o.handlers.concat(i.handlers),inheritableHandlers:o.inheritableHandlers.concat(i.inheritableHandlers),tags:Array.from(new Set(o.tags.concat(i.tags))),inheritableTags:Array.from(new Set(o.inheritableTags.concat(i.inheritableTags))),metadata:{...o.metadata,...i.metadata}})}else{let o=n;t[o]=r[o]??t[o]}return t}function Rr(e){let t=jc.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){let{runId:n,runName:o,...i}=t;r=Object.entries(i).reduce((a,[s,u])=>(u!==void 0&&(a[s]=u),a),r)}if(e&&(r=Object.entries(e).reduce((n,[o,i])=>(i!==void 0&&(n[o]=i),n),r)),r?.configurable)for(let n of Object.keys(r.configurable))k9t.has(typeof r.configurable[n])&&!r.metadata?.[n]&&(r.metadata||(r.metadata={}),r.metadata[n]=r.configurable[n]);if(r.timeout!==void 0){if(r.timeout<=0)throw new Error("Timeout must be a positive number");let n=AbortSignal.timeout(r.timeout);r.signal!==void 0?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,n])):r.signal=n,delete r.timeout}return r}function Ta(e={},{callbacks:t,maxConcurrency:r,recursionLimit:n,runName:o,configurable:i,runId:a}={}){let s=Rr(e);return t!==void 0&&(delete s.runName,s.callbacks=t),n!==void 0&&(s.recursionLimit=n),r!==void 0&&(s.maxConcurrency=r),o!==void 0&&(s.runName=o),i!==void 0&&(s.configurable={...s.configurable,...i}),a!==void 0&&delete s.runId,s}function Xf(e){return e?{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal}:void 0}var _V,k9t,ny=C(()=>{bO();LD();_V=25;k9t=new Set(["string","number","boolean"])});async function oy(e,t){if(t===void 0)return e;let r;return Promise.race([e.catch(n=>{if(!t?.aborted)throw n}),new Promise((n,o)=>{r=()=>{o(new Error("Aborted"))},t.addEventListener("abort",r),t.aborted&&o(new Error("Aborted"))})]).finally(()=>t.removeEventListener("abort",r))}var $se=C(()=>{});function qse(e,t=2){let r=Array.from({length:t},()=>[]);return r.map(async function*(o){for(;;)if(o.length===0){let i=await e.next();for(let a of r)a.push(i)}else{if(o[0].done)return;yield o.shift().value}})}function al(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(typeof e=="string"&&typeof t=="string")return e+t;if(typeof e=="number"&&typeof t=="number")return e+t;if("concat"in e&&typeof e.concat=="function")return e.concat(t);if(typeof e=="object"&&typeof t=="object"){let r={...e};for(let[n,o]of Object.entries(t))n in r&&!Array.isArray(r[n])?r[n]=al(r[n],o):r[n]=o;return r}else throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}async function MLe(e,t,r,n,...o){let i=new xS({generator:t,startSetup:r,signal:n}),a=await i.setup;return{output:e(i,a,...o),setup:a}}var Nc,xS,iy=C(()=>{ny();LD();$se();Nc=class e extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let t=await this.reader.read();return t.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:t.value}}catch(t){throw this.reader.releaseLock(),t}}async return(){if(this.ensureReader(),this.locked){let t=this.reader.cancel();this.reader.releaseLock(),await t}return{done:!0,value:void 0}}async throw(t){if(this.ensureReader(),this.locked){let r=this.reader.cancel();this.reader.releaseLock(),await r}throw t}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(t){let r=t.getReader();return new e({start(n){return o();function o(){return r.read().then(({done:i,value:a})=>{if(i){n.close();return}return n.enqueue(a),o()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(t){return new e({async pull(r){let{value:n,done:o}=await t.next();o&&r.close(),r.enqueue(n)},async cancel(r){await t.return(r)}})}};xS=class{constructor(t){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=t.generator,this.config=t.config,this.signal=t.signal??this.config?.signal,this.setup=new Promise((r,n)=>{jc.runWithConfig(Xf(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(r,n):this.firstResult.then(o=>r(void 0),n)},!0)})}async next(...t){return this.signal?.throwIfAborted(),this.firstResultUsed?jc.runWithConfig(Xf(this.config),this.signal?async()=>oy(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}});async function ILe(e,t){if(t==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=e;if(["retriever","llm","prompt"].includes(e.run_type))return r;if(!(Object.keys(r).length===1&&r?.input===""))return r.input}async function ALe(e,t){let{outputs:r}=e;return t==="original"||["retriever","llm","prompt"].includes(e.run_type)?r:r!==void 0&&Object.keys(r).length===1&&r?.output!==void 0?r.output:r}function B9t(e){return e!==void 0&&e.message!==void 0}var Lm,W$,RLe,J$,DLe=C(()=>{gse();kM();iy();BM();Lm=class{constructor(t){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=t.ops??[]}concat(t){let r=this.ops.concat(t.ops),n=fO({},r);return new W$({ops:r,state:n[n.length-1].newDocument})}},W$=class e extends Lm{constructor(t){super(t),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=t.state}concat(t){let r=this.ops.concat(t.ops),n=fO(this.state,t.ops);return new e({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(t){let r=fO({},t.ops);return new e({ops:t.ops,state:r[r.length-1].newDocument})}},RLe=e=>e.name==="log_stream_tracer";J$=class extends Xp{constructor(t){super({_awaitHandler:!0,...t}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=t?.autoClose??!0,this.includeNames=t?.includeNames,this.includeTypes=t?.includeTypes,this.includeTags=t?.includeTags,this.excludeNames=t?.excludeNames,this.excludeTypes=t?.excludeTypes,this.excludeTags=t?.excludeTags,this._schemaFormat=t?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Nc.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(t){}_includeRun(t){if(t.id===this.rootId)return!1;let r=t.tags??[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(t.run_type)),this.includeTags!==void 0&&(n=n||r.find(o=>this.includeTags?.includes(o))!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(t.run_type)),this.excludeTags!==void 0&&(n=n&&r.every(o=>!this.excludeTags?.includes(o))),n}async*tapOutputIterable(t,r){for await(let n of r){if(t!==this.rootId){let o=this.keyMapByRunId[t];o&&await this.writer.write(new Lm({ops:[{op:"add",path:`/logs/${o}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(t){if(this.rootId===void 0&&(this.rootId=t.id,await this.writer.write(new Lm({ops:[{op:"replace",path:"",value:{id:t.id,name:t.name,type:t.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(t))return;this.counterMapByRunName[t.name]===void 0&&(this.counterMapByRunName[t.name]=0),this.counterMapByRunName[t.name]+=1;let r=this.counterMapByRunName[t.name];this.keyMapByRunId[t.id]=r===1?t.name:`${t.name}:${r}`;let n={id:t.id,name:t.name,type:t.run_type,tags:t.tags??[],metadata:t.extra?.metadata??{},start_time:new Date(t.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(n.inputs=await ILe(t,this._schemaFormat)),await this.writer.write(new Lm({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[t.id]}`,value:n}]}))}async onRunUpdate(t){try{let r=this.keyMapByRunId[t.id];if(r===void 0)return;let n=[];this._schemaFormat==="streaming_events"&&n.push({op:"replace",path:`/logs/${r}/inputs`,value:await ILe(t,this._schemaFormat)}),n.push({op:"add",path:`/logs/${r}/final_output`,value:await ALe(t,this._schemaFormat)}),t.end_time!==void 0&&n.push({op:"add",path:`/logs/${r}/end_time`,value:new Date(t.end_time).toISOString()});let o=new Lm({ops:n});await this.writer.write(o)}finally{if(t.id===this.rootId){let r=new Lm({ops:[{op:"replace",path:"/final_output",value:await ALe(t,this._schemaFormat)}]});await this.writer.write(r),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(t,r,n){let o=this.keyMapByRunId[t.id];if(o===void 0)return;let i=t.inputs.messages!==void 0,a;i?B9t(n?.chunk)?a=n?.chunk:a=new Jr({id:`run-${t.id}`,content:r}):a=r;let s=new Lm({ops:[{op:"add",path:`/logs/${o}/streamed_output_str/-`,value:r},{op:"add",path:`/logs/${o}/streamed_output/-`,value:a}]});await this.writer.write(s)}}});var G$,nh,oi,FD=C(()=>{G$="__run",nh=class e{constructor(t){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=t.text,this.generationInfo=t.generationInfo}concat(t){return new e({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}},oi=class e extends nh{constructor(t){super(t),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=t.message}concat(t){return new e({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo},message:this.message.concat(t.message)})}}});function wV({name:e,serialized:t}){return e!==void 0?e:t?.name!==void 0?t.name:t?.id!==void 0&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}var jLe,SV,NLe=C(()=>{kM();iy();BM();FD();jLe=e=>e.name==="event_stream_tracer",SV=class extends Xp{constructor(t){super({_awaitHandler:!0,...t}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=t?.autoClose??!0,this.includeNames=t?.includeNames,this.includeTypes=t?.includeTypes,this.includeTags=t?.includeTags,this.excludeNames=t?.excludeNames,this.excludeTypes=t?.excludeTypes,this.excludeTags=t?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Nc.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(t){}_includeRun(t){let r=t.tags??[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(t.runType)),this.includeTags!==void 0&&(n=n||r.find(o=>this.includeTags?.includes(o))!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(t.runType)),this.excludeTags!==void 0&&(n=n&&r.every(o=>!this.excludeTags?.includes(o))),n}async*tapOutputIterable(t,r){let n=await r.next();if(n.done)return;let o=this.runInfoMap.get(t);if(o===void 0){yield n.value;return}function i(s,u){return s==="llm"&&typeof u=="string"?new nh({text:u}):u}let a=this.tappedPromises.get(t);if(a===void 0){let s;a=new Promise(u=>{s=u}),this.tappedPromises.set(t,a);try{let u={event:`on_${o.runType}_stream`,run_id:t,name:o.name,tags:o.tags,metadata:o.metadata,data:{}};await this.send({...u,data:{chunk:i(o.runType,n.value)}},o),yield n.value;for await(let l of r)o.runType!=="tool"&&o.runType!=="retriever"&&await this.send({...u,data:{chunk:i(o.runType,l)}},o),yield l}finally{s()}}else{yield n.value;for await(let s of r)yield s}}async send(t,r){this._includeRun(r)&&await this.writer.write(t)}async sendEndEvent(t,r){let n=this.tappedPromises.get(t.run_id);n!==void 0?n.then(()=>{this.send(t,r)}):await this.send(t,r)}async onLLMStart(t){let r=wV(t),n=t.inputs.messages!==void 0?"chat_model":"llm",o={tags:t.tags??[],metadata:t.extra?.metadata??{},name:r,runType:n,inputs:t.inputs};this.runInfoMap.set(t.id,o);let i=`on_${n}_start`;await this.send({event:i,data:{input:t.inputs},name:r,tags:t.tags??[],run_id:t.id,metadata:t.extra?.metadata??{}},o)}async onLLMNewToken(t,r,n){let o=this.runInfoMap.get(t.id),i,a;if(o===void 0)throw new Error(`onLLMNewToken: Run ID ${t.id} not found in run map.`);if(this.runInfoMap.size!==1){if(o.runType==="chat_model")a="on_chat_model_stream",n?.chunk===void 0?i=new Jr({content:r,id:`run-${t.id}`}):i=n.chunk.message;else if(o.runType==="llm")a="on_llm_stream",n?.chunk===void 0?i=new nh({text:r}):i=n.chunk;else throw new Error(`Unexpected run type ${o.runType}`);await this.send({event:a,data:{chunk:i},run_id:t.id,name:o.name,tags:o.tags,metadata:o.metadata},o)}}async onLLMEnd(t){let r=this.runInfoMap.get(t.id);this.runInfoMap.delete(t.id);let n;if(r===void 0)throw new Error(`onLLMEnd: Run ID ${t.id} not found in run map.`);let o=t.outputs?.generations,i;if(r.runType==="chat_model"){for(let a of o??[]){if(i!==void 0)break;i=a[0]?.message}n="on_chat_model_end"}else if(r.runType==="llm")i={generations:o?.map(a=>a.map(s=>({text:s.text,generationInfo:s.generationInfo}))),llmOutput:t.outputs?.llmOutput??{}},n="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${r.runType}`);await this.sendEndEvent({event:n,data:{output:i,input:r.inputs},run_id:t.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onChainStart(t){let r=wV(t),n=t.run_type??"chain",o={tags:t.tags??[],metadata:t.extra?.metadata??{},name:r,runType:t.run_type},i={};t.inputs.input===""&&Object.keys(t.inputs).length===1?(i={},o.inputs={}):t.inputs.input!==void 0?(i.input=t.inputs.input,o.inputs=t.inputs.input):(i.input=t.inputs,o.inputs=t.inputs),this.runInfoMap.set(t.id,o),await this.send({event:`on_${n}_start`,data:i,name:r,tags:t.tags??[],run_id:t.id,metadata:t.extra?.metadata??{}},o)}async onChainEnd(t){let r=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),r===void 0)throw new Error(`onChainEnd: Run ID ${t.id} not found in run map.`);let n=`on_${t.run_type}_end`,o=t.inputs??r.inputs??{},a={output:t.outputs?.output??t.outputs,input:o};o.input&&Object.keys(o).length===1&&(a.input=o.input,r.inputs=o.input),await this.sendEndEvent({event:n,data:a,run_id:t.id,name:r.name,tags:r.tags,metadata:r.metadata??{}},r)}async onToolStart(t){let r=wV(t),n={tags:t.tags??[],metadata:t.extra?.metadata??{},name:r,runType:"tool",inputs:t.inputs??{}};this.runInfoMap.set(t.id,n),await this.send({event:"on_tool_start",data:{input:t.inputs??{}},name:r,run_id:t.id,tags:t.tags??[],metadata:t.extra?.metadata??{}},n)}async onToolEnd(t){let r=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),r===void 0)throw new Error(`onToolEnd: Run ID ${t.id} not found in run map.`);if(r.inputs===void 0)throw new Error(`onToolEnd: Run ID ${t.id} is a tool call, and is expected to have traced inputs.`);let n=t.outputs?.output===void 0?t.outputs:t.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:r.inputs},run_id:t.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onRetrieverStart(t){let r=wV(t),o={tags:t.tags??[],metadata:t.extra?.metadata??{},name:r,runType:"retriever",inputs:{query:t.inputs.query}};this.runInfoMap.set(t.id,o),await this.send({event:"on_retriever_start",data:{input:{query:t.inputs.query}},name:r,tags:t.tags??[],run_id:t.id,metadata:t.extra?.metadata??{}},o)}async onRetrieverEnd(t){let r=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),r===void 0)throw new Error(`onRetrieverEnd: Run ID ${t.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:t.outputs?.documents??t.outputs,input:r.inputs},run_id:t.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async handleCustomEvent(t,r,n){let o=this.runInfoMap.get(n);if(o===void 0)throw new Error(`handleCustomEvent: Run ID ${n} not found in run map.`);await this.send({event:"on_custom_event",run_id:n,name:t,tags:o.tags,metadata:o.metadata,data:r},o)}async finish(){let t=[...this.tappedPromises.values()];Promise.all(t).finally(()=>{this.writer.close()})}}});var LLe,xV,$9t,q9t,Qf,kD=C(()=>{LLe=B(C6(),1),xV=B(j6(),1),$9t=[400,401,402,403,404,405,406,407,409],q9t=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status??e?.status;if(t&&$9t.includes(+t))throw e;if(e?.error?.code==="insufficient_quota"){let r=new Error(e?.message);throw r.name="InsufficientQuotaError",r}},Qf=class{constructor(t){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??q9t;let r="default"in xV.default?xV.default.default:xV.default;this.queue=new r({concurrency:this.maxConcurrency})}call(t,...r){return this.queue.add(()=>(0,LLe.default)(()=>t(...r).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,r,...n){return t.signal?Promise.race([this.call(r,...n),new Promise((o,i)=>{t.signal?.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...t){return this.call(()=>fetch(...t).then(r=>r.ok?r:Promise.reject(r)))}}});var K$,FLe=C(()=>{kM();K$=class extends Xp{constructor({config:t,onStart:r,onEnd:n,onError:o}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=t,this.argOnStart=r,this.argOnEnd=n,this.argOnError=o}persistRun(t){return Promise.resolve()}async onRunCreate(t){this.rootId||(this.rootId=t.id,this.argOnStart&&await this.argOnStart(t,this.config))}async onRunUpdate(t){t.id===this.rootId&&(t.error?this.argOnError&&await this.argOnError(t,this.config):this.argOnEnd&&await this.argOnEnd(t,this.config))}}});function Y$(e){return e?e.lc_runnable:!1}var CV,Use=C(()=>{CV=class{constructor(t){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,r){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,o=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(r)),this.includeTags!==void 0&&(n=n||o.some(i=>this.includeTags?.includes(i))),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(r)),this.excludeTags!==void 0&&(n=n&&o.every(i=>!this.excludeTags?.includes(i))),n}}});var BLe,kLe,$Le,OV=C(()=>{BLe=Symbol("Let zodToJsonSchema decide on which parser to use"),kLe={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},$Le=e=>typeof e=="string"?{...kLe,name:e}:{...kLe,...e}});var qLe,zse=C(()=>{OV();qLe=e=>{let t=$Le(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}}});function Hse(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function mn(e,t,r,n,o){e[t]=r,Hse(e,t,n,o)}var _O=C(()=>{});function ULe(){return{}}var Vse=C(()=>{});function zLe(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==re.ZodAny&&(r.items=Lt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&mn(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&mn(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(mn(r,"minItems",e.exactLength.value,e.exactLength.message,t),mn(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}var Wse=C(()=>{bd();_O();os()});function HLe(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?mn(r,"minimum",n.value,n.message,t):mn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),mn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?mn(r,"maximum",n.value,n.message,t):mn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),mn(r,"maximum",n.value,n.message,t));break;case"multipleOf":mn(r,"multipleOf",n.value,n.message,t);break}return r}var Jse=C(()=>{_O()});function VLe(){return{type:"boolean"}}var Gse=C(()=>{});function EV(e,t){return Lt(e.type._def,t)}var PV=C(()=>{os()});var WLe,Kse=C(()=>{os();WLe=(e,t)=>Lt(e.innerType._def,t)});function Yse(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>Yse(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return U9t(e,t)}}var U9t,Zse=C(()=>{_O();U9t=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":mn(r,"minimum",n.value,n.message,t);break;case"max":mn(r,"maximum",n.value,n.message,t);break}return r}});function JLe(e,t){return{...Lt(e.innerType._def,t),default:e.defaultValue()}}var Xse=C(()=>{os()});function GLe(e,t){return t.effectStrategy==="input"?Lt(e.schema._def,t):{}}var Qse=C(()=>{os()});function KLe(e){return{type:"string",enum:Array.from(e.values)}}var eue=C(()=>{});function YLe(e,t){let r=[Lt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Lt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(z9t(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}var z9t,tue=C(()=>{os();z9t=e=>"type"in e&&e.type==="string"?!1:"allOf"in e});function ZLe(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var rue=C(()=>{});function TV(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":mn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":mn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":km(r,"email",n.message,t);break;case"format:idn-email":km(r,"idn-email",n.message,t);break;case"pattern:zod":Cd(r,Fm.email,n.message,t);break}break;case"url":km(r,"uri",n.message,t);break;case"uuid":km(r,"uuid",n.message,t);break;case"regex":Cd(r,n.regex,n.message,t);break;case"cuid":Cd(r,Fm.cuid,n.message,t);break;case"cuid2":Cd(r,Fm.cuid2,n.message,t);break;case"startsWith":Cd(r,RegExp(`^${oue(n.value,t)}`),n.message,t);break;case"endsWith":Cd(r,RegExp(`${oue(n.value,t)}$`),n.message,t);break;case"datetime":km(r,"date-time",n.message,t);break;case"date":km(r,"date",n.message,t);break;case"time":km(r,"time",n.message,t);break;case"duration":km(r,"duration",n.message,t);break;case"length":mn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),mn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Cd(r,RegExp(oue(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&km(r,"ipv4",n.message,t),n.version!=="v4"&&km(r,"ipv6",n.message,t);break}case"base64url":Cd(r,Fm.base64url,n.message,t);break;case"jwt":Cd(r,Fm.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Cd(r,Fm.ipv4Cidr,n.message,t),n.version!=="v4"&&Cd(r,Fm.ipv6Cidr,n.message,t);break}case"emoji":Cd(r,Fm.emoji(),n.message,t);break;case"ulid":{Cd(r,Fm.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{km(r,"binary",n.message,t);break}case"contentEncoding:base64":{mn(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Cd(r,Fm.base64,n.message,t);break}}break}case"nanoid":Cd(r,Fm.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function oue(e,t){return t.patternStrategy==="escape"?V9t(e):e}function V9t(e){let t="";for(let r=0;r<e.length;r++)H9t.has(e[r])||(t+="\\"),t+=e[r];return t}function km(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):mn(e,"format",t,r,n)}function Cd(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:XLe(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):mn(e,"pattern",XLe(t,n),r,n)}function XLe(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",i=!1,a=!1,s=!1;for(let u=0;u<n.length;u++){if(i){o+=n[u],i=!1;continue}if(r.i){if(a){if(n[u].match(/[a-z]/)){s?(o+=n[u],o+=`${n[u-2]}-${n[u]}`.toUpperCase(),s=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(o+=n[u],s=!0):o+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){o+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){o+=a?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}o+=n[u],n[u]==="\\"?i=!0:a&&n[u]==="]"?a=!1:!a&&n[u]==="["&&(a=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}var nue,Fm,H9t,MV=C(()=>{_O();Fm={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(nue===void 0&&(nue=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nue),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};H9t=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789")});function IV(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===re.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:Lt(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:Lt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===re.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=TV(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===re.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===re.ZodBranded&&e.keyType._def.type._def.typeName===re.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=EV(e.keyType._def,t);return{...r,propertyNames:o}}}return r}var AV=C(()=>{bd();os();MV();PV()});function QLe(e,t){if(t.mapStrategy==="record")return IV(e,t);let r=Lt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=Lt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}var iue=C(()=>{os();AV()});function eFe(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}var aue=C(()=>{});function tFe(){return{not:{}}}var sue=C(()=>{});function rFe(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var uue=C(()=>{});function oFe(e,t){if(t.target==="openApi3")return nFe(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in Z$&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=Z$[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return nFe(e,t)}var Z$,nFe,RV=C(()=>{os();Z$={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};nFe=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Lt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0}});function iFe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Z$[e.innerType._def.typeName],nullable:!0}:{type:[Z$[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=Lt(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Lt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}var lue=C(()=>{os();RV()});function aFe(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",Hse(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?mn(r,"minimum",n.value,n.message,t):mn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),mn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?mn(r,"maximum",n.value,n.message,t):mn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),mn(r,"maximum",n.value,n.message,t));break;case"multipleOf":mn(r,"multipleOf",n.value,n.message,t);break}return r}var cue=C(()=>{_O()});function W9t(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Lt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Lt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function sFe(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((o,[i,a])=>{if(a===void 0||a._def===void 0)return o;let s=a.isOptional();s&&r&&(a instanceof Yd&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),s=!1);let u=Lt(a._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return u===void 0?o:{properties:{...o.properties,[i]:u},required:s?o.required:[...o.required,i]}},{properties:{},required:[]}),additionalProperties:W9t(e,t)};return n.required.length||delete n.required,n}var due=C(()=>{bd();os()});var uFe,fue=C(()=>{os();uFe=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Lt(e.innerType._def,t);let r=Lt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}}});var lFe,pue=C(()=>{os();lFe=(e,t)=>{if(t.pipeStrategy==="input")return Lt(e.in._def,t);if(t.pipeStrategy==="output")return Lt(e.out._def,t);let r=Lt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Lt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}}});function cFe(e,t){return Lt(e.type._def,t)}var hue=C(()=>{os()});function dFe(e,t){let n={type:"array",uniqueItems:!0,items:Lt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&mn(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&mn(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}var mue=C(()=>{_O();os()});function fFe(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Lt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Lt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Lt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}var gue=C(()=>{os()});function pFe(){return{not:{}}}var yue=C(()=>{});function hFe(){return{}}var bue=C(()=>{});var mFe,_ue=C(()=>{os();mFe=(e,t)=>Lt(e.innerType._def,t)});function Lt(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==BLe)return a}if(n&&!r){let a=J9t(n,t);if(a!==void 0)return a}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=K9t(e,e.typeName,t);return i&&Y9t(e,t,i),o.jsonSchema=i,i}var J9t,G9t,K9t,Y9t,os=C(()=>{bd();Vse();Wse();Jse();Gse();PV();Kse();Zse();Xse();Qse();eue();tue();rue();iue();aue();sue();uue();lue();cue();due();fue();pue();hue();AV();mue();MV();gue();yue();RV();bue();_ue();OV();J9t=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:G9t(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},G9t=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},K9t=(e,t,r)=>{switch(t){case re.ZodString:return TV(e,r);case re.ZodNumber:return aFe(e,r);case re.ZodObject:return sFe(e,r);case re.ZodBigInt:return HLe(e,r);case re.ZodBoolean:return VLe();case re.ZodDate:return Yse(e,r);case re.ZodUndefined:return pFe();case re.ZodNull:return rFe(r);case re.ZodArray:return zLe(e,r);case re.ZodUnion:case re.ZodDiscriminatedUnion:return oFe(e,r);case re.ZodIntersection:return YLe(e,r);case re.ZodTuple:return fFe(e,r);case re.ZodRecord:return IV(e,r);case re.ZodLiteral:return ZLe(e,r);case re.ZodEnum:return KLe(e);case re.ZodNativeEnum:return eFe(e);case re.ZodNullable:return iFe(e,r);case re.ZodOptional:return uFe(e,r);case re.ZodMap:return QLe(e,r);case re.ZodSet:return dFe(e,r);case re.ZodLazy:return Lt(e.getter()._def,r);case re.ZodPromise:return cFe(e,r);case re.ZodNaN:case re.ZodNever:return tFe();case re.ZodEffects:return GLe(e,r);case re.ZodAny:return ULe();case re.ZodUnknown:return hFe();case re.ZodDefault:return JLe(e,r);case re.ZodBranded:return EV(e,r);case re.ZodReadonly:return mFe(e,r);case re.ZodCatch:return WLe(e,r);case re.ZodPipeline:return lFe(e,r);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(n=>{})(t)}},Y9t=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)});var Li,vue=C(()=>{os();zse();Li=(e,t)=>{let r=qLe(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[l,c])=>({...u,[l]:Lt(c._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??{}}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=Lt(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??{},a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(i.title=a);let s=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s}});var oh=C(()=>{OV();zse();_O();os();Vse();Wse();Jse();Gse();PV();Kse();Zse();Xse();Qse();eue();tue();rue();iue();aue();sue();uue();lue();cue();due();fue();pue();hue();_ue();AV();mue();MV();gue();yue();RV();bue();vue();vue()});function wue(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}function X9t(e){let t="";for(let[r,n]of Object.entries(e))t+=`	classDef ${r} ${n};
`;return t}function gFe(e,t,r){let{firstNode:n,lastNode:o,nodeColors:i,withStyles:a=!0,curveStyle:s="linear",wrapLabelNWords:u=9}=r??{},l=a?`%%{init: {'flowchart': {'curve': '${s}'}}}%%
graph TD;
`:`graph TD;
`;if(a){let p="default",h={[p]:"{0}({1})"};n!==void 0&&(h[n]="{0}([{1}]):::first"),o!==void 0&&(h[o]="{0}([{1}]):::last");for(let[m,_]of Object.entries(e)){let g=_.name.split(":").pop()??"",S=Z9t.some(O=>g.startsWith(O)&&g.endsWith(O))?`<p>${g}</p>`:g;Object.keys(_.metadata??{}).length&&(S+=`<hr/><small><em>${Object.entries(_.metadata??{}).map(([O,T])=>`${O} = ${T}`).join(`
`)}</em></small>`);let x=(h[m]??h[p]).replace("{0}",wue(m)).replace("{1}",S);l+=`	${x}
`}}let c={};for(let p of t){let h=p.source.split(":"),m=p.target.split(":"),_=h.filter((g,v)=>g===m[v]).join(":");c[_]||(c[_]=[]),c[_].push(p)}let d=new Set;function f(p,h){let m=p.length===1&&p[0].source===p[0].target;if(h&&!m){let _=h.split(":").pop();if(d.has(_))throw new Error(`Found duplicate subgraph '${_}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);d.add(_),l+=`	subgraph ${_}
`}for(let _ of p){let{source:g,target:v,data:S,conditional:x}=_,O="";if(S!==void 0){let T=S,E=T.split(" ");E.length>u&&(T=Array.from({length:Math.ceil(E.length/u)},(M,A)=>E.slice(A*u,(A+1)*u).join(" ")).join("&nbsp;<br>&nbsp;")),O=x?` -. &nbsp;${T}&nbsp; .-> `:` -- &nbsp;${T}&nbsp; --> `}else O=x?" -.-> ":" --> ";l+=`	${wue(g)}${O}${wue(v)};
`}for(let _ in c)_.startsWith(`${h}:`)&&_!==h&&f(c[_],_);h&&!m&&(l+=`	end
`)}f(c[""]??[],"");for(let p in c)!p.includes(":")&&p!==""&&f(c[p],p);return a&&(l+=X9t(i??{})),l}async function yFe(e,t){let{backgroundColor:r="white"}=t??{},n=btoa(e);r!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let o=`https://mermaid.ink/img/${n}?bgColor=${r}`,i=await fetch(o);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join(`
`));return await i.blob()}var Z9t,bFe=C(()=>{Z9t=["*","_","`"]});function Q9t(e,t){if(e!==void 0&&!CD(e))return e;if(Y$(t))try{let r=t.getName();return r=r.startsWith("Runnable")?r.slice(8):r,r}catch{return t.getName()}else return t.name??"UnknownSchema"}function eWt(e){return Y$(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...Li(e.data.schema),title:e.data.name}}}function _Fe(e,t=[]){let r=new Set(e.edges.filter(o=>!t.includes(o.source)).map(o=>o.target)),n=[];for(let o of Object.values(e.nodes))!t.includes(o.id)&&!r.has(o.id)&&n.push(o);return n.length===1?n[0]:void 0}function vFe(e,t=[]){let r=new Set(e.edges.filter(o=>!t.includes(o.target)).map(o=>o.source)),n=[];for(let o of Object.values(e.nodes))!t.includes(o.id)&&!r.has(o.id)&&n.push(o);return n.length===1?n[0]:void 0}var X$,wFe=C(()=>{oh();O$();Use();bFe();X$=class e{constructor(t){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=t?.nodes??this.nodes,this.edges=t?.edges??this.edges}toJSON(){let t={};return Object.values(this.nodes).forEach((r,n)=>{t[r.id]=CD(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:t[r.id],...eWt(r)})),edges:this.edges.map(r=>{let n={source:t[r.source],target:t[r.target]};return typeof r.data<"u"&&(n.data=r.data),typeof r.conditional<"u"&&(n.conditional=r.conditional),n})}}addNode(t,r,n){if(r!==void 0&&this.nodes[r]!==void 0)throw new Error(`Node with id ${r} already exists`);let o=r??Xd(),i={id:o,data:t,name:Q9t(r,t),metadata:n};return this.nodes[o]=i,i}removeNode(t){delete this.nodes[t.id],this.edges=this.edges.filter(r=>r.source!==t.id&&r.target!==t.id)}addEdge(t,r,n,o){if(this.nodes[t.id]===void 0)throw new Error(`Source node ${t.id} not in graph`);if(this.nodes[r.id]===void 0)throw new Error(`Target node ${r.id} not in graph`);let i={source:t.id,target:r.id,data:n,conditional:o};return this.edges.push(i),i}firstNode(){return _Fe(this)}lastNode(){return vFe(this)}extend(t,r=""){let n=r;Object.values(t.nodes).map(l=>l.id).every(CD)&&(n="");let i=l=>n?`${n}:${l}`:l;Object.entries(t.nodes).forEach(([l,c])=>{this.nodes[i(l)]={...c,id:i(l)}});let a=t.edges.map(l=>({...l,source:i(l.source),target:i(l.target)}));this.edges=[...this.edges,...a];let s=t.firstNode(),u=t.lastNode();return[s?{id:i(s.id),data:s.data}:void 0,u?{id:i(u.id),data:u.data}:void 0]}trimFirstNode(){let t=this.firstNode();t&&_Fe(this,[t.id])&&this.removeNode(t)}trimLastNode(){let t=this.lastNode();t&&vFe(this,[t.id])&&this.removeNode(t)}reid(){let t=Object.fromEntries(Object.values(this.nodes).map(o=>[o.id,o.name])),r=new Map;Object.values(t).forEach(o=>{r.set(o,(r.get(o)||0)+1)});let n=o=>{let i=t[o];return CD(o)&&r.get(i)===1?i:o};return new e({nodes:Object.fromEntries(Object.entries(this.nodes).map(([o,i])=>[n(o),{...i,id:n(o)}])),edges:this.edges.map(o=>({...o,source:n(o.source),target:n(o.target)}))})}drawMermaid(t){let{withStyles:r,curveStyle:n,nodeColors:o={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:i}=t??{},a=this.reid(),s=a.firstNode(),u=a.lastNode();return gFe(a.nodes,a.edges,{firstNode:s?.id,lastNode:u?.id,withStyles:r,curveStyle:n,nodeColors:o,wrapLabelNWords:i})}async drawMermaidPng(t){let r=this.drawMermaid(t);return yFe(r,{backgroundColor:t?.backgroundColor})}}});function SFe(e){let t=new TextEncoder,r=new ReadableStream({async start(n){for await(let o of e)n.enqueue(t.encode(`event: data
data: ${JSON.stringify(o)}

`));n.enqueue(t.encode(`event: end

`)),n.close()}});return Nc.fromReadableStream(r)}var xFe=C(()=>{iy()});function Sue(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}function DV(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}function*xue(e,t){for(;;){let{value:r,done:n}=jc.runWithConfig(Xf(e),t.next.bind(t),!0);if(n)break;yield r}}async function*jV(e,t){let r=t[Symbol.asyncIterator]();for(;;){let{value:n,done:o}=await jc.runWithConfig(Xf(e),r.next.bind(t),!0);if(o)break;yield n}}var CFe,OFe=C(()=>{LD();ny();CFe=e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function"});function ku(e,t){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[t]:e}}function tWt(e){if(nV(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}function CS(e){if(typeof e=="function")return new ES({func:e});if(nn.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){let t={};for(let[r,n]of Object.entries(e))t[r]=CS(n);return new vO({steps:t})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}function rWt(e,t){let r=t.name??e.getName(),n=t.description??t.schema?.description;return t.schema.constructor===Er.ZodString?new Q$({name:r,description:n,schema:Er.object({input:Er.string()}).transform(o=>o.input),bound:e}):new Q$({name:r,description:n,schema:t.schema,bound:e})}var Cue,nn,OS,NV,LV,Ha,vO,Oue,ES,FV,BD,kV,Q$,sf=C(()=>{bd();Cue=B(C6(),1);O$();hse();DLe();NLe();NM();iy();$se();ny();kD();FLe();Use();LD();wFe();xFe();OFe();fV();nn=class extends tf{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(t){let r=this.name??this.constructor.lc_name()??this.constructor.name;return t?`${r}${t}`:r}bind(t){return new OS({bound:this,kwargs:t,config:{}})}map(){return new NV({bound:this})}withRetry(t){return new LV({bound:this,kwargs:{},config:{},maxAttemptNumber:t?.stopAfterAttempt,...t})}withConfig(t){return new OS({bound:this,config:t,kwargs:{}})}withFallbacks(t){let r=Array.isArray(t)?t:t.fallbacks;return new FV({runnable:this,fallbacks:r})}_getOptionsList(t,r=0){if(Array.isArray(t)&&t.length!==r)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${t.length} options for ${r} inputs`);if(Array.isArray(t))return t.map(Rr);if(r>1&&!Array.isArray(t)&&t.runId){console.warn("Provided runId will be used only for the first element of the batch.");let n=Object.fromEntries(Object.entries(t).filter(([o])=>o!=="runId"));return Array.from({length:r},(o,i)=>Rr(i===0?t:n))}return Array.from({length:r},()=>Rr(t))}async batch(t,r,n){let o=this._getOptionsList(r??{},t.length),i=o[0]?.maxConcurrency??n?.maxConcurrency,a=new Qf({maxConcurrency:i,onFailedAttempt:u=>{throw u}}),s=t.map((u,l)=>a.call(async()=>{try{return await this.invoke(u,o[l])}catch(c){if(n?.returnExceptions)return c;throw c}}));return Promise.all(s)}async*_streamIterator(t,r){yield this.invoke(t,r)}async stream(t,r){let n=Rr(r),o=new xS({generator:this._streamIterator(t,n),config:n});return await o.setup,Nc.fromAsyncGenerator(o)}_separateRunnableConfigFromCallOptions(t){let r;t===void 0?r=Rr(t):r=Rr({callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,runName:t.runName,configurable:t.configurable,recursionLimit:t.recursionLimit,maxConcurrency:t.maxConcurrency,runId:t.runId,timeout:t.timeout,signal:t.signal});let n={...t};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,delete n.timeout,delete n.signal,[r,n]}async _callWithConfig(t,r,n){let o=Rr(n),a=await(await af(o))?.handleChainStart(this.toJSON(),ku(r,"input"),o.runId,o?.runType,void 0,void 0,o?.runName??this.getName());delete o.runId;let s;try{let u=t.call(this,r,o,a);s=await oy(u,n?.signal)}catch(u){throw await a?.handleChainError(u),u}return await a?.handleChainEnd(ku(s,"output")),s}async _batchWithConfig(t,r,n,o){let i=this._getOptionsList(n??{},r.length),a=await Promise.all(i.map(af)),s=await Promise.all(a.map(async(l,c)=>{let d=await l?.handleChainStart(this.toJSON(),ku(r[c],"input"),i[c].runId,i[c].runType,void 0,void 0,i[c].runName??this.getName());return delete i[c].runId,d})),u;try{let l=t.call(this,r,i,s,o);u=await oy(l,i?.[0]?.signal)}catch(l){throw await Promise.all(s.map(c=>c?.handleChainError(l))),l}return await Promise.all(s.map(l=>l?.handleChainEnd(ku(u,"output")))),u}async*_transformStreamWithConfig(t,r,n){let o,i=!0,a,s=!0,u=Rr(n),l=await af(u);async function*c(){for await(let f of t){if(i)if(o===void 0)o=f;else try{o=al(o,f)}catch{o=void 0,i=!1}yield f}}let d;try{let f=await MLe(r.bind(this),c(),async()=>l?.handleChainStart(this.toJSON(),{input:""},u.runId,u.runType,void 0,void 0,u.runName??this.getName()),n?.signal,u);delete u.runId,d=f.setup;let p=d?.handlers.find(jLe),h=f.output;p!==void 0&&d!==void 0&&(h=p.tapOutputIterable(d.runId,h));let m=d?.handlers.find(RLe);m!==void 0&&d!==void 0&&(h=m.tapOutputIterable(d.runId,h));for await(let _ of h)if(yield _,s)if(a===void 0)a=_;else try{a=al(a,_)}catch{a=void 0,s=!1}}catch(f){throw await d?.handleChainError(f,void 0,void 0,void 0,{inputs:ku(o,"input")}),f}await d?.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:ku(o,"input")})}getGraph(t){let r=new X$,n=r.addNode({name:`${this.getName()}Input`,schema:Er.any()}),o=r.addNode(this),i=r.addNode({name:`${this.getName()}Output`,schema:Er.any()});return r.addEdge(n,o),r.addEdge(o,i),r}pipe(t){return new Ha({first:this,last:CS(t)})}pick(t){return this.pipe(new kV(t))}assign(t){return this.pipe(new BD(new vO({steps:t})))}async*transform(t,r){let n;for await(let o of t)n===void 0?n=o:n=al(n,o);yield*this._streamIterator(n,Rr(r))}async*streamLog(t,r,n){let o=new J$({...n,autoClose:!1,_schemaFormat:"original"}),i=Rr(r);yield*this._streamLog(t,o,i)}async*_streamLog(t,r,n){let{callbacks:o}=n;if(o===void 0)n.callbacks=[r];else if(Array.isArray(o))n.callbacks=o.concat([r]);else{let u=o.copy();u.addHandler(r,!0),n.callbacks=u}let i=this.stream(t,n);async function a(){try{let u=await i;for await(let l of u){let c=new Lm({ops:[{op:"add",path:"/streamed_output/-",value:l}]});await r.writer.write(c)}}finally{await r.writer.close()}}let s=a();try{for await(let u of r)yield u}finally{await s}}streamEvents(t,r,n){let o;if(r.version==="v1")o=this._streamEventsV1(t,r,n);else if(r.version==="v2")o=this._streamEventsV2(t,r,n);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return r.encoding==="text/event-stream"?SFe(o):Nc.fromAsyncGenerator(o)}async*_streamEventsV2(t,r,n){let o=new SV({...n,autoClose:!1}),i=Rr(r),a=i.runId??Xd();i.runId=a;let s=i.callbacks;if(s===void 0)i.callbacks=[o];else if(Array.isArray(s))i.callbacks=s.concat(o);else{let h=s.copy();h.addHandler(o,!0),i.callbacks=h}let u=new AbortController,l=this;async function c(){try{let h;r?.signal?"any"in AbortSignal?h=AbortSignal.any([u.signal,r.signal]):(h=r.signal,r.signal.addEventListener("abort",()=>{u.abort()},{once:!0})):h=u.signal;let m=await l.stream(t,{...i,signal:h}),_=o.tapOutputIterable(a,m);for await(let g of _)if(u.signal.aborted)break}finally{await o.finish()}}let d=c(),f=!1,p;try{for await(let h of o){if(!f){h.data.input=t,f=!0,p=h.run_id,yield h;continue}h.run_id===p&&h.event.endsWith("_end")&&h.data?.input&&delete h.data.input,yield h}}finally{u.abort(),await d}}async*_streamEventsV1(t,r,n){let o,i=!1,a=Rr(r),s=a.tags??[],u=a.metadata??{},l=a.runName??this.getName(),c=new J$({...n,autoClose:!1,_schemaFormat:"streaming_events"}),d=new CV({...n}),f=this._streamLog(t,c,a);for await(let h of f){if(o?o=o.concat(h):o=W$.fromRunLogPatch(h),o.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;let v={...o.state},S={run_id:v.id,event:`on_${v.type}_start`,name:l,tags:s,metadata:u,data:{input:t}};d.includeEvent(S,v.type)&&(yield S)}let m=h.ops.filter(v=>v.path.startsWith("/logs/")).map(v=>v.path.split("/")[2]),_=[...new Set(m)];for(let v of _){let S,x={},O=o.state.logs[v];if(O.end_time===void 0?O.streamed_output.length>0?S="stream":S="start":S="end",S==="start")O.inputs!==void 0&&(x.input=O.inputs);else if(S==="end")O.inputs!==void 0&&(x.input=O.inputs),x.output=O.final_output;else if(S==="stream"){let T=O.streamed_output.length;if(T!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${T} instead. Encountered in: "${O.name}"`);x={chunk:O.streamed_output[0]},O.streamed_output=[]}yield{event:`on_${O.type}_${S}`,name:O.name,run_id:O.id,tags:O.tags,metadata:O.metadata,data:x}}let{state:g}=o;if(g.streamed_output.length>0){let v=g.streamed_output.length;if(v!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${v} instead. Encountered in: "${g.name}"`);let S={chunk:g.streamed_output[0]};g.streamed_output=[];let x={event:`on_${g.type}_stream`,run_id:g.id,tags:s,metadata:u,name:l,data:S};d.includeEvent(x,g.type)&&(yield x)}}let p=o?.state;if(p!==void 0){let h={event:`on_${p.type}_end`,name:l,run_id:p.id,tags:s,metadata:u,data:{output:p.final_output}};d.includeEvent(h,p.type)&&(yield h)}}static isRunnable(t){return Y$(t)}withListeners({onStart:t,onEnd:r,onError:n}){return new OS({bound:this,config:{},configFactories:[o=>({callbacks:[new K$({config:o,onStart:t,onEnd:r,onError:n})]})]})}asTool(t){return rWt(this,t)}},OS=class e extends nn{static lc_name(){return"RunnableBinding"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=t.bound,this.kwargs=t.kwargs,this.config=t.config,this.configFactories=t.configFactories}getName(t){return this.bound.getName(t)}async _mergeConfig(...t){let r=vV(this.config,...t);return vV(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}bind(t){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...t},config:this.config})}withConfig(t){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...t}})}withRetry(t){return new this.constructor({bound:this.bound.withRetry(t),kwargs:this.kwargs,config:this.config})}async invoke(t,r){return this.bound.invoke(t,await this._mergeConfig(Rr(r),this.kwargs))}async batch(t,r,n){let o=Array.isArray(r)?await Promise.all(r.map(async i=>this._mergeConfig(Rr(i),this.kwargs))):await this._mergeConfig(Rr(r),this.kwargs);return this.bound.batch(t,o,n)}async*_streamIterator(t,r){yield*this.bound._streamIterator(t,await this._mergeConfig(Rr(r),this.kwargs))}async stream(t,r){return this.bound.stream(t,await this._mergeConfig(Rr(r),this.kwargs))}async*transform(t,r){yield*this.bound.transform(t,await this._mergeConfig(Rr(r),this.kwargs))}streamEvents(t,r,n){let o=this,i=async function*(){yield*o.bound.streamEvents(t,{...await o._mergeConfig(Rr(r),o.kwargs),version:r.version},n)};return Nc.fromAsyncGenerator(i())}static isRunnableBinding(t){return t.bound&&nn.isRunnable(t.bound)}withListeners({onStart:t,onEnd:r,onError:n}){return new e({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[o=>({callbacks:[new K$({config:o,onStart:t,onEnd:r,onError:n})]})]})}},NV=class e extends nn{static lc_name(){return"RunnableEach"}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=t.bound}bind(t){return new e({bound:this.bound.bind(t)})}async invoke(t,r){return this._callWithConfig(this._invoke.bind(this),t,r)}async _invoke(t,r,n){return this.bound.batch(t,Ta(r,{callbacks:n?.getChild()}))}withListeners({onStart:t,onEnd:r,onError:n}){return new e({bound:this.bound.withListeners({onStart:t,onEnd:r,onError:n})})}},LV=class extends OS{static lc_name(){return"RunnableRetry"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=t.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=t.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(t,r,n){let o=t>1?`retry:attempt:${t}`:void 0;return Ta(r,{callbacks:n?.getChild(o)})}async _invoke(t,r,n){return(0,Cue.default)(o=>super.invoke(t,this._patchConfigForRetry(o,r,n)),{onFailedAttempt:o=>this.onFailedAttempt(o,t),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(t,r){return this._callWithConfig(this._invoke.bind(this),t,r)}async _batch(t,r,n,o){let i={};try{await(0,Cue.default)(async a=>{let s=t.map((f,p)=>p).filter(f=>i[f.toString()]===void 0||i[f.toString()]instanceof Error),u=s.map(f=>t[f]),l=s.map(f=>this._patchConfigForRetry(a,r?.[f],n?.[f])),c=await super.batch(u,l,{...o,returnExceptions:!0}),d;for(let f=0;f<c.length;f+=1){let p=c[f],h=s[f];p instanceof Error&&d===void 0&&(d=p,d.input=u[f]),i[h.toString()]=p}if(d)throw d;return c},{onFailedAttempt:a=>this.onFailedAttempt(a,a.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if(o?.returnExceptions!==!0)throw a}return Object.keys(i).sort((a,s)=>parseInt(a,10)-parseInt(s,10)).map(a=>i[parseInt(a,10)])}async batch(t,r,n){return this._batchWithConfig(this._batch.bind(this),t,r,n)}},Ha=class e extends nn{static lc_name(){return"RunnableSequence"}constructor(t){super(t),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=t.first,this.middle=t.middle??this.middle,this.last=t.last,this.name=t.name,this.omitSequenceTags=t.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(t,r){let n=Rr(r),i=await(await af(n))?.handleChainStart(this.toJSON(),ku(t,"input"),n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let a=t,s;try{let u=[this.first,...this.middle];for(let l=0;l<u.length;l+=1){let d=u[l].invoke(a,Ta(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${l+1}`)}));a=await oy(d,r?.signal)}if(r?.signal?.aborted)throw new Error("Aborted");s=await this.last.invoke(a,Ta(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(u){throw await i?.handleChainError(u),u}return await i?.handleChainEnd(ku(s,"output")),s}async batch(t,r,n){let o=this._getOptionsList(r??{},t.length),i=await Promise.all(o.map(af)),a=await Promise.all(i.map(async(u,l)=>{let c=await u?.handleChainStart(this.toJSON(),ku(t[l],"input"),o[l].runId,void 0,void 0,void 0,o[l].runName);return delete o[l].runId,c})),s=t;try{for(let u=0;u<this.steps.length;u+=1){let c=this.steps[u].batch(s,a.map((d,f)=>{let p=d?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`);return Ta(o[f],{callbacks:p})}),n);s=await oy(c,o[0]?.signal)}}catch(u){throw await Promise.all(a.map(l=>l?.handleChainError(u))),u}return await Promise.all(a.map(u=>u?.handleChainEnd(ku(s,"output")))),s}async*_streamIterator(t,r){let n=await af(r),{runId:o,...i}=r??{},a=await n?.handleChainStart(this.toJSON(),ku(t,"input"),o,void 0,void 0,void 0,i?.runName),s=[this.first,...this.middle,this.last],u=!0,l;async function*c(){yield t}try{let d=s[0].transform(c(),Ta(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let f=1;f<s.length;f+=1)d=await s[f].transform(d,Ta(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));for await(let f of d)if(r?.signal?.throwIfAborted(),yield f,u)if(l===void 0)l=f;else try{l=al(l,f)}catch{l=void 0,u=!1}}catch(d){throw await a?.handleChainError(d),d}await a?.handleChainEnd(ku(l,"output"))}getGraph(t){let r=new X$,n=null;return this.steps.forEach((o,i)=>{let a=o.getGraph(t);i!==0&&a.trimFirstNode(),i!==this.steps.length-1&&a.trimLastNode(),r.extend(a);let s=a.firstNode();if(!s)throw new Error(`Runnable ${o} has no first node`);n&&r.addEdge(n,s),n=a.lastNode()}),r}pipe(t){return e.isRunnableSequence(t)?new e({first:this.first,middle:this.middle.concat([this.last,t.first,...t.middle]),last:t.last,name:this.name??t.name}):new e({first:this.first,middle:[...this.middle,this.last],last:CS(t),name:this.name})}static isRunnableSequence(t){return Array.isArray(t.middle)&&nn.isRunnable(t)}static from([t,...r],n){let o={};return typeof n=="string"?o.name=n:n!==void 0&&(o=n),new e({...o,first:CS(t),middle:r.slice(0,-1).map(CS),last:CS(r[r.length-1])})}},vO=class e extends nn{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(let[r,n]of Object.entries(t.steps))this.steps[r]=CS(n)}static from(t){return new e({steps:t})}async invoke(t,r){let n=Rr(r),i=await(await af(n))?.handleChainStart(this.toJSON(),{input:t},n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let a={};try{let s=Object.entries(this.steps).map(async([u,l])=>{a[u]=await l.invoke(t,Ta(n,{callbacks:i?.getChild(`map:key:${u}`)}))});await oy(Promise.all(s),r?.signal)}catch(s){throw await i?.handleChainError(s),s}return await i?.handleChainEnd(a),a}async*_transform(t,r,n){let o={...this.steps},i=qse(t,Object.keys(o).length),a=new Map(Object.entries(o).map(([s,u],l)=>{let c=u.transform(i[l],Ta(n,{callbacks:r?.getChild(`map:key:${s}`)}));return[s,c.next().then(d=>({key:s,gen:c,result:d}))]}));for(;a.size;){let s=Promise.race(a.values()),{key:u,result:l,gen:c}=await oy(s,n?.signal);a.delete(u),l.done||(yield{[u]:l.value},a.set(u,c.next().then(d=>({key:u,gen:c,result:d}))))}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}let o=Rr(r),i=new xS({generator:this.transform(n(),o),config:o});return await i.setup,Nc.fromAsyncGenerator(i)}},Oue=class e extends nn{constructor(t){if(super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!nV(t.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=t.func}async invoke(t,r){let[n]=this._getOptionsList(r??{},1),o=await af(n),i=this.func(Ta(n,{callbacks:o}),t);return oy(i,n?.signal)}async*_streamIterator(t,r){let[n]=this._getOptionsList(r??{},1),o=await this.invoke(t,r);if(DV(o)){for await(let i of o)n?.signal?.throwIfAborted(),yield i;return}if(CFe(o)){for(;;){n?.signal?.throwIfAborted();let i=o.next();if(i.done)break;yield i.value}return}yield o}static from(t){return new e({func:t})}};ES=class e extends nn{static lc_name(){return"RunnableLambda"}constructor(t){if(nV(t.func))return Oue.from(t.func);super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),tWt(t.func),this.func=t.func}static from(t){return new e({func:t})}async _invoke(t,r,n){return new Promise((o,i)=>{let a=Ta(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??_V)-1});jc.runWithConfig(Xf(a),async()=>{try{let s=await this.func(t,{...a});if(s&&nn.isRunnable(s)){if(r?.recursionLimit===0)throw new Error("Recursion limit reached.");s=await s.invoke(t,{...a,recursionLimit:(a.recursionLimit??_V)-1})}else if(DV(s)){let u;for await(let l of jV(a,s))if(r?.signal?.throwIfAborted(),u===void 0)u=l;else try{u=al(u,l)}catch{u=l}s=u}else if(Sue(s)){let u;for(let l of xue(a,s))if(r?.signal?.throwIfAborted(),u===void 0)u=l;else try{u=al(u,l)}catch{u=l}s=u}o(s)}catch(s){i(s)}})})}async invoke(t,r){return this._callWithConfig(this._invoke.bind(this),t,r)}async*_transform(t,r,n){let o;for await(let s of t)if(o===void 0)o=s;else try{o=al(o,s)}catch{o=s}let i=Ta(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??_V)-1}),a=await new Promise((s,u)=>{jc.runWithConfig(Xf(i),async()=>{try{let l=await this.func(o,{...i,config:i});s(l)}catch(l){u(l)}})});if(a&&nn.isRunnable(a)){if(n?.recursionLimit===0)throw new Error("Recursion limit reached.");let s=await a.stream(o,i);for await(let u of s)yield u}else if(DV(a))for await(let s of jV(i,a))n?.signal?.throwIfAborted(),yield s;else if(Sue(a))for(let s of xue(i,a))n?.signal?.throwIfAborted(),yield s;else yield a}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}let o=Rr(r),i=new xS({generator:this.transform(n(),o),config:o});return await i.setup,Nc.fromAsyncGenerator(i)}},FV=class extends nn{static lc_name(){return"RunnableWithFallbacks"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=t.runnable,this.fallbacks=t.fallbacks}*runnables(){yield this.runnable;for(let t of this.fallbacks)yield t}async invoke(t,r){let n=Rr(r),o=await af(n),{runId:i,...a}=n,s=await o?.handleChainStart(this.toJSON(),ku(t,"input"),i,void 0,void 0,void 0,a?.runName),u=Ta(a,{callbacks:s?.getChild()});return await jc.runWithConfig(u,async()=>{let c;for(let d of this.runnables()){n?.signal?.throwIfAborted();try{let f=await d.invoke(t,u);return await s?.handleChainEnd(ku(f,"output")),f}catch(f){c===void 0&&(c=f)}}throw c===void 0?new Error("No error stored at end of fallback."):(await s?.handleChainError(c),c)})}async*_streamIterator(t,r){let n=Rr(r),o=await af(n),{runId:i,...a}=n,s=await o?.handleChainStart(this.toJSON(),ku(t,"input"),i,void 0,void 0,void 0,a?.runName),u,l;for(let d of this.runnables()){n?.signal?.throwIfAborted();let f=Ta(a,{callbacks:s?.getChild()});try{let p=await d.stream(t,f);l=jV(f,p);break}catch(p){u===void 0&&(u=p)}}if(l===void 0){let d=u??new Error("No error stored at end of fallback.");throw await s?.handleChainError(d),d}let c;try{for await(let d of l){yield d;try{c=c===void 0?c:al(c,d)}catch{c=void 0}}}catch(d){throw await s?.handleChainError(d),d}await s?.handleChainEnd(ku(c,"output"))}async batch(t,r,n){if(n?.returnExceptions)throw new Error("Not implemented.");let o=this._getOptionsList(r??{},t.length),i=await Promise.all(o.map(u=>af(u))),a=await Promise.all(i.map(async(u,l)=>{let c=await u?.handleChainStart(this.toJSON(),ku(t[l],"input"),o[l].runId,void 0,void 0,void 0,o[l].runName);return delete o[l].runId,c})),s;for(let u of this.runnables()){o[0].signal?.throwIfAborted();try{let l=await u.batch(t,a.map((c,d)=>Ta(o[d],{callbacks:c?.getChild()})),n);return await Promise.all(a.map((c,d)=>c?.handleChainEnd(ku(l[d],"output")))),l}catch(l){s===void 0&&(s=l)}}throw s?(await Promise.all(a.map(u=>u?.handleChainError(s))),s):new Error("No error stored at end of fallbacks.")}};BD=class extends nn{static lc_name(){return"RunnableAssign"}constructor(t){t instanceof vO&&(t={mapper:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=t.mapper}async invoke(t,r){let n=await this.mapper.invoke(t,r);return{...t,...n}}async*_transform(t,r,n){let o=this.mapper.getStepsKeys(),[i,a]=qse(t),s=this.mapper.transform(a,Ta(n,{callbacks:r?.getChild()})),u=s.next();for await(let l of i){if(typeof l!="object"||Array.isArray(l))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof l}`);let c=Object.fromEntries(Object.entries(l).filter(([d])=>!o.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await u).value;for await(let l of s)yield l}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}let o=Rr(r),i=new xS({generator:this.transform(n(),o),config:o});return await i.setup,Nc.fromAsyncGenerator(i)}},kV=class extends nn{static lc_name(){return"RunnablePick"}constructor(t){(typeof t=="string"||Array.isArray(t))&&(t={keys:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=t.keys}async _pick(t){if(typeof this.keys=="string")return t[this.keys];{let r=this.keys.map(n=>[n,t[n]]).filter(n=>n[1]!==void 0);return r.length===0?void 0:Object.fromEntries(r)}}async invoke(t,r){return this._callWithConfig(this._pick.bind(this),t,r)}async*_transform(t){for await(let r of t){let n=await this._pick(r);n!==void 0&&(yield n)}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}let o=Rr(r),i=new xS({generator:this.transform(n(),o),config:o});return await i.setup,Nc.fromAsyncGenerator(i)}},Q$=class extends OS{constructor(t){let r=Ha.from([ES.from(async n=>{let o;if(AD(n))try{o=await this.schema.parseAsync(n.args)}catch{throw new ID("Received tool input did not match expected schema",JSON.stringify(n.args))}else o=n;return o}).withConfig({runName:`${t.name}:parse_input`}),t.bound]).withConfig({runName:t.name});super({bound:r,config:t.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.description=t.description,this.schema=t.schema}static lc_name(){return"RunnableToolLike"}}});var Fi,BV=C(()=>{iy();sf();ny();Fi=class extends nn{static lc_name(){return"RunnablePassthrough"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t&&(this.func=t.func)}async invoke(t,r){let n=Rr(r);return this.func&&await this.func(t,n),this._callWithConfig(o=>Promise.resolve(o),t,n)}async*transform(t,r){let n=Rr(r),o,i=!0;for await(let a of this._transformStreamWithConfig(t,s=>s,n))if(yield a,i)if(o===void 0)o=a;else try{o=al(o,a)}catch{o=void 0,i=!1}this.func&&o!==void 0&&await this.func(o,n)}static assign(t){return new BD(new vO({steps:t}))}}});var EFe=C(()=>{sf();ny()});var PFe=C(()=>{sf();ny();iy()});var Eue=C(()=>{rh()});var TFe=C(()=>{sf();BM();rh();pV();hV();U$();Eue();mV();DD();gO()});var UM=C(()=>{BM();rh();pV();hV();U$();mV();gO();TFe();Eue();DD()});var MFe=C(()=>{UM();sf();BV()});var Pue=C(()=>{sf();ny();BV();EFe();PFe();MFe()});var zM,HM,ep,$D=C(()=>{Pue();$$();zM=class extends nn{parseResultWithPrompt(t,r,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,r){return typeof t=="string"?this._callWithConfig(async(n,o)=>this.parseResult([{text:n}],o?.callbacks),t,{...r,runType:"parser"}):this._callWithConfig(async(n,o)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],o?.callbacks),t,{...r,runType:"parser"})}},HM=class extends zM{parseResult(t,r){return this.parse(t[0].text,r)}async parseWithPrompt(t,r,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},ep=class extends Error{constructor(t,r,n,o=!1){if(super(t),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=r,this.observation=n,this.sendToLLM=o,o&&(n===void 0||r===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");hO(this,"OUTPUT_PARSING_FAILURE")}}});function eq(e,t){let r=typeof e;if(r!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(!eq(e[o],t[o]))return!1;return!0}if(r==="object"){if(!e||!t)return e===t;let n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let a of n)if(!eq(e[a],t[a]))return!1;return!0}return e===t}var Tue=C(()=>{});var $V=C(()=>{});var xxn,qV=C(()=>{$V();xxn=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker")});function uf(e){return e.test.bind(e)}function OWt(e){return e%4===0&&(e%100!==0||e%400===0)}function IFe(e){let t=e.match(oWt);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n==2&&OWt(r)?29:iWt[n])}function AFe(e,t){let r=t.match(aWt);if(!r)return!1;let n=+r[1],o=+r[2],i=+r[3],a=!!r[5];return(n<=23&&o<=59&&i<=59||n==23&&o==59&&i==60)&&(!e||a)}function PWt(e){let t=e.split(EWt);return t.length==2&&IFe(t[0])&&AFe(!0,t[1])}function IWt(e){return TWt.test(e)&&MWt.test(e)}function RWt(e){if(AWt.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}var oWt,iWt,aWt,sWt,uWt,lWt,cWt,dWt,fWt,pWt,hWt,mWt,gWt,yWt,bWt,_Wt,vWt,wWt,SWt,xWt,CWt,EWt,TWt,MWt,AWt,Mue=C(()=>{oWt=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,iWt=[0,31,28,31,30,31,30,31,31,30,31,30,31],aWt=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,sWt=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,uWt=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,lWt=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,cWt=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,dWt=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,fWt=/^(?:\/(?:[^~/]|~0|~1)*)*$/,pWt=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,hWt=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,mWt=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,gWt=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,yWt=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,bWt=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,_Wt=e=>{if(e[0]==='"')return!1;let[t,r,...n]=e.split("@");return!t||!r||n.length!==0||t.length>64||r.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(r)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:r.split(".").every(o=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(o))},vWt=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,wWt=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,SWt=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));xWt={date:IFe,time:AFe.bind(void 0,!1),"date-time":PWt,duration:SWt,uri:IWt,"uri-reference":uf(uWt),"uri-template":uf(lWt),url:uf(cWt),email:_Wt,hostname:uf(sWt),ipv4:uf(vWt),ipv6:uf(wWt),regex:RWt,uuid:uf(dWt),"json-pointer":uf(fWt),"json-pointer-uri-fragment":uf(pWt),"relative-json-pointer":uf(hWt)},CWt={...xWt,date:uf(mWt),time:uf(gWt),"date-time":uf(yWt),"uri-reference":uf(bWt)};EWt=/t|\s/i;TWt=/\/|:/,MWt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;AWt=/[^\\]\\Z/});var RFe,DFe=C(()=>{(function(e){e[e.Flag=1]="Flag",e[e.Basic=2]="Basic",e[e.Detailed=4]="Detailed"})(RFe||(RFe={}))});var Iue=C(()=>{});var Aue=C(()=>{Tue();qV();Mue();$V();Iue()});var jFe=C(()=>{qV();Aue()});var NFe=C(()=>{Tue();qV();Mue();$V();DFe();Iue();Aue();jFe()});var VM,WM,wO=C(()=>{NFe();$D();rh();gO();FD();VM=class extends HM{async*_transform(t){for await(let r of t)typeof r=="string"?yield this.parseResult([{text:r}]):yield this.parseResult([{message:r,text:this._baseMessageToString(r)}])}async*transform(t,r){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...r,runType:"parser"})}},WM=class extends VM{constructor(t){super(t),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=t?.diff??this.diff}async*_transform(t){let r,n;for await(let o of t){if(typeof o!="string"&&typeof o.content!="string")throw new Error("Cannot handle non-string output.");let i;if(Pse(o)){if(typeof o.content!="string")throw new Error("Cannot handle non-string message output.");i=new oi({message:o,text:o.content})}else if(th(o)){if(typeof o.content!="string")throw new Error("Cannot handle non-string message output.");i=new oi({message:Ise(o),text:o.content})}else i=new nh({text:o});n===void 0?n=i:n=n.concat(i);let a=await this.parsePartialResult([n]);a!=null&&!eq(a,r)&&(this.diff?yield this._diff(r,a):yield a,r=a)}}getFormatInstructions(){return""}}});var LFe=C(()=>{wO()});var FFe=C(()=>{$D();wO()});var UV,kFe=C(()=>{wO();UV=class extends VM{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","string"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(t){return Promise.resolve(t)}getFormatInstructions(){return""}_textContentToString(t){return t.text}_imageUrlContentToString(t){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentComplexToString(t){switch(t.type){case"text":case"text_delta":if("text"in t)return this._textContentToString(t);break;case"image_url":if("image_url"in t)return this._imageUrlContentToString(t);break;default:throw new Error(`Cannot coerce "${t.type}" message part into a string.`)}throw new Error(`Invalid content type: ${t.type}`)}_baseMessageContentToString(t){return t.reduce((r,n)=>r+this._messageContentComplexToString(n),"")}}});var PS,BFe=C(()=>{bd();oh();$D();PS=class extends HM{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(t){super(t),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){let r=Er.object(Object.fromEntries(Object.entries(t).map(([n,o])=>[n,Er.string().describe(o)])));return new this(r)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Li(this.schema))}
\`\`\`
`}async parse(t){try{let n=(t.includes("```")?t.trim().split(/```(?:json)?/)[1]:t.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,i)=>`"${i.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(n))}catch(r){throw new ep(`Failed to parse. Text: "${t}". Error: ${r}`,t)}}}});var Rue=C(()=>{gse()});var TS,Due=C(()=>{wO();Rue();Ese();TS=class extends WM{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(t,r){if(r)return t?dV(t,r):[{op:"replace",path:"",value:r}]}async parsePartialResult(t){return Ose(t[0].text)}async parse(t){return Ose(t,JSON.parse)}getFormatInstructions(){return""}}});var $Fe=C(()=>{});var qFe=C(()=>{wO();Rue();$Fe()});var UFe=C(()=>{$D();LFe();FFe();kFe();BFe();wO();Due();qFe()});var SO=C(()=>{UFe()});var tq,qD,UD,zV,rq=C(()=>{NM();U$();gO();tq=class extends tf{},qD=class extends tq{static lc_name(){return"StringPromptValue"}constructor(t){super({value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}toString(){return this.value}toChatMessages(){return[new Ua(this.value)]}},UD=class extends tq{static lc_name(){return"ChatPromptValue"}constructor(t){Array.isArray(t)&&(t={messages:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=t.messages}toString(){return of(this.messages)}toChatMessages(){return this.messages}},zV=class extends tq{static lc_name(){return"ImagePromptValue"}constructor(t){"imageUrl"in t||(t={imageUrl:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=t.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Ua({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}});var MS,nq=C(()=>{rq();zD();MS=class extends ay{async formatPromptValue(t){let r=await this.format(t);return new qD(r)}}});function Nue(e){return typeof e=="function"}function NWt(e){return VD(e)?"array":typeof e}function jue(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function zFe(e,t){return e!=null&&typeof e=="object"&&t in e}function LWt(e,t){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}function kWt(e,t){return FWt.call(e,t)}function $Wt(e){return!kWt(BWt,e)}function UWt(e){return String(e).replace(/[&<>"'`=\/]/g,function(r){return qWt[r]})}function JWt(e,t){if(!e)return[];var r=!1,n=[],o=[],i=[],a=!1,s=!1,u="",l=0;function c(){if(a&&!s)for(;i.length;)delete o[i.pop()];else i=[];a=!1,s=!1}var d,f,p;function h(M){if(typeof M=="string"&&(M=M.split(HWt,2)),!VD(M)||M.length!==2)throw new Error("Invalid tags: "+M);d=new RegExp(jue(M[0])+"\\s*"),f=new RegExp("\\s*"+jue(M[1])),p=new RegExp("\\s*"+jue("}"+M[1]))}h(t||ih.tags);for(var m=new iq(e),_,g,v,S,x,O;!m.eos();){if(_=m.pos,v=m.scanUntil(d),v)for(var T=0,E=v.length;T<E;++T)S=v.charAt(T),$Wt(S)?(i.push(o.length),u+=S):(s=!0,r=!0,u+=" "),o.push(["text",S,_,_+1]),_+=1,S===`
`&&(c(),u="",l=0,r=!1);if(!m.scan(d))break;if(a=!0,g=m.scan(WWt)||"name",m.scan(zWt),g==="="?(v=m.scanUntil(HFe),m.scan(HFe),m.scanUntil(f)):g==="{"?(v=m.scanUntil(p),m.scan(VWt),m.scanUntil(f),g="&"):v=m.scanUntil(f),!m.scan(f))throw new Error("Unclosed tag at "+m.pos);if(g==">"?x=[g,v,_,m.pos,u,l,r]:x=[g,v,_,m.pos],l++,o.push(x),g==="#"||g==="^")n.push(x);else if(g==="/"){if(O=n.pop(),!O)throw new Error('Unopened section "'+v+'" at '+_);if(O[1]!==v)throw new Error('Unclosed section "'+O[1]+'" at '+_)}else g==="name"||g==="{"||g==="&"?s=!0:g==="="&&h(v)}if(c(),O=n.pop(),O)throw new Error('Unclosed section "'+O[1]+'" at '+m.pos);return KWt(GWt(o))}function GWt(e){for(var t=[],r,n,o=0,i=e.length;o<i;++o)r=e[o],r&&(r[0]==="text"&&n&&n[0]==="text"?(n[1]+=r[1],n[3]=r[3]):(t.push(r),n=r));return t}function KWt(e){for(var t=[],r=t,n=[],o,i,a=0,s=e.length;a<s;++a)switch(o=e[a],o[0]){case"#":case"^":r.push(o),n.push(o),r=o[4]=[];break;case"/":i=n.pop(),i[5]=o[2],r=n.length>0?n[n.length-1][4]:t;break;default:r.push(o)}return t}function iq(e){this.string=e,this.tail=e,this.pos=0}function HD(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Od(){this.templateCache={_cache:{},set:function(t,r){this._cache[t]=r},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}var jWt,VD,FWt,BWt,qWt,zWt,HWt,HFe,VWt,WWt,ih,oq,HV,VFe=C(()=>{jWt=Object.prototype.toString,VD=Array.isArray||function(t){return jWt.call(t)==="[object Array]"};FWt=RegExp.prototype.test;BWt=/\S/;qWt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};zWt=/\s*/,HWt=/\s+/,HFe=/\s*=/,VWt=/\s*\}/,WWt=/#|\^|\/|>|\{|&|=|!/;iq.prototype.eos=function(){return this.tail===""};iq.prototype.scan=function(t){var r=this.tail.match(t);if(!r||r.index!==0)return"";var n=r[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};iq.prototype.scanUntil=function(t){var r=this.tail.search(t),n;switch(r){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=n.length,n};HD.prototype.push=function(t){return new HD(t,this)};HD.prototype.lookup=function(t){var r=this.cache,n;if(r.hasOwnProperty(t))n=r[t];else{for(var o=this,i,a,s,u=!1;o;){if(t.indexOf(".")>0)for(i=o.view,a=t.split("."),s=0;i!=null&&s<a.length;)s===a.length-1&&(u=zFe(i,a[s])||LWt(i,a[s])),i=i[a[s++]];else i=o.view[t],u=zFe(o.view,t);if(u){n=i;break}o=o.parent}r[t]=n}return Nue(n)&&(n=n.call(this.view)),n};Od.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Od.prototype.parse=function(t,r){var n=this.templateCache,o=t+":"+(r||ih.tags).join(":"),i=typeof n<"u",a=i?n.get(o):void 0;return a==null&&(a=JWt(t,r),i&&n.set(o,a)),a};Od.prototype.render=function(t,r,n,o){var i=this.getConfigTags(o),a=this.parse(t,i),s=r instanceof HD?r:new HD(r,void 0);return this.renderTokens(a,s,n,t,o)};Od.prototype.renderTokens=function(t,r,n,o,i){for(var a="",s,u,l,c=0,d=t.length;c<d;++c)l=void 0,s=t[c],u=s[0],u==="#"?l=this.renderSection(s,r,n,o,i):u==="^"?l=this.renderInverted(s,r,n,o,i):u===">"?l=this.renderPartial(s,r,n,i):u==="&"?l=this.unescapedValue(s,r):u==="name"?l=this.escapedValue(s,r,i):u==="text"&&(l=this.rawValue(s)),l!==void 0&&(a+=l);return a};Od.prototype.renderSection=function(t,r,n,o,i){var a=this,s="",u=r.lookup(t[1]);function l(f){return a.render(f,r,n,i)}if(u){if(VD(u))for(var c=0,d=u.length;c<d;++c)s+=this.renderTokens(t[4],r.push(u[c]),n,o,i);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")s+=this.renderTokens(t[4],r.push(u),n,o,i);else if(Nue(u)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,o.slice(t[3],t[5]),l),u!=null&&(s+=u)}else s+=this.renderTokens(t[4],r,n,o,i);return s}};Od.prototype.renderInverted=function(t,r,n,o,i){var a=r.lookup(t[1]);if(!a||VD(a)&&a.length===0)return this.renderTokens(t[4],r,n,o,i)};Od.prototype.indentPartial=function(t,r,n){for(var o=r.replace(/[^ \t]/g,""),i=t.split(`
`),a=0;a<i.length;a++)i[a].length&&(a>0||!n)&&(i[a]=o+i[a]);return i.join(`
`)};Od.prototype.renderPartial=function(t,r,n,o){if(n){var i=this.getConfigTags(o),a=Nue(n)?n(t[1]):n[t[1]];if(a!=null){var s=t[6],u=t[5],l=t[4],c=a;u==0&&l&&(c=this.indentPartial(a,l,s));var d=this.parse(c,i);return this.renderTokens(d,r,n,c,o)}}};Od.prototype.unescapedValue=function(t,r){var n=r.lookup(t[1]);if(n!=null)return n};Od.prototype.escapedValue=function(t,r,n){var o=this.getConfigEscape(n)||ih.escape,i=r.lookup(t[1]);if(i!=null)return typeof i=="number"&&o===ih.escape?String(i):o(i)};Od.prototype.rawValue=function(t){return t[1]};Od.prototype.getConfigTags=function(t){return VD(t)?t:t&&typeof t=="object"?t.tags:void 0};Od.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!VD(t))return t.escape};ih={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){oq.templateCache=e},get templateCache(){return oq.templateCache}},oq=new Od;ih.clearCache=function(){return oq.clearCache()};ih.parse=function(t,r){return oq.parse(t,r)};ih.render=function(t,r,n,o){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+NWt(t)+'" was given as the first argument for mustache#render(template, view, partials)');return oq.render(t,r,n,o)};ih.escape=UWt;ih.Scanner=iq;ih.Context=HD;ih.Writer=Od;HV=ih});function WFe(){HV.escape=e=>e}var aq,YWt,VV,ZWt,XWt,Lue,QWt,Bm,JFe,JM,WD=C(()=>{VFe();$$();aq=e=>{let t=e.split(""),r=[],n=(i,a)=>{for(let s=a;s<t.length;s+=1)if(i.includes(t[s]))return s;return-1},o=0;for(;o<t.length;)if(t[o]==="{"&&o+1<t.length&&t[o+1]==="{")r.push({type:"literal",text:"{"}),o+=2;else if(t[o]==="}"&&o+1<t.length&&t[o+1]==="}")r.push({type:"literal",text:"}"}),o+=2;else if(t[o]==="{"){let i=n("}",o);if(i<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(o+1,i).join("")}),o=i+1}else{if(t[o]==="}")throw new Error("Single '}' in template.");{let i=n("{}",o),a=(i<0?t.slice(o):t.slice(o,i)).join("");r.push({type:"literal",text:a}),o=i<0?t.length:i}}return r},YWt=e=>e.map(t=>t[0]==="name"?{type:"variable",name:t[1].includes(".")?t[1].split(".")[0]:t[1]}:["#","&","^",">"].includes(t[0])?{type:"variable",name:t[1]}:{type:"literal",text:t[1]}),VV=e=>{WFe();let t=HV.parse(e);return YWt(t)},ZWt=(e,t)=>aq(e).reduce((r,n)=>{if(n.type==="variable"){if(n.name in t){let o=typeof t[n.name]=="string"?t[n.name]:JSON.stringify(t[n.name]);return r+o}throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),XWt=(e,t)=>(WFe(),HV.render(e,t)),Lue={"f-string":ZWt,mustache:XWt},QWt={"f-string":aq,mustache:VV},Bm=(e,t,r)=>{try{return Lue[t](e,r)}catch(n){throw hO(n,"INVALID_PROMPT_INPUT")}},JFe=(e,t)=>QWt[t](e),JM=(e,t,r)=>{if(!(t in Lue)){let n=Object.keys(Lue);throw new Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${n}`)}try{let n=r.reduce((o,i)=>(o[i]="foo",o),{});Array.isArray(e)?e.forEach(o=>{if(o.type==="text")Bm(o.text,t,n);else if(o.type==="image_url")if(typeof o.image_url=="string")Bm(o.image_url,t,n);else{let i=o.image_url.url;Bm(i,t,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(o,null,2)}`)}):Bm(e,t,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}}});var Fue={};Kd(Fue,{PromptTemplate:()=>Ed});var Ed,JD=C(()=>{nq();WD();Ed=class e extends MS{static lc_name(){return"PromptTemplate"}constructor(t){if(super(t),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.templateFormat==="mustache"&&t.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,t),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),JM(this.template,this.templateFormat,r)}}_getPromptType(){return"prompt"}async format(t){let r=await this.mergePartialAndUserVariables(t);return Bm(this.template,this.templateFormat,r)}static fromExamples(t,r,n,o=`

`,i=""){let a=[i,...t,r].join(o);return new e({inputVariables:n,template:a})}static fromTemplate(t,r){let{templateFormat:n="f-string",...o}=r??{},i=new Set;return JFe(t,n).forEach(a=>{a.type==="variable"&&i.add(a.name)}),new e({inputVariables:[...i],templateFormat:n,template:t,...o})}async partial(t){let r=this.inputVariables.filter(i=>!(i in t)),n={...this.partialVariables??{},...t},o={...this,inputVariables:r,partialVariables:n};return new e(o)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(t){if(!t.template)throw new Error("Prompt template must have a template");return new e({inputVariables:t.input_variables,template:t.template,templateFormat:t.template_format})}}});var GD,kue=C(()=>{rq();zD();WD();GD=class e extends ay{static lc_name(){return"ImagePromptTemplate"}constructor(t){if(super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t.template,this.templateFormat=t.templateFormat??this.templateFormat,this.validateTemplate=t.validateTemplate??this.validateTemplate,this.additionalContentFields=t.additionalContentFields,this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),JM([{type:"image_url",image_url:this.template}],this.templateFormat,r)}}_getPromptType(){return"prompt"}async partial(t){let r=this.inputVariables.filter(i=>!(i in t)),n={...this.partialVariables??{},...t},o={...this,inputVariables:r,partialVariables:n};return new e(o)}async format(t){let r={};for(let[a,s]of Object.entries(this.template))typeof s=="string"?r[a]=Bm(s,this.templateFormat,t):r[a]=s;let n=t.url||r.url,o=t.detail||r.detail;if(!n)throw new Error("Must provide either an image URL.");if(typeof n!="string")throw new Error("url must be a string.");let i={url:n};return o&&(i.detail=o),i}async formatPromptValue(t){let r=await this.format(t);return new zV(r)}}});function eJt(e){return typeof e.formatMessages=="function"}function tJt(e,t){if(eJt(e)||th(e))return e;if(Array.isArray(e)&&e[0]==="placeholder"){let o=e[1];if(t?.templateFormat==="mustache"&&typeof o=="string"&&o.slice(0,2)==="{{"&&o.slice(-2)==="}}"){let i=o.slice(2,-2);return new xO({variableName:i,optional:!0})}else if(typeof o=="string"&&o[0]==="{"&&o[o.length-1]==="}"){let i=o.slice(1,-1);return new xO({variableName:i,optional:!0})}throw new Error(`Invalid placeholder template for format ${t?.templateFormat??'"f-string"'}: "${e[1]}". Expected a variable name surrounded by ${t?.templateFormat==="mustache"?"double":"single"} curly braces.`)}let r=Nm(e),n;if(typeof r.content=="string"?n=r.content:n=r.content.map(o=>"text"in o?{...o,text:o.text}:"image_url"in o?{...o,image_url:o.image_url}:o),r._getType()==="human")return CO.fromTemplate(n,t);if(r._getType()==="ai")return que.fromTemplate(n,t);if(r._getType()==="system")return KD.fromTemplate(n,t);if(xd.isInstance(r))return $ue.fromTemplate(r.content,r.role,t);throw new Error(`Could not coerce message prompt template from input. Received message type: "${r._getType()}".`)}function rJt(e){return e.constructor.lc_name()==="MessagesPlaceholder"}var sq,xO,Bue,uq,$ue,lq,CO,que,KD,ah,cq=C(()=>{UM();rq();sf();nq();zD();JD();kue();WD();$$();sq=class extends nn{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(t,r){return this._callWithConfig(n=>this.formatMessages(n),t,{...r,runType:"prompt"})}},xO=class extends sq{static lc_name(){return"MessagesPlaceholder"}constructor(t){typeof t=="string"&&(t={variableName:t}),super(t),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=t.variableName,this.optional=t.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(t){let r=t[this.variableName];if(this.optional&&!r)return[];if(!r){let o=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw o.name="InputFormatError",o}let n;try{Array.isArray(r)?n=r.map(Nm):n=[Nm(r)]}catch(o){let i=typeof r=="string"?r:JSON.stringify(r,null,2),a=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${i}`,`Additional message: ${o.message}`].join(`

`));throw a.name="InputFormatError",a.lc_error_code=o.lc_error_code,a}return n}},Bue=class extends sq{constructor(t){"prompt"in t||(t={prompt:t}),super(t),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=t.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(t){return[await this.format(t)]}},uq=class extends ay{constructor(t){super(t)}async format(t){return(await this.formatPromptValue(t)).toString()}async formatPromptValue(t){let r=await this.formatMessages(t);return new UD(r)}},$ue=class extends Bue{static lc_name(){return"ChatMessagePromptTemplate"}constructor(t,r){"prompt"in t||(t={prompt:t,role:r}),super(t),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t.role}async format(t){return new xd(await this.prompt.format(t),this.role)}static fromTemplate(t,r,n){return new this(Ed.fromTemplate(t,{templateFormat:n?.templateFormat}),r)}},lq=class extends sq{static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(t,r){if("prompt"in t||(t={prompt:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=t.prompt,Array.isArray(this.prompt)){let n=[];this.prompt.forEach(o=>{"inputVariables"in o&&(n=n.concat(o.inputVariables))}),this.inputVariables=n}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=r??this.additionalOptions}createMessage(t){let r=this.constructor;if(r._messageClass()){let n=r._messageClass();return new n({content:t})}else if(r.chatMessageClass){let n=r.chatMessageClass();return new n({content:t,role:this.getRoleFromMessageClass(n.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(t){switch(t){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(t,r){if(typeof t=="string")return new this(Ed.fromTemplate(t,r));let n=[];for(let o of t)if(typeof o=="string"||typeof o=="object"&&"text"in o){let i="";typeof o=="string"?i=o:typeof o.text=="string"&&(i=o.text??"");let a={...r,...typeof o!="string"?{additionalContentFields:o}:{}};n.push(Ed.fromTemplate(i,a))}else if(typeof o=="object"&&"image_url"in o){let i=o.image_url??"",a,s=[];if(typeof i=="string"){let u;r?.templateFormat==="mustache"?u=VV(i):u=aq(i);let l=u.flatMap(c=>c.type==="variable"?[c.name]:[]);if((l?.length??0)>0){if(l.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${l}
From: ${i}`);s=[l[0]]}else s=[];i={url:i},a=new GD({template:i,inputVariables:s,templateFormat:r?.templateFormat,additionalContentFields:o})}else if(typeof i=="object"){if("url"in i){let u;r?.templateFormat==="mustache"?u=VV(i.url):u=aq(i.url),s=u.flatMap(l=>l.type==="variable"?[l.name]:[])}else s=[];a=new GD({template:i,inputVariables:s,templateFormat:r?.templateFormat,additionalContentFields:o})}else throw new Error("Invalid image template");n.push(a)}return new this({prompt:n,additionalOptions:r})}async format(t){if(this.prompt instanceof MS){let r=await this.prompt.format(t);return this.createMessage(r)}else{let r=[];for(let n of this.prompt){let o={};if(!("inputVariables"in n))throw new Error(`Prompt ${n} does not have inputVariables defined.`);for(let i of n.inputVariables)o||(o={[i]:t[i]}),o={...o,[i]:t[i]};if(n instanceof MS){let i=await n.format(o),a;"additionalContentFields"in n&&(a=n.additionalContentFields),r.push({...a,type:"text",text:i})}else if(n instanceof GD){let i=await n.format(o),a;"additionalContentFields"in n&&(a=n.additionalContentFields),r.push({...a,type:"image_url",image_url:i})}}return this.createMessage(r)}}async formatMessages(t){return[await this.format(t)]}},CO=class extends lq{static _messageClass(){return Ua}static lc_name(){return"HumanMessagePromptTemplate"}},que=class extends lq{static _messageClass(){return Po}static lc_name(){return"AIMessagePromptTemplate"}},KD=class extends lq{static _messageClass(){return SS}static lc_name(){return"SystemMessagePromptTemplate"}};ah=class e extends uq{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(t){if(super(t),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),t.templateFormat==="mustache"&&t.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,t),this.validateTemplate){let r=new Set;for(let s of this.promptMessages)if(!(s instanceof Lu))for(let u of s.inputVariables)r.add(u);let n=this.inputVariables,o=new Set(this.partialVariables?n.concat(Object.keys(this.partialVariables)):n),i=new Set([...o].filter(s=>!r.has(s)));if(i.size>0)throw new Error(`Input variables \`${[...i]}\` are not used in any of the prompt messages.`);let a=new Set([...r].filter(s=>!o.has(s)));if(a.size>0)throw new Error(`Input variables \`${[...a]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(t,r){if(typeof t.content=="string")return t;let n=await Promise.all(t.content.map(async o=>{if(o.type!=="image_url")return o;let i="";typeof o.image_url=="string"?i=o.image_url:i=o.image_url.url;let s=await Ed.fromTemplate(i,{templateFormat:this.templateFormat}).format(r);return typeof o.image_url!="string"&&"url"in o.image_url?o.image_url.url=s:o.image_url=s,o}));return t.content=n,t}async formatMessages(t){let r=await this.mergePartialAndUserVariables(t),n=[];for(let o of this.promptMessages)if(o instanceof Lu)n.push(await this._parseImagePrompts(o,r));else{let i=o.inputVariables.reduce((s,u)=>{if(!(u in r)&&!(rJt(o)&&o.optional))throw hO(new Error(`Missing value for input variable \`${u.toString()}\``),"INVALID_PROMPT_INPUT");return s[u]=r[u],s},{}),a=await o.formatMessages(i);n=n.concat(a)}return n}async partial(t){let r=this.inputVariables.filter(i=>!(i in t)),n={...this.partialVariables??{},...t},o={...this,inputVariables:r,partialVariables:n};return new e(o)}static fromTemplate(t,r){let n=Ed.fromTemplate(t,r),o=new CO({prompt:n});return this.fromMessages([o])}static fromMessages(t,r){let n=t.reduce((a,s)=>a.concat(s instanceof e?s.promptMessages:[tJt(s,r)]),[]),o=t.reduce((a,s)=>s instanceof e?Object.assign(a,s.partialVariables):a,Object.create(null)),i=new Set;for(let a of n)if(!(a instanceof Lu))for(let s of a.inputVariables)s in o||i.add(s);return new this({...r,inputVariables:[...i],promptMessages:n,partialVariables:o,templateFormat:r?.templateFormat})}static fromPromptMessages(t){return this.fromMessages(t)}}});var GFe={};Kd(GFe,{FewShotChatMessagePromptTemplate:()=>zue,FewShotPromptTemplate:()=>Uue});var Uue,zue,Hue=C(()=>{nq();WD();JD();cq();Uue=class e extends MS{constructor(t){if(super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,t),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),JM(this.prefix+this.suffix,this.templateFormat,r)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(t){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(t);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(t){let r=this.inputVariables.filter(i=>!(i in t)),n={...this.partialVariables??{},...t},o={...this,inputVariables:r,partialVariables:n};return new e(o)}async format(t){let r=await this.mergePartialAndUserVariables(t),n=await this.getExamples(r),o=await Promise.all(n.map(a=>this.examplePrompt.format(a))),i=[this.prefix,...o,this.suffix].join(this.exampleSeparator);return Bm(i,this.templateFormat,r)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(t){let{example_prompt:r}=t;if(!r)throw new Error("Missing example prompt");let n=await Ed.deserialize(r),o;if(Array.isArray(t.examples))o=t.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new e({inputVariables:t.input_variables,examplePrompt:n,examples:o,exampleSeparator:t.example_separator,prefix:t.prefix,suffix:t.suffix,templateFormat:t.template_format})}},zue=class e extends uq{_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(t){if(super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.examples=t.examples,this.examplePrompt=t.examplePrompt,this.exampleSeparator=t.exampleSeparator??`

`,this.exampleSelector=t.exampleSelector,this.prefix=t.prefix??"",this.suffix=t.suffix??"",this.templateFormat=t.templateFormat??"f-string",this.validateTemplate=t.validateTemplate??!0,this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),JM(this.prefix+this.suffix,this.templateFormat,r)}}async getExamples(t){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(t);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(t){let r=await this.mergePartialAndUserVariables(t),n=await this.getExamples(r);n=n.map(i=>{let a={};return this.examplePrompt.inputVariables.forEach(s=>{a[s]=i[s]}),a});let o=[];for(let i of n){let a=await this.examplePrompt.formatMessages(i);o.push(...a)}return o}async format(t){let r=await this.mergePartialAndUserVariables(t),n=await this.getExamples(r),i=(await Promise.all(n.map(s=>this.examplePrompt.formatMessages(s)))).flat().map(s=>s.content),a=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return Bm(a,this.templateFormat,r)}async partial(t){let r=this.inputVariables.filter(i=>!(i in t)),n={...this.partialVariables??{},...t},o={...this,inputVariables:r,partialVariables:n};return new e(o)}}});var ay,zD=C(()=>{sf();ay=class extends nn{get lc_attributes(){return{partialVariables:void 0}}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{inputVariables:r}=t;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,t)}async mergePartialAndUserVariables(t){let r=this.partialVariables??{},n={};for(let[i,a]of Object.entries(r))typeof a=="string"?n[i]=a:n[i]=await a();return{...n,...t}}async invoke(t,r){let n={...this.metadata,...r?.metadata},o=[...this.tags??[],...r?.tags??[]];return this._callWithConfig(i=>this.formatPromptValue(i),t,{...r,tags:o,metadata:n,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(t){switch(t._type){case"prompt":{let{PromptTemplate:r}=await Promise.resolve().then(()=>(JD(),Fue));return r.deserialize(t)}case void 0:{let{PromptTemplate:r}=await Promise.resolve().then(()=>(JD(),Fue));return r.deserialize({...t,_type:"prompt"})}case"few_shot":{let{FewShotPromptTemplate:r}=await Promise.resolve().then(()=>(Hue(),GFe));return r.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}});var KFe=C(()=>{zD();cq()});var YFe=C(()=>{});var ZFe=C(()=>{cq()});var XFe=C(()=>{zD();cq();Hue();KFe();JD();YFe();nq();WD();kue();ZFe()});var GM=C(()=>{XFe()});var IS=C(()=>{Pue()});var gke=b(on=>{"use strict";var fq=Symbol.for("react.element"),cJt=Symbol.for("react.portal"),dJt=Symbol.for("react.fragment"),fJt=Symbol.for("react.strict_mode"),pJt=Symbol.for("react.profiler"),hJt=Symbol.for("react.provider"),mJt=Symbol.for("react.context"),gJt=Symbol.for("react.forward_ref"),yJt=Symbol.for("react.suspense"),bJt=Symbol.for("react.memo"),_Jt=Symbol.for("react.lazy"),ake=Symbol.iterator;function vJt(e){return e===null||typeof e!="object"?null:(e=ake&&e[ake]||e["@@iterator"],typeof e=="function"?e:null)}var lke={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cke=Object.assign,dke={};function ZD(e,t,r){this.props=e,this.context=t,this.refs=dke,this.updater=r||lke}ZD.prototype.isReactComponent={};ZD.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ZD.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fke(){}fke.prototype=ZD.prototype;function Xue(e,t,r){this.props=e,this.context=t,this.refs=dke,this.updater=r||lke}var Que=Xue.prototype=new fke;Que.constructor=Xue;cke(Que,ZD.prototype);Que.isPureReactComponent=!0;var ske=Array.isArray,pke=Object.prototype.hasOwnProperty,ele={current:null},hke={key:!0,ref:!0,__self:!0,__source:!0};function mke(e,t,r){var n,o={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)pke.call(t,n)&&!hke.hasOwnProperty(n)&&(o[n]=t[n]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)o[n]===void 0&&(o[n]=s[n]);return{$$typeof:fq,type:e,key:i,ref:a,props:o,_owner:ele.current}}function wJt(e,t){return{$$typeof:fq,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tle(e){return typeof e=="object"&&e!==null&&e.$$typeof===fq}function SJt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var uke=/\/+/g;function Zue(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SJt(""+e.key):t.toString(36)}function YV(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fq:case cJt:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+Zue(a,0):n,ske(o)?(r="",e!=null&&(r=e.replace(uke,"$&/")+"/"),YV(o,t,r,"",function(l){return l})):o!=null&&(tle(o)&&(o=wJt(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(uke,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",ske(e))for(var s=0;s<e.length;s++){i=e[s];var u=n+Zue(i,s);a+=YV(i,t,r,u,o)}else if(u=vJt(e),typeof u=="function")for(e=u.call(e),s=0;!(i=e.next()).done;)i=i.value,u=n+Zue(i,s++),a+=YV(i,t,r,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function KV(e,t,r){if(e==null)return e;var n=[],o=0;return YV(e,n,"","",function(i){return t.call(r,i,o++)}),n}function xJt(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pd={current:null},ZV={transition:null},CJt={ReactCurrentDispatcher:Pd,ReactCurrentBatchConfig:ZV,ReactCurrentOwner:ele};on.Children={map:KV,forEach:function(e,t,r){KV(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return KV(e,function(){t++}),t},toArray:function(e){return KV(e,function(t){return t})||[]},only:function(e){if(!tle(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=ZD;on.Fragment=dJt;on.Profiler=pJt;on.PureComponent=Xue;on.StrictMode=fJt;on.Suspense=yJt;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CJt;on.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cke({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ele.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)pke.call(t,u)&&!hke.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:fq,type:e.type,key:o,ref:i,props:n,_owner:a}};on.createContext=function(e){return e={$$typeof:mJt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hJt,_context:e},e.Consumer=e};on.createElement=mke;on.createFactory=function(e){var t=mke.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:gJt,render:e}};on.isValidElement=tle;on.lazy=function(e){return{$$typeof:_Jt,_payload:{_status:-1,_result:e},_init:xJt}};on.memo=function(e,t){return{$$typeof:bJt,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=ZV.transition;ZV.transition={};try{e()}finally{ZV.transition=t}};on.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};on.useCallback=function(e,t){return Pd.current.useCallback(e,t)};on.useContext=function(e){return Pd.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return Pd.current.useDeferredValue(e)};on.useEffect=function(e,t){return Pd.current.useEffect(e,t)};on.useId=function(){return Pd.current.useId()};on.useImperativeHandle=function(e,t,r){return Pd.current.useImperativeHandle(e,t,r)};on.useInsertionEffect=function(e,t){return Pd.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return Pd.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return Pd.current.useMemo(e,t)};on.useReducer=function(e,t,r){return Pd.current.useReducer(e,t,r)};on.useRef=function(e){return Pd.current.useRef(e)};on.useState=function(e){return Pd.current.useState(e)};on.useSyncExternalStore=function(e,t,r){return Pd.current.useSyncExternalStore(e,t,r)};on.useTransition=function(){return Pd.current.useTransition()};on.version="18.2.0"});var Y=b((BOn,yke)=>{"use strict";yke.exports=gke()});var Cke=b((sle,XD)=>{(function(e,t){typeof sle=="object"&&typeof XD<"u"?XD.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(sle,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(y){e=y}function n(y){return y instanceof Array||Object.prototype.toString.call(y)==="[object Array]"}function o(y){return y!=null&&Object.prototype.toString.call(y)==="[object Object]"}function i(y,w){return Object.prototype.hasOwnProperty.call(y,w)}function a(y){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(y).length===0;var w;for(w in y)if(i(y,w))return!1;return!0}function s(y){return y===void 0}function u(y){return typeof y=="number"||Object.prototype.toString.call(y)==="[object Number]"}function l(y){return y instanceof Date||Object.prototype.toString.call(y)==="[object Date]"}function c(y,w){var P=[],I,R=y.length;for(I=0;I<R;++I)P.push(w(y[I],I));return P}function d(y,w){for(var P in w)i(w,P)&&(y[P]=w[P]);return i(w,"toString")&&(y.toString=w.toString),i(w,"valueOf")&&(y.valueOf=w.valueOf),y}function f(y,w,P,I){return y1e(y,w,P,I,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(y){return y._pf==null&&(y._pf=p()),y._pf}var m;Array.prototype.some?m=Array.prototype.some:m=function(y){var w=Object(this),P=w.length>>>0,I;for(I=0;I<P;I++)if(I in w&&y.call(this,w[I],I,w))return!0;return!1};function _(y){if(y._isValid==null){var w=h(y),P=m.call(w.parsedDateParts,function(R){return R!=null}),I=!isNaN(y._d.getTime())&&w.overflow<0&&!w.empty&&!w.invalidEra&&!w.invalidMonth&&!w.invalidWeekday&&!w.weekdayMismatch&&!w.nullInput&&!w.invalidFormat&&!w.userInvalidated&&(!w.meridiem||w.meridiem&&P);if(y._strict&&(I=I&&w.charsLeftOver===0&&w.unusedTokens.length===0&&w.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(y))y._isValid=I;else return I}return y._isValid}function g(y){var w=f(NaN);return y!=null?d(h(w),y):h(w).userInvalidated=!0,w}var v=t.momentProperties=[],S=!1;function x(y,w){var P,I,R,H=v.length;if(s(w._isAMomentObject)||(y._isAMomentObject=w._isAMomentObject),s(w._i)||(y._i=w._i),s(w._f)||(y._f=w._f),s(w._l)||(y._l=w._l),s(w._strict)||(y._strict=w._strict),s(w._tzm)||(y._tzm=w._tzm),s(w._isUTC)||(y._isUTC=w._isUTC),s(w._offset)||(y._offset=w._offset),s(w._pf)||(y._pf=h(w)),s(w._locale)||(y._locale=w._locale),H>0)for(P=0;P<H;P++)I=v[P],R=w[I],s(R)||(y[I]=R);return y}function O(y){x(this,y),this._d=new Date(y._d!=null?y._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,t.updateOffset(this),S=!1)}function T(y){return y instanceof O||y!=null&&y._isAMomentObject!=null}function E(y){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function M(y,w){var P=!0;return d(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,y),P){var I=[],R,H,ae,Tt=arguments.length;for(H=0;H<Tt;H++){if(R="",typeof arguments[H]=="object"){R+=`
[`+H+"] ";for(ae in arguments[0])i(arguments[0],ae)&&(R+=ae+": "+arguments[0][ae]+", ");R=R.slice(0,-2)}else R=arguments[H];I.push(R)}E(y+`
Arguments: `+Array.prototype.slice.call(I).join("")+`
`+new Error().stack),P=!1}return w.apply(this,arguments)},w)}var A={};function j(y,w){t.deprecationHandler!=null&&t.deprecationHandler(y,w),A[y]||(E(w),A[y]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function N(y){return typeof Function<"u"&&y instanceof Function||Object.prototype.toString.call(y)==="[object Function]"}function F(y){var w,P;for(P in y)i(y,P)&&(w=y[P],N(w)?this[P]=w:this["_"+P]=w);this._config=y,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(y,w){var P=d({},y),I;for(I in w)i(w,I)&&(o(y[I])&&o(w[I])?(P[I]={},d(P[I],y[I]),d(P[I],w[I])):w[I]!=null?P[I]=w[I]:delete P[I]);for(I in y)i(y,I)&&!i(w,I)&&o(y[I])&&(P[I]=d({},P[I]));return P}function L(y){y!=null&&this.set(y)}var q;Object.keys?q=Object.keys:q=function(y){var w,P=[];for(w in y)i(y,w)&&P.push(w);return P};var U={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(y,w,P){var I=this._calendar[y]||this._calendar.sameElse;return N(I)?I.call(w,P):I}function V(y,w,P){var I=""+Math.abs(y),R=w-I.length,H=y>=0;return(H?P?"+":"":"-")+Math.pow(10,Math.max(0,R)).toString().substr(1)+I}var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},J={};function te(y,w,P,I){var R=I;typeof I=="string"&&(R=function(){return this[I]()}),y&&(J[y]=R),w&&(J[w[0]]=function(){return V(R.apply(this,arguments),w[1],w[2])}),P&&(J[P]=function(){return this.localeData().ordinal(R.apply(this,arguments),y)})}function Ae(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function Z(y){var w=y.match(D),P,I;for(P=0,I=w.length;P<I;P++)J[w[P]]?w[P]=J[w[P]]:w[P]=Ae(w[P]);return function(R){var H="",ae;for(ae=0;ae<I;ae++)H+=N(w[ae])?w[ae].call(R,y):w[ae];return H}}function Q(y,w){return y.isValid()?(w=ue(w,y.localeData()),W[w]=W[w]||Z(w),W[w](y)):y.localeData().invalidDate()}function ue(y,w){var P=5;function I(R){return w.longDateFormat(R)||R}for(z.lastIndex=0;P>=0&&z.test(y);)y=y.replace(z,I),z.lastIndex=0,P-=1;return y}var Me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ht(y){var w=this._longDateFormat[y],P=this._longDateFormat[y.toUpperCase()];return w||!P?w:(this._longDateFormat[y]=P.match(D).map(function(I){return I==="MMMM"||I==="MM"||I==="DD"||I==="dddd"?I.slice(1):I}).join(""),this._longDateFormat[y])}var we="Invalid date";function ie(){return this._invalidDate}var ee="%d",ge=/\d{1,2}/;function Ue(y){return this._ordinal.replace("%d",y)}var ct={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Je(y,w,P,I){var R=this._relativeTime[P];return N(R)?R(y,w,P,I):R.replace(/%d/i,y)}function sr(y,w){var P=this._relativeTime[y>0?"future":"past"];return N(P)?P(w):P.replace(/%s/i,w)}var Xr={};function ur(y,w){var P=y.toLowerCase();Xr[P]=Xr[P+"s"]=Xr[w]=y}function Bt(y){return typeof y=="string"?Xr[y]||Xr[y.toLowerCase()]:void 0}function Bo(y){var w={},P,I;for(I in y)i(y,I)&&(P=Bt(I),P&&(w[P]=y[I]));return w}var Xi={};function jo(y,w){Xi[y]=w}function Ie(y){var w=[],P;for(P in y)i(y,P)&&w.push({unit:P,priority:Xi[P]});return w.sort(function(I,R){return I.priority-R.priority}),w}function Ze(y){return y%4===0&&y%100!==0||y%400===0}function lr(y){return y<0?Math.ceil(y)||0:Math.floor(y)}function Xe(y){var w=+y,P=0;return w!==0&&isFinite(w)&&(P=lr(w)),P}function Bn(y,w){return function(P){return P!=null?(ol(this,y,P),t.updateOffset(this,w),this):Qi(this,y)}}function Qi(y,w){return y.isValid()?y._d["get"+(y._isUTC?"UTC":"")+w]():NaN}function ol(y,w,P){y.isValid()&&!isNaN(P)&&(w==="FullYear"&&Ze(y.year())&&y.month()===1&&y.date()===29?(P=Xe(P),y._d["set"+(y._isUTC?"UTC":"")+w](P,y.month(),o6(P,y.month()))):y._d["set"+(y._isUTC?"UTC":"")+w](P))}function Pc(y){return y=Bt(y),N(this[y])?this[y]():this}function Pm(y,w){if(typeof y=="object"){y=Bo(y);var P=Ie(y),I,R=P.length;for(I=0;I<R;I++)this[P[I].unit](y[P[I].unit])}else if(y=Bt(y),N(this[y]))return this[y](w);return this}var Tm=/\d/,Oa=/\d\d/,Wp=/\d{3}/,Gf=/\d{4}/,Jp=/[+-]?\d{6}/,hn=/\d\d?/,nO=/\d\d\d\d?/,cM=/\d\d\d\d\d\d?/,oO=/\d{1,3}/,Ea=/\d{1,4}/,rs=/[+-]?\d{1,6}/,ea=/\d+/,pd=/[+-]?\d+/,Tc=/Z|[+-]\d\d:?\d\d/gi,Ba=/Z|[+-]\d\d(?::?\d\d)?/gi,Gd=/[+-]?\d+(\.\d{1,3})?/,hd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rn;rn={};function je(y,w,P){rn[y]=N(w)?w:function(I,R){return I&&P?P:w}}function md(y,w){return i(rn,y)?rn[y](w._strict,w._locale):new RegExp(Kf(y))}function Kf(y){return ju(y.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(w,P,I,R,H){return P||I||R||H}))}function ju(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var rS={};function Qr(y,w){var P,I=w,R;for(typeof y=="string"&&(y=[y]),u(w)&&(I=function(H,ae){ae[w]=Xe(H)}),R=y.length,P=0;P<R;P++)rS[y[P]]=I}function Mm(y,w){Qr(y,function(P,I,R,H){R._w=R._w||{},w(P,R._w,R,H)})}function f$(y,w,P){w!=null&&i(rS,y)&&rS[y](w,P._a,P,y)}var Mc=0,nS=1,Zg=2,Nu=3,Im=4,oS=5,dM=6,Rzt=7,Dzt=8;function jzt(y,w){return(y%w+w)%w}var $a;Array.prototype.indexOf?$a=Array.prototype.indexOf:$a=function(y){var w;for(w=0;w<this.length;++w)if(this[w]===y)return w;return-1};function o6(y,w){if(isNaN(y)||isNaN(w))return NaN;var P=jzt(w,12);return y+=(w-P)/12,P===1?Ze(y)?29:28:31-P%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1}),te("MMM",0,0,function(y){return this.localeData().monthsShort(this,y)}),te("MMMM",0,0,function(y){return this.localeData().months(this,y)}),ur("month","M"),jo("month",8),je("M",hn),je("MM",hn,Oa),je("MMM",function(y,w){return w.monthsShortRegex(y)}),je("MMMM",function(y,w){return w.monthsRegex(y)}),Qr(["M","MM"],function(y,w){w[nS]=Xe(y)-1}),Qr(["MMM","MMMM"],function(y,w,P,I){var R=P._locale.monthsParse(y,I,P._strict);R!=null?w[nS]=R:h(P).invalidMonth=y});var Nzt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),r1e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),n1e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lzt=hd,Fzt=hd;function kzt(y,w){return y?n(this._months)?this._months[y.month()]:this._months[(this._months.isFormat||n1e).test(w)?"format":"standalone"][y.month()]:n(this._months)?this._months:this._months.standalone}function Bzt(y,w){return y?n(this._monthsShort)?this._monthsShort[y.month()]:this._monthsShort[n1e.test(w)?"format":"standalone"][y.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function $zt(y,w,P){var I,R,H,ae=y.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],I=0;I<12;++I)H=f([2e3,I]),this._shortMonthsParse[I]=this.monthsShort(H,"").toLocaleLowerCase(),this._longMonthsParse[I]=this.months(H,"").toLocaleLowerCase();return P?w==="MMM"?(R=$a.call(this._shortMonthsParse,ae),R!==-1?R:null):(R=$a.call(this._longMonthsParse,ae),R!==-1?R:null):w==="MMM"?(R=$a.call(this._shortMonthsParse,ae),R!==-1?R:(R=$a.call(this._longMonthsParse,ae),R!==-1?R:null)):(R=$a.call(this._longMonthsParse,ae),R!==-1?R:(R=$a.call(this._shortMonthsParse,ae),R!==-1?R:null))}function qzt(y,w,P){var I,R,H;if(this._monthsParseExact)return $zt.call(this,y,w,P);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),I=0;I<12;I++){if(R=f([2e3,I]),P&&!this._longMonthsParse[I]&&(this._longMonthsParse[I]=new RegExp("^"+this.months(R,"").replace(".","")+"$","i"),this._shortMonthsParse[I]=new RegExp("^"+this.monthsShort(R,"").replace(".","")+"$","i")),!P&&!this._monthsParse[I]&&(H="^"+this.months(R,"")+"|^"+this.monthsShort(R,""),this._monthsParse[I]=new RegExp(H.replace(".",""),"i")),P&&w==="MMMM"&&this._longMonthsParse[I].test(y))return I;if(P&&w==="MMM"&&this._shortMonthsParse[I].test(y))return I;if(!P&&this._monthsParse[I].test(y))return I}}function o1e(y,w){var P;if(!y.isValid())return y;if(typeof w=="string"){if(/^\d+$/.test(w))w=Xe(w);else if(w=y.localeData().monthsParse(w),!u(w))return y}return P=Math.min(y.date(),o6(y.year(),w)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](w,P),y}function i1e(y){return y!=null?(o1e(this,y),t.updateOffset(this,!0),this):Qi(this,"Month")}function Uzt(){return o6(this.year(),this.month())}function zzt(y){return this._monthsParseExact?(i(this,"_monthsRegex")||a1e.call(this),y?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Lzt),this._monthsShortStrictRegex&&y?this._monthsShortStrictRegex:this._monthsShortRegex)}function Hzt(y){return this._monthsParseExact?(i(this,"_monthsRegex")||a1e.call(this),y?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=Fzt),this._monthsStrictRegex&&y?this._monthsStrictRegex:this._monthsRegex)}function a1e(){function y(ae,Tt){return Tt.length-ae.length}var w=[],P=[],I=[],R,H;for(R=0;R<12;R++)H=f([2e3,R]),w.push(this.monthsShort(H,"")),P.push(this.months(H,"")),I.push(this.months(H,"")),I.push(this.monthsShort(H,""));for(w.sort(y),P.sort(y),I.sort(y),R=0;R<12;R++)w[R]=ju(w[R]),P[R]=ju(P[R]);for(R=0;R<24;R++)I[R]=ju(I[R]);this._monthsRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+w.join("|")+")","i")}te("Y",0,0,function(){var y=this.year();return y<=9999?V(y,4):"+"+y}),te(0,["YY",2],0,function(){return this.year()%100}),te(0,["YYYY",4],0,"year"),te(0,["YYYYY",5],0,"year"),te(0,["YYYYYY",6,!0],0,"year"),ur("year","y"),jo("year",1),je("Y",pd),je("YY",hn,Oa),je("YYYY",Ea,Gf),je("YYYYY",rs,Jp),je("YYYYYY",rs,Jp),Qr(["YYYYY","YYYYYY"],Mc),Qr("YYYY",function(y,w){w[Mc]=y.length===2?t.parseTwoDigitYear(y):Xe(y)}),Qr("YY",function(y,w){w[Mc]=t.parseTwoDigitYear(y)}),Qr("Y",function(y,w){w[Mc]=parseInt(y,10)});function p$(y){return Ze(y)?366:365}t.parseTwoDigitYear=function(y){return Xe(y)+(Xe(y)>68?1900:2e3)};var s1e=Bn("FullYear",!0);function Vzt(){return Ze(this.year())}function Wzt(y,w,P,I,R,H,ae){var Tt;return y<100&&y>=0?(Tt=new Date(y+400,w,P,I,R,H,ae),isFinite(Tt.getFullYear())&&Tt.setFullYear(y)):Tt=new Date(y,w,P,I,R,H,ae),Tt}function h$(y){var w,P;return y<100&&y>=0?(P=Array.prototype.slice.call(arguments),P[0]=y+400,w=new Date(Date.UTC.apply(null,P)),isFinite(w.getUTCFullYear())&&w.setUTCFullYear(y)):w=new Date(Date.UTC.apply(null,arguments)),w}function i6(y,w,P){var I=7+w-P,R=(7+h$(y,0,I).getUTCDay()-w)%7;return-R+I-1}function u1e(y,w,P,I,R){var H=(7+P-I)%7,ae=i6(y,I,R),Tt=1+7*(w-1)+H+ae,Ar,$o;return Tt<=0?(Ar=y-1,$o=p$(Ar)+Tt):Tt>p$(y)?(Ar=y+1,$o=Tt-p$(y)):(Ar=y,$o=Tt),{year:Ar,dayOfYear:$o}}function m$(y,w,P){var I=i6(y.year(),w,P),R=Math.floor((y.dayOfYear()-I-1)/7)+1,H,ae;return R<1?(ae=y.year()-1,H=R+iS(ae,w,P)):R>iS(y.year(),w,P)?(H=R-iS(y.year(),w,P),ae=y.year()+1):(ae=y.year(),H=R),{week:H,year:ae}}function iS(y,w,P){var I=i6(y,w,P),R=i6(y+1,w,P);return(p$(y)-I+R)/7}te("w",["ww",2],"wo","week"),te("W",["WW",2],"Wo","isoWeek"),ur("week","w"),ur("isoWeek","W"),jo("week",5),jo("isoWeek",5),je("w",hn),je("ww",hn,Oa),je("W",hn),je("WW",hn,Oa),Mm(["w","ww","W","WW"],function(y,w,P,I){w[I.substr(0,1)]=Xe(y)});function Jzt(y){return m$(y,this._week.dow,this._week.doy).week}var Gzt={dow:0,doy:6};function Kzt(){return this._week.dow}function Yzt(){return this._week.doy}function Zzt(y){var w=this.localeData().week(this);return y==null?w:this.add((y-w)*7,"d")}function Xzt(y){var w=m$(this,1,4).week;return y==null?w:this.add((y-w)*7,"d")}te("d",0,"do","day"),te("dd",0,0,function(y){return this.localeData().weekdaysMin(this,y)}),te("ddd",0,0,function(y){return this.localeData().weekdaysShort(this,y)}),te("dddd",0,0,function(y){return this.localeData().weekdays(this,y)}),te("e",0,0,"weekday"),te("E",0,0,"isoWeekday"),ur("day","d"),ur("weekday","e"),ur("isoWeekday","E"),jo("day",11),jo("weekday",11),jo("isoWeekday",11),je("d",hn),je("e",hn),je("E",hn),je("dd",function(y,w){return w.weekdaysMinRegex(y)}),je("ddd",function(y,w){return w.weekdaysShortRegex(y)}),je("dddd",function(y,w){return w.weekdaysRegex(y)}),Mm(["dd","ddd","dddd"],function(y,w,P,I){var R=P._locale.weekdaysParse(y,I,P._strict);R!=null?w.d=R:h(P).invalidWeekday=y}),Mm(["d","e","E"],function(y,w,P,I){w[I]=Xe(y)});function Qzt(y,w){return typeof y!="string"?y:isNaN(y)?(y=w.weekdaysParse(y),typeof y=="number"?y:null):parseInt(y,10)}function e2t(y,w){return typeof y=="string"?w.weekdaysParse(y)%7||7:isNaN(y)?null:y}function rae(y,w){return y.slice(w,7).concat(y.slice(0,w))}var t2t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),l1e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),r2t="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),n2t=hd,o2t=hd,i2t=hd;function a2t(y,w){var P=n(this._weekdays)?this._weekdays:this._weekdays[y&&y!==!0&&this._weekdays.isFormat.test(w)?"format":"standalone"];return y===!0?rae(P,this._week.dow):y?P[y.day()]:P}function s2t(y){return y===!0?rae(this._weekdaysShort,this._week.dow):y?this._weekdaysShort[y.day()]:this._weekdaysShort}function u2t(y){return y===!0?rae(this._weekdaysMin,this._week.dow):y?this._weekdaysMin[y.day()]:this._weekdaysMin}function l2t(y,w,P){var I,R,H,ae=y.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],I=0;I<7;++I)H=f([2e3,1]).day(I),this._minWeekdaysParse[I]=this.weekdaysMin(H,"").toLocaleLowerCase(),this._shortWeekdaysParse[I]=this.weekdaysShort(H,"").toLocaleLowerCase(),this._weekdaysParse[I]=this.weekdays(H,"").toLocaleLowerCase();return P?w==="dddd"?(R=$a.call(this._weekdaysParse,ae),R!==-1?R:null):w==="ddd"?(R=$a.call(this._shortWeekdaysParse,ae),R!==-1?R:null):(R=$a.call(this._minWeekdaysParse,ae),R!==-1?R:null):w==="dddd"?(R=$a.call(this._weekdaysParse,ae),R!==-1||(R=$a.call(this._shortWeekdaysParse,ae),R!==-1)?R:(R=$a.call(this._minWeekdaysParse,ae),R!==-1?R:null)):w==="ddd"?(R=$a.call(this._shortWeekdaysParse,ae),R!==-1||(R=$a.call(this._weekdaysParse,ae),R!==-1)?R:(R=$a.call(this._minWeekdaysParse,ae),R!==-1?R:null)):(R=$a.call(this._minWeekdaysParse,ae),R!==-1||(R=$a.call(this._weekdaysParse,ae),R!==-1)?R:(R=$a.call(this._shortWeekdaysParse,ae),R!==-1?R:null))}function c2t(y,w,P){var I,R,H;if(this._weekdaysParseExact)return l2t.call(this,y,w,P);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),I=0;I<7;I++){if(R=f([2e3,1]).day(I),P&&!this._fullWeekdaysParse[I]&&(this._fullWeekdaysParse[I]=new RegExp("^"+this.weekdays(R,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[I]=new RegExp("^"+this.weekdaysShort(R,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[I]=new RegExp("^"+this.weekdaysMin(R,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[I]||(H="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,""),this._weekdaysParse[I]=new RegExp(H.replace(".",""),"i")),P&&w==="dddd"&&this._fullWeekdaysParse[I].test(y))return I;if(P&&w==="ddd"&&this._shortWeekdaysParse[I].test(y))return I;if(P&&w==="dd"&&this._minWeekdaysParse[I].test(y))return I;if(!P&&this._weekdaysParse[I].test(y))return I}}function d2t(y){if(!this.isValid())return y!=null?this:NaN;var w=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=Qzt(y,this.localeData()),this.add(y-w,"d")):w}function f2t(y){if(!this.isValid())return y!=null?this:NaN;var w=(this.day()+7-this.localeData()._week.dow)%7;return y==null?w:this.add(y-w,"d")}function p2t(y){if(!this.isValid())return y!=null?this:NaN;if(y!=null){var w=e2t(y,this.localeData());return this.day(this.day()%7?w:w-7)}else return this.day()||7}function h2t(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||nae.call(this),y?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=n2t),this._weekdaysStrictRegex&&y?this._weekdaysStrictRegex:this._weekdaysRegex)}function m2t(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||nae.call(this),y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=o2t),this._weekdaysShortStrictRegex&&y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function g2t(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||nae.call(this),y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=i2t),this._weekdaysMinStrictRegex&&y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function nae(){function y(gd,cS){return cS.length-gd.length}var w=[],P=[],I=[],R=[],H,ae,Tt,Ar,$o;for(H=0;H<7;H++)ae=f([2e3,1]).day(H),Tt=ju(this.weekdaysMin(ae,"")),Ar=ju(this.weekdaysShort(ae,"")),$o=ju(this.weekdays(ae,"")),w.push(Tt),P.push(Ar),I.push($o),R.push(Tt),R.push(Ar),R.push($o);w.sort(y),P.sort(y),I.sort(y),R.sort(y),this._weekdaysRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+w.join("|")+")","i")}function oae(){return this.hours()%12||12}function y2t(){return this.hours()||24}te("H",["HH",2],0,"hour"),te("h",["hh",2],0,oae),te("k",["kk",2],0,y2t),te("hmm",0,0,function(){return""+oae.apply(this)+V(this.minutes(),2)}),te("hmmss",0,0,function(){return""+oae.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),te("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),te("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)});function c1e(y,w){te(y,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),w)})}c1e("a",!0),c1e("A",!1),ur("hour","h"),jo("hour",13);function d1e(y,w){return w._meridiemParse}je("a",d1e),je("A",d1e),je("H",hn),je("h",hn),je("k",hn),je("HH",hn,Oa),je("hh",hn,Oa),je("kk",hn,Oa),je("hmm",nO),je("hmmss",cM),je("Hmm",nO),je("Hmmss",cM),Qr(["H","HH"],Nu),Qr(["k","kk"],function(y,w,P){var I=Xe(y);w[Nu]=I===24?0:I}),Qr(["a","A"],function(y,w,P){P._isPm=P._locale.isPM(y),P._meridiem=y}),Qr(["h","hh"],function(y,w,P){w[Nu]=Xe(y),h(P).bigHour=!0}),Qr("hmm",function(y,w,P){var I=y.length-2;w[Nu]=Xe(y.substr(0,I)),w[Im]=Xe(y.substr(I)),h(P).bigHour=!0}),Qr("hmmss",function(y,w,P){var I=y.length-4,R=y.length-2;w[Nu]=Xe(y.substr(0,I)),w[Im]=Xe(y.substr(I,2)),w[oS]=Xe(y.substr(R)),h(P).bigHour=!0}),Qr("Hmm",function(y,w,P){var I=y.length-2;w[Nu]=Xe(y.substr(0,I)),w[Im]=Xe(y.substr(I))}),Qr("Hmmss",function(y,w,P){var I=y.length-4,R=y.length-2;w[Nu]=Xe(y.substr(0,I)),w[Im]=Xe(y.substr(I,2)),w[oS]=Xe(y.substr(R))});function b2t(y){return(y+"").toLowerCase().charAt(0)==="p"}var _2t=/[ap]\.?m?\.?/i,v2t=Bn("Hours",!0);function w2t(y,w,P){return y>11?P?"pm":"PM":P?"am":"AM"}var f1e={calendar:U,longDateFormat:Me,invalidDate:we,ordinal:ee,dayOfMonthOrdinalParse:ge,relativeTime:ct,months:Nzt,monthsShort:r1e,week:Gzt,weekdays:t2t,weekdaysMin:r2t,weekdaysShort:l1e,meridiemParse:_2t},Ni={},g$={},y$;function S2t(y,w){var P,I=Math.min(y.length,w.length);for(P=0;P<I;P+=1)if(y[P]!==w[P])return P;return I}function p1e(y){return y&&y.toLowerCase().replace("_","-")}function x2t(y){for(var w=0,P,I,R,H;w<y.length;){for(H=p1e(y[w]).split("-"),P=H.length,I=p1e(y[w+1]),I=I?I.split("-"):null;P>0;){if(R=a6(H.slice(0,P).join("-")),R)return R;if(I&&I.length>=P&&S2t(H,I)>=P-1)break;P--}w++}return y$}function C2t(y){return y.match("^[^/\\\\]*$")!=null}function a6(y){var w=null,P;if(Ni[y]===void 0&&typeof XD<"u"&&XD&&XD.exports&&C2t(y))try{w=y$._abbr,P=require,P("./locale/"+y),iO(w)}catch{Ni[y]=null}return Ni[y]}function iO(y,w){var P;return y&&(s(w)?P=aS(y):P=iae(y,w),P?y$=P:typeof console<"u"&&console.warn&&console.warn("Locale "+y+" not found. Did you forget to load it?")),y$._abbr}function iae(y,w){if(w!==null){var P,I=f1e;if(w.abbr=y,Ni[y]!=null)j("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),I=Ni[y]._config;else if(w.parentLocale!=null)if(Ni[w.parentLocale]!=null)I=Ni[w.parentLocale]._config;else if(P=a6(w.parentLocale),P!=null)I=P._config;else return g$[w.parentLocale]||(g$[w.parentLocale]=[]),g$[w.parentLocale].push({name:y,config:w}),null;return Ni[y]=new L(k(I,w)),g$[y]&&g$[y].forEach(function(R){iae(R.name,R.config)}),iO(y),Ni[y]}else return delete Ni[y],null}function O2t(y,w){if(w!=null){var P,I,R=f1e;Ni[y]!=null&&Ni[y].parentLocale!=null?Ni[y].set(k(Ni[y]._config,w)):(I=a6(y),I!=null&&(R=I._config),w=k(R,w),I==null&&(w.abbr=y),P=new L(w),P.parentLocale=Ni[y],Ni[y]=P),iO(y)}else Ni[y]!=null&&(Ni[y].parentLocale!=null?(Ni[y]=Ni[y].parentLocale,y===iO()&&iO(y)):Ni[y]!=null&&delete Ni[y]);return Ni[y]}function aS(y){var w;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return y$;if(!n(y)){if(w=a6(y),w)return w;y=[y]}return x2t(y)}function E2t(){return q(Ni)}function aae(y){var w,P=y._a;return P&&h(y).overflow===-2&&(w=P[nS]<0||P[nS]>11?nS:P[Zg]<1||P[Zg]>o6(P[Mc],P[nS])?Zg:P[Nu]<0||P[Nu]>24||P[Nu]===24&&(P[Im]!==0||P[oS]!==0||P[dM]!==0)?Nu:P[Im]<0||P[Im]>59?Im:P[oS]<0||P[oS]>59?oS:P[dM]<0||P[dM]>999?dM:-1,h(y)._overflowDayOfYear&&(w<Mc||w>Zg)&&(w=Zg),h(y)._overflowWeeks&&w===-1&&(w=Rzt),h(y)._overflowWeekday&&w===-1&&(w=Dzt),h(y).overflow=w),y}var P2t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,T2t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,M2t=/Z|[+-]\d\d(?::?\d\d)?/,s6=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],sae=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],I2t=/^\/?Date\((-?\d+)/i,A2t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,R2t={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function h1e(y){var w,P,I=y._i,R=P2t.exec(I)||T2t.exec(I),H,ae,Tt,Ar,$o=s6.length,gd=sae.length;if(R){for(h(y).iso=!0,w=0,P=$o;w<P;w++)if(s6[w][1].exec(R[1])){ae=s6[w][0],H=s6[w][2]!==!1;break}if(ae==null){y._isValid=!1;return}if(R[3]){for(w=0,P=gd;w<P;w++)if(sae[w][1].exec(R[3])){Tt=(R[2]||" ")+sae[w][0];break}if(Tt==null){y._isValid=!1;return}}if(!H&&Tt!=null){y._isValid=!1;return}if(R[4])if(M2t.exec(R[4]))Ar="Z";else{y._isValid=!1;return}y._f=ae+(Tt||"")+(Ar||""),lae(y)}else y._isValid=!1}function D2t(y,w,P,I,R,H){var ae=[j2t(y),r1e.indexOf(w),parseInt(P,10),parseInt(I,10),parseInt(R,10)];return H&&ae.push(parseInt(H,10)),ae}function j2t(y){var w=parseInt(y,10);return w<=49?2e3+w:w<=999?1900+w:w}function N2t(y){return y.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function L2t(y,w,P){if(y){var I=l1e.indexOf(y),R=new Date(w[0],w[1],w[2]).getDay();if(I!==R)return h(P).weekdayMismatch=!0,P._isValid=!1,!1}return!0}function F2t(y,w,P){if(y)return R2t[y];if(w)return 0;var I=parseInt(P,10),R=I%100,H=(I-R)/100;return H*60+R}function m1e(y){var w=A2t.exec(N2t(y._i)),P;if(w){if(P=D2t(w[4],w[3],w[2],w[5],w[6],w[7]),!L2t(w[1],P,y))return;y._a=P,y._tzm=F2t(w[8],w[9],w[10]),y._d=h$.apply(null,y._a),y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),h(y).rfc2822=!0}else y._isValid=!1}function k2t(y){var w=I2t.exec(y._i);if(w!==null){y._d=new Date(+w[1]);return}if(h1e(y),y._isValid===!1)delete y._isValid;else return;if(m1e(y),y._isValid===!1)delete y._isValid;else return;y._strict?y._isValid=!1:t.createFromInputFallback(y)}t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(y){y._d=new Date(y._i+(y._useUTC?" UTC":""))});function dD(y,w,P){return y??w??P}function B2t(y){var w=new Date(t.now());return y._useUTC?[w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()]:[w.getFullYear(),w.getMonth(),w.getDate()]}function uae(y){var w,P,I=[],R,H,ae;if(!y._d){for(R=B2t(y),y._w&&y._a[Zg]==null&&y._a[nS]==null&&$2t(y),y._dayOfYear!=null&&(ae=dD(y._a[Mc],R[Mc]),(y._dayOfYear>p$(ae)||y._dayOfYear===0)&&(h(y)._overflowDayOfYear=!0),P=h$(ae,0,y._dayOfYear),y._a[nS]=P.getUTCMonth(),y._a[Zg]=P.getUTCDate()),w=0;w<3&&y._a[w]==null;++w)y._a[w]=I[w]=R[w];for(;w<7;w++)y._a[w]=I[w]=y._a[w]==null?w===2?1:0:y._a[w];y._a[Nu]===24&&y._a[Im]===0&&y._a[oS]===0&&y._a[dM]===0&&(y._nextDay=!0,y._a[Nu]=0),y._d=(y._useUTC?h$:Wzt).apply(null,I),H=y._useUTC?y._d.getUTCDay():y._d.getDay(),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),y._nextDay&&(y._a[Nu]=24),y._w&&typeof y._w.d<"u"&&y._w.d!==H&&(h(y).weekdayMismatch=!0)}}function $2t(y){var w,P,I,R,H,ae,Tt,Ar,$o;w=y._w,w.GG!=null||w.W!=null||w.E!=null?(H=1,ae=4,P=dD(w.GG,y._a[Mc],m$(gi(),1,4).year),I=dD(w.W,1),R=dD(w.E,1),(R<1||R>7)&&(Ar=!0)):(H=y._locale._week.dow,ae=y._locale._week.doy,$o=m$(gi(),H,ae),P=dD(w.gg,y._a[Mc],$o.year),I=dD(w.w,$o.week),w.d!=null?(R=w.d,(R<0||R>6)&&(Ar=!0)):w.e!=null?(R=w.e+H,(w.e<0||w.e>6)&&(Ar=!0)):R=H),I<1||I>iS(P,H,ae)?h(y)._overflowWeeks=!0:Ar!=null?h(y)._overflowWeekday=!0:(Tt=u1e(P,I,R,H,ae),y._a[Mc]=Tt.year,y._dayOfYear=Tt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function lae(y){if(y._f===t.ISO_8601){h1e(y);return}if(y._f===t.RFC_2822){m1e(y);return}y._a=[],h(y).empty=!0;var w=""+y._i,P,I,R,H,ae,Tt=w.length,Ar=0,$o,gd;for(R=ue(y._f,y._locale).match(D)||[],gd=R.length,P=0;P<gd;P++)H=R[P],I=(w.match(md(H,y))||[])[0],I&&(ae=w.substr(0,w.indexOf(I)),ae.length>0&&h(y).unusedInput.push(ae),w=w.slice(w.indexOf(I)+I.length),Ar+=I.length),J[H]?(I?h(y).empty=!1:h(y).unusedTokens.push(H),f$(H,I,y)):y._strict&&!I&&h(y).unusedTokens.push(H);h(y).charsLeftOver=Tt-Ar,w.length>0&&h(y).unusedInput.push(w),y._a[Nu]<=12&&h(y).bigHour===!0&&y._a[Nu]>0&&(h(y).bigHour=void 0),h(y).parsedDateParts=y._a.slice(0),h(y).meridiem=y._meridiem,y._a[Nu]=q2t(y._locale,y._a[Nu],y._meridiem),$o=h(y).era,$o!==null&&(y._a[Mc]=y._locale.erasConvertYear($o,y._a[Mc])),uae(y),aae(y)}function q2t(y,w,P){var I;return P==null?w:y.meridiemHour!=null?y.meridiemHour(w,P):(y.isPM!=null&&(I=y.isPM(P),I&&w<12&&(w+=12),!I&&w===12&&(w=0)),w)}function U2t(y){var w,P,I,R,H,ae,Tt=!1,Ar=y._f.length;if(Ar===0){h(y).invalidFormat=!0,y._d=new Date(NaN);return}for(R=0;R<Ar;R++)H=0,ae=!1,w=x({},y),y._useUTC!=null&&(w._useUTC=y._useUTC),w._f=y._f[R],lae(w),_(w)&&(ae=!0),H+=h(w).charsLeftOver,H+=h(w).unusedTokens.length*10,h(w).score=H,Tt?H<I&&(I=H,P=w):(I==null||H<I||ae)&&(I=H,P=w,ae&&(Tt=!0));d(y,P||w)}function z2t(y){if(!y._d){var w=Bo(y._i),P=w.day===void 0?w.date:w.day;y._a=c([w.year,w.month,P,w.hour,w.minute,w.second,w.millisecond],function(I){return I&&parseInt(I,10)}),uae(y)}}function H2t(y){var w=new O(aae(g1e(y)));return w._nextDay&&(w.add(1,"d"),w._nextDay=void 0),w}function g1e(y){var w=y._i,P=y._f;return y._locale=y._locale||aS(y._l),w===null||P===void 0&&w===""?g({nullInput:!0}):(typeof w=="string"&&(y._i=w=y._locale.preparse(w)),T(w)?new O(aae(w)):(l(w)?y._d=w:n(P)?U2t(y):P?lae(y):V2t(y),_(y)||(y._d=null),y))}function V2t(y){var w=y._i;s(w)?y._d=new Date(t.now()):l(w)?y._d=new Date(w.valueOf()):typeof w=="string"?k2t(y):n(w)?(y._a=c(w.slice(0),function(P){return parseInt(P,10)}),uae(y)):o(w)?z2t(y):u(w)?y._d=new Date(w):t.createFromInputFallback(y)}function y1e(y,w,P,I,R){var H={};return(w===!0||w===!1)&&(I=w,w=void 0),(P===!0||P===!1)&&(I=P,P=void 0),(o(y)&&a(y)||n(y)&&y.length===0)&&(y=void 0),H._isAMomentObject=!0,H._useUTC=H._isUTC=R,H._l=P,H._i=y,H._f=w,H._strict=I,H2t(H)}function gi(y,w,P,I){return y1e(y,w,P,I,!1)}var W2t=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=gi.apply(null,arguments);return this.isValid()&&y.isValid()?y<this?this:y:g()}),J2t=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=gi.apply(null,arguments);return this.isValid()&&y.isValid()?y>this?this:y:g()});function b1e(y,w){var P,I;if(w.length===1&&n(w[0])&&(w=w[0]),!w.length)return gi();for(P=w[0],I=1;I<w.length;++I)(!w[I].isValid()||w[I][y](P))&&(P=w[I]);return P}function G2t(){var y=[].slice.call(arguments,0);return b1e("isBefore",y)}function K2t(){var y=[].slice.call(arguments,0);return b1e("isAfter",y)}var Y2t=function(){return Date.now?Date.now():+new Date},b$=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Z2t(y){var w,P=!1,I,R=b$.length;for(w in y)if(i(y,w)&&!($a.call(b$,w)!==-1&&(y[w]==null||!isNaN(y[w]))))return!1;for(I=0;I<R;++I)if(y[b$[I]]){if(P)return!1;parseFloat(y[b$[I]])!==Xe(y[b$[I]])&&(P=!0)}return!0}function X2t(){return this._isValid}function Q2t(){return Am(NaN)}function u6(y){var w=Bo(y),P=w.year||0,I=w.quarter||0,R=w.month||0,H=w.week||w.isoWeek||0,ae=w.day||0,Tt=w.hour||0,Ar=w.minute||0,$o=w.second||0,gd=w.millisecond||0;this._isValid=Z2t(w),this._milliseconds=+gd+$o*1e3+Ar*6e4+Tt*1e3*60*60,this._days=+ae+H*7,this._months=+R+I*3+P*12,this._data={},this._locale=aS(),this._bubble()}function l6(y){return y instanceof u6}function cae(y){return y<0?Math.round(-1*y)*-1:Math.round(y)}function e4t(y,w,P){var I=Math.min(y.length,w.length),R=Math.abs(y.length-w.length),H=0,ae;for(ae=0;ae<I;ae++)(P&&y[ae]!==w[ae]||!P&&Xe(y[ae])!==Xe(w[ae]))&&H++;return H+R}function _1e(y,w){te(y,0,0,function(){var P=this.utcOffset(),I="+";return P<0&&(P=-P,I="-"),I+V(~~(P/60),2)+w+V(~~P%60,2)})}_1e("Z",":"),_1e("ZZ",""),je("Z",Ba),je("ZZ",Ba),Qr(["Z","ZZ"],function(y,w,P){P._useUTC=!0,P._tzm=dae(Ba,y)});var t4t=/([\+\-]|\d\d)/gi;function dae(y,w){var P=(w||"").match(y),I,R,H;return P===null?null:(I=P[P.length-1]||[],R=(I+"").match(t4t)||["-",0,0],H=+(R[1]*60)+Xe(R[2]),H===0?0:R[0]==="+"?H:-H)}function fae(y,w){var P,I;return w._isUTC?(P=w.clone(),I=(T(y)||l(y)?y.valueOf():gi(y).valueOf())-P.valueOf(),P._d.setTime(P._d.valueOf()+I),t.updateOffset(P,!1),P):gi(y).local()}function pae(y){return-Math.round(y._d.getTimezoneOffset())}t.updateOffset=function(){};function r4t(y,w,P){var I=this._offset||0,R;if(!this.isValid())return y!=null?this:NaN;if(y!=null){if(typeof y=="string"){if(y=dae(Ba,y),y===null)return this}else Math.abs(y)<16&&!P&&(y=y*60);return!this._isUTC&&w&&(R=pae(this)),this._offset=y,this._isUTC=!0,R!=null&&this.add(R,"m"),I!==y&&(!w||this._changeInProgress?x1e(this,Am(y-I,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?I:pae(this)}function n4t(y,w){return y!=null?(typeof y!="string"&&(y=-y),this.utcOffset(y,w),this):-this.utcOffset()}function o4t(y){return this.utcOffset(0,y)}function i4t(y){return this._isUTC&&(this.utcOffset(0,y),this._isUTC=!1,y&&this.subtract(pae(this),"m")),this}function a4t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var y=dae(Tc,this._i);y!=null?this.utcOffset(y):this.utcOffset(0,!0)}return this}function s4t(y){return this.isValid()?(y=y?gi(y).utcOffset():0,(this.utcOffset()-y)%60===0):!1}function u4t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function l4t(){if(!s(this._isDSTShifted))return this._isDSTShifted;var y={},w;return x(y,this),y=g1e(y),y._a?(w=y._isUTC?f(y._a):gi(y._a),this._isDSTShifted=this.isValid()&&e4t(y._a,w.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function c4t(){return this.isValid()?!this._isUTC:!1}function d4t(){return this.isValid()?this._isUTC:!1}function v1e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var f4t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,p4t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Am(y,w){var P=y,I=null,R,H,ae;return l6(y)?P={ms:y._milliseconds,d:y._days,M:y._months}:u(y)||!isNaN(+y)?(P={},w?P[w]=+y:P.milliseconds=+y):(I=f4t.exec(y))?(R=I[1]==="-"?-1:1,P={y:0,d:Xe(I[Zg])*R,h:Xe(I[Nu])*R,m:Xe(I[Im])*R,s:Xe(I[oS])*R,ms:Xe(cae(I[dM]*1e3))*R}):(I=p4t.exec(y))?(R=I[1]==="-"?-1:1,P={y:fM(I[2],R),M:fM(I[3],R),w:fM(I[4],R),d:fM(I[5],R),h:fM(I[6],R),m:fM(I[7],R),s:fM(I[8],R)}):P==null?P={}:typeof P=="object"&&("from"in P||"to"in P)&&(ae=h4t(gi(P.from),gi(P.to)),P={},P.ms=ae.milliseconds,P.M=ae.months),H=new u6(P),l6(y)&&i(y,"_locale")&&(H._locale=y._locale),l6(y)&&i(y,"_isValid")&&(H._isValid=y._isValid),H}Am.fn=u6.prototype,Am.invalid=Q2t;function fM(y,w){var P=y&&parseFloat(y.replace(",","."));return(isNaN(P)?0:P)*w}function w1e(y,w){var P={};return P.months=w.month()-y.month()+(w.year()-y.year())*12,y.clone().add(P.months,"M").isAfter(w)&&--P.months,P.milliseconds=+w-+y.clone().add(P.months,"M"),P}function h4t(y,w){var P;return y.isValid()&&w.isValid()?(w=fae(w,y),y.isBefore(w)?P=w1e(y,w):(P=w1e(w,y),P.milliseconds=-P.milliseconds,P.months=-P.months),P):{milliseconds:0,months:0}}function S1e(y,w){return function(P,I){var R,H;return I!==null&&!isNaN(+I)&&(j(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),H=P,P=I,I=H),R=Am(P,I),x1e(this,R,y),this}}function x1e(y,w,P,I){var R=w._milliseconds,H=cae(w._days),ae=cae(w._months);y.isValid()&&(I=I??!0,ae&&o1e(y,Qi(y,"Month")+ae*P),H&&ol(y,"Date",Qi(y,"Date")+H*P),R&&y._d.setTime(y._d.valueOf()+R*P),I&&t.updateOffset(y,H||ae))}var m4t=S1e(1,"add"),g4t=S1e(-1,"subtract");function C1e(y){return typeof y=="string"||y instanceof String}function y4t(y){return T(y)||l(y)||C1e(y)||u(y)||_4t(y)||b4t(y)||y===null||y===void 0}function b4t(y){var w=o(y)&&!a(y),P=!1,I=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],R,H,ae=I.length;for(R=0;R<ae;R+=1)H=I[R],P=P||i(y,H);return w&&P}function _4t(y){var w=n(y),P=!1;return w&&(P=y.filter(function(I){return!u(I)&&C1e(y)}).length===0),w&&P}function v4t(y){var w=o(y)&&!a(y),P=!1,I=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],R,H;for(R=0;R<I.length;R+=1)H=I[R],P=P||i(y,H);return w&&P}function w4t(y,w){var P=y.diff(w,"days",!0);return P<-6?"sameElse":P<-1?"lastWeek":P<0?"lastDay":P<1?"sameDay":P<2?"nextDay":P<7?"nextWeek":"sameElse"}function S4t(y,w){arguments.length===1&&(arguments[0]?y4t(arguments[0])?(y=arguments[0],w=void 0):v4t(arguments[0])&&(w=arguments[0],y=void 0):(y=void 0,w=void 0));var P=y||gi(),I=fae(P,this).startOf("day"),R=t.calendarFormat(this,I)||"sameElse",H=w&&(N(w[R])?w[R].call(this,P):w[R]);return this.format(H||this.localeData().calendar(R,this,gi(P)))}function x4t(){return new O(this)}function C4t(y,w){var P=T(y)?y:gi(y);return this.isValid()&&P.isValid()?(w=Bt(w)||"millisecond",w==="millisecond"?this.valueOf()>P.valueOf():P.valueOf()<this.clone().startOf(w).valueOf()):!1}function O4t(y,w){var P=T(y)?y:gi(y);return this.isValid()&&P.isValid()?(w=Bt(w)||"millisecond",w==="millisecond"?this.valueOf()<P.valueOf():this.clone().endOf(w).valueOf()<P.valueOf()):!1}function E4t(y,w,P,I){var R=T(y)?y:gi(y),H=T(w)?w:gi(w);return this.isValid()&&R.isValid()&&H.isValid()?(I=I||"()",(I[0]==="("?this.isAfter(R,P):!this.isBefore(R,P))&&(I[1]===")"?this.isBefore(H,P):!this.isAfter(H,P))):!1}function P4t(y,w){var P=T(y)?y:gi(y),I;return this.isValid()&&P.isValid()?(w=Bt(w)||"millisecond",w==="millisecond"?this.valueOf()===P.valueOf():(I=P.valueOf(),this.clone().startOf(w).valueOf()<=I&&I<=this.clone().endOf(w).valueOf())):!1}function T4t(y,w){return this.isSame(y,w)||this.isAfter(y,w)}function M4t(y,w){return this.isSame(y,w)||this.isBefore(y,w)}function I4t(y,w,P){var I,R,H;if(!this.isValid())return NaN;if(I=fae(y,this),!I.isValid())return NaN;switch(R=(I.utcOffset()-this.utcOffset())*6e4,w=Bt(w),w){case"year":H=c6(this,I)/12;break;case"month":H=c6(this,I);break;case"quarter":H=c6(this,I)/3;break;case"second":H=(this-I)/1e3;break;case"minute":H=(this-I)/6e4;break;case"hour":H=(this-I)/36e5;break;case"day":H=(this-I-R)/864e5;break;case"week":H=(this-I-R)/6048e5;break;default:H=this-I}return P?H:lr(H)}function c6(y,w){if(y.date()<w.date())return-c6(w,y);var P=(w.year()-y.year())*12+(w.month()-y.month()),I=y.clone().add(P,"months"),R,H;return w-I<0?(R=y.clone().add(P-1,"months"),H=(w-I)/(I-R)):(R=y.clone().add(P+1,"months"),H=(w-I)/(R-I)),-(P+H)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function A4t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function R4t(y){if(!this.isValid())return null;var w=y!==!0,P=w?this.clone().utc():this;return P.year()<0||P.year()>9999?Q(P,w?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?w?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Q(P,"Z")):Q(P,w?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function D4t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var y="moment",w="",P,I,R,H;return this.isLocal()||(y=this.utcOffset()===0?"moment.utc":"moment.parseZone",w="Z"),P="["+y+'("]',I=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",R="-MM-DD[T]HH:mm:ss.SSS",H=w+'[")]',this.format(P+I+R+H)}function j4t(y){y||(y=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var w=Q(this,y);return this.localeData().postformat(w)}function N4t(y,w){return this.isValid()&&(T(y)&&y.isValid()||gi(y).isValid())?Am({to:this,from:y}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function L4t(y){return this.from(gi(),y)}function F4t(y,w){return this.isValid()&&(T(y)&&y.isValid()||gi(y).isValid())?Am({from:this,to:y}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function k4t(y){return this.to(gi(),y)}function O1e(y){var w;return y===void 0?this._locale._abbr:(w=aS(y),w!=null&&(this._locale=w),this)}var E1e=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(y){return y===void 0?this.localeData():this.locale(y)});function P1e(){return this._locale}var d6=1e3,fD=60*d6,f6=60*fD,T1e=(365*400+97)*24*f6;function pD(y,w){return(y%w+w)%w}function M1e(y,w,P){return y<100&&y>=0?new Date(y+400,w,P)-T1e:new Date(y,w,P).valueOf()}function I1e(y,w,P){return y<100&&y>=0?Date.UTC(y+400,w,P)-T1e:Date.UTC(y,w,P)}function B4t(y){var w,P;if(y=Bt(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?I1e:M1e,y){case"year":w=P(this.year(),0,1);break;case"quarter":w=P(this.year(),this.month()-this.month()%3,1);break;case"month":w=P(this.year(),this.month(),1);break;case"week":w=P(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":w=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":w=P(this.year(),this.month(),this.date());break;case"hour":w=this._d.valueOf(),w-=pD(w+(this._isUTC?0:this.utcOffset()*fD),f6);break;case"minute":w=this._d.valueOf(),w-=pD(w,fD);break;case"second":w=this._d.valueOf(),w-=pD(w,d6);break}return this._d.setTime(w),t.updateOffset(this,!0),this}function $4t(y){var w,P;if(y=Bt(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?I1e:M1e,y){case"year":w=P(this.year()+1,0,1)-1;break;case"quarter":w=P(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":w=P(this.year(),this.month()+1,1)-1;break;case"week":w=P(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":w=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":w=P(this.year(),this.month(),this.date()+1)-1;break;case"hour":w=this._d.valueOf(),w+=f6-pD(w+(this._isUTC?0:this.utcOffset()*fD),f6)-1;break;case"minute":w=this._d.valueOf(),w+=fD-pD(w,fD)-1;break;case"second":w=this._d.valueOf(),w+=d6-pD(w,d6)-1;break}return this._d.setTime(w),t.updateOffset(this,!0),this}function q4t(){return this._d.valueOf()-(this._offset||0)*6e4}function U4t(){return Math.floor(this.valueOf()/1e3)}function z4t(){return new Date(this.valueOf())}function H4t(){var y=this;return[y.year(),y.month(),y.date(),y.hour(),y.minute(),y.second(),y.millisecond()]}function V4t(){var y=this;return{years:y.year(),months:y.month(),date:y.date(),hours:y.hours(),minutes:y.minutes(),seconds:y.seconds(),milliseconds:y.milliseconds()}}function W4t(){return this.isValid()?this.toISOString():null}function J4t(){return _(this)}function G4t(){return d({},h(this))}function K4t(){return h(this).overflow}function Y4t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr"),te("NN",0,0,"eraAbbr"),te("NNN",0,0,"eraAbbr"),te("NNNN",0,0,"eraName"),te("NNNNN",0,0,"eraNarrow"),te("y",["y",1],"yo","eraYear"),te("y",["yy",2],0,"eraYear"),te("y",["yyy",3],0,"eraYear"),te("y",["yyyy",4],0,"eraYear"),je("N",hae),je("NN",hae),je("NNN",hae),je("NNNN",s3t),je("NNNNN",u3t),Qr(["N","NN","NNN","NNNN","NNNNN"],function(y,w,P,I){var R=P._locale.erasParse(y,I,P._strict);R?h(P).era=R:h(P).invalidEra=y}),je("y",ea),je("yy",ea),je("yyy",ea),je("yyyy",ea),je("yo",l3t),Qr(["y","yy","yyy","yyyy"],Mc),Qr(["yo"],function(y,w,P,I){var R;P._locale._eraYearOrdinalRegex&&(R=y.match(P._locale._eraYearOrdinalRegex)),P._locale.eraYearOrdinalParse?w[Mc]=P._locale.eraYearOrdinalParse(y,R):w[Mc]=parseInt(y,10)});function Z4t(y,w){var P,I,R,H=this._eras||aS("en")._eras;for(P=0,I=H.length;P<I;++P){switch(typeof H[P].since){case"string":R=t(H[P].since).startOf("day"),H[P].since=R.valueOf();break}switch(typeof H[P].until){case"undefined":H[P].until=1/0;break;case"string":R=t(H[P].until).startOf("day").valueOf(),H[P].until=R.valueOf();break}}return H}function X4t(y,w,P){var I,R,H=this.eras(),ae,Tt,Ar;for(y=y.toUpperCase(),I=0,R=H.length;I<R;++I)if(ae=H[I].name.toUpperCase(),Tt=H[I].abbr.toUpperCase(),Ar=H[I].narrow.toUpperCase(),P)switch(w){case"N":case"NN":case"NNN":if(Tt===y)return H[I];break;case"NNNN":if(ae===y)return H[I];break;case"NNNNN":if(Ar===y)return H[I];break}else if([ae,Tt,Ar].indexOf(y)>=0)return H[I]}function Q4t(y,w){var P=y.since<=y.until?1:-1;return w===void 0?t(y.since).year():t(y.since).year()+(w-y.offset)*P}function e3t(){var y,w,P,I=this.localeData().eras();for(y=0,w=I.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),I[y].since<=P&&P<=I[y].until||I[y].until<=P&&P<=I[y].since)return I[y].name;return""}function t3t(){var y,w,P,I=this.localeData().eras();for(y=0,w=I.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),I[y].since<=P&&P<=I[y].until||I[y].until<=P&&P<=I[y].since)return I[y].narrow;return""}function r3t(){var y,w,P,I=this.localeData().eras();for(y=0,w=I.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),I[y].since<=P&&P<=I[y].until||I[y].until<=P&&P<=I[y].since)return I[y].abbr;return""}function n3t(){var y,w,P,I,R=this.localeData().eras();for(y=0,w=R.length;y<w;++y)if(P=R[y].since<=R[y].until?1:-1,I=this.clone().startOf("day").valueOf(),R[y].since<=I&&I<=R[y].until||R[y].until<=I&&I<=R[y].since)return(this.year()-t(R[y].since).year())*P+R[y].offset;return this.year()}function o3t(y){return i(this,"_erasNameRegex")||mae.call(this),y?this._erasNameRegex:this._erasRegex}function i3t(y){return i(this,"_erasAbbrRegex")||mae.call(this),y?this._erasAbbrRegex:this._erasRegex}function a3t(y){return i(this,"_erasNarrowRegex")||mae.call(this),y?this._erasNarrowRegex:this._erasRegex}function hae(y,w){return w.erasAbbrRegex(y)}function s3t(y,w){return w.erasNameRegex(y)}function u3t(y,w){return w.erasNarrowRegex(y)}function l3t(y,w){return w._eraYearOrdinalRegex||ea}function mae(){var y=[],w=[],P=[],I=[],R,H,ae=this.eras();for(R=0,H=ae.length;R<H;++R)w.push(ju(ae[R].name)),y.push(ju(ae[R].abbr)),P.push(ju(ae[R].narrow)),I.push(ju(ae[R].name)),I.push(ju(ae[R].abbr)),I.push(ju(ae[R].narrow));this._erasRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+w.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+P.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100}),te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function p6(y,w){te(0,[y,y.length],0,w)}p6("gggg","weekYear"),p6("ggggg","weekYear"),p6("GGGG","isoWeekYear"),p6("GGGGG","isoWeekYear"),ur("weekYear","gg"),ur("isoWeekYear","GG"),jo("weekYear",1),jo("isoWeekYear",1),je("G",pd),je("g",pd),je("GG",hn,Oa),je("gg",hn,Oa),je("GGGG",Ea,Gf),je("gggg",Ea,Gf),je("GGGGG",rs,Jp),je("ggggg",rs,Jp),Mm(["gggg","ggggg","GGGG","GGGGG"],function(y,w,P,I){w[I.substr(0,2)]=Xe(y)}),Mm(["gg","GG"],function(y,w,P,I){w[I]=t.parseTwoDigitYear(y)});function c3t(y){return A1e.call(this,y,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function d3t(y){return A1e.call(this,y,this.isoWeek(),this.isoWeekday(),1,4)}function f3t(){return iS(this.year(),1,4)}function p3t(){return iS(this.isoWeekYear(),1,4)}function h3t(){var y=this.localeData()._week;return iS(this.year(),y.dow,y.doy)}function m3t(){var y=this.localeData()._week;return iS(this.weekYear(),y.dow,y.doy)}function A1e(y,w,P,I,R){var H;return y==null?m$(this,I,R).year:(H=iS(y,I,R),w>H&&(w=H),g3t.call(this,y,w,P,I,R))}function g3t(y,w,P,I,R){var H=u1e(y,w,P,I,R),ae=h$(H.year,0,H.dayOfYear);return this.year(ae.getUTCFullYear()),this.month(ae.getUTCMonth()),this.date(ae.getUTCDate()),this}te("Q",0,"Qo","quarter"),ur("quarter","Q"),jo("quarter",7),je("Q",Tm),Qr("Q",function(y,w){w[nS]=(Xe(y)-1)*3});function y3t(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)}te("D",["DD",2],"Do","date"),ur("date","D"),jo("date",9),je("D",hn),je("DD",hn,Oa),je("Do",function(y,w){return y?w._dayOfMonthOrdinalParse||w._ordinalParse:w._dayOfMonthOrdinalParseLenient}),Qr(["D","DD"],Zg),Qr("Do",function(y,w){w[Zg]=Xe(y.match(hn)[0])});var R1e=Bn("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear"),ur("dayOfYear","DDD"),jo("dayOfYear",4),je("DDD",oO),je("DDDD",Wp),Qr(["DDD","DDDD"],function(y,w,P){P._dayOfYear=Xe(y)});function b3t(y){var w=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return y==null?w:this.add(y-w,"d")}te("m",["mm",2],0,"minute"),ur("minute","m"),jo("minute",14),je("m",hn),je("mm",hn,Oa),Qr(["m","mm"],Im);var _3t=Bn("Minutes",!1);te("s",["ss",2],0,"second"),ur("second","s"),jo("second",15),je("s",hn),je("ss",hn,Oa),Qr(["s","ss"],oS);var v3t=Bn("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)}),te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),te(0,["SSS",3],0,"millisecond"),te(0,["SSSS",4],0,function(){return this.millisecond()*10}),te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ur("millisecond","ms"),jo("millisecond",16),je("S",oO,Tm),je("SS",oO,Oa),je("SSS",oO,Wp);var aO,D1e;for(aO="SSSS";aO.length<=9;aO+="S")je(aO,ea);function w3t(y,w){w[dM]=Xe(("0."+y)*1e3)}for(aO="S";aO.length<=9;aO+="S")Qr(aO,w3t);D1e=Bn("Milliseconds",!1),te("z",0,0,"zoneAbbr"),te("zz",0,0,"zoneName");function S3t(){return this._isUTC?"UTC":""}function x3t(){return this._isUTC?"Coordinated Universal Time":""}var Ee=O.prototype;Ee.add=m4t,Ee.calendar=S4t,Ee.clone=x4t,Ee.diff=I4t,Ee.endOf=$4t,Ee.format=j4t,Ee.from=N4t,Ee.fromNow=L4t,Ee.to=F4t,Ee.toNow=k4t,Ee.get=Pc,Ee.invalidAt=K4t,Ee.isAfter=C4t,Ee.isBefore=O4t,Ee.isBetween=E4t,Ee.isSame=P4t,Ee.isSameOrAfter=T4t,Ee.isSameOrBefore=M4t,Ee.isValid=J4t,Ee.lang=E1e,Ee.locale=O1e,Ee.localeData=P1e,Ee.max=J2t,Ee.min=W2t,Ee.parsingFlags=G4t,Ee.set=Pm,Ee.startOf=B4t,Ee.subtract=g4t,Ee.toArray=H4t,Ee.toObject=V4t,Ee.toDate=z4t,Ee.toISOString=R4t,Ee.inspect=D4t,typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ee.toJSON=W4t,Ee.toString=A4t,Ee.unix=U4t,Ee.valueOf=q4t,Ee.creationData=Y4t,Ee.eraName=e3t,Ee.eraNarrow=t3t,Ee.eraAbbr=r3t,Ee.eraYear=n3t,Ee.year=s1e,Ee.isLeapYear=Vzt,Ee.weekYear=c3t,Ee.isoWeekYear=d3t,Ee.quarter=Ee.quarters=y3t,Ee.month=i1e,Ee.daysInMonth=Uzt,Ee.week=Ee.weeks=Zzt,Ee.isoWeek=Ee.isoWeeks=Xzt,Ee.weeksInYear=h3t,Ee.weeksInWeekYear=m3t,Ee.isoWeeksInYear=f3t,Ee.isoWeeksInISOWeekYear=p3t,Ee.date=R1e,Ee.day=Ee.days=d2t,Ee.weekday=f2t,Ee.isoWeekday=p2t,Ee.dayOfYear=b3t,Ee.hour=Ee.hours=v2t,Ee.minute=Ee.minutes=_3t,Ee.second=Ee.seconds=v3t,Ee.millisecond=Ee.milliseconds=D1e,Ee.utcOffset=r4t,Ee.utc=o4t,Ee.local=i4t,Ee.parseZone=a4t,Ee.hasAlignedHourOffset=s4t,Ee.isDST=u4t,Ee.isLocal=c4t,Ee.isUtcOffset=d4t,Ee.isUtc=v1e,Ee.isUTC=v1e,Ee.zoneAbbr=S3t,Ee.zoneName=x3t,Ee.dates=M("dates accessor is deprecated. Use date instead.",R1e),Ee.months=M("months accessor is deprecated. Use month instead",i1e),Ee.years=M("years accessor is deprecated. Use year instead",s1e),Ee.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",n4t),Ee.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",l4t);function C3t(y){return gi(y*1e3)}function O3t(){return gi.apply(null,arguments).parseZone()}function j1e(y){return y}var $n=L.prototype;$n.calendar=G,$n.longDateFormat=ht,$n.invalidDate=ie,$n.ordinal=Ue,$n.preparse=j1e,$n.postformat=j1e,$n.relativeTime=Je,$n.pastFuture=sr,$n.set=F,$n.eras=Z4t,$n.erasParse=X4t,$n.erasConvertYear=Q4t,$n.erasAbbrRegex=i3t,$n.erasNameRegex=o3t,$n.erasNarrowRegex=a3t,$n.months=kzt,$n.monthsShort=Bzt,$n.monthsParse=qzt,$n.monthsRegex=Hzt,$n.monthsShortRegex=zzt,$n.week=Jzt,$n.firstDayOfYear=Yzt,$n.firstDayOfWeek=Kzt,$n.weekdays=a2t,$n.weekdaysMin=u2t,$n.weekdaysShort=s2t,$n.weekdaysParse=c2t,$n.weekdaysRegex=h2t,$n.weekdaysShortRegex=m2t,$n.weekdaysMinRegex=g2t,$n.isPM=b2t,$n.meridiem=w2t;function h6(y,w,P,I){var R=aS(),H=f().set(I,w);return R[P](H,y)}function N1e(y,w,P){if(u(y)&&(w=y,y=void 0),y=y||"",w!=null)return h6(y,w,P,"month");var I,R=[];for(I=0;I<12;I++)R[I]=h6(y,I,P,"month");return R}function gae(y,w,P,I){typeof y=="boolean"?(u(w)&&(P=w,w=void 0),w=w||""):(w=y,P=w,y=!1,u(w)&&(P=w,w=void 0),w=w||"");var R=aS(),H=y?R._week.dow:0,ae,Tt=[];if(P!=null)return h6(w,(P+H)%7,I,"day");for(ae=0;ae<7;ae++)Tt[ae]=h6(w,(ae+H)%7,I,"day");return Tt}function E3t(y,w){return N1e(y,w,"months")}function P3t(y,w){return N1e(y,w,"monthsShort")}function T3t(y,w,P){return gae(y,w,P,"weekdays")}function M3t(y,w,P){return gae(y,w,P,"weekdaysShort")}function I3t(y,w,P){return gae(y,w,P,"weekdaysMin")}iO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(y){var w=y%10,P=Xe(y%100/10)===1?"th":w===1?"st":w===2?"nd":w===3?"rd":"th";return y+P}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",iO),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",aS);var sS=Math.abs;function A3t(){var y=this._data;return this._milliseconds=sS(this._milliseconds),this._days=sS(this._days),this._months=sS(this._months),y.milliseconds=sS(y.milliseconds),y.seconds=sS(y.seconds),y.minutes=sS(y.minutes),y.hours=sS(y.hours),y.months=sS(y.months),y.years=sS(y.years),this}function L1e(y,w,P,I){var R=Am(w,P);return y._milliseconds+=I*R._milliseconds,y._days+=I*R._days,y._months+=I*R._months,y._bubble()}function R3t(y,w){return L1e(this,y,w,1)}function D3t(y,w){return L1e(this,y,w,-1)}function F1e(y){return y<0?Math.floor(y):Math.ceil(y)}function j3t(){var y=this._milliseconds,w=this._days,P=this._months,I=this._data,R,H,ae,Tt,Ar;return y>=0&&w>=0&&P>=0||y<=0&&w<=0&&P<=0||(y+=F1e(yae(P)+w)*864e5,w=0,P=0),I.milliseconds=y%1e3,R=lr(y/1e3),I.seconds=R%60,H=lr(R/60),I.minutes=H%60,ae=lr(H/60),I.hours=ae%24,w+=lr(ae/24),Ar=lr(k1e(w)),P+=Ar,w-=F1e(yae(Ar)),Tt=lr(P/12),P%=12,I.days=w,I.months=P,I.years=Tt,this}function k1e(y){return y*4800/146097}function yae(y){return y*146097/4800}function N3t(y){if(!this.isValid())return NaN;var w,P,I=this._milliseconds;if(y=Bt(y),y==="month"||y==="quarter"||y==="year")switch(w=this._days+I/864e5,P=this._months+k1e(w),y){case"month":return P;case"quarter":return P/3;case"year":return P/12}else switch(w=this._days+Math.round(yae(this._months)),y){case"week":return w/7+I/6048e5;case"day":return w+I/864e5;case"hour":return w*24+I/36e5;case"minute":return w*1440+I/6e4;case"second":return w*86400+I/1e3;case"millisecond":return Math.floor(w*864e5)+I;default:throw new Error("Unknown unit "+y)}}function L3t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Xe(this._months/12)*31536e6:NaN}function uS(y){return function(){return this.as(y)}}var F3t=uS("ms"),k3t=uS("s"),B3t=uS("m"),$3t=uS("h"),q3t=uS("d"),U3t=uS("w"),z3t=uS("M"),H3t=uS("Q"),V3t=uS("y");function W3t(){return Am(this)}function J3t(y){return y=Bt(y),this.isValid()?this[y+"s"]():NaN}function pM(y){return function(){return this.isValid()?this._data[y]:NaN}}var G3t=pM("milliseconds"),K3t=pM("seconds"),Y3t=pM("minutes"),Z3t=pM("hours"),X3t=pM("days"),Q3t=pM("months"),e8t=pM("years");function t8t(){return lr(this.days()/7)}var lS=Math.round,hD={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function r8t(y,w,P,I,R){return R.relativeTime(w||1,!!P,y,I)}function n8t(y,w,P,I){var R=Am(y).abs(),H=lS(R.as("s")),ae=lS(R.as("m")),Tt=lS(R.as("h")),Ar=lS(R.as("d")),$o=lS(R.as("M")),gd=lS(R.as("w")),cS=lS(R.as("y")),sO=H<=P.ss&&["s",H]||H<P.s&&["ss",H]||ae<=1&&["m"]||ae<P.m&&["mm",ae]||Tt<=1&&["h"]||Tt<P.h&&["hh",Tt]||Ar<=1&&["d"]||Ar<P.d&&["dd",Ar];return P.w!=null&&(sO=sO||gd<=1&&["w"]||gd<P.w&&["ww",gd]),sO=sO||$o<=1&&["M"]||$o<P.M&&["MM",$o]||cS<=1&&["y"]||["yy",cS],sO[2]=w,sO[3]=+y>0,sO[4]=I,r8t.apply(null,sO)}function o8t(y){return y===void 0?lS:typeof y=="function"?(lS=y,!0):!1}function i8t(y,w){return hD[y]===void 0?!1:w===void 0?hD[y]:(hD[y]=w,y==="s"&&(hD.ss=w-1),!0)}function a8t(y,w){if(!this.isValid())return this.localeData().invalidDate();var P=!1,I=hD,R,H;return typeof y=="object"&&(w=y,y=!1),typeof y=="boolean"&&(P=y),typeof w=="object"&&(I=Object.assign({},hD,w),w.s!=null&&w.ss==null&&(I.ss=w.s-1)),R=this.localeData(),H=n8t(this,!P,I,R),P&&(H=R.pastFuture(+this,H)),R.postformat(H)}var bae=Math.abs;function mD(y){return(y>0)-(y<0)||+y}function m6(){if(!this.isValid())return this.localeData().invalidDate();var y=bae(this._milliseconds)/1e3,w=bae(this._days),P=bae(this._months),I,R,H,ae,Tt=this.asSeconds(),Ar,$o,gd,cS;return Tt?(I=lr(y/60),R=lr(I/60),y%=60,I%=60,H=lr(P/12),P%=12,ae=y?y.toFixed(3).replace(/\.?0+$/,""):"",Ar=Tt<0?"-":"",$o=mD(this._months)!==mD(Tt)?"-":"",gd=mD(this._days)!==mD(Tt)?"-":"",cS=mD(this._milliseconds)!==mD(Tt)?"-":"",Ar+"P"+(H?$o+H+"Y":"")+(P?$o+P+"M":"")+(w?gd+w+"D":"")+(R||I||y?"T":"")+(R?cS+R+"H":"")+(I?cS+I+"M":"")+(y?cS+ae+"S":"")):"P0D"}var wn=u6.prototype;wn.isValid=X2t,wn.abs=A3t,wn.add=R3t,wn.subtract=D3t,wn.as=N3t,wn.asMilliseconds=F3t,wn.asSeconds=k3t,wn.asMinutes=B3t,wn.asHours=$3t,wn.asDays=q3t,wn.asWeeks=U3t,wn.asMonths=z3t,wn.asQuarters=H3t,wn.asYears=V3t,wn.valueOf=L3t,wn._bubble=j3t,wn.clone=W3t,wn.get=J3t,wn.milliseconds=G3t,wn.seconds=K3t,wn.minutes=Y3t,wn.hours=Z3t,wn.days=X3t,wn.weeks=t8t,wn.months=Q3t,wn.years=e8t,wn.humanize=a8t,wn.toISOString=m6,wn.toString=m6,wn.toJSON=m6,wn.locale=O1e,wn.localeData=P1e,wn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",m6),wn.lang=E1e,te("X",0,0,"unix"),te("x",0,0,"valueOf"),je("x",pd),je("X",Gd),Qr("X",function(y,w,P){P._d=new Date(parseFloat(y)*1e3)}),Qr("x",function(y,w,P){P._d=new Date(Xe(y))});return t.version="2.29.4",r(gi),t.fn=Ee,t.min=G2t,t.max=K2t,t.now=Y2t,t.utc=f,t.unix=C3t,t.months=E3t,t.isDate=l,t.locale=iO,t.invalid=g,t.duration=Am,t.isMoment=T,t.weekdays=T3t,t.parseZone=O3t,t.localeData=aS,t.isDuration=l6,t.monthsShort=P3t,t.weekdaysMin=I3t,t.defineLocale=iae,t.updateLocale=O2t,t.locales=E2t,t.weekdaysShort=M3t,t.normalizeUnits=Bt,t.relativeTimeRounding=o8t,t.relativeTimeThreshold=i8t,t.calendarFormat=w4t,t.prototype=Ee,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var lle=b(QV=>{"use strict";QV.byteLength=IJt;QV.toByteArray=RJt;QV.fromByteArray=NJt;var sy=[],sh=[],MJt=typeof Uint8Array<"u"?Uint8Array:Array,ule="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(XM=0,Oke=ule.length;XM<Oke;++XM)sy[XM]=ule[XM],sh[ule.charCodeAt(XM)]=XM;var XM,Oke;sh[45]=62;sh[95]=63;function Eke(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function IJt(e){var t=Eke(e),r=t[0],n=t[1];return(r+n)*3/4-n}function AJt(e,t,r){return(t+r)*3/4-r}function RJt(e){var t,r=Eke(e),n=r[0],o=r[1],i=new MJt(AJt(e,n,o)),a=0,s=o>0?n-4:n,u;for(u=0;u<s;u+=4)t=sh[e.charCodeAt(u)]<<18|sh[e.charCodeAt(u+1)]<<12|sh[e.charCodeAt(u+2)]<<6|sh[e.charCodeAt(u+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=t&255;return o===2&&(t=sh[e.charCodeAt(u)]<<2|sh[e.charCodeAt(u+1)]>>4,i[a++]=t&255),o===1&&(t=sh[e.charCodeAt(u)]<<10|sh[e.charCodeAt(u+1)]<<4|sh[e.charCodeAt(u+2)]>>2,i[a++]=t>>8&255,i[a++]=t&255),i}function DJt(e){return sy[e>>18&63]+sy[e>>12&63]+sy[e>>6&63]+sy[e&63]}function jJt(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(DJt(n));return o.join("")}function NJt(e){for(var t,r=e.length,n=r%3,o=[],i=16383,a=0,s=r-n;a<s;a+=i)o.push(jJt(e,a,a+i>s?s:a+i));return n===1?(t=e[r-1],o.push(sy[t>>2]+sy[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(sy[t>>10]+sy[t>>4&63]+sy[t<<2&63]+"=")),o.join("")}});var Pke=b(cle=>{cle.read=function(e,t,r,n,o){var i,a,s=o*8-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?o-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=i*256+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=a*256+e[t+d],d+=f,c-=8);if(i===0)i=1-l;else{if(i===u)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-l}return(p?-1:1)*a*Math.pow(2,i-n)};cle.write=function(e,t,r,n,o,i){var a,s,u,l=i*8-o-1,c=(1<<l)-1,d=c>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=f/u:t+=f*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,o),a=a+d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=s&255,p+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[r+p]=a&255,p+=h,a/=256,l-=8);e[r+p-h]|=m*128}});var Td=b(rj=>{"use strict";var dle=lle(),ej=Pke(),Tke=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;rj.Buffer=le;rj.SlowBuffer=qJt;rj.INSPECT_MAX_BYTES=50;var e5=2147483647;rj.kMaxLength=e5;le.TYPED_ARRAY_SUPPORT=LJt();!le.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function LJt(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(le.prototype,"parent",{enumerable:!0,get:function(){if(le.isBuffer(this))return this.buffer}});Object.defineProperty(le.prototype,"offset",{enumerable:!0,get:function(){if(le.isBuffer(this))return this.byteOffset}});function RS(e){if(e>e5)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,le.prototype),t}function le(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return mle(e)}return Rke(e,t,r)}le.poolSize=8192;function Rke(e,t,r){if(typeof e=="string")return kJt(e,t);if(ArrayBuffer.isView(e))return BJt(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(uy(e,ArrayBuffer)||e&&uy(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(uy(e,SharedArrayBuffer)||e&&uy(e.buffer,SharedArrayBuffer)))return ple(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return le.from(n,t,r);let o=$Jt(e);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return le.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}le.from=function(e,t,r){return Rke(e,t,r)};Object.setPrototypeOf(le.prototype,Uint8Array.prototype);Object.setPrototypeOf(le,Uint8Array);function Dke(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function FJt(e,t,r){return Dke(e),e<=0?RS(e):t!==void 0?typeof r=="string"?RS(e).fill(t,r):RS(e).fill(t):RS(e)}le.alloc=function(e,t,r){return FJt(e,t,r)};function mle(e){return Dke(e),RS(e<0?0:gle(e)|0)}le.allocUnsafe=function(e){return mle(e)};le.allocUnsafeSlow=function(e){return mle(e)};function kJt(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!le.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=jke(e,t)|0,n=RS(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}function fle(e){let t=e.length<0?0:gle(e.length)|0,r=RS(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}function BJt(e){if(uy(e,Uint8Array)){let t=new Uint8Array(e);return ple(t.buffer,t.byteOffset,t.byteLength)}return fle(e)}function ple(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,le.prototype),n}function $Jt(e){if(le.isBuffer(e)){let t=gle(e.length)|0,r=RS(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||ble(e.length)?RS(0):fle(e);if(e.type==="Buffer"&&Array.isArray(e.data))return fle(e.data)}function gle(e){if(e>=e5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e5.toString(16)+" bytes");return e|0}function qJt(e){return+e!=e&&(e=0),le.alloc(+e)}le.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==le.prototype};le.compare=function(t,r){if(uy(t,Uint8Array)&&(t=le.from(t,t.offset,t.byteLength)),uy(r,Uint8Array)&&(r=le.from(r,r.offset,r.byteLength)),!le.isBuffer(t)||!le.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let n=t.length,o=r.length;for(let i=0,a=Math.min(n,o);i<a;++i)if(t[i]!==r[i]){n=t[i],o=r[i];break}return n<o?-1:o<n?1:0};le.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};le.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return le.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;let o=le.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){let a=t[n];if(uy(a,Uint8Array))i+a.length>o.length?(le.isBuffer(a)||(a=le.from(a)),a.copy(o,i)):Uint8Array.prototype.set.call(o,a,i);else if(le.isBuffer(a))a.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=a.length}return o};function jke(e,t){if(le.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||uy(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return hle(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return zke(e).length;default:if(o)return n?-1:hle(e).length;t=(""+t).toLowerCase(),o=!0}}le.byteLength=jke;function UJt(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return XJt(this,t,r);case"utf8":case"utf-8":return Lke(this,t,r);case"ascii":return YJt(this,t,r);case"latin1":case"binary":return ZJt(this,t,r);case"base64":return GJt(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return QJt(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}le.prototype._isBuffer=!0;function QM(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}le.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)QM(this,r,r+1);return this};le.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)QM(this,r,r+3),QM(this,r+1,r+2);return this};le.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)QM(this,r,r+7),QM(this,r+1,r+6),QM(this,r+2,r+5),QM(this,r+3,r+4);return this};le.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Lke(this,0,t):UJt.apply(this,arguments)};le.prototype.toLocaleString=le.prototype.toString;le.prototype.equals=function(t){if(!le.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:le.compare(this,t)===0};le.prototype.inspect=function(){let t="",r=rj.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};Tke&&(le.prototype[Tke]=le.prototype.inspect);le.prototype.compare=function(t,r,n,o,i){if(uy(t,Uint8Array)&&(t=le.from(t,t.offset,t.byteLength)),!le.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;let a=i-o,s=n-r,u=Math.min(a,s),l=this.slice(o,i),c=t.slice(r,n);for(let d=0;d<u;++d)if(l[d]!==c[d]){a=l[d],s=c[d];break}return a<s?-1:s<a?1:0};function Nke(e,t,r,n,o){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,ble(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof t=="string"&&(t=le.from(t,n)),le.isBuffer(t))return t.length===0?-1:Mke(e,t,r,n,o);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Mke(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function Mke(e,t,r,n,o){let i=1,a=e.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;i=2,a/=2,s/=2,r/=2}function u(c,d){return i===1?c[d]:c.readUInt16BE(d*i)}let l;if(o){let c=-1;for(l=r;l<a;l++)if(u(e,l)===u(t,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===s)return c*i}else c!==-1&&(l-=l-c),c=-1}else for(r+s>a&&(r=a-s),l=r;l>=0;l--){let c=!0;for(let d=0;d<s;d++)if(u(e,l+d)!==u(t,d)){c=!1;break}if(c)return l}return-1}le.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};le.prototype.indexOf=function(t,r,n){return Nke(this,t,r,n,!0)};le.prototype.lastIndexOf=function(t,r,n){return Nke(this,t,r,n,!1)};function zJt(e,t,r,n){r=Number(r)||0;let o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=t.length;n>i/2&&(n=i/2);let a;for(a=0;a<n;++a){let s=parseInt(t.substr(a*2,2),16);if(ble(s))return a;e[r+a]=s}return a}function HJt(e,t,r,n){return t5(hle(t,e.length-r),e,r,n)}function VJt(e,t,r,n){return t5(nGt(t),e,r,n)}function WJt(e,t,r,n){return t5(zke(t),e,r,n)}function JJt(e,t,r,n){return t5(oGt(t,e.length-r),e,r,n)}le.prototype.write=function(t,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let a=!1;for(;;)switch(o){case"hex":return zJt(this,t,r,n);case"utf8":case"utf-8":return HJt(this,t,r,n);case"ascii":case"latin1":case"binary":return VJt(this,t,r,n);case"base64":return WJt(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JJt(this,t,r,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function GJt(e,t,r){return t===0&&r===e.length?dle.fromByteArray(e):dle.fromByteArray(e.slice(t,r))}function Lke(e,t,r){r=Math.min(e.length,r);let n=[],o=t;for(;o<r;){let i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=r){let u,l,c,d;switch(s){case 1:i<128&&(a=i);break;case 2:u=e[o+1],(u&192)===128&&(d=(i&31)<<6|u&63,d>127&&(a=d));break;case 3:u=e[o+1],l=e[o+2],(u&192)===128&&(l&192)===128&&(d=(i&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],(u&192)===128&&(l&192)===128&&(c&192)===128&&(d=(i&15)<<18|(u&63)<<12|(l&63)<<6|c&63,d>65535&&d<1114112&&(a=d))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),o+=s}return KJt(n)}var Ike=4096;function KJt(e){let t=e.length;if(t<=Ike)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ike));return r}function YJt(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]&127);return n}function ZJt(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function XJt(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=t;i<r;++i)o+=iGt[e[i]];return o}function QJt(e,t,r){let n=e.slice(t,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}le.prototype.slice=function(t,r){let n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);let o=this.subarray(t,r);return Object.setPrototypeOf(o,le.prototype),o};function ul(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUintLE=le.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||ul(t,r,this.length);let o=this[t],i=1,a=0;for(;++a<r&&(i*=256);)o+=this[t+a]*i;return o};le.prototype.readUintBE=le.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||ul(t,r,this.length);let o=this[t+--r],i=1;for(;r>0&&(i*=256);)o+=this[t+--r]*i;return o};le.prototype.readUint8=le.prototype.readUInt8=function(t,r){return t=t>>>0,r||ul(t,1,this.length),this[t]};le.prototype.readUint16LE=le.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||ul(t,2,this.length),this[t]|this[t+1]<<8};le.prototype.readUint16BE=le.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||ul(t,2,this.length),this[t]<<8|this[t+1]};le.prototype.readUint32LE=le.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};le.prototype.readUint32BE=le.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};le.prototype.readBigUInt64LE=MO(function(t){t=t>>>0,tj(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&hq(t,this.length-8);let o=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,i=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});le.prototype.readBigUInt64BE=MO(function(t){t=t>>>0,tj(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&hq(t,this.length-8);let o=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],i=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});le.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||ul(t,r,this.length);let o=this[t],i=1,a=0;for(;++a<r&&(i*=256);)o+=this[t+a]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};le.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||ul(t,r,this.length);let o=r,i=1,a=this[t+--o];for(;o>0&&(i*=256);)a+=this[t+--o]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a};le.prototype.readInt8=function(t,r){return t=t>>>0,r||ul(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};le.prototype.readInt16LE=function(t,r){t=t>>>0,r||ul(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};le.prototype.readInt16BE=function(t,r){t=t>>>0,r||ul(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};le.prototype.readInt32LE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};le.prototype.readInt32BE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};le.prototype.readBigInt64LE=MO(function(t){t=t>>>0,tj(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&hq(t,this.length-8);let o=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});le.prototype.readBigInt64BE=MO(function(t){t=t>>>0,tj(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&hq(t,this.length-8);let o=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(o)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});le.prototype.readFloatLE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),ej.read(this,t,!0,23,4)};le.prototype.readFloatBE=function(t,r){return t=t>>>0,r||ul(t,4,this.length),ej.read(this,t,!1,23,4)};le.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||ul(t,8,this.length),ej.read(this,t,!0,52,8)};le.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||ul(t,8,this.length),ej.read(this,t,!1,52,8)};function lf(e,t,r,n,o,i){if(!le.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}le.prototype.writeUintLE=le.prototype.writeUIntLE=function(t,r,n,o){if(t=+t,r=r>>>0,n=n>>>0,!o){let s=Math.pow(2,8*n)-1;lf(this,t,r,n,s,0)}let i=1,a=0;for(this[r]=t&255;++a<n&&(i*=256);)this[r+a]=t/i&255;return r+n};le.prototype.writeUintBE=le.prototype.writeUIntBE=function(t,r,n,o){if(t=+t,r=r>>>0,n=n>>>0,!o){let s=Math.pow(2,8*n)-1;lf(this,t,r,n,s,0)}let i=n-1,a=1;for(this[r+i]=t&255;--i>=0&&(a*=256);)this[r+i]=t/a&255;return r+n};le.prototype.writeUint8=le.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,1,255,0),this[r]=t&255,r+1};le.prototype.writeUint16LE=le.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};le.prototype.writeUint16BE=le.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};le.prototype.writeUint32LE=le.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};le.prototype.writeUint32BE=le.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Fke(e,t,r,n,o){Uke(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i=i>>8,e[r++]=i,i=i>>8,e[r++]=i,i=i>>8,e[r++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,r}function kke(e,t,r,n,o){Uke(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i=i>>8,e[r+6]=i,i=i>>8,e[r+5]=i,i=i>>8,e[r+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a=a>>8,e[r+2]=a,a=a>>8,e[r+1]=a,a=a>>8,e[r]=a,r+8}le.prototype.writeBigUInt64LE=MO(function(t,r=0){return Fke(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});le.prototype.writeBigUInt64BE=MO(function(t,r=0){return kke(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});le.prototype.writeIntLE=function(t,r,n,o){if(t=+t,r=r>>>0,!o){let u=Math.pow(2,8*n-1);lf(this,t,r,n,u-1,-u)}let i=0,a=1,s=0;for(this[r]=t&255;++i<n&&(a*=256);)t<0&&s===0&&this[r+i-1]!==0&&(s=1),this[r+i]=(t/a>>0)-s&255;return r+n};le.prototype.writeIntBE=function(t,r,n,o){if(t=+t,r=r>>>0,!o){let u=Math.pow(2,8*n-1);lf(this,t,r,n,u-1,-u)}let i=n-1,a=1,s=0;for(this[r+i]=t&255;--i>=0&&(a*=256);)t<0&&s===0&&this[r+i+1]!==0&&(s=1),this[r+i]=(t/a>>0)-s&255;return r+n};le.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};le.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};le.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};le.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};le.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||lf(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};le.prototype.writeBigInt64LE=MO(function(t,r=0){return Fke(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});le.prototype.writeBigInt64BE=MO(function(t,r=0){return kke(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Bke(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $ke(e,t,r,n,o){return t=+t,r=r>>>0,o||Bke(e,t,r,4,34028234663852886e22,-34028234663852886e22),ej.write(e,t,r,n,23,4),r+4}le.prototype.writeFloatLE=function(t,r,n){return $ke(this,t,r,!0,n)};le.prototype.writeFloatBE=function(t,r,n){return $ke(this,t,r,!1,n)};function qke(e,t,r,n,o){return t=+t,r=r>>>0,o||Bke(e,t,r,8,17976931348623157e292,-17976931348623157e292),ej.write(e,t,r,n,52,8),r+8}le.prototype.writeDoubleLE=function(t,r,n){return qke(this,t,r,!0,n)};le.prototype.writeDoubleBE=function(t,r,n){return qke(this,t,r,!1,n)};le.prototype.copy=function(t,r,n,o){if(!le.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);let i=o-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(t,this.subarray(n,o),r),i};le.prototype.fill=function(t,r,n,o){if(typeof t=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!le.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(t.length===1){let a=t.charCodeAt(0);(o==="utf8"&&a<128||o==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let i;if(typeof t=="number")for(i=r;i<n;++i)this[i]=t;else{let a=le.isBuffer(t)?t:le.from(t,o),s=a.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=a[i%s]}return this};var QD={};function yle(e,t,r){QD[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}yle("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);yle("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);yle("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=Ake(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=Ake(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n},RangeError);function Ake(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function eGt(e,t,r){tj(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&hq(t,e.length-(r+1))}function Uke(e,t,r,n,o,i){if(e>r||e<t){let a=typeof t=="bigint"?"n":"",s;throw i>3?t===0||t===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(i+1)*8}${a}`:s=`>= -(2${a} ** ${(i+1)*8-1}${a}) and < 2 ** ${(i+1)*8-1}${a}`:s=`>= ${t}${a} and <= ${r}${a}`,new QD.ERR_OUT_OF_RANGE("value",s,e)}eGt(n,o,i)}function tj(e,t){if(typeof e!="number")throw new QD.ERR_INVALID_ARG_TYPE(t,"number",e)}function hq(e,t,r){throw Math.floor(e)!==e?(tj(e,r),new QD.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new QD.ERR_BUFFER_OUT_OF_BOUNDS:new QD.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var tGt=/[^+/0-9A-Za-z-_]/g;function rGt(e){if(e=e.split("=")[0],e=e.trim().replace(tGt,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function hle(e,t){t=t||1/0;let r,n=e.length,o=null,i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function nGt(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function oGt(e,t){let r,n,o,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function zke(e){return dle.toByteArray(rGt(e))}function t5(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function uy(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function ble(e){return e!==e}var iGt=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function MO(e){return typeof BigInt>"u"?aGt:e}function aGt(){throw new Error("BigInt not supported")}});var CBe=b(ii=>{"use strict";function qle(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(0<g5(o,t))e[n]=t,e[r]=o,r=n;else break e}}function Um(e){return e.length===0?null:e[0]}function b5(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,i=o>>>1;n<i;){var a=2*(n+1)-1,s=e[a],u=a+1,l=e[u];if(0>g5(s,r))u<o&&0>g5(l,s)?(e[n]=l,e[u]=r,n=u):(e[n]=s,e[a]=r,n=a);else if(u<o&&0>g5(l,r))e[n]=l,e[u]=r,n=u;else break e}}return t}function g5(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(mBe=performance,ii.unstable_now=function(){return mBe.now()}):(kle=Date,gBe=kle.now(),ii.unstable_now=function(){return kle.now()-gBe});var mBe,kle,gBe,fy=[],DO=[],hGt=1,lh=null,Fc=3,_5=!1,oI=!1,vq=!1,_Be=typeof setTimeout=="function"?setTimeout:null,vBe=typeof clearTimeout=="function"?clearTimeout:null,yBe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ule(e){for(var t=Um(DO);t!==null;){if(t.callback===null)b5(DO);else if(t.startTime<=e)b5(DO),t.sortIndex=t.expirationTime,qle(fy,t);else break;t=Um(DO)}}function zle(e){if(vq=!1,Ule(e),!oI)if(Um(fy)!==null)oI=!0,Vle(Hle);else{var t=Um(DO);t!==null&&Wle(zle,t.startTime-e)}}function Hle(e,t){oI=!1,vq&&(vq=!1,vBe(wq),wq=-1),_5=!0;var r=Fc;try{for(Ule(t),lh=Um(fy);lh!==null&&(!(lh.expirationTime>t)||e&&!xBe());){var n=lh.callback;if(typeof n=="function"){lh.callback=null,Fc=lh.priorityLevel;var o=n(lh.expirationTime<=t);t=ii.unstable_now(),typeof o=="function"?lh.callback=o:lh===Um(fy)&&b5(fy),Ule(t)}else b5(fy);lh=Um(fy)}if(lh!==null)var i=!0;else{var a=Um(DO);a!==null&&Wle(zle,a.startTime-t),i=!1}return i}finally{lh=null,Fc=r,_5=!1}}var v5=!1,y5=null,wq=-1,wBe=5,SBe=-1;function xBe(){return!(ii.unstable_now()-SBe<wBe)}function Ble(){if(y5!==null){var e=ii.unstable_now();SBe=e;var t=!0;try{t=y5(!0,e)}finally{t?_q():(v5=!1,y5=null)}}else v5=!1}var _q;typeof yBe=="function"?_q=function(){yBe(Ble)}:typeof MessageChannel<"u"?($le=new MessageChannel,bBe=$le.port2,$le.port1.onmessage=Ble,_q=function(){bBe.postMessage(null)}):_q=function(){_Be(Ble,0)};var $le,bBe;function Vle(e){y5=e,v5||(v5=!0,_q())}function Wle(e,t){wq=_Be(function(){e(ii.unstable_now())},t)}ii.unstable_IdlePriority=5;ii.unstable_ImmediatePriority=1;ii.unstable_LowPriority=4;ii.unstable_NormalPriority=3;ii.unstable_Profiling=null;ii.unstable_UserBlockingPriority=2;ii.unstable_cancelCallback=function(e){e.callback=null};ii.unstable_continueExecution=function(){oI||_5||(oI=!0,Vle(Hle))};ii.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wBe=0<e?Math.floor(1e3/e):5};ii.unstable_getCurrentPriorityLevel=function(){return Fc};ii.unstable_getFirstCallbackNode=function(){return Um(fy)};ii.unstable_next=function(e){switch(Fc){case 1:case 2:case 3:var t=3;break;default:t=Fc}var r=Fc;Fc=t;try{return e()}finally{Fc=r}};ii.unstable_pauseExecution=function(){};ii.unstable_requestPaint=function(){};ii.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Fc;Fc=e;try{return t()}finally{Fc=r}};ii.unstable_scheduleCallback=function(e,t,r){var n=ii.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,e={id:hGt++,callback:t,priorityLevel:e,startTime:r,expirationTime:o,sortIndex:-1},r>n?(e.sortIndex=r,qle(DO,e),Um(fy)===null&&e===Um(DO)&&(vq?(vBe(wq),wq=-1):vq=!0,Wle(zle,r-n))):(e.sortIndex=o,qle(fy,e),oI||_5||(oI=!0,Vle(Hle))),e};ii.unstable_shouldYield=xBe;ii.unstable_wrapCallback=function(e){var t=Fc;return function(){var r=Fc;Fc=t;try{return e.apply(this,arguments)}finally{Fc=r}}}});var EBe=b((xEn,OBe)=>{"use strict";OBe.exports=CBe()});var RUe=b(up=>{"use strict";var D$e=Y(),ap=EBe();function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j$e=new Set,zq={};function yI(e,t){Aj(e,t),Aj(e+"Capture",t)}function Aj(e,t){for(zq[e]=t,e=0;e<t.length;e++)j$e.add(t[e])}var qS=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mce=Object.prototype.hasOwnProperty,mGt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PBe={},TBe={};function gGt(e){return mce.call(TBe,e)?!0:mce.call(PBe,e)?!1:mGt.test(e)?TBe[e]=!0:(PBe[e]=!0,!1)}function yGt(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bGt(e,t,r,n){if(t===null||typeof t>"u"||yGt(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ad(e,t,r,n,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ql={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ql[e]=new Ad(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ql[t]=new Ad(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ql[e]=new Ad(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ql[e]=new Ad(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ql[e]=new Ad(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ql[e]=new Ad(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ql[e]=new Ad(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ql[e]=new Ad(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ql[e]=new Ad(e,5,!1,e.toLowerCase(),null,!1,!1)});var sde=/[\-:]([a-z])/g;function ude(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sde,ude);ql[t]=new Ad(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sde,ude);ql[t]=new Ad(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sde,ude);ql[t]=new Ad(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ql[e]=new Ad(e,1,!1,e.toLowerCase(),null,!1,!1)});ql.xlinkHref=new Ad("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ql[e]=new Ad(e,1,!1,e.toLowerCase(),null,!0,!0)});function lde(e,t,r,n){var o=ql.hasOwnProperty(t)?ql[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bGt(t,r,o,n)&&(r=null),n||o===null?gGt(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var VS=D$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w5=Symbol.for("react.element"),pj=Symbol.for("react.portal"),hj=Symbol.for("react.fragment"),cde=Symbol.for("react.strict_mode"),gce=Symbol.for("react.profiler"),N$e=Symbol.for("react.provider"),L$e=Symbol.for("react.context"),dde=Symbol.for("react.forward_ref"),yce=Symbol.for("react.suspense"),bce=Symbol.for("react.suspense_list"),fde=Symbol.for("react.memo"),NO=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var F$e=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var MBe=Symbol.iterator;function Sq(e){return e===null||typeof e!="object"?null:(e=MBe&&e[MBe]||e["@@iterator"],typeof e=="function"?e:null)}var na=Object.assign,Jle;function Iq(e){if(Jle===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jle=t&&t[1]||""}return`
`+Jle+e}var Gle=!1;function Kle(e,t){if(!e||Gle)return"";Gle=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var u=`
`+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{Gle=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Iq(e):""}function _Gt(e){switch(e.tag){case 5:return Iq(e.type);case 16:return Iq("Lazy");case 13:return Iq("Suspense");case 19:return Iq("SuspenseList");case 0:case 2:case 15:return e=Kle(e.type,!1),e;case 11:return e=Kle(e.type.render,!1),e;case 1:return e=Kle(e.type,!0),e;default:return""}}function _ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hj:return"Fragment";case pj:return"Portal";case gce:return"Profiler";case cde:return"StrictMode";case yce:return"Suspense";case bce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L$e:return(e.displayName||"Context")+".Consumer";case N$e:return(e._context.displayName||"Context")+".Provider";case dde:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fde:return t=e.displayName||null,t!==null?t:_ce(e.type)||"Memo";case NO:t=e._payload,e=e._init;try{return _ce(e(t))}catch{}}return null}function vGt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _ce(t);case 8:return t===cde?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function KO(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k$e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wGt(e){var t=k$e(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function S5(e){e._valueTracker||(e._valueTracker=wGt(e))}function B$e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k$e(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Y5(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vce(e,t){var r=t.checked;return na({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function IBe(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=KO(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $$e(e,t){t=t.checked,t!=null&&lde(e,"checked",t,!1)}function wce(e,t){$$e(e,t);var r=KO(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sce(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sce(e,t.type,KO(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ABe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sce(e,t,r){(t!=="number"||Y5(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Aq=Array.isArray;function Oj(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+KO(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xce(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return na({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function RBe(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ce(92));if(Aq(r)){if(1<r.length)throw Error(Ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:KO(r)}}function q$e(e,t){var r=KO(t.value),n=KO(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function DBe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function U$e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cce(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?U$e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var x5,z$e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(x5=x5||document.createElement("div"),x5.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=x5.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hq(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jq={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SGt=["Webkit","ms","Moz","O"];Object.keys(jq).forEach(function(e){SGt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jq[t]=jq[e]})});function H$e(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jq.hasOwnProperty(e)&&jq[e]?(""+t).trim():t+"px"}function V$e(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=H$e(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var xGt=na({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oce(e,t){if(t){if(xGt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function Ece(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pce=null;function pde(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tce=null,Ej=null,Pj=null;function jBe(e){if(e=uU(e)){if(typeof Tce!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=C9(t),Tce(e.stateNode,e.type,t))}}function W$e(e){Ej?Pj?Pj.push(e):Pj=[e]:Ej=e}function J$e(){if(Ej){var e=Ej,t=Pj;if(Pj=Ej=null,jBe(e),t)for(e=0;e<t.length;e++)jBe(t[e])}}function G$e(e,t){return e(t)}function K$e(){}var Yle=!1;function Y$e(e,t,r){if(Yle)return e(t,r);Yle=!0;try{return G$e(e,t,r)}finally{Yle=!1,(Ej!==null||Pj!==null)&&(K$e(),J$e())}}function Vq(e,t){var r=e.stateNode;if(r===null)return null;var n=C9(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ce(231,t,typeof r));return r}var Mce=!1;if(qS)try{dj={},Object.defineProperty(dj,"passive",{get:function(){Mce=!0}}),window.addEventListener("test",dj,dj),window.removeEventListener("test",dj,dj)}catch{Mce=!1}var dj;function CGt(e,t,r,n,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Nq=!1,Z5=null,X5=!1,Ice=null,OGt={onError:function(e){Nq=!0,Z5=e}};function EGt(e,t,r,n,o,i,a,s,u){Nq=!1,Z5=null,CGt.apply(OGt,arguments)}function PGt(e,t,r,n,o,i,a,s,u){if(EGt.apply(this,arguments),Nq){if(Nq){var l=Z5;Nq=!1,Z5=null}else throw Error(Ce(198));X5||(X5=!0,Ice=l)}}function bI(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Z$e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NBe(e){if(bI(e)!==e)throw Error(Ce(188))}function TGt(e){var t=e.alternate;if(!t){if(t=bI(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return NBe(o),e;if(i===n)return NBe(o),t;i=i.sibling}throw Error(Ce(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a)throw Error(Ce(189))}}if(r.alternate!==n)throw Error(Ce(190))}if(r.tag!==3)throw Error(Ce(188));return r.stateNode.current===r?e:t}function X$e(e){return e=TGt(e),e!==null?Q$e(e):null}function Q$e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q$e(e);if(t!==null)return t;e=e.sibling}return null}var eqe=ap.unstable_scheduleCallback,LBe=ap.unstable_cancelCallback,MGt=ap.unstable_shouldYield,IGt=ap.unstable_requestPaint,Va=ap.unstable_now,AGt=ap.unstable_getCurrentPriorityLevel,hde=ap.unstable_ImmediatePriority,tqe=ap.unstable_UserBlockingPriority,Q5=ap.unstable_NormalPriority,RGt=ap.unstable_LowPriority,rqe=ap.unstable_IdlePriority,v9=null,gy=null;function DGt(e){if(gy&&typeof gy.onCommitFiberRoot=="function")try{gy.onCommitFiberRoot(v9,e,void 0,(e.current.flags&128)===128)}catch{}}var Jm=Math.clz32?Math.clz32:LGt,jGt=Math.log,NGt=Math.LN2;function LGt(e){return e>>>=0,e===0?32:31-(jGt(e)/NGt|0)|0}var C5=64,O5=4194304;function Rq(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function e9(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~o;s!==0?n=Rq(s):(i&=a,i!==0&&(n=Rq(i)))}else a=r&~o,a!==0?n=Rq(a):i!==0&&(n=Rq(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jm(t),o=1<<r,n|=e[r],t&=~o;return n}function FGt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kGt(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Jm(i),s=1<<a,u=o[a];u===-1?((s&r)===0||(s&n)!==0)&&(o[a]=FGt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}function Ace(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nqe(){var e=C5;return C5<<=1,(C5&4194240)===0&&(C5=64),e}function Zle(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function aU(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jm(t),e[t]=r}function BGt(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Jm(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function mde(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jm(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var No=0;function oqe(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var iqe,gde,aqe,sqe,uqe,Rce=!1,E5=[],qO=null,UO=null,zO=null,Wq=new Map,Jq=new Map,FO=[],$Gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FBe(e,t){switch(e){case"focusin":case"focusout":qO=null;break;case"dragenter":case"dragleave":UO=null;break;case"mouseover":case"mouseout":zO=null;break;case"pointerover":case"pointerout":Wq.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jq.delete(t.pointerId)}}function xq(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=uU(t),t!==null&&gde(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qGt(e,t,r,n,o){switch(t){case"focusin":return qO=xq(qO,e,t,r,n,o),!0;case"dragenter":return UO=xq(UO,e,t,r,n,o),!0;case"mouseover":return zO=xq(zO,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Wq.set(i,xq(Wq.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Jq.set(i,xq(Jq.get(i)||null,e,t,r,n,o)),!0}return!1}function lqe(e){var t=sI(e.target);if(t!==null){var r=bI(t);if(r!==null){if(t=r.tag,t===13){if(t=Z$e(r),t!==null){e.blockedOn=t,uqe(e.priority,function(){aqe(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $5(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dce(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pce=n,r.target.dispatchEvent(n),Pce=null}else return t=uU(r),t!==null&&gde(t),e.blockedOn=r,!1;t.shift()}return!0}function kBe(e,t,r){$5(e)&&r.delete(t)}function UGt(){Rce=!1,qO!==null&&$5(qO)&&(qO=null),UO!==null&&$5(UO)&&(UO=null),zO!==null&&$5(zO)&&(zO=null),Wq.forEach(kBe),Jq.forEach(kBe)}function Cq(e,t){e.blockedOn===t&&(e.blockedOn=null,Rce||(Rce=!0,ap.unstable_scheduleCallback(ap.unstable_NormalPriority,UGt)))}function Gq(e){function t(o){return Cq(o,e)}if(0<E5.length){Cq(E5[0],e);for(var r=1;r<E5.length;r++){var n=E5[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qO!==null&&Cq(qO,e),UO!==null&&Cq(UO,e),zO!==null&&Cq(zO,e),Wq.forEach(t),Jq.forEach(t),r=0;r<FO.length;r++)n=FO[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<FO.length&&(r=FO[0],r.blockedOn===null);)lqe(r),r.blockedOn===null&&FO.shift()}var Tj=VS.ReactCurrentBatchConfig,t9=!0;function zGt(e,t,r,n){var o=No,i=Tj.transition;Tj.transition=null;try{No=1,yde(e,t,r,n)}finally{No=o,Tj.transition=i}}function HGt(e,t,r,n){var o=No,i=Tj.transition;Tj.transition=null;try{No=4,yde(e,t,r,n)}finally{No=o,Tj.transition=i}}function yde(e,t,r,n){if(t9){var o=Dce(e,t,r,n);if(o===null)oce(e,t,n,r9,r),FBe(e,n);else if(qGt(o,e,t,r,n))n.stopPropagation();else if(FBe(e,n),t&4&&-1<$Gt.indexOf(e)){for(;o!==null;){var i=uU(o);if(i!==null&&iqe(i),i=Dce(e,t,r,n),i===null&&oce(e,t,n,r9,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else oce(e,t,n,null,r)}}var r9=null;function Dce(e,t,r,n){if(r9=null,e=pde(n),e=sI(e),e!==null)if(t=bI(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Z$e(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return r9=e,null}function cqe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AGt()){case hde:return 1;case tqe:return 4;case Q5:case RGt:return 16;case rqe:return 536870912;default:return 16}default:return 16}}var BO=null,bde=null,q5=null;function dqe(){if(q5)return q5;var e,t=bde,r=t.length,n,o="value"in BO?BO.value:BO.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[i-n];n++);return q5=o.slice(e,1<n?1-n:void 0)}function U5(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function P5(){return!0}function BBe(){return!1}function sp(e){function t(r,n,o,i,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?P5:BBe,this.isPropagationStopped=BBe,this}return na(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=P5)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=P5)},persist:function(){},isPersistent:P5}),t}var kj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_de=sp(kj),sU=na({},kj,{view:0,detail:0}),VGt=sp(sU),Xle,Qle,Oq,w9=na({},sU,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vde,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oq&&(Oq&&e.type==="mousemove"?(Xle=e.screenX-Oq.screenX,Qle=e.screenY-Oq.screenY):Qle=Xle=0,Oq=e),Xle)},movementY:function(e){return"movementY"in e?e.movementY:Qle}}),$Be=sp(w9),WGt=na({},w9,{dataTransfer:0}),JGt=sp(WGt),GGt=na({},sU,{relatedTarget:0}),ece=sp(GGt),KGt=na({},kj,{animationName:0,elapsedTime:0,pseudoElement:0}),YGt=sp(KGt),ZGt=na({},kj,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XGt=sp(ZGt),QGt=na({},kj,{data:0}),qBe=sp(QGt),eKt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tKt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rKt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nKt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rKt[e])?!!t[e]:!1}function vde(){return nKt}var oKt=na({},sU,{key:function(e){if(e.key){var t=eKt[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=U5(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tKt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vde,charCode:function(e){return e.type==="keypress"?U5(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?U5(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iKt=sp(oKt),aKt=na({},w9,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UBe=sp(aKt),sKt=na({},sU,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vde}),uKt=sp(sKt),lKt=na({},kj,{propertyName:0,elapsedTime:0,pseudoElement:0}),cKt=sp(lKt),dKt=na({},w9,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fKt=sp(dKt),pKt=[9,13,27,32],wde=qS&&"CompositionEvent"in window,Lq=null;qS&&"documentMode"in document&&(Lq=document.documentMode);var hKt=qS&&"TextEvent"in window&&!Lq,fqe=qS&&(!wde||Lq&&8<Lq&&11>=Lq),zBe=" ",HBe=!1;function pqe(e,t){switch(e){case"keyup":return pKt.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hqe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mj=!1;function mKt(e,t){switch(e){case"compositionend":return hqe(t);case"keypress":return t.which!==32?null:(HBe=!0,zBe);case"textInput":return e=t.data,e===zBe&&HBe?null:e;default:return null}}function gKt(e,t){if(mj)return e==="compositionend"||!wde&&pqe(e,t)?(e=dqe(),q5=bde=BO=null,mj=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fqe&&t.locale!=="ko"?null:t.data;default:return null}}var yKt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VBe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yKt[e.type]:t==="textarea"}function mqe(e,t,r,n){W$e(n),t=n9(t,"onChange"),0<t.length&&(r=new _de("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fq=null,Kq=null;function bKt(e){Eqe(e,0)}function S9(e){var t=bj(e);if(B$e(t))return e}function _Kt(e,t){if(e==="change")return t}var gqe=!1;qS&&(qS?(M5="oninput"in document,M5||(tce=document.createElement("div"),tce.setAttribute("oninput","return;"),M5=typeof tce.oninput=="function"),T5=M5):T5=!1,gqe=T5&&(!document.documentMode||9<document.documentMode));var T5,M5,tce;function WBe(){Fq&&(Fq.detachEvent("onpropertychange",yqe),Kq=Fq=null)}function yqe(e){if(e.propertyName==="value"&&S9(Kq)){var t=[];mqe(t,Kq,e,pde(e)),Y$e(bKt,t)}}function vKt(e,t,r){e==="focusin"?(WBe(),Fq=t,Kq=r,Fq.attachEvent("onpropertychange",yqe)):e==="focusout"&&WBe()}function wKt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return S9(Kq)}function SKt(e,t){if(e==="click")return S9(t)}function xKt(e,t){if(e==="input"||e==="change")return S9(t)}function CKt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Km=typeof Object.is=="function"?Object.is:CKt;function Yq(e,t){if(Km(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!mce.call(t,o)||!Km(e[o],t[o]))return!1}return!0}function JBe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GBe(e,t){var r=JBe(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JBe(r)}}function bqe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bqe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _qe(){for(var e=window,t=Y5();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Y5(e.document)}return t}function Sde(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OKt(e){var t=_qe(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bqe(r.ownerDocument.documentElement,r)){if(n!==null&&Sde(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=GBe(r,i);var a=GBe(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EKt=qS&&"documentMode"in document&&11>=document.documentMode,gj=null,jce=null,kq=null,Nce=!1;function KBe(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nce||gj==null||gj!==Y5(n)||(n=gj,"selectionStart"in n&&Sde(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kq&&Yq(kq,n)||(kq=n,n=n9(jce,"onSelect"),0<n.length&&(t=new _de("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gj)))}function I5(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yj={animationend:I5("Animation","AnimationEnd"),animationiteration:I5("Animation","AnimationIteration"),animationstart:I5("Animation","AnimationStart"),transitionend:I5("Transition","TransitionEnd")},rce={},vqe={};qS&&(vqe=document.createElement("div").style,"AnimationEvent"in window||(delete yj.animationend.animation,delete yj.animationiteration.animation,delete yj.animationstart.animation),"TransitionEvent"in window||delete yj.transitionend.transition);function x9(e){if(rce[e])return rce[e];if(!yj[e])return e;var t=yj[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vqe)return rce[e]=t[r];return e}var wqe=x9("animationend"),Sqe=x9("animationiteration"),xqe=x9("animationstart"),Cqe=x9("transitionend"),Oqe=new Map,YBe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ZO(e,t){Oqe.set(e,t),yI(t,[e])}for(A5=0;A5<YBe.length;A5++)R5=YBe[A5],ZBe=R5.toLowerCase(),XBe=R5[0].toUpperCase()+R5.slice(1),ZO(ZBe,"on"+XBe);var R5,ZBe,XBe,A5;ZO(wqe,"onAnimationEnd");ZO(Sqe,"onAnimationIteration");ZO(xqe,"onAnimationStart");ZO("dblclick","onDoubleClick");ZO("focusin","onFocus");ZO("focusout","onBlur");ZO(Cqe,"onTransitionEnd");Aj("onMouseEnter",["mouseout","mouseover"]);Aj("onMouseLeave",["mouseout","mouseover"]);Aj("onPointerEnter",["pointerout","pointerover"]);Aj("onPointerLeave",["pointerout","pointerover"]);yI("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yI("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yI("onBeforeInput",["compositionend","keypress","textInput","paste"]);yI("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yI("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yI("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dq="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PKt=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dq));function QBe(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PGt(n,t,void 0,e),e.currentTarget=null}function Eqe(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;QBe(o,s,l),i=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;QBe(o,s,l),i=u}}}if(X5)throw e=Ice,X5=!1,Ice=null,e}function _i(e,t){var r=t[$ce];r===void 0&&(r=t[$ce]=new Set);var n=e+"__bubble";r.has(n)||(Pqe(t,e,2,!1),r.add(n))}function nce(e,t,r){var n=0;t&&(n|=4),Pqe(r,e,n,t)}var D5="_reactListening"+Math.random().toString(36).slice(2);function Zq(e){if(!e[D5]){e[D5]=!0,j$e.forEach(function(r){r!=="selectionchange"&&(PKt.has(r)||nce(r,!1,e),nce(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[D5]||(t[D5]=!0,nce("selectionchange",!1,t))}}function Pqe(e,t,r,n){switch(cqe(t)){case 1:var o=zGt;break;case 4:o=HGt;break;default:o=yde}r=o.bind(null,t,r,e),o=void 0,!Mce||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function oce(e,t,r,n,o){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;s!==null;){if(a=sI(s),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}s=s.parentNode}}n=n.return}Y$e(function(){var l=i,c=pde(r),d=[];e:{var f=Oqe.get(e);if(f!==void 0){var p=_de,h=e;switch(e){case"keypress":if(U5(r)===0)break e;case"keydown":case"keyup":p=iKt;break;case"focusin":h="focus",p=ece;break;case"focusout":h="blur",p=ece;break;case"beforeblur":case"afterblur":p=ece;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$Be;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JGt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uKt;break;case wqe:case Sqe:case xqe:p=YGt;break;case Cqe:p=cKt;break;case"scroll":p=VGt;break;case"wheel":p=fKt;break;case"copy":case"cut":case"paste":p=XGt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UBe}var m=(t&4)!==0,_=!m&&e==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=l,S;v!==null;){S=v;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,g!==null&&(x=Vq(v,g),x!=null&&m.push(Xq(v,x,S)))),_)break;v=v.return}0<m.length&&(f=new p(f,h,null,r,c),d.push({event:f,listeners:m}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Pce&&(h=r.relatedTarget||r.fromElement)&&(sI(h)||h[US]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=l,h=h?sI(h):null,h!==null&&(_=bI(h),h!==_||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(m=$Be,x="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=UBe,x="onPointerLeave",g="onPointerEnter",v="pointer"),_=p==null?f:bj(p),S=h==null?f:bj(h),f=new m(x,v+"leave",p,r,c),f.target=_,f.relatedTarget=S,x=null,sI(c)===l&&(m=new m(g,v+"enter",h,r,c),m.target=S,m.relatedTarget=_,x=m),_=x,p&&h)t:{for(m=p,g=h,v=0,S=m;S;S=fj(S))v++;for(S=0,x=g;x;x=fj(x))S++;for(;0<v-S;)m=fj(m),v--;for(;0<S-v;)g=fj(g),S--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=fj(m),g=fj(g)}m=null}else m=null;p!==null&&e$e(d,f,p,m,!1),h!==null&&_!==null&&e$e(d,_,h,m,!0)}}e:{if(f=l?bj(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var O=_Kt;else if(VBe(f))if(gqe)O=xKt;else{O=wKt;var T=vKt}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=SKt);if(O&&(O=O(e,l))){mqe(d,O,r,c);break e}T&&T(e,f,l),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Sce(f,"number",f.value)}switch(T=l?bj(l):window,e){case"focusin":(VBe(T)||T.contentEditable==="true")&&(gj=T,jce=l,kq=null);break;case"focusout":kq=jce=gj=null;break;case"mousedown":Nce=!0;break;case"contextmenu":case"mouseup":case"dragend":Nce=!1,KBe(d,r,c);break;case"selectionchange":if(EKt)break;case"keydown":case"keyup":KBe(d,r,c)}var E;if(wde)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else mj?pqe(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(fqe&&r.locale!=="ko"&&(mj||M!=="onCompositionStart"?M==="onCompositionEnd"&&mj&&(E=dqe()):(BO=c,bde="value"in BO?BO.value:BO.textContent,mj=!0)),T=n9(l,M),0<T.length&&(M=new qBe(M,e,null,r,c),d.push({event:M,listeners:T}),E?M.data=E:(E=hqe(r),E!==null&&(M.data=E)))),(E=hKt?mKt(e,r):gKt(e,r))&&(l=n9(l,"onBeforeInput"),0<l.length&&(c=new qBe("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=E))}Eqe(d,t)})}function Xq(e,t,r){return{instance:e,listener:t,currentTarget:r}}function n9(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Vq(e,r),i!=null&&n.unshift(Xq(e,i,o)),i=Vq(e,t),i!=null&&n.push(Xq(e,i,o))),e=e.return}return n}function fj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e$e(e,t,r,n,o){for(var i=t._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,o?(u=Vq(r,i),u!=null&&a.unshift(Xq(r,u,s))):o||(u=Vq(r,i),u!=null&&a.push(Xq(r,u,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var TKt=/\r\n?/g,MKt=/\u0000|\uFFFD/g;function t$e(e){return(typeof e=="string"?e:""+e).replace(TKt,`
`).replace(MKt,"")}function j5(e,t,r){if(t=t$e(t),t$e(e)!==t&&r)throw Error(Ce(425))}function o9(){}var Lce=null,Fce=null;function kce(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bce=typeof setTimeout=="function"?setTimeout:void 0,IKt=typeof clearTimeout=="function"?clearTimeout:void 0,r$e=typeof Promise=="function"?Promise:void 0,AKt=typeof queueMicrotask=="function"?queueMicrotask:typeof r$e<"u"?function(e){return r$e.resolve(null).then(e).catch(RKt)}:Bce;function RKt(e){setTimeout(function(){throw e})}function ice(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Gq(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Gq(t)}function HO(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n$e(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bj=Math.random().toString(36).slice(2),my="__reactFiber$"+Bj,Qq="__reactProps$"+Bj,US="__reactContainer$"+Bj,$ce="__reactEvents$"+Bj,DKt="__reactListeners$"+Bj,jKt="__reactHandles$"+Bj;function sI(e){var t=e[my];if(t)return t;for(var r=e.parentNode;r;){if(t=r[US]||r[my]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=n$e(e);e!==null;){if(r=e[my])return r;e=n$e(e)}return t}e=r,r=e.parentNode}return null}function uU(e){return e=e[my]||e[US],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bj(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function C9(e){return e[Qq]||null}var qce=[],_j=-1;function XO(e){return{current:e}}function vi(e){0>_j||(e.current=qce[_j],qce[_j]=null,_j--)}function ai(e,t){_j++,qce[_j]=e.current,e.current=t}var YO={},qc=XO(YO),pf=XO(!1),fI=YO;function Rj(e,t){var r=e.type.contextTypes;if(!r)return YO;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hf(e){return e=e.childContextTypes,e!=null}function i9(){vi(pf),vi(qc)}function o$e(e,t,r){if(qc.current!==YO)throw Error(Ce(168));ai(qc,t),ai(pf,r)}function Tqe(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(Ce(108,vGt(e)||"Unknown",o));return na({},r,n)}function a9(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||YO,fI=qc.current,ai(qc,e),ai(pf,pf.current),!0}function i$e(e,t,r){var n=e.stateNode;if(!n)throw Error(Ce(169));r?(e=Tqe(e,t,fI),n.__reactInternalMemoizedMergedChildContext=e,vi(pf),vi(qc),ai(qc,e)):vi(pf),ai(pf,r)}var FS=null,O9=!1,ace=!1;function Mqe(e){FS===null?FS=[e]:FS.push(e)}function NKt(e){O9=!0,Mqe(e)}function QO(){if(!ace&&FS!==null){ace=!0;var e=0,t=No;try{var r=FS;for(No=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}FS=null,O9=!1}catch(o){throw FS!==null&&(FS=FS.slice(e+1)),eqe(hde,QO),o}finally{No=t,ace=!1}}return null}var vj=[],wj=0,s9=null,u9=0,ch=[],dh=0,pI=null,kS=1,BS="";function iI(e,t){vj[wj++]=u9,vj[wj++]=s9,s9=e,u9=t}function Iqe(e,t,r){ch[dh++]=kS,ch[dh++]=BS,ch[dh++]=pI,pI=e;var n=kS;e=BS;var o=32-Jm(n)-1;n&=~(1<<o),r+=1;var i=32-Jm(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,kS=1<<32-Jm(t)+o|r<<o|n,BS=i+e}else kS=1<<i|r<<o|n,BS=e}function xde(e){e.return!==null&&(iI(e,1),Iqe(e,1,0))}function Cde(e){for(;e===s9;)s9=vj[--wj],vj[wj]=null,u9=vj[--wj],vj[wj]=null;for(;e===pI;)pI=ch[--dh],ch[dh]=null,BS=ch[--dh],ch[dh]=null,kS=ch[--dh],ch[dh]=null}var ip=null,op=null,Bi=!1,Wm=null;function Aqe(e,t){var r=fh(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function a$e(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ip=e,op=HO(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ip=e,op=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pI!==null?{id:kS,overflow:BS}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fh(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ip=e,op=null,!0):!1;default:return!1}}function Uce(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zce(e){if(Bi){var t=op;if(t){var r=t;if(!a$e(e,t)){if(Uce(e))throw Error(Ce(418));t=HO(r.nextSibling);var n=ip;t&&a$e(e,t)?Aqe(n,r):(e.flags=e.flags&-4097|2,Bi=!1,ip=e)}}else{if(Uce(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,Bi=!1,ip=e}}}function s$e(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ip=e}function N5(e){if(e!==ip)return!1;if(!Bi)return s$e(e),Bi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kce(e.type,e.memoizedProps)),t&&(t=op)){if(Uce(e))throw Rqe(),Error(Ce(418));for(;t;)Aqe(e,t),t=HO(t.nextSibling)}if(s$e(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){op=HO(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}op=null}}else op=ip?HO(e.stateNode.nextSibling):null;return!0}function Rqe(){for(var e=op;e;)e=HO(e.nextSibling)}function Dj(){op=ip=null,Bi=!1}function Ode(e){Wm===null?Wm=[e]:Wm.push(e)}var LKt=VS.ReactCurrentBatchConfig;function Hm(e,t){if(e&&e.defaultProps){t=na({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var l9=XO(null),c9=null,Sj=null,Ede=null;function Pde(){Ede=Sj=c9=null}function Tde(e){var t=l9.current;vi(l9),e._currentValue=t}function Hce(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mj(e,t){c9=e,Ede=Sj=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ff=!0),e.firstContext=null)}function hh(e){var t=e._currentValue;if(Ede!==e)if(e={context:e,memoizedValue:t,next:null},Sj===null){if(c9===null)throw Error(Ce(308));Sj=e,c9.dependencies={lanes:0,firstContext:e}}else Sj=Sj.next=e;return t}var uI=null;function Mde(e){uI===null?uI=[e]:uI.push(e)}function Dqe(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Mde(t)):(r.next=o.next,o.next=r),t.interleaved=r,zS(e,n)}function zS(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var LO=!1;function Ide(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jqe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $S(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function VO(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ln&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,zS(e,r)}return o=n.interleaved,o===null?(t.next=t,Mde(n)):(t.next=o.next,o.next=t),n.interleaved=t,zS(e,r)}function z5(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mde(e,r)}}function u$e(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function d9(e,t,r,n){var o=e.updateQueue;LO=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?i=l:a.next=l,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(i!==null){var d=o.baseState;a=0,c=l=u=null,s=i;do{var f=s.lane,p=s.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=r,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=na({},d,f);break e;case 2:LO=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=d):c=c.next=p,a|=f;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;f=s,s=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(u=d),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);mI|=a,e.lanes=a,e.memoizedState=d}}function l$e(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(Ce(191,o));o.call(n)}}}var Nqe=new D$e.Component().refs;function Vce(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:na({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var E9={isMounted:function(e){return(e=e._reactInternals)?bI(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Id(),o=JO(e),i=$S(n,o);i.payload=t,r!=null&&(i.callback=r),t=VO(e,i,o),t!==null&&(Gm(t,e,o,n),z5(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Id(),o=JO(e),i=$S(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=VO(e,i,o),t!==null&&(Gm(t,e,o,n),z5(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Id(),n=JO(e),o=$S(r,n);o.tag=2,t!=null&&(o.callback=t),t=VO(e,o,n),t!==null&&(Gm(t,e,n,r),z5(t,e,n))}};function c$e(e,t,r,n,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Yq(r,n)||!Yq(o,i):!0}function Lqe(e,t,r){var n=!1,o=YO,i=t.contextType;return typeof i=="object"&&i!==null?i=hh(i):(o=hf(t)?fI:qc.current,n=t.contextTypes,i=(n=n!=null)?Rj(e,o):YO),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=E9,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function d$e(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&E9.enqueueReplaceState(t,t.state,null)}function Wce(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=Nqe,Ide(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=hh(i):(i=hf(t)?fI:qc.current,o.context=Rj(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vce(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&E9.enqueueReplaceState(o,o.state,null),d9(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Eq(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ce(309));var n=r.stateNode}if(!n)throw Error(Ce(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;s===Nqe&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ce(284));if(!r._owner)throw Error(Ce(290,e))}return e}function L5(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f$e(e){var t=e._init;return t(e._payload)}function Fqe(e){function t(g,v){if(e){var S=g.deletions;S===null?(g.deletions=[v],g.flags|=16):S.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=GO(g,v),g.index=0,g.sibling=null,g}function i(g,v,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<v?(g.flags|=2,v):S):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,v,S,x){return v===null||v.tag!==6?(v=pce(S,g.mode,x),v.return=g,v):(v=o(v,S),v.return=g,v)}function u(g,v,S,x){var O=S.type;return O===hj?c(g,v,S.props.children,x,S.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===NO&&f$e(O)===v.type)?(x=o(v,S.props),x.ref=Eq(g,v,S),x.return=g,x):(x=K5(S.type,S.key,S.props,null,g.mode,x),x.ref=Eq(g,v,S),x.return=g,x)}function l(g,v,S,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=hce(S,g.mode,x),v.return=g,v):(v=o(v,S.children||[]),v.return=g,v)}function c(g,v,S,x,O){return v===null||v.tag!==7?(v=dI(S,g.mode,x,O),v.return=g,v):(v=o(v,S),v.return=g,v)}function d(g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pce(""+v,g.mode,S),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case w5:return S=K5(v.type,v.key,v.props,null,g.mode,S),S.ref=Eq(g,null,v),S.return=g,S;case pj:return v=hce(v,g.mode,S),v.return=g,v;case NO:var x=v._init;return d(g,x(v._payload),S)}if(Aq(v)||Sq(v))return v=dI(v,g.mode,S,null),v.return=g,v;L5(g,v)}return null}function f(g,v,S,x){var O=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:s(g,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w5:return S.key===O?u(g,v,S,x):null;case pj:return S.key===O?l(g,v,S,x):null;case NO:return O=S._init,f(g,v,O(S._payload),x)}if(Aq(S)||Sq(S))return O!==null?null:c(g,v,S,x,null);L5(g,S)}return null}function p(g,v,S,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(S)||null,s(v,g,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w5:return g=g.get(x.key===null?S:x.key)||null,u(v,g,x,O);case pj:return g=g.get(x.key===null?S:x.key)||null,l(v,g,x,O);case NO:var T=x._init;return p(g,v,S,T(x._payload),O)}if(Aq(x)||Sq(x))return g=g.get(S)||null,c(v,g,x,O,null);L5(v,x)}return null}function h(g,v,S,x){for(var O=null,T=null,E=v,M=v=0,A=null;E!==null&&M<S.length;M++){E.index>M?(A=E,E=null):A=E.sibling;var j=f(g,E,S[M],x);if(j===null){E===null&&(E=A);break}e&&E&&j.alternate===null&&t(g,E),v=i(j,v,M),T===null?O=j:T.sibling=j,T=j,E=A}if(M===S.length)return r(g,E),Bi&&iI(g,M),O;if(E===null){for(;M<S.length;M++)E=d(g,S[M],x),E!==null&&(v=i(E,v,M),T===null?O=E:T.sibling=E,T=E);return Bi&&iI(g,M),O}for(E=n(g,E);M<S.length;M++)A=p(E,g,M,S[M],x),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?M:A.key),v=i(A,v,M),T===null?O=A:T.sibling=A,T=A);return e&&E.forEach(function(N){return t(g,N)}),Bi&&iI(g,M),O}function m(g,v,S,x){var O=Sq(S);if(typeof O!="function")throw Error(Ce(150));if(S=O.call(S),S==null)throw Error(Ce(151));for(var T=O=null,E=v,M=v=0,A=null,j=S.next();E!==null&&!j.done;M++,j=S.next()){E.index>M?(A=E,E=null):A=E.sibling;var N=f(g,E,j.value,x);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(g,E),v=i(N,v,M),T===null?O=N:T.sibling=N,T=N,E=A}if(j.done)return r(g,E),Bi&&iI(g,M),O;if(E===null){for(;!j.done;M++,j=S.next())j=d(g,j.value,x),j!==null&&(v=i(j,v,M),T===null?O=j:T.sibling=j,T=j);return Bi&&iI(g,M),O}for(E=n(g,E);!j.done;M++,j=S.next())j=p(E,g,M,j.value,x),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?M:j.key),v=i(j,v,M),T===null?O=j:T.sibling=j,T=j);return e&&E.forEach(function(F){return t(g,F)}),Bi&&iI(g,M),O}function _(g,v,S,x){if(typeof S=="object"&&S!==null&&S.type===hj&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case w5:e:{for(var O=S.key,T=v;T!==null;){if(T.key===O){if(O=S.type,O===hj){if(T.tag===7){r(g,T.sibling),v=o(T,S.props.children),v.return=g,g=v;break e}}else if(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===NO&&f$e(O)===T.type){r(g,T.sibling),v=o(T,S.props),v.ref=Eq(g,T,S),v.return=g,g=v;break e}r(g,T);break}else t(g,T);T=T.sibling}S.type===hj?(v=dI(S.props.children,g.mode,x,S.key),v.return=g,g=v):(x=K5(S.type,S.key,S.props,null,g.mode,x),x.ref=Eq(g,v,S),x.return=g,g=x)}return a(g);case pj:e:{for(T=S.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){r(g,v.sibling),v=o(v,S.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=hce(S,g.mode,x),v.return=g,g=v}return a(g);case NO:return T=S._init,_(g,v,T(S._payload),x)}if(Aq(S))return h(g,v,S,x);if(Sq(S))return m(g,v,S,x);L5(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(r(g,v.sibling),v=o(v,S),v.return=g,g=v):(r(g,v),v=pce(S,g.mode,x),v.return=g,g=v),a(g)):r(g,v)}return _}var jj=Fqe(!0),kqe=Fqe(!1),lU={},yy=XO(lU),eU=XO(lU),tU=XO(lU);function lI(e){if(e===lU)throw Error(Ce(174));return e}function Ade(e,t){switch(ai(tU,t),ai(eU,e),ai(yy,lU),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cce(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cce(t,e)}vi(yy),ai(yy,t)}function Nj(){vi(yy),vi(eU),vi(tU)}function Bqe(e){lI(tU.current);var t=lI(yy.current),r=Cce(t,e.type);t!==r&&(ai(eU,e),ai(yy,r))}function Rde(e){eU.current===e&&(vi(yy),vi(eU))}var ta=XO(0);function f9(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sce=[];function Dde(){for(var e=0;e<sce.length;e++)sce[e]._workInProgressVersionPrimary=null;sce.length=0}var H5=VS.ReactCurrentDispatcher,uce=VS.ReactCurrentBatchConfig,hI=0,ra=null,Bu=null,dl=null,p9=!1,Bq=!1,rU=0,FKt=0;function kc(){throw Error(Ce(321))}function jde(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Km(e[r],t[r]))return!1;return!0}function Nde(e,t,r,n,o,i){if(hI=i,ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H5.current=e===null||e.memoizedState===null?qKt:UKt,e=r(n,o),Bq){i=0;do{if(Bq=!1,rU=0,25<=i)throw Error(Ce(301));i+=1,dl=Bu=null,t.updateQueue=null,H5.current=zKt,e=r(n,o)}while(Bq)}if(H5.current=h9,t=Bu!==null&&Bu.next!==null,hI=0,dl=Bu=ra=null,p9=!1,t)throw Error(Ce(300));return e}function Lde(){var e=rU!==0;return rU=0,e}function hy(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dl===null?ra.memoizedState=dl=e:dl=dl.next=e,dl}function mh(){if(Bu===null){var e=ra.alternate;e=e!==null?e.memoizedState:null}else e=Bu.next;var t=dl===null?ra.memoizedState:dl.next;if(t!==null)dl=t,Bu=e;else{if(e===null)throw Error(Ce(310));Bu=e,e={memoizedState:Bu.memoizedState,baseState:Bu.baseState,baseQueue:Bu.baseQueue,queue:Bu.queue,next:null},dl===null?ra.memoizedState=dl=e:dl=dl.next=e}return dl}function nU(e,t){return typeof t=="function"?t(e):t}function lce(e){var t=mh(),r=t.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=e;var n=Bu,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var s=a=null,u=null,l=i;do{var c=l.lane;if((hI&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=d,a=n):u=u.next=d,ra.lanes|=c,mI|=c}l=l.next}while(l!==null&&l!==i);u===null?a=n:u.next=s,Km(n,t.memoizedState)||(ff=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,ra.lanes|=i,mI|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cce(e){var t=mh(),r=t.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Km(i,t.memoizedState)||(ff=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $qe(){}function qqe(e,t){var r=ra,n=mh(),o=t(),i=!Km(n.memoizedState,o);if(i&&(n.memoizedState=o,ff=!0),n=n.queue,Fde(Hqe.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dl!==null&&dl.memoizedState.tag&1){if(r.flags|=2048,oU(9,zqe.bind(null,r,n,o,t),void 0,null),fl===null)throw Error(Ce(349));(hI&30)!==0||Uqe(r,t,o)}return o}function Uqe(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ra.updateQueue,t===null?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zqe(e,t,r,n){t.value=r,t.getSnapshot=n,Vqe(t)&&Wqe(e)}function Hqe(e,t,r){return r(function(){Vqe(t)&&Wqe(e)})}function Vqe(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Km(e,r)}catch{return!0}}function Wqe(e){var t=zS(e,1);t!==null&&Gm(t,e,1,-1)}function p$e(e){var t=hy();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nU,lastRenderedState:e},t.queue=e,e=e.dispatch=$Kt.bind(null,ra,e),[t.memoizedState,e]}function oU(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ra.updateQueue,t===null?(t={lastEffect:null,stores:null},ra.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jqe(){return mh().memoizedState}function V5(e,t,r,n){var o=hy();ra.flags|=e,o.memoizedState=oU(1|t,r,void 0,n===void 0?null:n)}function P9(e,t,r,n){var o=mh();n=n===void 0?null:n;var i=void 0;if(Bu!==null){var a=Bu.memoizedState;if(i=a.destroy,n!==null&&jde(n,a.deps)){o.memoizedState=oU(t,r,i,n);return}}ra.flags|=e,o.memoizedState=oU(1|t,r,i,n)}function h$e(e,t){return V5(8390656,8,e,t)}function Fde(e,t){return P9(2048,8,e,t)}function Gqe(e,t){return P9(4,2,e,t)}function Kqe(e,t){return P9(4,4,e,t)}function Yqe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zqe(e,t,r){return r=r!=null?r.concat([e]):null,P9(4,4,Yqe.bind(null,t,e),r)}function kde(){}function Xqe(e,t){var r=mh();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jde(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qqe(e,t){var r=mh();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jde(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eUe(e,t,r){return(hI&21)===0?(e.baseState&&(e.baseState=!1,ff=!0),e.memoizedState=r):(Km(r,t)||(r=nqe(),ra.lanes|=r,mI|=r,e.baseState=!0),t)}function kKt(e,t){var r=No;No=r!==0&&4>r?r:4,e(!0);var n=uce.transition;uce.transition={};try{e(!1),t()}finally{No=r,uce.transition=n}}function tUe(){return mh().memoizedState}function BKt(e,t,r){var n=JO(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rUe(e))nUe(t,r);else if(r=Dqe(e,t,r,n),r!==null){var o=Id();Gm(r,e,n,o),oUe(r,t,n)}}function $Kt(e,t,r){var n=JO(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rUe(e))nUe(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,r);if(o.hasEagerState=!0,o.eagerState=s,Km(s,a)){var u=t.interleaved;u===null?(o.next=o,Mde(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}r=Dqe(e,t,o,n),r!==null&&(o=Id(),Gm(r,e,n,o),oUe(r,t,n))}}function rUe(e){var t=e.alternate;return e===ra||t!==null&&t===ra}function nUe(e,t){Bq=p9=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oUe(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mde(e,r)}}var h9={readContext:hh,useCallback:kc,useContext:kc,useEffect:kc,useImperativeHandle:kc,useInsertionEffect:kc,useLayoutEffect:kc,useMemo:kc,useReducer:kc,useRef:kc,useState:kc,useDebugValue:kc,useDeferredValue:kc,useTransition:kc,useMutableSource:kc,useSyncExternalStore:kc,useId:kc,unstable_isNewReconciler:!1},qKt={readContext:hh,useCallback:function(e,t){return hy().memoizedState=[e,t===void 0?null:t],e},useContext:hh,useEffect:h$e,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,V5(4194308,4,Yqe.bind(null,t,e),r)},useLayoutEffect:function(e,t){return V5(4194308,4,e,t)},useInsertionEffect:function(e,t){return V5(4,2,e,t)},useMemo:function(e,t){var r=hy();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hy();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=BKt.bind(null,ra,e),[n.memoizedState,e]},useRef:function(e){var t=hy();return e={current:e},t.memoizedState=e},useState:p$e,useDebugValue:kde,useDeferredValue:function(e){return hy().memoizedState=e},useTransition:function(){var e=p$e(!1),t=e[0];return e=kKt.bind(null,e[1]),hy().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ra,o=hy();if(Bi){if(r===void 0)throw Error(Ce(407));r=r()}else{if(r=t(),fl===null)throw Error(Ce(349));(hI&30)!==0||Uqe(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,h$e(Hqe.bind(null,n,i,e),[e]),n.flags|=2048,oU(9,zqe.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=hy(),t=fl.identifierPrefix;if(Bi){var r=BS,n=kS;r=(n&~(1<<32-Jm(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rU++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FKt++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UKt={readContext:hh,useCallback:Xqe,useContext:hh,useEffect:Fde,useImperativeHandle:Zqe,useInsertionEffect:Gqe,useLayoutEffect:Kqe,useMemo:Qqe,useReducer:lce,useRef:Jqe,useState:function(){return lce(nU)},useDebugValue:kde,useDeferredValue:function(e){var t=mh();return eUe(t,Bu.memoizedState,e)},useTransition:function(){var e=lce(nU)[0],t=mh().memoizedState;return[e,t]},useMutableSource:$qe,useSyncExternalStore:qqe,useId:tUe,unstable_isNewReconciler:!1},zKt={readContext:hh,useCallback:Xqe,useContext:hh,useEffect:Fde,useImperativeHandle:Zqe,useInsertionEffect:Gqe,useLayoutEffect:Kqe,useMemo:Qqe,useReducer:cce,useRef:Jqe,useState:function(){return cce(nU)},useDebugValue:kde,useDeferredValue:function(e){var t=mh();return Bu===null?t.memoizedState=e:eUe(t,Bu.memoizedState,e)},useTransition:function(){var e=cce(nU)[0],t=mh().memoizedState;return[e,t]},useMutableSource:$qe,useSyncExternalStore:qqe,useId:tUe,unstable_isNewReconciler:!1};function Lj(e,t){try{var r="",n=t;do r+=_Gt(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function dce(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jce(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var HKt=typeof WeakMap=="function"?WeakMap:Map;function iUe(e,t,r){r=$S(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){g9||(g9=!0,nde=n),Jce(e,t)},r}function aUe(e,t,r){r=$S(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Jce(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jce(e,t),typeof n!="function"&&(WO===null?WO=new Set([this]):WO.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function m$e(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new HKt;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=o7t.bind(null,e,t,r),t.then(e,e))}function g$e(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y$e(e,t,r,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$S(-1,1),t.tag=2,VO(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var VKt=VS.ReactCurrentOwner,ff=!1;function Md(e,t,r,n){t.child=e===null?kqe(t,null,r,n):jj(t,e.child,r,n)}function b$e(e,t,r,n,o){r=r.render;var i=t.ref;return Mj(t,o),n=Nde(e,t,r,n,i,o),r=Lde(),e!==null&&!ff?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,HS(e,t,o)):(Bi&&r&&xde(t),t.flags|=1,Md(e,t,n,o),t.child)}function _$e(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!Wde(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,sUe(e,t,i,n,o)):(e=K5(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yq,r(a,n)&&e.ref===t.ref)return HS(e,t,o)}return t.flags|=1,e=GO(i,n),e.ref=t.ref,e.return=t,t.child=e}function sUe(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Yq(i,n)&&e.ref===t.ref)if(ff=!1,t.pendingProps=n=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(ff=!0);else return t.lanes=e.lanes,HS(e,t,o)}return Gce(e,t,r,n,o)}function uUe(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ai(Cj,np),np|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ai(Cj,np),np|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ai(Cj,np),np|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ai(Cj,np),np|=n;return Md(e,t,o,r),t.child}function lUe(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gce(e,t,r,n,o){var i=hf(r)?fI:qc.current;return i=Rj(t,i),Mj(t,o),r=Nde(e,t,r,n,i,o),n=Lde(),e!==null&&!ff?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,HS(e,t,o)):(Bi&&n&&xde(t),t.flags|=1,Md(e,t,r,o),t.child)}function v$e(e,t,r,n,o){if(hf(r)){var i=!0;a9(t)}else i=!1;if(Mj(t,o),t.stateNode===null)W5(e,t),Lqe(t,r,n),Wce(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=hh(l):(l=hf(r)?fI:qc.current,l=Rj(t,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&d$e(t,a,n,l),LO=!1;var f=t.memoizedState;a.state=f,d9(t,n,a,o),u=t.memoizedState,s!==n||f!==u||pf.current||LO?(typeof c=="function"&&(Vce(t,r,c,n),u=t.memoizedState),(s=LO||c$e(t,r,s,n,f,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,jqe(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Hm(t.type,s),a.props=l,d=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=hh(u):(u=hf(r)?fI:qc.current,u=Rj(t,u));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==u)&&d$e(t,a,n,u),LO=!1,f=t.memoizedState,a.state=f,d9(t,n,a,o);var h=t.memoizedState;s!==d||f!==h||pf.current||LO?(typeof p=="function"&&(Vce(t,r,p,n),h=t.memoizedState),(l=LO||c$e(t,r,l,n,f,h,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Kce(e,t,r,n,i,o)}function Kce(e,t,r,n,o,i){lUe(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&i$e(t,r,!1),HS(e,t,i);n=t.stateNode,VKt.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=jj(t,e.child,null,i),t.child=jj(t,null,s,i)):Md(e,t,s,i),t.memoizedState=n.state,o&&i$e(t,r,!0),t.child}function cUe(e){var t=e.stateNode;t.pendingContext?o$e(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o$e(e,t.context,!1),Ade(e,t.containerInfo)}function w$e(e,t,r,n,o){return Dj(),Ode(o),t.flags|=256,Md(e,t,r,n),t.child}var Yce={dehydrated:null,treeContext:null,retryLane:0};function Zce(e){return{baseLanes:e,cachePool:null,transitions:null}}function dUe(e,t,r){var n=t.pendingProps,o=ta.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ai(ta,o&1),e===null)return zce(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=I9(a,n,0,null),e=dI(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zce(r),t.memoizedState=Yce,e):Bde(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return WKt(e,t,a,n,s,o,r);if(i){i=n.fallback,a=t.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:n.children};return(a&1)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=GO(o,u),n.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=GO(s,i):(i=dI(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Zce(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Yce,n}return i=e.child,e=i.sibling,n=GO(i,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bde(e,t){return t=I9({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function F5(e,t,r,n){return n!==null&&Ode(n),jj(t,e.child,null,r),e=Bde(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WKt(e,t,r,n,o,i,a){if(r)return t.flags&256?(t.flags&=-257,n=dce(Error(Ce(422))),F5(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=I9({mode:"visible",children:n.children},o,0,null),i=dI(i,o,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&jj(t,e.child,null,a),t.child.memoizedState=Zce(a),t.memoizedState=Yce,i);if((t.mode&1)===0)return F5(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(Ce(419)),n=dce(i,n,void 0),F5(e,t,a,n)}if(s=(a&e.childLanes)!==0,ff||s){if(n=fl,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(n.suspendedLanes|a))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,zS(e,o),Gm(n,e,o,-1))}return Vde(),n=dce(Error(Ce(421))),F5(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=i7t.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,op=HO(o.nextSibling),ip=t,Bi=!0,Wm=null,e!==null&&(ch[dh++]=kS,ch[dh++]=BS,ch[dh++]=pI,kS=e.id,BS=e.overflow,pI=t),t=Bde(t,n.children),t.flags|=4096,t)}function S$e(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hce(e.return,t,r)}function fce(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function fUe(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(Md(e,t,n.children,r),n=ta.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S$e(e,r,t);else if(e.tag===19)S$e(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ai(ta,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&f9(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),fce(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&f9(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}fce(t,!0,r,null,i);break;case"together":fce(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function W5(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function HS(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mI|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,r=GO(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=GO(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JKt(e,t,r){switch(t.tag){case 3:cUe(t),Dj();break;case 5:Bqe(t);break;case 1:hf(t.type)&&a9(t);break;case 4:Ade(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;ai(l9,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ai(ta,ta.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?dUe(e,t,r):(ai(ta,ta.current&1),e=HS(e,t,r),e!==null?e.sibling:null);ai(ta,ta.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return fUe(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ai(ta,ta.current),n)break;return null;case 22:case 23:return t.lanes=0,uUe(e,t,r)}return HS(e,t,r)}var pUe,Xce,hUe,mUe;pUe=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xce=function(){};hUe=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,lI(yy.current);var i=null;switch(r){case"input":o=vce(e,o),n=vce(e,n),i=[];break;case"select":o=na({},o,{value:void 0}),n=na({},n,{value:void 0}),i=[];break;case"textarea":o=xce(e,o),n=xce(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=o9)}Oce(r,n);var a;r=null;for(l in o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var s=o[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zq.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(s=o?.[l],n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(zq.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&_i("scroll",e),i||s===u||(i=[])):(i=i||[]).push(l,u))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};mUe=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pq(e,t){if(!Bi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Bc(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GKt(e,t,r){var n=t.pendingProps;switch(Cde(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bc(t),null;case 1:return hf(t.type)&&i9(),Bc(t),null;case 3:return n=t.stateNode,Nj(),vi(pf),vi(qc),Dde(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(N5(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wm!==null&&(ade(Wm),Wm=null))),Xce(e,t),Bc(t),null;case 5:Rde(t);var o=lI(tU.current);if(r=t.type,e!==null&&t.stateNode!=null)hUe(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ce(166));return Bc(t),null}if(e=lI(yy.current),N5(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[my]=t,n[Qq]=i,e=(t.mode&1)!==0,r){case"dialog":_i("cancel",n),_i("close",n);break;case"iframe":case"object":case"embed":_i("load",n);break;case"video":case"audio":for(o=0;o<Dq.length;o++)_i(Dq[o],n);break;case"source":_i("error",n);break;case"img":case"image":case"link":_i("error",n),_i("load",n);break;case"details":_i("toggle",n);break;case"input":IBe(n,i),_i("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_i("invalid",n);break;case"textarea":RBe(n,i),_i("invalid",n)}Oce(r,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&j5(n.textContent,s,e),o=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&j5(n.textContent,s,e),o=["children",""+s]):zq.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&_i("scroll",n)}switch(r){case"input":S5(n),ABe(n,i,!0);break;case"textarea":S5(n),DBe(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=o9)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=U$e(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[my]=t,e[Qq]=n,pUe(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ece(r,n),r){case"dialog":_i("cancel",e),_i("close",e),o=n;break;case"iframe":case"object":case"embed":_i("load",e),o=n;break;case"video":case"audio":for(o=0;o<Dq.length;o++)_i(Dq[o],e);o=n;break;case"source":_i("error",e),o=n;break;case"img":case"image":case"link":_i("error",e),_i("load",e),o=n;break;case"details":_i("toggle",e),o=n;break;case"input":IBe(e,n),o=vce(e,n),_i("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=na({},n,{value:void 0}),_i("invalid",e);break;case"textarea":RBe(e,n),o=xce(e,n),_i("invalid",e);break;default:o=n}Oce(r,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="style"?V$e(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&z$e(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Hq(e,u):typeof u=="number"&&Hq(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zq.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_i("scroll",e):u!=null&&lde(e,i,u,a))}switch(r){case"input":S5(e),ABe(e,n,!1);break;case"textarea":S5(e),DBe(e);break;case"option":n.value!=null&&e.setAttribute("value",""+KO(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Oj(e,!!n.multiple,i,!1):n.defaultValue!=null&&Oj(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=o9)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bc(t),null;case 6:if(e&&t.stateNode!=null)mUe(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ce(166));if(r=lI(tU.current),lI(yy.current),N5(t)){if(n=t.stateNode,r=t.memoizedProps,n[my]=t,(i=n.nodeValue!==r)&&(e=ip,e!==null))switch(e.tag){case 3:j5(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&j5(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[my]=t,t.stateNode=n}return Bc(t),null;case 13:if(vi(ta),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bi&&op!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rqe(),Dj(),t.flags|=98560,i=!1;else if(i=N5(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[my]=t}else Dj(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Bc(t),i=!1}else Wm!==null&&(ade(Wm),Wm=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ta.current&1)!==0?$u===0&&($u=3):Vde())),t.updateQueue!==null&&(t.flags|=4),Bc(t),null);case 4:return Nj(),Xce(e,t),e===null&&Zq(t.stateNode.containerInfo),Bc(t),null;case 10:return Tde(t.type._context),Bc(t),null;case 17:return hf(t.type)&&i9(),Bc(t),null;case 19:if(vi(ta),i=t.memoizedState,i===null)return Bc(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Pq(i,!1);else{if($u!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=f9(e),a!==null){for(t.flags|=128,Pq(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ai(ta,ta.current&1|2),t.child}e=e.sibling}i.tail!==null&&Va()>Fj&&(t.flags|=128,n=!0,Pq(i,!1),t.lanes=4194304)}else{if(!n)if(e=f9(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pq(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Bi)return Bc(t),null}else 2*Va()-i.renderingStartTime>Fj&&r!==1073741824&&(t.flags|=128,n=!0,Pq(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Va(),t.sibling=null,r=ta.current,ai(ta,n?r&1|2:r&1),t):(Bc(t),null);case 22:case 23:return Hde(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(np&1073741824)!==0&&(Bc(t),t.subtreeFlags&6&&(t.flags|=8192)):Bc(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function KKt(e,t){switch(Cde(t),t.tag){case 1:return hf(t.type)&&i9(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nj(),vi(pf),vi(qc),Dde(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Rde(t),null;case 13:if(vi(ta),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));Dj()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vi(ta),null;case 4:return Nj(),null;case 10:return Tde(t.type._context),null;case 22:case 23:return Hde(),null;case 24:return null;default:return null}}var k5=!1,$c=!1,YKt=typeof WeakSet=="function"?WeakSet:Set,nt=null;function xj(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ma(e,t,n)}else r.current=null}function Qce(e,t,r){try{r()}catch(n){Ma(e,t,n)}}var x$e=!1;function ZKt(e,t){if(Lce=t9,e=_qe(),Sde(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,s=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==r||o!==0&&d.nodeType!==3||(s=a+o),d!==i||n!==0&&d.nodeType!==3||(u=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++l===o&&(s=a),f===i&&++c===n&&(u=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fce={focusedElem:e,selectionRange:r},t9=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var h=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,_=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Hm(t.type,m),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(x){Ma(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return h=x$e,x$e=!1,h}function $q(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Qce(t,r,i)}o=o.next}while(o!==n)}}function T9(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ede(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gUe(e){var t=e.alternate;t!==null&&(e.alternate=null,gUe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[my],delete t[Qq],delete t[$ce],delete t[DKt],delete t[jKt])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yUe(e){return e.tag===5||e.tag===3||e.tag===4}function C$e(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yUe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tde(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=o9));else if(n!==4&&(e=e.child,e!==null))for(tde(e,t,r),e=e.sibling;e!==null;)tde(e,t,r),e=e.sibling}function rde(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rde(e,t,r),e=e.sibling;e!==null;)rde(e,t,r),e=e.sibling}var Bl=null,Vm=!1;function jO(e,t,r){for(r=r.child;r!==null;)bUe(e,t,r),r=r.sibling}function bUe(e,t,r){if(gy&&typeof gy.onCommitFiberUnmount=="function")try{gy.onCommitFiberUnmount(v9,r)}catch{}switch(r.tag){case 5:$c||xj(r,t);case 6:var n=Bl,o=Vm;Bl=null,jO(e,t,r),Bl=n,Vm=o,Bl!==null&&(Vm?(e=Bl,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bl.removeChild(r.stateNode));break;case 18:Bl!==null&&(Vm?(e=Bl,r=r.stateNode,e.nodeType===8?ice(e.parentNode,r):e.nodeType===1&&ice(e,r),Gq(e)):ice(Bl,r.stateNode));break;case 4:n=Bl,o=Vm,Bl=r.stateNode.containerInfo,Vm=!0,jO(e,t,r),Bl=n,Vm=o;break;case 0:case 11:case 14:case 15:if(!$c&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&((i&2)!==0||(i&4)!==0)&&Qce(r,t,a),o=o.next}while(o!==n)}jO(e,t,r);break;case 1:if(!$c&&(xj(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ma(r,t,s)}jO(e,t,r);break;case 21:jO(e,t,r);break;case 22:r.mode&1?($c=(n=$c)||r.memoizedState!==null,jO(e,t,r),$c=n):jO(e,t,r);break;default:jO(e,t,r)}}function O$e(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YKt),t.forEach(function(n){var o=a7t.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function zm(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Bl=s.stateNode,Vm=!1;break e;case 3:Bl=s.stateNode.containerInfo,Vm=!0;break e;case 4:Bl=s.stateNode.containerInfo,Vm=!0;break e}s=s.return}if(Bl===null)throw Error(Ce(160));bUe(i,a,o),Bl=null,Vm=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(l){Ma(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_Ue(t,e),t=t.sibling}function _Ue(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zm(t,e),py(e),n&4){try{$q(3,e,e.return),T9(3,e)}catch(m){Ma(e,e.return,m)}try{$q(5,e,e.return)}catch(m){Ma(e,e.return,m)}}break;case 1:zm(t,e),py(e),n&512&&r!==null&&xj(r,r.return);break;case 5:if(zm(t,e),py(e),n&512&&r!==null&&xj(r,r.return),e.flags&32){var o=e.stateNode;try{Hq(o,"")}catch(m){Ma(e,e.return,m)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&$$e(o,i),Ece(s,a);var l=Ece(s,i);for(a=0;a<u.length;a+=2){var c=u[a],d=u[a+1];c==="style"?V$e(o,d):c==="dangerouslySetInnerHTML"?z$e(o,d):c==="children"?Hq(o,d):lde(o,c,d,l)}switch(s){case"input":wce(o,i);break;case"textarea":q$e(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oj(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Oj(o,!!i.multiple,i.defaultValue,!0):Oj(o,!!i.multiple,i.multiple?[]:"",!1))}o[Qq]=i}catch(m){Ma(e,e.return,m)}}break;case 6:if(zm(t,e),py(e),n&4){if(e.stateNode===null)throw Error(Ce(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){Ma(e,e.return,m)}}break;case 3:if(zm(t,e),py(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gq(t.containerInfo)}catch(m){Ma(e,e.return,m)}break;case 4:zm(t,e),py(e);break;case 13:zm(t,e),py(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ude=Va())),n&4&&O$e(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?($c=(l=$c)||c,zm(t,e),$c=l):zm(t,e),py(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&(e.mode&1)!==0)for(nt=e,c=e.child;c!==null;){for(d=nt=c;nt!==null;){switch(f=nt,p=f.child,f.tag){case 0:case 11:case 14:case 15:$q(4,f,f.return);break;case 1:xj(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){Ma(n,r,m)}}break;case 5:xj(f,f.return);break;case 22:if(f.memoizedState!==null){P$e(d);continue}}p!==null?(p.return=f,nt=p):P$e(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=H$e("display",a))}catch(m){Ma(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ma(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zm(t,e),py(e),n&4&&O$e(e);break;case 21:break;default:zm(t,e),py(e)}}function py(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yUe(r)){var n=r;break e}r=r.return}throw Error(Ce(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Hq(o,""),n.flags&=-33);var i=C$e(e);rde(e,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,s=C$e(e);tde(e,s,a);break;default:throw Error(Ce(161))}}catch(u){Ma(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XKt(e,t,r){nt=e,vUe(e,t,r)}function vUe(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var o=nt,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||k5;if(!a){var s=o.alternate,u=s!==null&&s.memoizedState!==null||$c;s=k5;var l=$c;if(k5=a,($c=u)&&!l)for(nt=o;nt!==null;)a=nt,u=a.child,a.tag===22&&a.memoizedState!==null?T$e(o):u!==null?(u.return=a,nt=u):T$e(o);for(;i!==null;)nt=i,vUe(i,t,r),i=i.sibling;nt=o,k5=s,$c=l}E$e(e,t,r)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,nt=i):E$e(e,t,r)}}function E$e(e){for(;nt!==null;){var t=nt;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$c||T9(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$c)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Hm(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&l$e(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l$e(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gq(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}$c||t.flags&512&&ede(t)}catch(f){Ma(t,t.return,f)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function P$e(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function T$e(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{T9(4,t)}catch(u){Ma(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(u){Ma(t,o,u)}}var i=t.return;try{ede(t)}catch(u){Ma(t,i,u)}break;case 5:var a=t.return;try{ede(t)}catch(u){Ma(t,a,u)}}}catch(u){Ma(t,t.return,u)}if(t===e){nt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,nt=s;break}nt=t.return}}var QKt=Math.ceil,m9=VS.ReactCurrentDispatcher,$de=VS.ReactCurrentOwner,ph=VS.ReactCurrentBatchConfig,Ln=0,fl=null,is=null,$l=0,np=0,Cj=XO(0),$u=0,iU=null,mI=0,M9=0,qde=0,qq=null,df=null,Ude=0,Fj=1/0,LS=null,g9=!1,nde=null,WO=null,B5=!1,$O=null,y9=0,Uq=0,ode=null,J5=-1,G5=0;function Id(){return(Ln&6)!==0?Va():J5!==-1?J5:J5=Va()}function JO(e){return(e.mode&1)===0?1:(Ln&2)!==0&&$l!==0?$l&-$l:LKt.transition!==null?(G5===0&&(G5=nqe()),G5):(e=No,e!==0||(e=window.event,e=e===void 0?16:cqe(e.type)),e)}function Gm(e,t,r,n){if(50<Uq)throw Uq=0,ode=null,Error(Ce(185));aU(e,r,n),((Ln&2)===0||e!==fl)&&(e===fl&&((Ln&2)===0&&(M9|=r),$u===4&&kO(e,$l)),mf(e,n),r===1&&Ln===0&&(t.mode&1)===0&&(Fj=Va()+500,O9&&QO()))}function mf(e,t){var r=e.callbackNode;kGt(e,t);var n=e9(e,e===fl?$l:0);if(n===0)r!==null&&LBe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&LBe(r),t===1)e.tag===0?NKt(M$e.bind(null,e)):Mqe(M$e.bind(null,e)),AKt(function(){(Ln&6)===0&&QO()}),r=null;else{switch(oqe(n)){case 1:r=hde;break;case 4:r=tqe;break;case 16:r=Q5;break;case 536870912:r=rqe;break;default:r=Q5}r=TUe(r,wUe.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wUe(e,t){if(J5=-1,G5=0,(Ln&6)!==0)throw Error(Ce(327));var r=e.callbackNode;if(Ij()&&e.callbackNode!==r)return null;var n=e9(e,e===fl?$l:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=b9(e,n);else{t=n;var o=Ln;Ln|=2;var i=xUe();(fl!==e||$l!==t)&&(LS=null,Fj=Va()+500,cI(e,t));do try{r7t();break}catch(s){SUe(e,s)}while(!0);Pde(),m9.current=i,Ln=o,is!==null?t=0:(fl=null,$l=0,t=$u)}if(t!==0){if(t===2&&(o=Ace(e),o!==0&&(n=o,t=ide(e,o))),t===1)throw r=iU,cI(e,0),kO(e,n),mf(e,Va()),r;if(t===6)kO(e,n);else{if(o=e.current.alternate,(n&30)===0&&!e7t(o)&&(t=b9(e,n),t===2&&(i=Ace(e),i!==0&&(n=i,t=ide(e,i))),t===1))throw r=iU,cI(e,0),kO(e,n),mf(e,Va()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(Ce(345));case 2:aI(e,df,LS);break;case 3:if(kO(e,n),(n&130023424)===n&&(t=Ude+500-Va(),10<t)){if(e9(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Id(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Bce(aI.bind(null,e,df,LS),t);break}aI(e,df,LS);break;case 4:if(kO(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-Jm(n);i=1<<a,a=t[a],a>o&&(o=a),n&=~i}if(n=o,n=Va()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QKt(n/1960))-n,10<n){e.timeoutHandle=Bce(aI.bind(null,e,df,LS),n);break}aI(e,df,LS);break;case 5:aI(e,df,LS);break;default:throw Error(Ce(329))}}}return mf(e,Va()),e.callbackNode===r?wUe.bind(null,e):null}function ide(e,t){var r=qq;return e.current.memoizedState.isDehydrated&&(cI(e,t).flags|=256),e=b9(e,t),e!==2&&(t=df,df=r,t!==null&&ade(t)),e}function ade(e){df===null?df=e:df.push.apply(df,e)}function e7t(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Km(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kO(e,t){for(t&=~qde,t&=~M9,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jm(t),n=1<<r;e[r]=-1,t&=~n}}function M$e(e){if((Ln&6)!==0)throw Error(Ce(327));Ij();var t=e9(e,0);if((t&1)===0)return mf(e,Va()),null;var r=b9(e,t);if(e.tag!==0&&r===2){var n=Ace(e);n!==0&&(t=n,r=ide(e,n))}if(r===1)throw r=iU,cI(e,0),kO(e,t),mf(e,Va()),r;if(r===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aI(e,df,LS),mf(e,Va()),null}function zde(e,t){var r=Ln;Ln|=1;try{return e(t)}finally{Ln=r,Ln===0&&(Fj=Va()+500,O9&&QO())}}function gI(e){$O!==null&&$O.tag===0&&(Ln&6)===0&&Ij();var t=Ln;Ln|=1;var r=ph.transition,n=No;try{if(ph.transition=null,No=1,e)return e()}finally{No=n,ph.transition=r,Ln=t,(Ln&6)===0&&QO()}}function Hde(){np=Cj.current,vi(Cj)}function cI(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,IKt(r)),is!==null)for(r=is.return;r!==null;){var n=r;switch(Cde(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&i9();break;case 3:Nj(),vi(pf),vi(qc),Dde();break;case 5:Rde(n);break;case 4:Nj();break;case 13:vi(ta);break;case 19:vi(ta);break;case 10:Tde(n.type._context);break;case 22:case 23:Hde()}r=r.return}if(fl=e,is=e=GO(e.current,null),$l=np=t,$u=0,iU=null,qde=M9=mI=0,df=qq=null,uI!==null){for(t=0;t<uI.length;t++)if(r=uI[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}r.pending=n}uI=null}return e}function SUe(e,t){do{var r=is;try{if(Pde(),H5.current=h9,p9){for(var n=ra.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}p9=!1}if(hI=0,dl=Bu=ra=null,Bq=!1,rU=0,$de.current=null,r===null||r.return===null){$u=1,iU=t,is=null;break}e:{var i=e,a=r.return,s=r,u=t;if(t=$l,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=g$e(a);if(p!==null){p.flags&=-257,y$e(p,a,s,i,t),p.mode&1&&m$e(i,l,t),t=p,u=l;var h=t.updateQueue;if(h===null){var m=new Set;m.add(u),t.updateQueue=m}else h.add(u);break e}else{if((t&1)===0){m$e(i,l,t),Vde();break e}u=Error(Ce(426))}}else if(Bi&&s.mode&1){var _=g$e(a);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),y$e(_,a,s,i,t),Ode(Lj(u,s));break e}}i=u=Lj(u,s),$u!==4&&($u=2),qq===null?qq=[i]:qq.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=iUe(i,u,t);u$e(i,g);break e;case 1:s=u;var v=i.type,S=i.stateNode;if((i.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(WO===null||!WO.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=aUe(i,s,t);u$e(i,x);break e}}i=i.return}while(i!==null)}OUe(r)}catch(O){t=O,is===r&&r!==null&&(is=r=r.return);continue}break}while(!0)}function xUe(){var e=m9.current;return m9.current=h9,e===null?h9:e}function Vde(){($u===0||$u===3||$u===2)&&($u=4),fl===null||(mI&268435455)===0&&(M9&268435455)===0||kO(fl,$l)}function b9(e,t){var r=Ln;Ln|=2;var n=xUe();(fl!==e||$l!==t)&&(LS=null,cI(e,t));do try{t7t();break}catch(o){SUe(e,o)}while(!0);if(Pde(),Ln=r,m9.current=n,is!==null)throw Error(Ce(261));return fl=null,$l=0,$u}function t7t(){for(;is!==null;)CUe(is)}function r7t(){for(;is!==null&&!MGt();)CUe(is)}function CUe(e){var t=PUe(e.alternate,e,np);e.memoizedProps=e.pendingProps,t===null?OUe(e):is=t,$de.current=null}function OUe(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=GKt(r,t,np),r!==null){is=r;return}}else{if(r=KKt(r,t),r!==null){r.flags&=32767,is=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$u=6,is=null;return}}if(t=t.sibling,t!==null){is=t;return}is=t=e}while(t!==null);$u===0&&($u=5)}function aI(e,t,r){var n=No,o=ph.transition;try{ph.transition=null,No=1,n7t(e,t,r,n)}finally{ph.transition=o,No=n}return null}function n7t(e,t,r,n){do Ij();while($O!==null);if((Ln&6)!==0)throw Error(Ce(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(BGt(e,i),e===fl&&(is=fl=null,$l=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||B5||(B5=!0,TUe(Q5,function(){return Ij(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=ph.transition,ph.transition=null;var a=No;No=1;var s=Ln;Ln|=4,$de.current=null,ZKt(e,r),_Ue(r,e),OKt(Fce),t9=!!Lce,Fce=Lce=null,e.current=r,XKt(r,e,o),IGt(),Ln=s,No=a,ph.transition=i}else e.current=r;if(B5&&(B5=!1,$O=e,y9=o),i=e.pendingLanes,i===0&&(WO=null),DGt(r.stateNode,n),mf(e,Va()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(g9)throw g9=!1,e=nde,nde=null,e;return(y9&1)!==0&&e.tag!==0&&Ij(),i=e.pendingLanes,(i&1)!==0?e===ode?Uq++:(Uq=0,ode=e):Uq=0,QO(),null}function Ij(){if($O!==null){var e=oqe(y9),t=ph.transition,r=No;try{if(ph.transition=null,No=16>e?16:e,$O===null)var n=!1;else{if(e=$O,$O=null,y9=0,(Ln&6)!==0)throw Error(Ce(331));var o=Ln;for(Ln|=4,nt=e.current;nt!==null;){var i=nt,a=i.child;if((nt.flags&16)!==0){var s=i.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(nt=l;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:$q(8,c,i)}var d=c.child;if(d!==null)d.return=c,nt=d;else for(;nt!==null;){c=nt;var f=c.sibling,p=c.return;if(gUe(c),c===l){nt=null;break}if(f!==null){f.return=p,nt=f;break}nt=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}nt=i}}if((i.subtreeFlags&2064)!==0&&a!==null)a.return=i,nt=a;else e:for(;nt!==null;){if(i=nt,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:$q(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,nt=g;break e}nt=i.return}}var v=e.current;for(nt=v;nt!==null;){a=nt;var S=a.child;if((a.subtreeFlags&2064)!==0&&S!==null)S.return=a,nt=S;else e:for(a=v;nt!==null;){if(s=nt,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:T9(9,s)}}catch(O){Ma(s,s.return,O)}if(s===a){nt=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,nt=x;break e}nt=s.return}}if(Ln=o,QO(),gy&&typeof gy.onPostCommitFiberRoot=="function")try{gy.onPostCommitFiberRoot(v9,e)}catch{}n=!0}return n}finally{No=r,ph.transition=t}}return!1}function I$e(e,t,r){t=Lj(r,t),t=iUe(e,t,1),e=VO(e,t,1),t=Id(),e!==null&&(aU(e,1,t),mf(e,t))}function Ma(e,t,r){if(e.tag===3)I$e(e,e,r);else for(;t!==null;){if(t.tag===3){I$e(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(WO===null||!WO.has(n))){e=Lj(r,e),e=aUe(t,e,1),t=VO(t,e,1),e=Id(),t!==null&&(aU(t,1,e),mf(t,e));break}}t=t.return}}function o7t(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Id(),e.pingedLanes|=e.suspendedLanes&r,fl===e&&($l&r)===r&&($u===4||$u===3&&($l&130023424)===$l&&500>Va()-Ude?cI(e,0):qde|=r),mf(e,t)}function EUe(e,t){t===0&&((e.mode&1)===0?t=1:(t=O5,O5<<=1,(O5&130023424)===0&&(O5=4194304)));var r=Id();e=zS(e,t),e!==null&&(aU(e,t,r),mf(e,r))}function i7t(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),EUe(e,r)}function a7t(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ce(314))}n!==null&&n.delete(t),EUe(e,r)}var PUe;PUe=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pf.current)ff=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ff=!1,JKt(e,t,r);ff=(e.flags&131072)!==0}else ff=!1,Bi&&(t.flags&1048576)!==0&&Iqe(t,u9,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;W5(e,t),e=t.pendingProps;var o=Rj(t,qc.current);Mj(t,r),o=Nde(null,t,n,e,o,r);var i=Lde();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hf(n)?(i=!0,a9(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ide(t),o.updater=E9,t.stateNode=o,o._reactInternals=t,Wce(t,n,e,r),t=Kce(null,t,n,!0,i,r)):(t.tag=0,Bi&&i&&xde(t),Md(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(W5(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=u7t(n),e=Hm(n,e),o){case 0:t=Gce(null,t,n,e,r);break e;case 1:t=v$e(null,t,n,e,r);break e;case 11:t=b$e(null,t,n,e,r);break e;case 14:t=_$e(null,t,n,Hm(n.type,e),r);break e}throw Error(Ce(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Hm(n,o),Gce(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Hm(n,o),v$e(e,t,n,o,r);case 3:e:{if(cUe(t),e===null)throw Error(Ce(387));n=t.pendingProps,i=t.memoizedState,o=i.element,jqe(e,t),d9(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Lj(Error(Ce(423)),t),t=w$e(e,t,n,r,o);break e}else if(n!==o){o=Lj(Error(Ce(424)),t),t=w$e(e,t,n,r,o);break e}else for(op=HO(t.stateNode.containerInfo.firstChild),ip=t,Bi=!0,Wm=null,r=kqe(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dj(),n===o){t=HS(e,t,r);break e}Md(e,t,n,r)}t=t.child}return t;case 5:return Bqe(t),e===null&&zce(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,kce(n,o)?a=null:i!==null&&kce(n,i)&&(t.flags|=32),lUe(e,t),Md(e,t,a,r),t.child;case 6:return e===null&&zce(t),null;case 13:return dUe(e,t,r);case 4:return Ade(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jj(t,null,n,r):Md(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Hm(n,o),b$e(e,t,n,o,r);case 7:return Md(e,t,t.pendingProps,r),t.child;case 8:return Md(e,t,t.pendingProps.children,r),t.child;case 12:return Md(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,ai(l9,n._currentValue),n._currentValue=a,i!==null)if(Km(i.value,a)){if(i.children===o.children&&!pf.current){t=HS(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=$S(-1,r&-r),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Hce(i.return,r,t),s.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ce(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Hce(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Md(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Mj(t,r),o=hh(o),n=n(o),t.flags|=1,Md(e,t,n,r),t.child;case 14:return n=t.type,o=Hm(n,t.pendingProps),o=Hm(n.type,o),_$e(e,t,n,o,r);case 15:return sUe(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Hm(n,o),W5(e,t),t.tag=1,hf(n)?(e=!0,a9(t)):e=!1,Mj(t,r),Lqe(t,n,o),Wce(t,n,o,r),Kce(null,t,n,!0,e,r);case 19:return fUe(e,t,r);case 22:return uUe(e,t,r)}throw Error(Ce(156,t.tag))};function TUe(e,t){return eqe(e,t)}function s7t(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fh(e,t,r,n){return new s7t(e,t,r,n)}function Wde(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u7t(e){if(typeof e=="function")return Wde(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dde)return 11;if(e===fde)return 14}return 2}function GO(e,t){var r=e.alternate;return r===null?(r=fh(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function K5(e,t,r,n,o,i){var a=2;if(n=e,typeof e=="function")Wde(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case hj:return dI(r.children,o,i,t);case cde:a=8,o|=8;break;case gce:return e=fh(12,r,t,o|2),e.elementType=gce,e.lanes=i,e;case yce:return e=fh(13,r,t,o),e.elementType=yce,e.lanes=i,e;case bce:return e=fh(19,r,t,o),e.elementType=bce,e.lanes=i,e;case F$e:return I9(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N$e:a=10;break e;case L$e:a=9;break e;case dde:a=11;break e;case fde:a=14;break e;case NO:a=16,n=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=fh(a,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function dI(e,t,r,n){return e=fh(7,e,n,t),e.lanes=r,e}function I9(e,t,r,n){return e=fh(22,e,n,t),e.elementType=F$e,e.lanes=r,e.stateNode={isHidden:!1},e}function pce(e,t,r){return e=fh(6,e,null,t),e.lanes=r,e}function hce(e,t,r){return t=fh(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l7t(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zle(0),this.expirationTimes=Zle(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zle(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jde(e,t,r,n,o,i,a,s,u){return e=new l7t(e,t,r,s,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fh(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ide(i),e}function c7t(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pj,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MUe(e){if(!e)return YO;e=e._reactInternals;e:{if(bI(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hf(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var r=e.type;if(hf(r))return Tqe(e,r,t)}return t}function IUe(e,t,r,n,o,i,a,s,u){return e=Jde(r,n,!0,e,o,i,a,s,u),e.context=MUe(null),r=e.current,n=Id(),o=JO(r),i=$S(n,o),i.callback=t??null,VO(r,i,o),e.current.lanes=o,aU(e,o,n),mf(e,n),e}function A9(e,t,r,n){var o=t.current,i=Id(),a=JO(o);return r=MUe(r),t.context===null?t.context=r:t.pendingContext=r,t=$S(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=VO(o,t,a),e!==null&&(Gm(e,o,a,i),z5(e,o,a)),a}function _9(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A$e(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gde(e,t){A$e(e,t),(e=e.alternate)&&A$e(e,t)}function d7t(){return null}var AUe=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kde(e){this._internalRoot=e}R9.prototype.render=Kde.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));A9(e,t,null,null)};R9.prototype.unmount=Kde.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gI(function(){A9(null,e,null,null)}),t[US]=null}};function R9(e){this._internalRoot=e}R9.prototype.unstable_scheduleHydration=function(e){if(e){var t=sqe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<FO.length&&t!==0&&t<FO[r].priority;r++);FO.splice(r,0,e),r===0&&lqe(e)}};function Yde(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function D9(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R$e(){}function f7t(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var l=_9(a);i.call(l)}}var a=IUe(t,n,e,0,null,!1,!1,"",R$e);return e._reactRootContainer=a,e[US]=a.current,Zq(e.nodeType===8?e.parentNode:e),gI(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var s=n;n=function(){var l=_9(u);s.call(l)}}var u=Jde(e,0,!1,null,null,!1,!1,"",R$e);return e._reactRootContainer=u,e[US]=u.current,Zq(e.nodeType===8?e.parentNode:e),gI(function(){A9(t,u,r,n)}),u}function j9(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var u=_9(a);s.call(u)}}A9(t,a,e,o)}else a=f7t(r,t,e,o,n);return _9(a)}iqe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rq(t.pendingLanes);r!==0&&(mde(t,r|1),mf(t,Va()),(Ln&6)===0&&(Fj=Va()+500,QO()))}break;case 13:gI(function(){var n=zS(e,1);if(n!==null){var o=Id();Gm(n,e,1,o)}}),Gde(e,1)}};gde=function(e){if(e.tag===13){var t=zS(e,134217728);if(t!==null){var r=Id();Gm(t,e,134217728,r)}Gde(e,134217728)}};aqe=function(e){if(e.tag===13){var t=JO(e),r=zS(e,t);if(r!==null){var n=Id();Gm(r,e,t,n)}Gde(e,t)}};sqe=function(){return No};uqe=function(e,t){var r=No;try{return No=e,t()}finally{No=r}};Tce=function(e,t,r){switch(t){case"input":if(wce(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=C9(n);if(!o)throw Error(Ce(90));B$e(n),wce(n,o)}}}break;case"textarea":q$e(e,r);break;case"select":t=r.value,t!=null&&Oj(e,!!r.multiple,t,!1)}};G$e=zde;K$e=gI;var p7t={usingClientEntryPoint:!1,Events:[uU,bj,C9,W$e,J$e,zde]},Tq={findFiberByHostInstance:sI,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h7t={bundleType:Tq.bundleType,version:Tq.version,rendererPackageName:Tq.rendererPackageName,rendererConfig:Tq.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:VS.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X$e(e),e===null?null:e.stateNode},findFiberByHostInstance:Tq.findFiberByHostInstance||d7t,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Mq=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Mq.isDisabled&&Mq.supportsFiber))try{v9=Mq.inject(h7t),gy=Mq}catch{}var Mq;up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p7t;up.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yde(t))throw Error(Ce(200));return c7t(e,t,null,r)};up.createRoot=function(e,t){if(!Yde(e))throw Error(Ce(299));var r=!1,n="",o=AUe;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Jde(e,1,!1,null,null,r,!1,n,o),e[US]=t.current,Zq(e.nodeType===8?e.parentNode:e),new Kde(t)};up.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=X$e(t),e=e===null?null:e.stateNode,e};up.flushSync=function(e){return gI(e)};up.hydrate=function(e,t,r){if(!D9(t))throw Error(Ce(200));return j9(null,e,t,!0,r)};up.hydrateRoot=function(e,t,r){if(!Yde(e))throw Error(Ce(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",a=AUe;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=IUe(t,null,e,1,r??null,o,!1,i,a),e[US]=t.current,Zq(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new R9(t)};up.render=function(e,t,r){if(!D9(t))throw Error(Ce(200));return j9(null,e,t,!1,r)};up.unmountComponentAtNode=function(e){if(!D9(e))throw Error(Ce(40));return e._reactRootContainer?(gI(function(){j9(null,null,e,!1,function(){e._reactRootContainer=null,e[US]=null})}),!0):!1};up.unstable_batchedUpdates=zde;up.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!D9(r))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return j9(e,t,r,!1,n)};up.version="18.2.0-next-9e3b772b8-20220608"});var as=b((OEn,jUe)=>{"use strict";function DUe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DUe)}catch(e){console.error(e)}}DUe(),jUe.exports=RUe()});var gh=b(Zde=>{"use strict";var NUe=as();Zde.createRoot=NUe.createRoot,Zde.hydrateRoot=NUe.hydrateRoot;var EEn});var kUe=b(N9=>{"use strict";var g7t=Y(),y7t=Symbol.for("react.element"),b7t=Symbol.for("react.fragment"),_7t=Object.prototype.hasOwnProperty,v7t=g7t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w7t={key:!0,ref:!0,__self:!0,__source:!0};function FUe(e,t,r){var n,o={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)_7t.call(t,n)&&!w7t.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:y7t,type:e,key:i,ref:a,props:o,_owner:v7t.current}}N9.Fragment=b7t;N9.jsx=FUe;N9.jsxs=FUe});var lt=b((IEn,BUe)=>{"use strict";BUe.exports=kUe()});var oze=b(q9=>{"use strict";Object.defineProperty(q9,"__esModule",{value:!0});q9.V2ChatStreamRequestCitationMode=void 0;q9.V2ChatStreamRequestCitationMode={Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}});var ize=b(U9=>{"use strict";Object.defineProperty(U9,"__esModule",{value:!0});U9.V2ChatRequestCitationMode=void 0;U9.V2ChatRequestCitationMode={Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}});var sze=b(aze=>{"use strict";Object.defineProperty(aze,"__esModule",{value:!0})});var lze=b(uze=>{"use strict";Object.defineProperty(uze,"__esModule",{value:!0})});var dze=b(cze=>{"use strict";Object.defineProperty(cze,"__esModule",{value:!0})});var pze=b(fze=>{"use strict";Object.defineProperty(fze,"__esModule",{value:!0})});var mze=b(hze=>{"use strict";Object.defineProperty(hze,"__esModule",{value:!0})});var yze=b(gze=>{"use strict";Object.defineProperty(gze,"__esModule",{value:!0})});var _ze=b(bze=>{"use strict";Object.defineProperty(bze,"__esModule",{value:!0})});var wze=b(vze=>{"use strict";Object.defineProperty(vze,"__esModule",{value:!0})});var xze=b(Sze=>{"use strict";Object.defineProperty(Sze,"__esModule",{value:!0})});var Oze=b(Cze=>{"use strict";Object.defineProperty(Cze,"__esModule",{value:!0})});var Pze=b(Eze=>{"use strict";Object.defineProperty(Eze,"__esModule",{value:!0})});var Mze=b(Tze=>{"use strict";Object.defineProperty(Tze,"__esModule",{value:!0})});var Aze=b(Ize=>{"use strict";Object.defineProperty(Ize,"__esModule",{value:!0})});var Dze=b(Rze=>{"use strict";Object.defineProperty(Rze,"__esModule",{value:!0})});var Nze=b(jze=>{"use strict";Object.defineProperty(jze,"__esModule",{value:!0})});var Fze=b(Lze=>{"use strict";Object.defineProperty(Lze,"__esModule",{value:!0})});var Bze=b(kze=>{"use strict";Object.defineProperty(kze,"__esModule",{value:!0})});var qze=b($ze=>{"use strict";Object.defineProperty($ze,"__esModule",{value:!0})});var zze=b(Uze=>{"use strict";Object.defineProperty(Uze,"__esModule",{value:!0})});var Vze=b(Hze=>{"use strict";Object.defineProperty(Hze,"__esModule",{value:!0})});var Jze=b(Wze=>{"use strict";Object.defineProperty(Wze,"__esModule",{value:!0})});var Kze=b(Gze=>{"use strict";Object.defineProperty(Gze,"__esModule",{value:!0})});var Zze=b(Yze=>{"use strict";Object.defineProperty(Yze,"__esModule",{value:!0})});var Xze=b(z9=>{"use strict";Object.defineProperty(z9,"__esModule",{value:!0});z9.ChatFinishReason=void 0;z9.ChatFinishReason={Complete:"complete",StopSequence:"stop_sequence",MaxTokens:"max_tokens",ToolCall:"tool_call",Error:"error",ContentBlocked:"content_blocked",ErrorLimit:"error_limit"}});var e2e=b(Qze=>{"use strict";Object.defineProperty(Qze,"__esModule",{value:!0})});var r2e=b(t2e=>{"use strict";Object.defineProperty(t2e,"__esModule",{value:!0})});var o2e=b(n2e=>{"use strict";Object.defineProperty(n2e,"__esModule",{value:!0})});var a2e=b(i2e=>{"use strict";Object.defineProperty(i2e,"__esModule",{value:!0})});var u2e=b(s2e=>{"use strict";Object.defineProperty(s2e,"__esModule",{value:!0})});var c2e=b(l2e=>{"use strict";Object.defineProperty(l2e,"__esModule",{value:!0})});var f2e=b(d2e=>{"use strict";Object.defineProperty(d2e,"__esModule",{value:!0})});var h2e=b(p2e=>{"use strict";Object.defineProperty(p2e,"__esModule",{value:!0})});var g2e=b(m2e=>{"use strict";Object.defineProperty(m2e,"__esModule",{value:!0})});var b2e=b(y2e=>{"use strict";Object.defineProperty(y2e,"__esModule",{value:!0})});var v2e=b(_2e=>{"use strict";Object.defineProperty(_2e,"__esModule",{value:!0})});var S2e=b(w2e=>{"use strict";Object.defineProperty(w2e,"__esModule",{value:!0})});var C2e=b(x2e=>{"use strict";Object.defineProperty(x2e,"__esModule",{value:!0})});var E2e=b(O2e=>{"use strict";Object.defineProperty(O2e,"__esModule",{value:!0})});var T2e=b(P2e=>{"use strict";Object.defineProperty(P2e,"__esModule",{value:!0})});var I2e=b(M2e=>{"use strict";Object.defineProperty(M2e,"__esModule",{value:!0})});var R2e=b(A2e=>{"use strict";Object.defineProperty(A2e,"__esModule",{value:!0})});var j2e=b(D2e=>{"use strict";Object.defineProperty(D2e,"__esModule",{value:!0})});var L2e=b(N2e=>{"use strict";Object.defineProperty(N2e,"__esModule",{value:!0})});var k2e=b(F2e=>{"use strict";Object.defineProperty(F2e,"__esModule",{value:!0})});var $2e=b(B2e=>{"use strict";Object.defineProperty(B2e,"__esModule",{value:!0})});var U2e=b(q2e=>{"use strict";Object.defineProperty(q2e,"__esModule",{value:!0})});var H2e=b(z2e=>{"use strict";Object.defineProperty(z2e,"__esModule",{value:!0})});var W2e=b(V2e=>{"use strict";Object.defineProperty(V2e,"__esModule",{value:!0})});var G2e=b(J2e=>{"use strict";Object.defineProperty(J2e,"__esModule",{value:!0})});var Y2e=b(K2e=>{"use strict";Object.defineProperty(K2e,"__esModule",{value:!0})});var X2e=b(Z2e=>{"use strict";Object.defineProperty(Z2e,"__esModule",{value:!0})});var e4e=b(Q2e=>{"use strict";Object.defineProperty(Q2e,"__esModule",{value:!0})});var r4e=b(t4e=>{"use strict";Object.defineProperty(t4e,"__esModule",{value:!0})});var o4e=b(n4e=>{"use strict";Object.defineProperty(n4e,"__esModule",{value:!0})});var a4e=b(i4e=>{"use strict";Object.defineProperty(i4e,"__esModule",{value:!0})});var u4e=b(s4e=>{"use strict";Object.defineProperty(s4e,"__esModule",{value:!0})});var c4e=b(l4e=>{"use strict";Object.defineProperty(l4e,"__esModule",{value:!0})});var ofe=b(at=>{"use strict";var sYt=at&&at.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gt=at&&at.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sYt(t,e,r)};Object.defineProperty(at,"__esModule",{value:!0});gt(oze(),at);gt(ize(),at);gt(sze(),at);gt(lze(),at);gt(dze(),at);gt(pze(),at);gt(mze(),at);gt(yze(),at);gt(_ze(),at);gt(wze(),at);gt(xze(),at);gt(Oze(),at);gt(Pze(),at);gt(Mze(),at);gt(Aze(),at);gt(Dze(),at);gt(Nze(),at);gt(Fze(),at);gt(Bze(),at);gt(qze(),at);gt(zze(),at);gt(Vze(),at);gt(Jze(),at);gt(Kze(),at);gt(Zze(),at);gt(Xze(),at);gt(e2e(),at);gt(r2e(),at);gt(o2e(),at);gt(a2e(),at);gt(u2e(),at);gt(c2e(),at);gt(f2e(),at);gt(h2e(),at);gt(g2e(),at);gt(b2e(),at);gt(v2e(),at);gt(S2e(),at);gt(C2e(),at);gt(E2e(),at);gt(T2e(),at);gt(I2e(),at);gt(R2e(),at);gt(j2e(),at);gt(L2e(),at);gt(k2e(),at);gt($2e(),at);gt(U2e(),at);gt(H2e(),at);gt(W2e(),at);gt(G2e(),at);gt(Y2e(),at);gt(X2e(),at);gt(e4e(),at);gt(r4e(),at);gt(o4e(),at);gt(a4e(),at);gt(u4e(),at);gt(c4e(),at)});var ife=b(d4e=>{"use strict";Object.defineProperty(d4e,"__esModule",{value:!0})});var f4e=b(TI=>{"use strict";var uYt=TI&&TI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lYt=TI&&TI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uYt(t,e,r)};Object.defineProperty(TI,"__esModule",{value:!0});lYt(ife(),TI)});var h4e=b(aE=>{"use strict";var cYt=aE&&aE.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p4e=aE&&aE.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cYt(t,e,r)};Object.defineProperty(aE,"__esModule",{value:!0});p4e(ofe(),aE);p4e(f4e(),aE)});var m4e=b(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});H9.CreateEmbedJobRequestTruncate=void 0;H9.CreateEmbedJobRequestTruncate={Start:"START",End:"END"}});var afe=b(MI=>{"use strict";var dYt=MI&&MI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fYt=MI&&MI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dYt(t,e,r)};Object.defineProperty(MI,"__esModule",{value:!0});fYt(m4e(),MI)});var sfe=b(g4e=>{"use strict";Object.defineProperty(g4e,"__esModule",{value:!0})});var y4e=b(II=>{"use strict";var pYt=II&&II.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hYt=II&&II.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pYt(t,e,r)};Object.defineProperty(II,"__esModule",{value:!0});hYt(sfe(),II)});var _4e=b(sE=>{"use strict";var mYt=sE&&sE.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b4e=sE&&sE.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mYt(t,e,r)};Object.defineProperty(sE,"__esModule",{value:!0});b4e(afe(),sE);b4e(y4e(),sE)});var w4e=b(v4e=>{"use strict";Object.defineProperty(v4e,"__esModule",{value:!0})});var x4e=b(S4e=>{"use strict";Object.defineProperty(S4e,"__esModule",{value:!0})});var O4e=b(C4e=>{"use strict";Object.defineProperty(C4e,"__esModule",{value:!0})});var P4e=b(E4e=>{"use strict";Object.defineProperty(E4e,"__esModule",{value:!0})});var M4e=b(T4e=>{"use strict";Object.defineProperty(T4e,"__esModule",{value:!0})});var ufe=b(Xm=>{"use strict";var gYt=Xm&&Xm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FU=Xm&&Xm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gYt(t,e,r)};Object.defineProperty(Xm,"__esModule",{value:!0});FU(w4e(),Xm);FU(x4e(),Xm);FU(O4e(),Xm);FU(P4e(),Xm);FU(M4e(),Xm)});var lfe=b(I4e=>{"use strict";Object.defineProperty(I4e,"__esModule",{value:!0})});var A4e=b(AI=>{"use strict";var yYt=AI&&AI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bYt=AI&&AI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yYt(t,e,r)};Object.defineProperty(AI,"__esModule",{value:!0});bYt(lfe(),AI)});var D4e=b(uE=>{"use strict";var _Yt=uE&&uE.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R4e=uE&&uE.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_Yt(t,e,r)};Object.defineProperty(uE,"__esModule",{value:!0});R4e(ufe(),uE);R4e(A4e(),uE)});var j4e=b(V9=>{"use strict";Object.defineProperty(V9,"__esModule",{value:!0});V9.BaseType=void 0;V9.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"}});var N4e=b(W9=>{"use strict";Object.defineProperty(W9,"__esModule",{value:!0});W9.Strategy=void 0;W9.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"}});var F4e=b(L4e=>{"use strict";Object.defineProperty(L4e,"__esModule",{value:!0})});var B4e=b(k4e=>{"use strict";Object.defineProperty(k4e,"__esModule",{value:!0})});var q4e=b($4e=>{"use strict";Object.defineProperty($4e,"__esModule",{value:!0})});var z4e=b(U4e=>{"use strict";Object.defineProperty(U4e,"__esModule",{value:!0})});var H4e=b(J9=>{"use strict";Object.defineProperty(J9,"__esModule",{value:!0});J9.Status=void 0;J9.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"}});var W4e=b(V4e=>{"use strict";Object.defineProperty(V4e,"__esModule",{value:!0})});var G4e=b(J4e=>{"use strict";Object.defineProperty(J4e,"__esModule",{value:!0})});var Y4e=b(K4e=>{"use strict";Object.defineProperty(K4e,"__esModule",{value:!0})});var X4e=b(Z4e=>{"use strict";Object.defineProperty(Z4e,"__esModule",{value:!0})});var e3e=b(Q4e=>{"use strict";Object.defineProperty(Q4e,"__esModule",{value:!0})});var r3e=b(t3e=>{"use strict";Object.defineProperty(t3e,"__esModule",{value:!0})});var o3e=b(n3e=>{"use strict";Object.defineProperty(n3e,"__esModule",{value:!0})});var a3e=b(i3e=>{"use strict";Object.defineProperty(i3e,"__esModule",{value:!0})});var u3e=b(s3e=>{"use strict";Object.defineProperty(s3e,"__esModule",{value:!0})});var c3e=b(l3e=>{"use strict";Object.defineProperty(l3e,"__esModule",{value:!0})});var cfe=b(oa=>{"use strict";var vYt=oa&&oa.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hl=oa&&oa.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vYt(t,e,r)};Object.defineProperty(oa,"__esModule",{value:!0});Hl(j4e(),oa);Hl(N4e(),oa);Hl(F4e(),oa);Hl(B4e(),oa);Hl(q4e(),oa);Hl(z4e(),oa);Hl(H4e(),oa);Hl(W4e(),oa);Hl(G4e(),oa);Hl(Y4e(),oa);Hl(X4e(),oa);Hl(e3e(),oa);Hl(r3e(),oa);Hl(o3e(),oa);Hl(a3e(),oa);Hl(u3e(),oa);Hl(c3e(),oa)});var d3e=b(RI=>{"use strict";var wYt=RI&&RI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SYt=RI&&RI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wYt(t,e,r)};Object.defineProperty(RI,"__esModule",{value:!0});SYt(cfe(),RI)});var p3e=b(lp=>{"use strict";var f3e=lp&&lp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xYt=lp&&lp.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CYt=lp&&lp.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f3e(t,e,r);return xYt(t,e),t},OYt=lp&&lp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f3e(t,e,r)};Object.defineProperty(lp,"__esModule",{value:!0});lp.finetuning=void 0;lp.finetuning=CYt(d3e());OYt(cfe(),lp)});var dfe=b(h3e=>{"use strict";Object.defineProperty(h3e,"__esModule",{value:!0})});var m3e=b(DI=>{"use strict";var EYt=DI&&DI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PYt=DI&&DI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EYt(t,e,r)};Object.defineProperty(DI,"__esModule",{value:!0});PYt(dfe(),DI)});var y3e=b(lE=>{"use strict";var TYt=lE&&lE.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3e=lE&&lE.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TYt(t,e,r)};Object.defineProperty(lE,"__esModule",{value:!0});g3e(p3e(),lE);g3e(m3e(),lE)});var ffe=b(b3e=>{"use strict";Object.defineProperty(b3e,"__esModule",{value:!0})});var _3e=b(jI=>{"use strict";var MYt=jI&&jI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IYt=jI&&jI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MYt(t,e,r)};Object.defineProperty(jI,"__esModule",{value:!0});IYt(ffe(),jI)});var v3e=b(NI=>{"use strict";var AYt=NI&&NI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RYt=NI&&NI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AYt(t,e,r)};Object.defineProperty(NI,"__esModule",{value:!0});RYt(_3e(),NI)});var pfe=b(w3e=>{"use strict";Object.defineProperty(w3e,"__esModule",{value:!0})});var S3e=b(LI=>{"use strict";var DYt=LI&&LI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jYt=LI&&LI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DYt(t,e,r)};Object.defineProperty(LI,"__esModule",{value:!0});jYt(pfe(),LI)});var x3e=b(FI=>{"use strict";var NYt=FI&&FI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LYt=FI&&FI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NYt(t,e,r)};Object.defineProperty(FI,"__esModule",{value:!0});LYt(S3e(),FI)});var O3e=b(bo=>{"use strict";var C3e=bo&&bo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FYt=bo&&bo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gj=bo&&bo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&C3e(t,e,r);return FYt(t,e),t},XS=bo&&bo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&C3e(t,e,r)};Object.defineProperty(bo,"__esModule",{value:!0});bo.models=bo.connectors=bo.finetuning=bo.datasets=bo.embedJobs=bo.v2=void 0;bo.v2=Gj(h4e());XS(ofe(),bo);bo.embedJobs=Gj(_4e());XS(afe(),bo);bo.datasets=Gj(D4e());XS(ufe(),bo);bo.finetuning=Gj(y3e());bo.connectors=Gj(v3e());bo.models=Gj(x3e());XS(ife(),bo);XS(sfe(),bo);XS(lfe(),bo);XS(ffe(),bo);XS(pfe(),bo);XS(dfe(),bo)});var E3e=b(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});G9.ChatStreamRequestPromptTruncation=void 0;G9.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}});var P3e=b(K9=>{"use strict";Object.defineProperty(K9,"__esModule",{value:!0});K9.ChatStreamRequestCitationQuality=void 0;K9.ChatStreamRequestCitationQuality={Fast:"fast",Accurate:"accurate",Off:"off"}});var M3e=b(T3e=>{"use strict";Object.defineProperty(T3e,"__esModule",{value:!0})});var I3e=b(Y9=>{"use strict";Object.defineProperty(Y9,"__esModule",{value:!0});Y9.ChatStreamRequestSafetyMode=void 0;Y9.ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}});var R3e=b(A3e=>{"use strict";Object.defineProperty(A3e,"__esModule",{value:!0})});var j3e=b(D3e=>{"use strict";Object.defineProperty(D3e,"__esModule",{value:!0})});var L3e=b(N3e=>{"use strict";Object.defineProperty(N3e,"__esModule",{value:!0})});var k3e=b(F3e=>{"use strict";Object.defineProperty(F3e,"__esModule",{value:!0})});var $3e=b(B3e=>{"use strict";Object.defineProperty(B3e,"__esModule",{value:!0})});var q3e=b(Z9=>{"use strict";Object.defineProperty(Z9,"__esModule",{value:!0});Z9.ChatRequestPromptTruncation=void 0;Z9.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}});var U3e=b(X9=>{"use strict";Object.defineProperty(X9,"__esModule",{value:!0});X9.ChatRequestCitationQuality=void 0;X9.ChatRequestCitationQuality={Fast:"fast",Accurate:"accurate",Off:"off"}});var H3e=b(z3e=>{"use strict";Object.defineProperty(z3e,"__esModule",{value:!0})});var V3e=b(Q9=>{"use strict";Object.defineProperty(Q9,"__esModule",{value:!0});Q9.ChatRequestSafetyMode=void 0;Q9.ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}});var W3e=b(eW=>{"use strict";Object.defineProperty(eW,"__esModule",{value:!0});eW.GenerateStreamRequestTruncate=void 0;eW.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"}});var J3e=b(tW=>{"use strict";Object.defineProperty(tW,"__esModule",{value:!0});tW.GenerateStreamRequestReturnLikelihoods=void 0;tW.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}});var G3e=b(rW=>{"use strict";Object.defineProperty(rW,"__esModule",{value:!0});rW.GenerateRequestTruncate=void 0;rW.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"}});var K3e=b(nW=>{"use strict";Object.defineProperty(nW,"__esModule",{value:!0});nW.GenerateRequestReturnLikelihoods=void 0;nW.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}});var Y3e=b(oW=>{"use strict";Object.defineProperty(oW,"__esModule",{value:!0});oW.EmbedRequestTruncate=void 0;oW.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}});var X3e=b(Z3e=>{"use strict";Object.defineProperty(Z3e,"__esModule",{value:!0})});var e8e=b(Q3e=>{"use strict";Object.defineProperty(Q3e,"__esModule",{value:!0})});var r8e=b(t8e=>{"use strict";Object.defineProperty(t8e,"__esModule",{value:!0})});var o8e=b(n8e=>{"use strict";Object.defineProperty(n8e,"__esModule",{value:!0})});var a8e=b(i8e=>{"use strict";Object.defineProperty(i8e,"__esModule",{value:!0})});var s8e=b(iW=>{"use strict";Object.defineProperty(iW,"__esModule",{value:!0});iW.ClassifyRequestTruncate=void 0;iW.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"}});var l8e=b(u8e=>{"use strict";Object.defineProperty(u8e,"__esModule",{value:!0})});var c8e=b(aW=>{"use strict";Object.defineProperty(aW,"__esModule",{value:!0});aW.ClassifyResponseClassificationsItemClassificationType=void 0;aW.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"}});var f8e=b(d8e=>{"use strict";Object.defineProperty(d8e,"__esModule",{value:!0})});var h8e=b(p8e=>{"use strict";Object.defineProperty(p8e,"__esModule",{value:!0})});var m8e=b(sW=>{"use strict";Object.defineProperty(sW,"__esModule",{value:!0});sW.SummarizeRequestLength=void 0;sW.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"}});var g8e=b(uW=>{"use strict";Object.defineProperty(uW,"__esModule",{value:!0});uW.SummarizeRequestFormat=void 0;uW.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"}});var y8e=b(lW=>{"use strict";Object.defineProperty(lW,"__esModule",{value:!0});lW.SummarizeRequestExtractiveness=void 0;lW.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"}});var _8e=b(b8e=>{"use strict";Object.defineProperty(b8e,"__esModule",{value:!0})});var w8e=b(v8e=>{"use strict";Object.defineProperty(v8e,"__esModule",{value:!0})});var x8e=b(S8e=>{"use strict";Object.defineProperty(S8e,"__esModule",{value:!0})});var O8e=b(C8e=>{"use strict";Object.defineProperty(C8e,"__esModule",{value:!0})});var P8e=b(E8e=>{"use strict";Object.defineProperty(E8e,"__esModule",{value:!0})});var M8e=b(T8e=>{"use strict";Object.defineProperty(T8e,"__esModule",{value:!0})});var A8e=b(I8e=>{"use strict";Object.defineProperty(I8e,"__esModule",{value:!0})});var D8e=b(R8e=>{"use strict";Object.defineProperty(R8e,"__esModule",{value:!0})});var N8e=b(j8e=>{"use strict";Object.defineProperty(j8e,"__esModule",{value:!0})});var F8e=b(L8e=>{"use strict";Object.defineProperty(L8e,"__esModule",{value:!0})});var B8e=b(k8e=>{"use strict";Object.defineProperty(k8e,"__esModule",{value:!0})});var q8e=b($8e=>{"use strict";Object.defineProperty($8e,"__esModule",{value:!0})});var z8e=b(U8e=>{"use strict";Object.defineProperty(U8e,"__esModule",{value:!0})});var V8e=b(H8e=>{"use strict";Object.defineProperty(H8e,"__esModule",{value:!0})});var J8e=b(W8e=>{"use strict";Object.defineProperty(W8e,"__esModule",{value:!0})});var K8e=b(G8e=>{"use strict";Object.defineProperty(G8e,"__esModule",{value:!0})});var Z8e=b(Y8e=>{"use strict";Object.defineProperty(Y8e,"__esModule",{value:!0})});var Q8e=b(X8e=>{"use strict";Object.defineProperty(X8e,"__esModule",{value:!0})});var tHe=b(eHe=>{"use strict";Object.defineProperty(eHe,"__esModule",{value:!0})});var nHe=b(rHe=>{"use strict";Object.defineProperty(rHe,"__esModule",{value:!0})});var oHe=b(cW=>{"use strict";Object.defineProperty(cW,"__esModule",{value:!0});cW.FinishReason=void 0;cW.FinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS"}});var aHe=b(iHe=>{"use strict";Object.defineProperty(iHe,"__esModule",{value:!0})});var uHe=b(sHe=>{"use strict";Object.defineProperty(sHe,"__esModule",{value:!0})});var cHe=b(lHe=>{"use strict";Object.defineProperty(lHe,"__esModule",{value:!0})});var fHe=b(dHe=>{"use strict";Object.defineProperty(dHe,"__esModule",{value:!0})});var hHe=b(pHe=>{"use strict";Object.defineProperty(pHe,"__esModule",{value:!0})});var gHe=b(mHe=>{"use strict";Object.defineProperty(mHe,"__esModule",{value:!0})});var bHe=b(yHe=>{"use strict";Object.defineProperty(yHe,"__esModule",{value:!0})});var vHe=b(_He=>{"use strict";Object.defineProperty(_He,"__esModule",{value:!0})});var SHe=b(wHe=>{"use strict";Object.defineProperty(wHe,"__esModule",{value:!0})});var CHe=b(xHe=>{"use strict";Object.defineProperty(xHe,"__esModule",{value:!0})});var EHe=b(OHe=>{"use strict";Object.defineProperty(OHe,"__esModule",{value:!0})});var THe=b(PHe=>{"use strict";Object.defineProperty(PHe,"__esModule",{value:!0})});var MHe=b(dW=>{"use strict";Object.defineProperty(dW,"__esModule",{value:!0});dW.ChatStreamEndEventFinishReason=void 0;dW.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"}});var AHe=b(IHe=>{"use strict";Object.defineProperty(IHe,"__esModule",{value:!0})});var DHe=b(RHe=>{"use strict";Object.defineProperty(RHe,"__esModule",{value:!0})});var NHe=b(jHe=>{"use strict";Object.defineProperty(jHe,"__esModule",{value:!0})});var FHe=b(LHe=>{"use strict";Object.defineProperty(LHe,"__esModule",{value:!0})});var BHe=b(kHe=>{"use strict";Object.defineProperty(kHe,"__esModule",{value:!0})});var qHe=b($He=>{"use strict";Object.defineProperty($He,"__esModule",{value:!0})});var zHe=b(UHe=>{"use strict";Object.defineProperty(UHe,"__esModule",{value:!0})});var VHe=b(HHe=>{"use strict";Object.defineProperty(HHe,"__esModule",{value:!0})});var JHe=b(WHe=>{"use strict";Object.defineProperty(WHe,"__esModule",{value:!0})});var KHe=b(GHe=>{"use strict";Object.defineProperty(GHe,"__esModule",{value:!0})});var ZHe=b(YHe=>{"use strict";Object.defineProperty(YHe,"__esModule",{value:!0})});var QHe=b(XHe=>{"use strict";Object.defineProperty(XHe,"__esModule",{value:!0})});var t6e=b(e6e=>{"use strict";Object.defineProperty(e6e,"__esModule",{value:!0})});var n6e=b(r6e=>{"use strict";Object.defineProperty(r6e,"__esModule",{value:!0})});var i6e=b(o6e=>{"use strict";Object.defineProperty(o6e,"__esModule",{value:!0})});var s6e=b(a6e=>{"use strict";Object.defineProperty(a6e,"__esModule",{value:!0})});var l6e=b(u6e=>{"use strict";Object.defineProperty(u6e,"__esModule",{value:!0})});var d6e=b(c6e=>{"use strict";Object.defineProperty(c6e,"__esModule",{value:!0})});var p6e=b(f6e=>{"use strict";Object.defineProperty(f6e,"__esModule",{value:!0})});var m6e=b(h6e=>{"use strict";Object.defineProperty(h6e,"__esModule",{value:!0})});var g6e=b(fW=>{"use strict";Object.defineProperty(fW,"__esModule",{value:!0});fW.EmbedInputType=void 0;fW.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering"}});var y6e=b(pW=>{"use strict";Object.defineProperty(pW,"__esModule",{value:!0});pW.EmbeddingType=void 0;pW.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary"}});var _6e=b(b6e=>{"use strict";Object.defineProperty(b6e,"__esModule",{value:!0})});var w6e=b(v6e=>{"use strict";Object.defineProperty(v6e,"__esModule",{value:!0})});var x6e=b(S6e=>{"use strict";Object.defineProperty(S6e,"__esModule",{value:!0})});var C6e=b(hW=>{"use strict";Object.defineProperty(hW,"__esModule",{value:!0});hW.EmbedJobStatus=void 0;hW.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"}});var O6e=b(mW=>{"use strict";Object.defineProperty(mW,"__esModule",{value:!0});mW.EmbedJobTruncate=void 0;mW.EmbedJobTruncate={Start:"START",End:"END"}});var P6e=b(E6e=>{"use strict";Object.defineProperty(E6e,"__esModule",{value:!0})});var M6e=b(T6e=>{"use strict";Object.defineProperty(T6e,"__esModule",{value:!0})});var A6e=b(I6e=>{"use strict";Object.defineProperty(I6e,"__esModule",{value:!0})});var D6e=b(R6e=>{"use strict";Object.defineProperty(R6e,"__esModule",{value:!0})});var N6e=b(j6e=>{"use strict";Object.defineProperty(j6e,"__esModule",{value:!0})});var L6e=b(gW=>{"use strict";Object.defineProperty(gW,"__esModule",{value:!0});gW.DatasetValidationStatus=void 0;gW.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"}});var F6e=b(yW=>{"use strict";Object.defineProperty(yW,"__esModule",{value:!0});yW.DatasetType=void 0;yW.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input"}});var B6e=b(k6e=>{"use strict";Object.defineProperty(k6e,"__esModule",{value:!0})});var q6e=b($6e=>{"use strict";Object.defineProperty($6e,"__esModule",{value:!0})});var z6e=b(U6e=>{"use strict";Object.defineProperty(U6e,"__esModule",{value:!0})});var V6e=b(H6e=>{"use strict";Object.defineProperty(H6e,"__esModule",{value:!0})});var J6e=b(W6e=>{"use strict";Object.defineProperty(W6e,"__esModule",{value:!0})});var K6e=b(G6e=>{"use strict";Object.defineProperty(G6e,"__esModule",{value:!0})});var Z6e=b(Y6e=>{"use strict";Object.defineProperty(Y6e,"__esModule",{value:!0})});var Q6e=b(X6e=>{"use strict";Object.defineProperty(X6e,"__esModule",{value:!0})});var tVe=b(eVe=>{"use strict";Object.defineProperty(eVe,"__esModule",{value:!0})});var nVe=b(rVe=>{"use strict";Object.defineProperty(rVe,"__esModule",{value:!0})});var iVe=b(oVe=>{"use strict";Object.defineProperty(oVe,"__esModule",{value:!0})});var sVe=b(aVe=>{"use strict";Object.defineProperty(aVe,"__esModule",{value:!0})});var uVe=b(bW=>{"use strict";Object.defineProperty(bW,"__esModule",{value:!0});bW.ConnectorAuthStatus=void 0;bW.ConnectorAuthStatus={Valid:"valid",Expired:"expired"}});var cVe=b(lVe=>{"use strict";Object.defineProperty(lVe,"__esModule",{value:!0})});var fVe=b(dVe=>{"use strict";Object.defineProperty(dVe,"__esModule",{value:!0})});var hVe=b(pVe=>{"use strict";Object.defineProperty(pVe,"__esModule",{value:!0})});var mVe=b(_W=>{"use strict";Object.defineProperty(_W,"__esModule",{value:!0});_W.AuthTokenType=void 0;_W.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"}});var yVe=b(gVe=>{"use strict";Object.defineProperty(gVe,"__esModule",{value:!0})});var _Ve=b(bVe=>{"use strict";Object.defineProperty(bVe,"__esModule",{value:!0})});var wVe=b(vVe=>{"use strict";Object.defineProperty(vVe,"__esModule",{value:!0})});var xVe=b(SVe=>{"use strict";Object.defineProperty(SVe,"__esModule",{value:!0})});var OVe=b(CVe=>{"use strict";Object.defineProperty(CVe,"__esModule",{value:!0})});var PVe=b(EVe=>{"use strict";Object.defineProperty(EVe,"__esModule",{value:!0})});var TVe=b(vW=>{"use strict";Object.defineProperty(vW,"__esModule",{value:!0});vW.CompatibleEndpoint=void 0;vW.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"}});var IVe=b(MVe=>{"use strict";Object.defineProperty(MVe,"__esModule",{value:!0})});var RVe=b(AVe=>{"use strict";Object.defineProperty(AVe,"__esModule",{value:!0})});var DVe=b(ne=>{"use strict";var kYt=ne&&ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),de=ne&&ne.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kYt(t,e,r)};Object.defineProperty(ne,"__esModule",{value:!0});de(E3e(),ne);de(P3e(),ne);de(M3e(),ne);de(I3e(),ne);de(R3e(),ne);de(j3e(),ne);de(L3e(),ne);de(k3e(),ne);de($3e(),ne);de(q3e(),ne);de(U3e(),ne);de(H3e(),ne);de(V3e(),ne);de(W3e(),ne);de(J3e(),ne);de(G3e(),ne);de(K3e(),ne);de(Y3e(),ne);de(X3e(),ne);de(e8e(),ne);de(r8e(),ne);de(o8e(),ne);de(a8e(),ne);de(s8e(),ne);de(l8e(),ne);de(c8e(),ne);de(f8e(),ne);de(h8e(),ne);de(m8e(),ne);de(g8e(),ne);de(y8e(),ne);de(_8e(),ne);de(w8e(),ne);de(x8e(),ne);de(O8e(),ne);de(P8e(),ne);de(M8e(),ne);de(A8e(),ne);de(D8e(),ne);de(N8e(),ne);de(F8e(),ne);de(B8e(),ne);de(q8e(),ne);de(z8e(),ne);de(V8e(),ne);de(J8e(),ne);de(K8e(),ne);de(Z8e(),ne);de(Q8e(),ne);de(tHe(),ne);de(nHe(),ne);de(oHe(),ne);de(aHe(),ne);de(uHe(),ne);de(cHe(),ne);de(fHe(),ne);de(hHe(),ne);de(gHe(),ne);de(bHe(),ne);de(vHe(),ne);de(SHe(),ne);de(CHe(),ne);de(EHe(),ne);de(THe(),ne);de(MHe(),ne);de(AHe(),ne);de(DHe(),ne);de(NHe(),ne);de(FHe(),ne);de(BHe(),ne);de(qHe(),ne);de(zHe(),ne);de(VHe(),ne);de(JHe(),ne);de(KHe(),ne);de(ZHe(),ne);de(QHe(),ne);de(t6e(),ne);de(n6e(),ne);de(i6e(),ne);de(s6e(),ne);de(l6e(),ne);de(d6e(),ne);de(p6e(),ne);de(m6e(),ne);de(g6e(),ne);de(y6e(),ne);de(_6e(),ne);de(w6e(),ne);de(x6e(),ne);de(C6e(),ne);de(O6e(),ne);de(P6e(),ne);de(M6e(),ne);de(A6e(),ne);de(D6e(),ne);de(N6e(),ne);de(L6e(),ne);de(F6e(),ne);de(B6e(),ne);de(q6e(),ne);de(z6e(),ne);de(V6e(),ne);de(J6e(),ne);de(K6e(),ne);de(Z6e(),ne);de(Q6e(),ne);de(tVe(),ne);de(nVe(),ne);de(iVe(),ne);de(sVe(),ne);de(uVe(),ne);de(cVe(),ne);de(fVe(),ne);de(hVe(),ne);de(mVe(),ne);de(yVe(),ne);de(_Ve(),ne);de(wVe(),ne);de(xVe(),ne);de(OVe(),ne);de(PVe(),ne);de(TVe(),ne);de(IVe(),ne);de(RVe(),ne)});var jVe=b(wW=>{"use strict";Object.defineProperty(wW,"__esModule",{value:!0});wW.CohereError=void 0;var hfe=class e extends Error{constructor({message:t,statusCode:r,body:n}){super(BYt({message:t,statusCode:r,body:n})),Object.setPrototypeOf(this,e.prototype),r!=null&&(this.statusCode=r),n!==void 0&&(this.body=n)}};wW.CohereError=hfe;function BYt({message:e,statusCode:t,body:r}){let n=[];return e!=null&&n.push(e),t!=null&&n.push(`Status code: ${t.toString()}`),r!=null&&n.push(`Body: ${JSON.stringify(r,void 0,2)}`),n.join(`
`)}});var NVe=b(SW=>{"use strict";Object.defineProperty(SW,"__esModule",{value:!0});SW.CohereTimeoutError=void 0;var mfe=class e extends Error{constructor(){super("Timeout"),Object.setPrototypeOf(this,e.prototype)}};SW.CohereTimeoutError=mfe});var Wa=b(Kj=>{"use strict";Object.defineProperty(Kj,"__esModule",{value:!0});Kj.CohereTimeoutError=Kj.CohereError=void 0;var $Yt=jVe();Object.defineProperty(Kj,"CohereError",{enumerable:!0,get:function(){return $Yt.CohereError}});var qYt=NVe();Object.defineProperty(Kj,"CohereTimeoutError",{enumerable:!0,get:function(){return qYt.CohereTimeoutError}})});var LVe=b(wy=>{"use strict";var UYt=wy&&wy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zYt=wy&&wy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HYt=wy&&wy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&UYt(t,e,r);return zYt(t,e),t};Object.defineProperty(wy,"__esModule",{value:!0});wy.BadRequestError=void 0;var VYt=HYt(Wa()),gfe=class e extends VYt.CohereError{constructor(t){super({message:"BadRequestError",statusCode:400,body:t}),Object.setPrototypeOf(this,e.prototype)}};wy.BadRequestError=gfe});var FVe=b(Sy=>{"use strict";var WYt=Sy&&Sy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JYt=Sy&&Sy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GYt=Sy&&Sy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&WYt(t,e,r);return JYt(t,e),t};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.UnauthorizedError=void 0;var KYt=GYt(Wa()),yfe=class e extends KYt.CohereError{constructor(t){super({message:"UnauthorizedError",statusCode:401,body:t}),Object.setPrototypeOf(this,e.prototype)}};Sy.UnauthorizedError=yfe});var kVe=b(xy=>{"use strict";var YYt=xy&&xy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZYt=xy&&xy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XYt=xy&&xy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YYt(t,e,r);return ZYt(t,e),t};Object.defineProperty(xy,"__esModule",{value:!0});xy.ForbiddenError=void 0;var QYt=XYt(Wa()),bfe=class e extends QYt.CohereError{constructor(t){super({message:"ForbiddenError",statusCode:403,body:t}),Object.setPrototypeOf(this,e.prototype)}};xy.ForbiddenError=bfe});var BVe=b(Cy=>{"use strict";var eZt=Cy&&Cy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tZt=Cy&&Cy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rZt=Cy&&Cy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eZt(t,e,r);return tZt(t,e),t};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.NotFoundError=void 0;var nZt=rZt(Wa()),_fe=class e extends nZt.CohereError{constructor(t){super({message:"NotFoundError",statusCode:404,body:t}),Object.setPrototypeOf(this,e.prototype)}};Cy.NotFoundError=_fe});var $Ve=b(Oy=>{"use strict";var oZt=Oy&&Oy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iZt=Oy&&Oy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aZt=Oy&&Oy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oZt(t,e,r);return iZt(t,e),t};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.UnprocessableEntityError=void 0;var sZt=aZt(Wa()),vfe=class e extends sZt.CohereError{constructor(t){super({message:"UnprocessableEntityError",statusCode:422,body:t}),Object.setPrototypeOf(this,e.prototype)}};Oy.UnprocessableEntityError=vfe});var qVe=b(Ey=>{"use strict";var uZt=Ey&&Ey.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lZt=Ey&&Ey.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cZt=Ey&&Ey.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uZt(t,e,r);return lZt(t,e),t};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.TooManyRequestsError=void 0;var dZt=cZt(Wa()),wfe=class e extends dZt.CohereError{constructor(t){super({message:"TooManyRequestsError",statusCode:429,body:t}),Object.setPrototypeOf(this,e.prototype)}};Ey.TooManyRequestsError=wfe});var UVe=b(Py=>{"use strict";var fZt=Py&&Py.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pZt=Py&&Py.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hZt=Py&&Py.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fZt(t,e,r);return pZt(t,e),t};Object.defineProperty(Py,"__esModule",{value:!0});Py.ClientClosedRequestError=void 0;var mZt=hZt(Wa()),Sfe=class e extends mZt.CohereError{constructor(t){super({message:"ClientClosedRequestError",statusCode:499,body:t}),Object.setPrototypeOf(this,e.prototype)}};Py.ClientClosedRequestError=Sfe});var zVe=b(Ty=>{"use strict";var gZt=Ty&&Ty.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yZt=Ty&&Ty.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bZt=Ty&&Ty.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gZt(t,e,r);return yZt(t,e),t};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.InternalServerError=void 0;var _Zt=bZt(Wa()),xfe=class e extends _Zt.CohereError{constructor(t){super({message:"InternalServerError",statusCode:500,body:t}),Object.setPrototypeOf(this,e.prototype)}};Ty.InternalServerError=xfe});var HVe=b(My=>{"use strict";var vZt=My&&My.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wZt=My&&My.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),SZt=My&&My.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vZt(t,e,r);return wZt(t,e),t};Object.defineProperty(My,"__esModule",{value:!0});My.NotImplementedError=void 0;var xZt=SZt(Wa()),Cfe=class e extends xZt.CohereError{constructor(t){super({message:"NotImplementedError",statusCode:501,body:t}),Object.setPrototypeOf(this,e.prototype)}};My.NotImplementedError=Cfe});var VVe=b(Iy=>{"use strict";var CZt=Iy&&Iy.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OZt=Iy&&Iy.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EZt=Iy&&Iy.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&CZt(t,e,r);return OZt(t,e),t};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.ServiceUnavailableError=void 0;var PZt=EZt(Wa()),Ofe=class e extends PZt.CohereError{constructor(t){super({message:"ServiceUnavailableError",statusCode:503,body:t}),Object.setPrototypeOf(this,e.prototype)}};Iy.ServiceUnavailableError=Ofe});var WVe=b(Ay=>{"use strict";var TZt=Ay&&Ay.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MZt=Ay&&Ay.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IZt=Ay&&Ay.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TZt(t,e,r);return MZt(t,e),t};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.GatewayTimeoutError=void 0;var AZt=IZt(Wa()),Efe=class e extends AZt.CohereError{constructor(t){super({message:"GatewayTimeoutError",statusCode:504,body:t}),Object.setPrototypeOf(this,e.prototype)}};Ay.GatewayTimeoutError=Efe});var JVe=b(Vl=>{"use strict";var RZt=Vl&&Vl.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qm=Vl&&Vl.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RZt(t,e,r)};Object.defineProperty(Vl,"__esModule",{value:!0});Qm(LVe(),Vl);Qm(FVe(),Vl);Qm(kVe(),Vl);Qm(BVe(),Vl);Qm($Ve(),Vl);Qm(qVe(),Vl);Qm(UVe(),Vl);Qm(zVe(),Vl);Qm(HVe(),Vl);Qm(VVe(),Vl);Qm(WVe(),Vl)});var KVe=b(GVe=>{"use strict";Object.defineProperty(GVe,"__esModule",{value:!0})});var YVe=b(kI=>{"use strict";var DZt=kI&&kI.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jZt=kI&&kI.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DZt(t,e,r)};Object.defineProperty(kI,"__esModule",{value:!0});jZt(KVe(),kI)});var QS=b(Ry=>{"use strict";var NZt=Ry&&Ry.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xW=Ry&&Ry.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NZt(t,e,r)};Object.defineProperty(Ry,"__esModule",{value:!0});xW(O3e(),Ry);xW(DVe(),Ry);xW(JVe(),Ry);xW(YVe(),Ry)});var Mfe={};Kd(Mfe,{__addDisposableResource:()=>y5e,__assign:()=>CW,__asyncDelegator:()=>l5e,__asyncGenerator:()=>u5e,__asyncValues:()=>c5e,__await:()=>Yj,__awaiter:()=>r5e,__classPrivateFieldGet:()=>h5e,__classPrivateFieldIn:()=>g5e,__classPrivateFieldSet:()=>m5e,__createBinding:()=>EW,__decorate:()=>QVe,__disposeResources:()=>b5e,__esDecorate:()=>LZt,__exportStar:()=>o5e,__extends:()=>ZVe,__generator:()=>n5e,__importDefault:()=>p5e,__importStar:()=>f5e,__makeTemplateObject:()=>d5e,__metadata:()=>t5e,__param:()=>e5e,__propKey:()=>kZt,__read:()=>Tfe,__rest:()=>XVe,__runInitializers:()=>FZt,__setFunctionName:()=>BZt,__spread:()=>i5e,__spreadArray:()=>s5e,__spreadArrays:()=>a5e,__values:()=>OW,default:()=>UZt});function ZVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pfe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function XVe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function QVe(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function e5e(e,t){return function(r,n){t(r,n,e)}}function LZt(e,t,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,c=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var h={};for(var m in n)h[m]=m==="access"?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var _=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],h);if(s==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=a(_.get))&&(c.get=d),(d=a(_.set))&&(c.set=d),(d=a(_.init))&&o.unshift(d)}else(d=a(_))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function FZt(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function kZt(e){return typeof e=="symbol"?e:"".concat(e)}function BZt(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function t5e(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function r5e(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function n5e(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function o5e(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EW(t,e,r)}function OW(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tfe(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function i5e(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tfe(arguments[t]));return e}function a5e(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function s5e(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Yj(e){return this instanceof Yj?(this.v=e,this):new Yj(e)}function u5e(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(h){return Promise.resolve(h).then(p,d)}}function s(p,h){n[p]&&(o[p]=function(m){return new Promise(function(_,g){i.push([p,m,_,g])>1||u(p,m)})},h&&(o[p]=h(o[p])))}function u(p,h){try{l(n[p](h))}catch(m){f(i[0][3],m)}}function l(p){p.value instanceof Yj?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,h){p(h),i.shift(),i.length&&u(i[0][0],i[0][1])}}function l5e(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:Yj(e[o](a)),done:!1}:i?i(a):a}:i}}function c5e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof OW=="function"?OW(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function d5e(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function f5e(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&EW(t,e,r);return $Zt(t,e),t}function p5e(e){return e&&e.__esModule?e:{default:e}}function h5e(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function m5e(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function g5e(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function y5e(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function b5e(e){function t(i){e.error=e.hasError?new qZt(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}var Pfe,CW,EW,$Zt,qZt,UZt,Ife=C(()=>{Pfe=function(e,t){return Pfe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Pfe(e,t)};CW=function(){return CW=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},CW.apply(this,arguments)};EW=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};$Zt=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};qZt=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};UZt={__extends:ZVe,__assign:CW,__rest:XVe,__decorate:QVe,__param:e5e,__metadata:t5e,__awaiter:r5e,__generator:n5e,__createBinding:EW,__exportStar:o5e,__values:OW,__read:Tfe,__spread:i5e,__spreadArrays:a5e,__spreadArray:s5e,__await:Yj,__asyncGenerator:u5e,__asyncDelegator:l5e,__asyncValues:c5e,__makeTemplateObject:d5e,__importStar:f5e,__importDefault:p5e,__classPrivateFieldGet:h5e,__classPrivateFieldSet:m5e,__classPrivateFieldIn:g5e,__addDisposableResource:y5e,__disposeResources:b5e}});var Afe=b(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.MAX_HASHABLE_LENGTH=_h.INIT=_h.KEY=_h.DIGEST_LENGTH=_h.BLOCK_SIZE=void 0;_h.BLOCK_SIZE=64;_h.DIGEST_LENGTH=32;_h.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);_h.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];_h.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var _5e=b(PW=>{"use strict";Object.defineProperty(PW,"__esModule",{value:!0});PW.RawSha256=void 0;var vh=Afe(),zZt=function(){function e(){this.state=Int32Array.from(vh.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>vh.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===vh.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%vh.BLOCK_SIZE>=vh.BLOCK_SIZE-8){for(var o=this.bufferLength;o<vh.BLOCK_SIZE;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<vh.BLOCK_SIZE-8;o++)r.setUint8(o,0);r.setUint32(vh.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(vh.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(vh.DIGEST_LENGTH),o=0;o<8;o++)i[o*4]=this.state[o]>>>24&255,i[o*4+1]=this.state[o]>>>16&255,i[o*4+2]=this.state[o]>>>8&255,i[o*4+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,o=n[0],i=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],f=0;f<vh.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(r[f*4]&255)<<24|(r[f*4+1]&255)<<16|(r[f*4+2]&255)<<8|r[f*4+3]&255;else{var p=this.temp[f-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[f-15];var m=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(m+this.temp[f-16]|0)}var _=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&c)|0)+(d+(vh.KEY[f]+this.temp[f]|0)|0)|0,g=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&i^o&a^i&a)|0;d=c,c=l,l=u,u=s+_|0,s=a,a=i,i=o,o=_+g|0}n[0]+=o,n[1]+=i,n[2]+=a,n[3]+=s,n[4]+=u,n[5]+=l,n[6]+=c,n[7]+=d},e}();PW.RawSha256=zZt});var S5e=b((qDn,w5e)=>{var TW=Object.defineProperty,HZt=Object.getOwnPropertyDescriptor,VZt=Object.getOwnPropertyNames,WZt=Object.prototype.hasOwnProperty,JZt=(e,t)=>TW(e,"name",{value:t,configurable:!0}),GZt=(e,t)=>{for(var r in t)TW(e,r,{get:t[r],enumerable:!0})},KZt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VZt(t))!WZt.call(e,o)&&o!==r&&TW(e,o,{get:()=>t[o],enumerable:!(n=HZt(t,o))||n.enumerable});return e},YZt=e=>KZt(TW({},"__esModule",{value:!0}),e),v5e={};GZt(v5e,{isArrayBuffer:()=>ZZt});w5e.exports=YZt(v5e);var ZZt=JZt(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var E5e=b((UDn,O5e)=>{var MW=Object.defineProperty,XZt=Object.getOwnPropertyDescriptor,QZt=Object.getOwnPropertyNames,eXt=Object.prototype.hasOwnProperty,x5e=(e,t)=>MW(e,"name",{value:t,configurable:!0}),tXt=(e,t)=>{for(var r in t)MW(e,r,{get:t[r],enumerable:!0})},rXt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QZt(t))!eXt.call(e,o)&&o!==r&&MW(e,o,{get:()=>t[o],enumerable:!(n=XZt(t,o))||n.enumerable});return e},nXt=e=>rXt(MW({},"__esModule",{value:!0}),e),C5e={};tXt(C5e,{fromArrayBuffer:()=>iXt,fromString:()=>aXt});O5e.exports=nXt(C5e);var oXt=S5e(),Rfe=Td(),iXt=x5e((e,t=0,r=e.byteLength-t)=>{if(!(0,oXt.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Rfe.Buffer.from(e,t,r)},"fromArrayBuffer"),aXt=x5e((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Rfe.Buffer.from(e,t):Rfe.Buffer.from(e)},"fromString")});var A5e=b((zDn,I5e)=>{var IW=Object.defineProperty,sXt=Object.getOwnPropertyDescriptor,uXt=Object.getOwnPropertyNames,lXt=Object.prototype.hasOwnProperty,Dfe=(e,t)=>IW(e,"name",{value:t,configurable:!0}),cXt=(e,t)=>{for(var r in t)IW(e,r,{get:t[r],enumerable:!0})},dXt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uXt(t))!lXt.call(e,o)&&o!==r&&IW(e,o,{get:()=>t[o],enumerable:!(n=sXt(t,o))||n.enumerable});return e},fXt=e=>dXt(IW({},"__esModule",{value:!0}),e),P5e={};cXt(P5e,{fromUtf8:()=>M5e,toUint8Array:()=>pXt,toUtf8:()=>hXt});I5e.exports=fXt(P5e);var T5e=E5e(),M5e=Dfe(e=>{let t=(0,T5e.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),pXt=Dfe(e=>typeof e=="string"?M5e(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),hXt=Dfe(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,T5e.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var R5e=b(AW=>{"use strict";Object.defineProperty(AW,"__esModule",{value:!0});AW.convertToBuffer=void 0;var mXt=A5e(),gXt=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:mXt.fromUtf8;function yXt(e){return e instanceof Uint8Array?e:typeof e=="string"?gXt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}AW.convertToBuffer=yXt});var D5e=b(RW=>{"use strict";Object.defineProperty(RW,"__esModule",{value:!0});RW.isEmptyData=void 0;function bXt(e){return typeof e=="string"?e.length===0:e.byteLength===0}RW.isEmptyData=bXt});var j5e=b(DW=>{"use strict";Object.defineProperty(DW,"__esModule",{value:!0});DW.numToUint8=void 0;function _Xt(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}DW.numToUint8=_Xt});var N5e=b(jW=>{"use strict";Object.defineProperty(jW,"__esModule",{value:!0});jW.uint32ArrayFrom=void 0;function vXt(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}jW.uint32ArrayFrom=vXt});var NW=b(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.uint32ArrayFrom=Dy.numToUint8=Dy.isEmptyData=Dy.convertToBuffer=void 0;var wXt=R5e();Object.defineProperty(Dy,"convertToBuffer",{enumerable:!0,get:function(){return wXt.convertToBuffer}});var SXt=D5e();Object.defineProperty(Dy,"isEmptyData",{enumerable:!0,get:function(){return SXt.isEmptyData}});var xXt=j5e();Object.defineProperty(Dy,"numToUint8",{enumerable:!0,get:function(){return xXt.numToUint8}});var CXt=N5e();Object.defineProperty(Dy,"uint32ArrayFrom",{enumerable:!0,get:function(){return CXt.uint32ArrayFrom}})});var F5e=b(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0});kW.Sha256=void 0;var L5e=(Ife(),il(Mfe)),FW=Afe(),LW=_5e(),jfe=NW(),OXt=function(){function e(t){this.secret=t,this.hash=new LW.RawSha256,this.reset()}return e.prototype.update=function(t){if(!((0,jfe.isEmptyData)(t)||this.error))try{this.hash.update((0,jfe.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return L5e.__awaiter(this,void 0,void 0,function(){return L5e.__generator(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new LW.RawSha256,this.secret){this.outer=new LW.RawSha256;var t=EXt(this.secret),r=new Uint8Array(FW.BLOCK_SIZE);r.set(t);for(var n=0;n<FW.BLOCK_SIZE;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e}();kW.Sha256=OXt;function EXt(e){var t=(0,jfe.convertToBuffer)(e);if(t.byteLength>FW.BLOCK_SIZE){var r=new LW.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(FW.BLOCK_SIZE);return n.set(t),n}});var Lfe=b(Nfe=>{"use strict";Object.defineProperty(Nfe,"__esModule",{value:!0});var PXt=(Ife(),il(Mfe));PXt.__exportStar(F5e(),Nfe)});var k5e=C(()=>{});var B5e=C(()=>{});var $5e=C(()=>{});var BI,kU=C(()=>{BI=class e extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}}});var qu,q5e=C(()=>{kU();qu=class e extends BI{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,e.prototype)}}});var U5e=C(()=>{kU()});var z5e=C(()=>{kU()});var H5e=C(()=>{});var V5e,W5e=C(()=>{V5e=(e,t,r)=>{let n,o,i,a=!1,s=async()=>{o||(o=e());try{n=await o,i=!0,a=!1}finally{o=void 0}return n};return t===void 0?async u=>((!i||u?.forceRefresh)&&(n=await s()),n):async u=>((!i||u?.forceRefresh)&&(n=await s()),a?n:r&&!r(n)?(a=!0,n):(t(n)&&await s(),n))}});var ex=C(()=>{q5e();kU();U5e();z5e();H5e();W5e()});function BW(e){return Promise.all(Object.keys(e).reduce((t,r)=>{let n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(o=>[r,o])),t},[])).then(t=>t.reduce((r,[n,o])=>(r[n]=o,r),{}))}var Ffe=C(()=>{});var J5e=C(()=>{});var G5e=C(()=>{J5e()});var K5e=C(()=>{});var Y5e,Z5e=C(()=>{(function(e){e.HEADER="header",e.QUERY="query"})(Y5e||(Y5e={}))});var kfe,X5e=C(()=>{(function(e){e.HEADER="header",e.QUERY="query"})(kfe||(kfe={}))});var Q5e=C(()=>{});var e9e=C(()=>{});var t9e=C(()=>{});var r9e=C(()=>{});var n9e=C(()=>{Z5e();X5e();Q5e();e9e();t9e();r9e()});var o9e=C(()=>{});var i9e=C(()=>{});var a9e=C(()=>{});var s9e=C(()=>{});var u9e=C(()=>{});var l9e=C(()=>{});var c9e=C(()=>{});var d9e=C(()=>{u9e();l9e();c9e()});var f9e=C(()=>{});var p9e=C(()=>{});var Zj,h9e=C(()=>{(function(e){e.HTTP="http",e.HTTPS="https"})(Zj||(Zj={}))});var m9e=C(()=>{});var g9e=C(()=>{});var y9e=C(()=>{});var b9e=C(()=>{});var _9e=C(()=>{});var v9e=C(()=>{m9e();g9e();y9e();b9e();_9e()});var w9e=C(()=>{});var Xj,Bfe=C(()=>{(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Xj||(Xj={}))});var S9e=C(()=>{Bfe()});var x9e=C(()=>{});var C9e=C(()=>{S9e();x9e();Bfe()});var cp,O9e=C(()=>{(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(cp||(cp={}))});var E9e=C(()=>{});var P9e=C(()=>{});var T9e=C(()=>{});var M9e=C(()=>{});var I9e=C(()=>{});var A9e=C(()=>{P9e();T9e();M9e();I9e()});var R9e=C(()=>{});var Qj,D9e=C(()=>{Qj="__smithy_context"});var j9e=C(()=>{});var N9e,L9e=C(()=>{(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(N9e||(N9e={}))});var F9e=C(()=>{});var k9e=C(()=>{});var B9e=C(()=>{});var $9e=C(()=>{});var q9e=C(()=>{});var U9e=C(()=>{});var z9e=C(()=>{});var H9e=C(()=>{});var V9e=C(()=>{});var W9e,J9e=C(()=>{(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(W9e||(W9e={}))});var G9e=C(()=>{});var K9e=C(()=>{});var Y9e=C(()=>{});var Z9e=C(()=>{});var X9e=C(()=>{});var Q9e=C(()=>{});var us=C(()=>{K5e();n9e();o9e();i9e();a9e();s9e();d9e();f9e();p9e();h9e();v9e();w9e();C9e();O9e();E9e();A9e();R9e();D9e();j9e();L9e();F9e();k9e();B9e();$9e();q9e();U9e();z9e();H9e();V9e();J9e();G9e();K9e();Y9e();Z9e();X9e();Q9e()});var eWe=C(()=>{us()});var tWe=C(()=>{});var rWe=C(()=>{});function TXt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var $W,nWe=C(()=>{$W=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=TXt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var oWe=C(()=>{});var iWe=C(()=>{});var aWe=C(()=>{});var sWe=C(()=>{G5e();eWe();tWe();rWe();nWe();oWe();iWe();aWe()});var MXt,IXt,qW,$fe=C(()=>{sWe();MXt=e=>t=>async r=>{if(!$W.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},IXt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},qW=e=>({applyToStack:t=>{t.add(MXt(e),IXt)}})});var AXt,RXt,UW,uWe=C(()=>{AXt=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:i,logger:a,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=s,c=u??t.inputFilterSensitiveLog,d=l??t.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return a?.info?.({clientName:o,commandName:i,input:c(r.input),output:d(p),metadata:f}),n}catch(n){let{clientName:o,commandName:i,logger:a,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:u}=s,l=u??t.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},RXt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},UW=e=>({applyToStack:t=>{t.add(AXt(),RXt)}})});var qfe=C(()=>{uWe()});var lWe=C(()=>{});var cWe=C(()=>{lWe()});var dWe=C(()=>{us()});var fWe=C(()=>{});var pWe=C(()=>{});function DXt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var zW,hWe=C(()=>{zW=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=DXt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var mWe=C(()=>{});var gWe=C(()=>{});var yWe=C(()=>{});var bWe=C(()=>{cWe();dWe();fWe();pWe();hWe();mWe();gWe();yWe()});var _We,jXt,NXt,LXt,FXt,HW,Ufe=C(()=>{bWe();_We="X-Amzn-Trace-Id",jXt="AWS_LAMBDA_FUNCTION_NAME",NXt="_X_AMZN_TRACE_ID",LXt=e=>t=>async r=>{let{request:n}=r;if(!zW.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(_We))return t(r);let o=process.env[jXt],i=process.env[NXt],a=s=>typeof s=="string"&&s.length>0;return a(o)&&a(i)&&(n.headers[_We]=i),t({...r,request:n})},FXt={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},HW=e=>({applyToStack:t=>{t.add(LXt(e),FXt)}})});function VW(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var vWe=C(()=>{});var kXt,BU,zfe=C(()=>{kXt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),BU=e=>kXt.test(e)||e.startsWith("[")&&e.endsWith("]")});var BXt,$U,Hfe=C(()=>{BXt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),$U=(e,t=!1)=>{if(!t)return BXt.test(e);let r=e.split(".");for(let n of r)if(!$U(n))return!1;return!0}});var tx,WW=C(()=>{tx={}});var rx,wWe=C(()=>{rx="endpoints"});function wh(e){return typeof e!="object"||e==null?e:"ref"in e?`$${wh(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(wh).join(", ")})`:JSON.stringify(e,null,2)}var SWe=C(()=>{});var qU=C(()=>{wWe();SWe()});var si,xWe=C(()=>{si=class extends Error{constructor(t){super(t),this.name="EndpointError"}}});var CWe=C(()=>{});var OWe=C(()=>{});var EWe=C(()=>{});var PWe=C(()=>{});var TWe=C(()=>{});var MWe=C(()=>{});var Sh=C(()=>{xWe();CWe();OWe();EWe();PWe();TWe();MWe()});var IWe,AWe=C(()=>{IWe=(e,t)=>e===t});var RWe,DWe=C(()=>{Sh();RWe=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new si(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new si(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r}});var JW,jWe=C(()=>{Sh();DWe();JW=(e,t)=>RWe(t).reduce((r,n)=>{if(typeof r!="object")throw new si(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e)});var NWe,LWe=C(()=>{NWe=e=>e!=null});var FWe,kWe=C(()=>{FWe=e=>!e});var Vfe,BWe,$We=C(()=>{us();zfe();Vfe={[Zj.HTTP]:80,[Zj.HTTPS]:443},BWe=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:p,protocol:h="",path:m="",query:_={}}=e,g=new URL(`${h}//${f}${p?`:${p}`:""}${m}`);return g.search=Object.entries(_).map(([v,S])=>`${v}=${S}`).join("&"),g}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:a,search:s}=t;if(s)return null;let u=a.slice(0,-1);if(!Object.values(Zj).includes(u))return null;let l=BU(o),c=r.includes(`${n}:${Vfe[u]}`)||typeof e=="string"&&e.includes(`${n}:${Vfe[u]}`),d=`${n}${c?`:${Vfe[u]}`:""}`;return{scheme:u,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}}});var qWe,UWe=C(()=>{qWe=(e,t)=>e===t});var zWe,HWe=C(()=>{zWe=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r)});var VWe,WWe=C(()=>{VWe=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Wfe=C(()=>{AWe();jWe();LWe();Hfe();kWe();$We();UWe();HWe();WWe()});var JWe,GWe=C(()=>{Wfe();JWe={booleanEquals:IWe,getAttr:JW,isSet:NWe,isValidHostLabel:$U,not:FWe,parseURL:BWe,stringEquals:qWe,substring:zWe,uriEncode:VWe}});var GW,Jfe=C(()=>{Wfe();GW=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let a=e.indexOf("}",i);if(a===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(i+1,a)),o=a+2);let s=e.substring(i+1,a);if(s.includes("#")){let[u,l]=s.split("#");r.push(JW(n[u],l))}else r.push(n[s]);o=a+1}return r.join("")}});var KWe,YWe=C(()=>{KWe=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e]});var cE,UU=C(()=>{Sh();Gfe();Jfe();YWe();cE=(e,t,r)=>{if(typeof e=="string")return GW(e,r);if(e.fn)return KW(e,r);if(e.ref)return KWe(e,r);throw new si(`'${t}': ${String(e)} is not a string, function or reference.`)}});var KW,Gfe=C(()=>{WW();GWe();UU();KW=({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:cE(i,"arg",r)),o=e.split(".");return o[0]in tx&&o[1]!=null?tx[o[0]][o[1]](...n):JWe[e](...n)}});var ZWe,XWe=C(()=>{qU();Sh();Gfe();ZWe=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new si(`'${e}' is already defined in Reference Record.`);let n=KW(t,r);return r.logger?.debug?.(`${rx} evaluateCondition: ${wh(t)} = ${wh(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}}});var eN,YW=C(()=>{qU();XWe();eN=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:i}=ZWe(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};i&&(r[i.name]=i.value,t.logger?.debug?.(`${rx} assign: ${i.name} := ${wh(i.value)}`))}return{result:!0,referenceRecord:r}}});var QWe,eJe=C(()=>{Sh();UU();QWe=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let a=cE(i,"Header value entry",t);if(typeof a!="string")throw new si(`Header '${n}' value '${a}' is not a string`);return a})}),{})});var Kfe,tJe=C(()=>{Sh();Jfe();Yfe();Kfe=(e,t)=>{if(Array.isArray(e))return e.map(r=>Kfe(r,t));switch(typeof e){case"string":return GW(e,t);case"object":if(e===null)throw new si(`Unexpected endpoint property: ${e}`);return ZW(e,t);case"boolean":return e;default:throw new si(`Unexpected endpoint property type: ${typeof e}`)}}});var ZW,Yfe=C(()=>{tJe();ZW=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Kfe(o,t)}),{})});var rJe,nJe=C(()=>{Sh();UU();rJe=(e,t)=>{let r=cE(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new si(`Endpoint URL must be a string, got ${typeof r}`)}});var oJe,iJe=C(()=>{qU();YW();eJe();Yfe();nJe();oJe=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:i}=eN(r,t);if(!o)return;let a={...t,referenceRecord:{...t.referenceRecord,...i}},{url:s,properties:u,headers:l}=n;return t.logger?.debug?.(`${rx} Resolving endpoint from template: ${wh(n)}`),{...l!=null&&{headers:QWe(l,a)},...u!=null&&{properties:ZW(u,a)},url:rJe(s,a)}}});var aJe,sJe=C(()=>{Sh();YW();UU();aJe=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=eN(r,t);if(o)throw new si(cE(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))}});var uJe,lJe=C(()=>{YW();Zfe();uJe=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=eN(r,t);if(o)return XW(n,{...t,referenceRecord:{...t.referenceRecord,...i}})}});var XW,Zfe=C(()=>{Sh();iJe();sJe();lJe();XW=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=oJe(r,t);if(n)return n}else if(r.type==="error")aJe(r,t);else if(r.type==="tree"){let n=uJe(r,t);if(n)return n}else throw new si(`Unknown endpoint rule: ${r}`);throw new si("Rules evaluation failed")}});var cJe=C(()=>{WW();Zfe()});var zU,dJe=C(()=>{qU();Sh();cJe();zU=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:i}=e;t.logger?.debug?.(`${rx} Initial EndpointParams: ${wh(r)}`);let a=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,c])=>[l,c.default]);if(a.length>0)for(let[l,c]of a)r[l]=r[l]??c;let s=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of s)if(r[l]==null)throw new si(`Missing required parameter: '${l}'`);let u=XW(i,{endpointParams:r,logger:n,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{let l=new URL(t.endpointParams.Endpoint),{protocol:c,port:d}=l;u.url.protocol=c,u.url.port=d}catch{}return t.logger?.debug?.(`${rx} Resolved endpoint: ${wh(u)}`),u}});var dE=C(()=>{zfe();Hfe();WW();dJe();Sh()});var Xfe=C(()=>{dE()});var Qfe,fJe=C(()=>{dE();Xfe();Qfe=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Qfe(r))return!1;return!0}return!(!$U(e)||e.length<3||e.length>63||e!==e.toLowerCase()||BU(e))}});var pJe,$Xt,hJe,mJe=C(()=>{pJe=":",$Xt="/",hJe=e=>{let t=e.split(pJe);if(t.length<6)return null;let[r,n,o,i,a,...s]=t;if(r!=="arn"||n===""||o===""||s.join(pJe)==="")return null;let u=s.map(l=>l.split($Xt)).flat();return{partition:n,service:o,region:i,accountId:a,resourceId:u}}});var yJe,gJe=C(()=>{yJe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var UXt,zXt,bJe,_Je,epe=C(()=>{gJe();UXt=yJe,zXt="",bJe=e=>{let{partitions:t}=UXt;for(let n of t){let{regions:o,outputs:i}=n;for(let[a,s]of Object.entries(o))if(a===e)return{...i,...s}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},_Je=()=>zXt});var HU,vJe=C(()=>{dE();fJe();mJe();epe();HU={isVirtualHostableS3Bucket:Qfe,parseArn:hJe,partition:bJe};tx.aws=HU});var wJe=C(()=>{dE()});var SJe=C(()=>{dE()});var xJe=C(()=>{});var CJe=C(()=>{});var OJe=C(()=>{});var EJe=C(()=>{});var PJe=C(()=>{});var TJe=C(()=>{SJe();xJe();CJe();OJe();EJe();PJe()});var QW=C(()=>{vJe();epe();Xfe();wJe();TJe()});var MJe=C(()=>{});var IJe=C(()=>{MJe()});var AJe=C(()=>{us()});var RJe=C(()=>{});var DJe=C(()=>{});function HXt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var eJ,jJe=C(()=>{eJ=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=HXt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var NJe=C(()=>{});var LJe=C(()=>{});var FJe=C(()=>{});var kJe=C(()=>{IJe();AJe();RJe();DJe();jJe();NJe();LJe();FJe()});var tpe,tJ,rpe,rJ,BJe,$Je,npe,qJe=C(()=>{tpe="user-agent",tJ="x-amz-user-agent",rpe=" ",rJ="/",BJe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$Je=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,npe="-"});var VXt,ope,WXt,nJ,UJe=C(()=>{QW();kJe();qJe();VXt=e=>(t,r)=>async n=>{let{request:o}=n;if(!eJ.isInstance(o))return t(n);let{headers:i}=o,a=r?.userAgent?.map(ope)||[],s=(await e.defaultUserAgentProvider()).map(ope),u=e?.customUserAgent?.map(ope)||[],l=_Je(),c=(l?[l]:[]).concat([...s,...a,...u]).join(rpe),d=[...s.filter(f=>f.startsWith("aws-sdk-")),...u].join(rpe);return e.runtime!=="browser"?(d&&(i[tJ]=i[tJ]?`${i[tpe]} ${d}`:d),i[tpe]=c):i[tJ]=c,t({...n,request:o})},ope=e=>{let t=e[0].split(rJ).map(a=>a.replace(BJe,npe)).join(rJ),r=e[1]?.replace($Je,npe),n=t.indexOf(rJ),o=t.substring(0,n),i=t.substring(n+1);return o==="api"&&(i=i.toLowerCase()),[o,i,r].filter(a=>a&&a.length>0).reduce((a,s,u)=>{switch(u){case 0:return s;case 1:return`${a}/${s}`;default:return`${a}#${s}`}},"")},WXt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},nJ=e=>({applyToStack:t=>{t.add(VXt(e),WXt)}})});var ipe=C(()=>{vWe();UJe()});var zJe=C(()=>{});var HJe=C(()=>{});var oJ,VJe=C(()=>{(function(e){e.ENV="env",e.CONFIG="shared config entry"})(oJ||(oJ={}))});var ape=C(()=>{zJe();HJe();VJe()});var iJ,WJe=C(()=>{ape();iJ=!1});var aJ,JJe=C(()=>{ape();aJ=!1});var jy,GJe=C(()=>{us();jy=e=>e[Qj]||(e[Qj]={})});var zc,KJe=C(()=>{zc=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});var eg=C(()=>{GJe();KJe()});var YJe=C(()=>{eg()});var ZJe=C(()=>{});var XJe=C(()=>{eg();ZJe()});var QJe=C(()=>{WJe();JJe();YJe();XJe()});var eGe=C(()=>{});var sJ,spe=C(()=>{sJ=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"))});var upe,tGe=C(()=>{spe();upe=e=>sJ(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e});var uJ,rGe=C(()=>{tGe();spe();uJ=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return upe(t);let n=await t();return upe(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return sJ(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}}});var nGe=C(()=>{eGe();rGe()});var oGe=C(()=>{});var iGe=C(()=>{});var aGe=C(()=>{});var sGe=C(()=>{});var uGe=C(()=>{});var lGe=C(()=>{});var cGe=C(()=>{aGe();sGe();uGe();lGe()});var dGe=C(()=>{oGe();iGe();cGe()});var VU=C(()=>{QJe();nGe();dGe()});function GXt(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var lpe,lJ=C(()=>{us();eg();lpe=(e,t)=>(r,n)=>async o=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=GXt(e.httpAuthSchemes),s=jy(n),u=[];for(let l of i){let c=a.get(l.schemeId);if(!c){u.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let d=c.identityProvider(await t.identityProviderConfigProvider(e));if(!d){u.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:p={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},f),l.signingProperties=Object.assign(l.signingProperties||{},p),s.selectedHttpAuthScheme={httpAuthOption:l,identity:await d(l.identityProperties),signer:c.signer};break}if(!s.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(o)}});var fGe,KXt,YXt,ZXt,XXt,QXt,pGe=C(()=>{fGe=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),QXt(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!XXt(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},KXt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,YXt=/(\d+\.){3}\d+/,ZXt=/\.\./,XXt=e=>KXt.test(e)&&!YXt.test(e)&&!ZXt.test(e),QXt=e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,a=!!(i&&r&&n&&o);if(i&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a}});var hGe=C(()=>{pGe()});var mGe,gGe=C(()=>{mGe=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:s,path:u}=o;return`${i}//${a}${s?":"+s:""}${u}`}}return o}:n}});var yGe,bGe=C(()=>{yGe=async e=>{}});function _Ge(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var vGe=C(()=>{});var fE,cJ=C(()=>{vGe();fE=e=>{if(typeof e=="string")return fE(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,a;return i&&(a=_Ge(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:a}}});var dJ,fJ=C(()=>{cJ();dJ=e=>typeof e=="object"?"url"in e?fE(e.url):e:fE(e)});var wGe,eQt,cpe=C(()=>{hGe();gGe();bGe();fJ();wGe=async(e,t,r,n)=>{if(!r.endpoint){let a=await yGe(r.serviceId||"");a&&(r.endpoint=()=>Promise.resolve(dJ(a)))}let o=await eQt(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},eQt=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await mGe(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await fGe(n),n}});var SGe=C(()=>{cpe();fJ()});var xGe,dpe=C(()=>{eg();cpe();xGe=({config:e,instructions:t})=>(r,n)=>async o=>{let i=await wGe(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let u=jy(n)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return r({...o})}});var CGe,fpe=C(()=>{CGe=(e,t)=>r=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}}});var OGe,ppe=C(()=>{OGe=(e,t)=>(r,n)=>async o=>{let i=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})}});function dt(e,t,r){return{applyToStack:n=>{n.add(CGe(e,r),tQt),n.add(OGe(e,t),WU)}}}var tQt,WU,EGe=C(()=>{fpe();ppe();tQt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},WU={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var xn=C(()=>{fpe();EGe();ppe()});var hpe,ft,PGe=C(()=>{xn();dpe();hpe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:WU.name},ft=(e,t)=>({applyToStack:r=>{r.addRelativeTo(xGe({config:e,instructions:t}),hpe)}})});var pJ,TGe=C(()=>{eg();fJ();pJ=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>dJ(await zc(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:zc(e.useDualstackEndpoint??!1),useFipsEndpoint:zc(e.useFipsEndpoint??!1)}}});var MGe=C(()=>{});var gn=C(()=>{SGe();dpe();PGe();TGe();MGe()});var rQt,hJ,IGe=C(()=>{gn();lJ();rQt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:hpe.name},hJ=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(lpe(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),rQt)}})});var Oqn,AGe=C(()=>{xn();lJ();Oqn={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:WU.name}});var RGe=C(()=>{lJ();IGe();AGe()});var DGe=C(()=>{});var jGe=C(()=>{DGe()});var NGe=C(()=>{us()});var LGe=C(()=>{});var FGe=C(()=>{});function nQt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var $I,kGe=C(()=>{$I=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=nQt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var BGe=C(()=>{});var $Ge=C(()=>{});var qGe=C(()=>{});var JU=C(()=>{jGe();NGe();LGe();FGe();kGe();BGe();$Ge();qGe()});var oQt,iQt,UGe,mpe=C(()=>{JU();us();eg();oQt=e=>t=>{throw t},iQt=(e,t)=>{},UGe=e=>(t,r)=>async n=>{if(!$I.isInstance(n.request))return t(n);let i=jy(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:s,signer:u}=i,l=await t({...n,request:await u.sign(n.request,s,a)}).catch((u.errorHandler||oQt)(a));return(u.successHandler||iQt)(l.response,a),l}});var tg,Ny,GU,mJ=C(()=>{(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(tg||(tg={}));Ny=3,GU=tg.STANDARD});var zGe,HGe,VGe,WGe,JGe=C(()=>{zGe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],HGe=["TimeoutError","RequestTimeout","RequestTimeoutException"],VGe=[500,502,503,504],WGe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var aQt,tN,gJ,GGe,KU=C(()=>{JGe();aQt=e=>e.$metadata?.clockSkewCorrected,tN=e=>e.$metadata?.httpStatusCode===429||zGe.includes(e.name)||e.$retryable?.throttling==!0,gJ=e=>aQt(e)||HGe.includes(e.name)||WGe.includes(e?.code||"")||VGe.includes(e.$metadata?.httpStatusCode||0),GGe=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!gJ(e)}return!1}});var YU,gpe=C(()=>{KU();YU=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),tN(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}});var yJ,bJ,rN=C(()=>{yJ="amz-sdk-invocation-id",bJ="amz-sdk-request"});var KGe,YGe=C(()=>{rN();KGe=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}}});var ype,ZGe=C(()=>{rN();ype=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r})});var qI,vJ=C(()=>{mJ();rN();YGe();ZGe();qI=class{constructor(t){this.maxAttempts=t,this.mode=tg.STANDARD,this.capacity=500,this.retryBackoffStrategy=KGe(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return ype({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?500:100);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,s=this.getCapacityCost(o);return this.capacity-=s,ype({retryDelay:a,retryCount:t.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(500,this.capacity+(t.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ny}`),Ny}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?10:5}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}});var wJ,rKe=C(()=>{mJ();gpe();vJ();wJ=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=tg.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new YU,this.standardRetryStrategy=new qI(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}});var nKe=C(()=>{rN();vJ()});var oKe=C(()=>{});var Ly=C(()=>{rKe();nKe();gpe();vJ();mJ();rN();oKe()});var iKe=C(()=>{});var aKe=C(()=>{iKe()});var sKe=C(()=>{us()});var uKe=C(()=>{});var lKe=C(()=>{});function sQt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var oN,cKe=C(()=>{oN=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=sQt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var ZU,dKe=C(()=>{ZU=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var fKe=C(()=>{});var pKe=C(()=>{});var SJ=C(()=>{aKe();sKe();uKe();lKe();cKe();dKe();fKe();pKe()});function _pe(){if(!xJ&&(xJ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xJ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xJ(uQt)}var xJ,uQt,hKe=C(()=>{uQt=new Uint8Array(16)});function mKe(e,t=0){return Wl[e[t+0]]+Wl[e[t+1]]+Wl[e[t+2]]+Wl[e[t+3]]+"-"+Wl[e[t+4]]+Wl[e[t+5]]+"-"+Wl[e[t+6]]+Wl[e[t+7]]+"-"+Wl[e[t+8]]+Wl[e[t+9]]+"-"+Wl[e[t+10]]+Wl[e[t+11]]+Wl[e[t+12]]+Wl[e[t+13]]+Wl[e[t+14]]+Wl[e[t+15]]}var Wl,gKe=C(()=>{Wl=[];for(let e=0;e<256;++e)Wl.push((e+256).toString(16).slice(1))});var lQt,vpe,yKe=C(()=>{lQt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vpe={randomUUID:lQt}});function cQt(e,t,r){if(vpe.randomUUID&&!t&&!e)return vpe.randomUUID();e=e||{};let n=e.random||(e.rng||_pe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return mKe(n)}var wpe,bKe=C(()=>{yKe();hKe();gKe();wpe=cQt});var _Ke=C(()=>{bKe()});var vKe=C(()=>{Ly()});var Spe=C(()=>{Ly()});var xpe=C(()=>{KU()});var Cpe,Ope=C(()=>{Cpe=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`)});var Epe=C(()=>{SJ();KU();Ly();vKe();Spe();xpe();Ope()});var wKe=C(()=>{Ly();Epe()});var CJ,SKe=C(()=>{eg();Ly();CJ=e=>{let{retryStrategy:t}=e,r=zc(e.maxAttempts??Ny);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await zc(e.retryMode)()===tg.ADAPTIVE?new wJ(r):new qI(r))}}});var xKe=C(()=>{SJ();Ly()});var pE,CKe=C(()=>{pE=class{trace(){}debug(){}info(){}warn(){}error(){}}});var UI,hE,iN,OKe,EKe,PKe=C(()=>{UI=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},hE=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,iN=()=>{let e=[],t=[],r=!1,n=new Set,o=d=>d.sort((f,p)=>OKe[p.step]-OKe[f.step]||EKe[p.priority||"normal"]-EKe[f.priority||"normal"]),i=d=>{let f=!1,p=h=>{let m=UI(h.name,h.aliases);if(m.includes(d)){f=!0;for(let _ of m)n.delete(_);return!1}return!0};return e=e.filter(p),t=t.filter(p),f},a=d=>{let f=!1,p=h=>{if(h.middleware===d){f=!0;for(let m of UI(h.name,h.aliases))n.delete(m);return!1}return!0};return e=e.filter(p),t=t.filter(p),f},s=d=>(e.forEach(f=>{d.add(f.middleware,{...f})}),t.forEach(f=>{d.addRelativeTo(f.middleware,{...f})}),d.identifyOnResolve?.(c.identifyOnResolve()),d),u=d=>{let f=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f},l=(d=!1)=>{let f=[],p=[],h={};return e.forEach(_=>{let g={..._,before:[],after:[]};for(let v of UI(g.name,g.aliases))h[v]=g;f.push(g)}),t.forEach(_=>{let g={..._,before:[],after:[]};for(let v of UI(g.name,g.aliases))h[v]=g;p.push(g)}),p.forEach(_=>{if(_.toMiddleware){let g=h[_.toMiddleware];if(g===void 0){if(d)return;throw new Error(`${_.toMiddleware} is not found when adding ${hE(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&g.after.push(_),_.relation==="before"&&g.before.push(_)}}),o(f).map(u).reduce((_,g)=>(_.push(...g),_),[])},c={add:(d,f={})=>{let{name:p,override:h,aliases:m}=f,_={step:"initialize",priority:"normal",middleware:d,...f},g=UI(p,m);if(g.length>0){if(g.some(v=>n.has(v))){if(!h)throw new Error(`Duplicate middleware name '${hE(p,m)}'`);for(let v of g){let S=e.findIndex(O=>O.name===v||O.aliases?.some(T=>T===v));if(S===-1)continue;let x=e[S];if(x.step!==_.step||_.priority!==x.priority)throw new Error(`"${hE(x.name,x.aliases)}" middleware with ${x.priority} priority in ${x.step} step cannot be overridden by "${hE(p,m)}" middleware with ${_.priority} priority in ${_.step} step.`);e.splice(S,1)}}for(let v of g)n.add(v)}e.push(_)},addRelativeTo:(d,f)=>{let{name:p,override:h,aliases:m}=f,_={middleware:d,...f},g=UI(p,m);if(g.length>0){if(g.some(v=>n.has(v))){if(!h)throw new Error(`Duplicate middleware name '${hE(p,m)}'`);for(let v of g){let S=t.findIndex(O=>O.name===v||O.aliases?.some(T=>T===v));if(S===-1)continue;let x=t[S];if(x.toMiddleware!==_.toMiddleware||x.relation!==_.relation)throw new Error(`"${hE(x.name,x.aliases)}" middleware ${x.relation} "${x.toMiddleware}" middleware cannot be overridden by "${hE(p,m)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(S,1)}}for(let v of g)n.add(v)}t.push(_)},clone:()=>s(iN()),use:d=>{d.applyToStack(c)},remove:d=>typeof d=="string"?i(d):a(d),removeByTag:d=>{let f=!1,p=h=>{let{tags:m,name:_,aliases:g}=h;if(m&&m.includes(d)){let v=UI(_,g);for(let S of v)n.delete(S);return f=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),f},concat:d=>{let f=s(iN());return f.use(d),f.identifyOnResolve(r||f.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),f},applyToStack:s,identify:()=>l(!0).map(d=>{let f=d.step??d.relation+" "+d.toMiddleware;return hE(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,f)=>{for(let p of l().map(h=>h.middleware).reverse())d=p(d,f);return r&&console.log(c.identify()),d}};return c},OKe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},EKe={high:3,normal:2,low:1}});var Ppe=C(()=>{PKe()});var zI,TKe=C(()=>{Ppe();zI=class{constructor(t){this.middlewareStack=iN(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)a(t).then(s=>i(null,s.output),s=>i(s)).catch(()=>{});else return a(t).then(s=>s.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}});var nx,HI,mE,VI,MKe,Tpe=C(()=>{nx={},HI=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){let n=String.fromCharCode(e+t);nx[n]=e,HI[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){let n=String.fromCharCode(e+t),o=e+26;nx[n]=o,HI[o]=n}for(let e=0;e<10;e++){nx[e.toString(10)]=e+52;let t=e.toString(10),r=e+52;nx[t]=r,HI[r]=t}nx["+"]=62;HI[62]="+";nx["/"]=63;HI[63]="/";mE=6,VI=8,MKe=63});var gE,IKe=C(()=>{Tpe();gE=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;let r=new ArrayBuffer(t),n=new DataView(r);for(let o=0;o<e.length;o+=4){let i=0,a=0;for(let l=o,c=o+3;l<=c;l++)if(e[l]!=="="){if(!(e[l]in nx))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);i|=nx[e[l]]<<(c-l)*mE,a+=mE}else i>>=mE;let s=o/4*3;i>>=a%VI;let u=Math.floor(a/VI);for(let l=0;l<u;l++){let c=(u-l-1)*VI;n.setUint8(s+l,(i&255<<c)>>c)}}return new Uint8Array(r)}});var Mpe,Ipe=C(()=>{Mpe=e=>new TextEncoder().encode(e)});var AKe=C(()=>{Ipe()});var RKe=C(()=>{});var DKe=C(()=>{Ipe();AKe();RKe()});function yE(e){let t;typeof e=="string"?t=Mpe(e):t=e;let r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<t.length;i+=3){let a=0,s=0;for(let l=i,c=Math.min(i+3,t.length);l<c;l++)a|=t[l]<<(c-l-1)*VI,s+=VI;let u=Math.ceil(s/mE);a<<=u*mE-s;for(let l=1;l<=u;l++){let c=(u-l)*mE;o+=HI[(a&MKe<<c)>>c]}o+="==".slice(0,4-u)}return o}var jKe=C(()=>{DKe();Tpe()});var aN=C(()=>{IKe();jKe()});var Ape,Rpe=C(()=>{Ape=e=>new TextEncoder().encode(e)});var NKe=C(()=>{Rpe()});var OJ,LKe=C(()=>{OJ=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}});var Dpe=C(()=>{Rpe();NKe();LKe()});function FKe(e,t="utf-8"){return t==="base64"?yE(e):OJ(e)}function kKe(e,t){return t==="base64"?ox.mutate(gE(e)):ox.mutate(Ape(e))}var BKe=C(()=>{aN();Dpe();jpe()});var ox,jpe=C(()=>{BKe();ox=class e extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return kKe(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return FKe(this,t)}}});var $Ke=C(()=>{});var qKe=C(()=>{});var UKe=C(()=>{qKe()});var zKe=C(()=>{us()});var HKe=C(()=>{});var VKe=C(()=>{});var WKe=C(()=>{});var XU,JKe=C(()=>{XU=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var GKe=C(()=>{});var KKe=C(()=>{});var YKe=C(()=>{UKe();zKe();HKe();VKe();WKe();JKe();GKe();KKe()});var xh,dQt,Npe=C(()=>{xh=e=>encodeURIComponent(e).replace(/[!'()*]/g,dQt),dQt=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var ZKe=C(()=>{Npe()});var EJ=C(()=>{Npe();ZKe()});function XKe(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=xh(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${xh(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${xh(n)}`),t.push(o)}}return t.join("&")}var QKe=C(()=>{EJ()});function e7e(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var t7e=C(()=>{});var Lpe,bE,r7e=C(()=>{YKe();QKe();t7e();Lpe={supported:void 0},bE=class e{static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Lpe.supported===void 0&&(Lpe.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let g=new Error("Request aborted");return g.name="AbortError",Promise.reject(g)}let a=t.path,s=XKe(t.query||{});s&&(a+=`?${s}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let g=t.username??"",v=t.password??"";u=`${g}:${v}@`}let{port:l,method:c}=t,d=`${t.protocol}//${u}${t.hostname}${l?`:${l}`:""}${a}`,f=c==="GET"||c==="HEAD"?void 0:t.body,p={body:f,headers:new Headers(t.headers),method:c,credentials:i};f&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=r),Lpe.supported&&(p.keepalive=o);let h=()=>{},m=new Request(d,p),_=[fetch(m).then(g=>{let v=g.headers,S={};for(let O of v.entries())S[O[0]]=O[1];return g.body!=null?{response:new XU({headers:S,reason:g.statusText,statusCode:g.status,body:g.body})}:g.blob().then(O=>({response:new XU({headers:S,reason:g.statusText,statusCode:g.status,body:O})}))}),e7e(n)];return r&&_.push(new Promise((g,v)=>{let S=()=>{let x=new Error("Request aborted");x.name="AbortError",v(x)};if(typeof r.addEventListener=="function"){let x=r;x.addEventListener("abort",S,{once:!0}),h=()=>x.removeEventListener("abort",S)}else r.onabort=S})),Promise.race(_).finally(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}});async function fQt(e){let t=await hQt(e),r=gE(t);return new Uint8Array(r)}async function pQt(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:u}=await r.read();u&&(t.push(u),o+=u.length),n=s}let i=new Uint8Array(o),a=0;for(let s of t)i.set(s,a),a+=s.length;return i}function hQt(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}var sN,n7e=C(()=>{aN();sN=e=>typeof Blob=="function"&&e instanceof Blob?fQt(e):pQt(e)});var QU=C(()=>{r7e();n7e()});function i7e(e){let t="";for(let r=0;r<e.byteLength;r++)t+=o7e[e[r]];return t}var o7e,mQt,a7e=C(()=>{o7e={},mQt={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),o7e[e]=t,mQt[t]=e}});var Fpe,kpe=C(()=>{Fpe=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream)});var s7e,l7e,u7e,c7e=C(()=>{QU();aN();a7e();Dpe();kpe();s7e="The stream has already been transformed.",l7e=e=>{if(!u7e(e)&&!Fpe(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(s7e);return t=!0,await sN(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let i=await r();if(o==="base64")return yE(i);if(o==="hex")return i7e(i);if(o===void 0||o==="utf8"||o==="utf-8")return OJ(i);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(s7e);if(t=!0,u7e(e))return n(e);if(Fpe(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},u7e=e=>typeof Blob=="function"&&e instanceof Blob});var d7e=C(()=>{});var f7e=C(()=>{});var Bpe=C(()=>{jpe();$Ke();c7e();d7e();f7e();kpe()});var _E,p7e=C(()=>{Bpe();_E=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ox.mutate(e);if(!e)return ox.mutate(new Uint8Array);let r=t.streamCollector(e);return ox.mutate(await r)}});var ot,$pe,h7e=C(()=>{Ppe();us();ot=class{constructor(){this.middlewareStack=iN()}static classBuilder(){return new $pe}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,smithyContext:l,additionalContext:c,CommandCtor:d}){for(let _ of o.bind(this)(d,t,r,n))this.middlewareStack.use(_);let f=t.concat(this.middlewareStack),{logger:p}=r,h={logger:p,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,[Qj]:{commandInstance:this,...l},...c},{requestHandler:m}=r;return f.resolve(_=>m.handle(_.request,n||{}),h)}},$pe=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){let t=this,r;return r=class extends ot{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this)}resolveMiddleware(n,o,i){return this.resolveMiddlewareWithContext(n,o,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}});var PJ,m7e=C(()=>{PJ="***SensitiveInformation***"});var TJ,g7e=C(()=>{TJ=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(a,s,u){let l=new n(a);if(typeof s=="function")this.send(l,s);else if(typeof u=="function"){if(typeof s!="object")throw new Error(`Expected http options but got ${typeof s}`);this.send(l,s||{},u)}else return this.send(l,s)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}}});var WI,gQt,y7e,yQt,b7e,_7e,v7e,qpe,bQt,uN,jr,w7e,S7e,_Qt,ez,tz,Upe,x7e,C7e,O7e,zpe=C(()=>{WI=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&O7e.warn(C7e(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},gQt=Math.ceil(34028234663852886e22),y7e=e=>{let t=WI(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>gQt)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},yQt=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},b7e=e=>qpe(e,32),_7e=e=>qpe(e,16),v7e=e=>qpe(e,8),qpe=(e,t)=>{let r=yQt(e);if(r!==void 0&&bQt(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},bQt=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},uN=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},jr=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return O7e.warn(C7e(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},w7e=e=>WI(typeof e=="string"?ez(e):e),S7e=e=>y7e(typeof e=="string"?ez(e):e),_Qt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ez=e=>{let t=e.match(_Qt);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},tz=e=>b7e(typeof e=="string"?ez(e):e),Upe=e=>_7e(typeof e=="string"?ez(e):e),x7e=e=>v7e(typeof e=="string"?ez(e):e),C7e=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),O7e={warn:console.warn}});var vQt,wQt,E7e,SQt,P7e,T4n,M4n,I4n,MJ,T7e,A4n,xQt,CQt,OQt,JI,EQt,PQt,Hpe,M7e=C(()=>{zpe();vQt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wQt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),E7e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=wQt.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,u,l]=t,c=Upe(Hpe(n)),d=JI(o,"month",1,12),f=JI(i,"day",1,31);return T7e(c,d,f,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:l})},SQt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),P7e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=SQt.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,u,l,c]=t,d=Upe(Hpe(n)),f=JI(o,"month",1,12),p=JI(i,"day",1,31),h=T7e(d,f,p,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:l});return c.toUpperCase()!="Z"&&h.setTime(h.getTime()-PQt(c)),h},T4n=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),M4n=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),I4n=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),MJ=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=w7e(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},T7e=(e,t,r,n)=>{let o=t-1;return CQt(e,o,r),new Date(Date.UTC(e,o,r,JI(n.hours,"hour",0,23),JI(n.minutes,"minute",0,59),JI(n.seconds,"seconds",0,60),EQt(n.fractionalMilliseconds)))},A4n=50*365*24*60*60*1e3,xQt=[31,28,31,30,31,30,31,31,30,31,30,31],CQt=(e,t,r)=>{let n=xQt[t];if(t===1&&OQt(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${vQt[t]} in ${e}: ${r}`)},OQt=e=>e%4===0&&(e%100!==0||e%400===0),JI=(e,t,r,n)=>{let o=x7e(Hpe(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},EQt=e=>e==null?0:S7e("0."+e)*1e3,PQt=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Hpe=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var lN,ia,Vpe=C(()=>{lN=class e extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,e.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},ia=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e}});var TQt,IJ,MQt,I7e=C(()=>{Vpe();TQt=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=MQt(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw ia(a,t)},IJ=e=>({output:t,parsedBody:r,errorCode:n})=>{TQt({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},MQt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var AJ,A7e=C(()=>{AJ=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var R7e=C(()=>{});var D7e,j7e,N7e=C(()=>{us();D7e=e=>{let t=[];for(let r in Xj){let n=Xj[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},j7e=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t}});var L7e,F7e,k7e=C(()=>{L7e=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},F7e=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t}});var RJ,DJ,B7e=C(()=>{N7e();k7e();RJ=e=>({...D7e(e),...L7e(e)}),DJ=e=>({...j7e(e),...F7e(e)})});var $7e=C(()=>{B7e()});function jJ(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Wpe=C(()=>{});var q7e=C(()=>{});var Jpe,U7e=C(()=>{Jpe=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Jpe(e[r]));return e}});var Gpe,z7e=C(()=>{Gpe=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Gpe.prototype=Object.create(String.prototype,{constructor:{value:Gpe,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Gpe,String)});var rz,IQt,AQt,RQt,H7e=C(()=>{rz=(e,t)=>{let r={};for(let n in t)IQt(r,e,t,n);return r},IQt=(e,t,r,n)=>{if(t!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[s=AQt,u=RQt,l=n]=a;(typeof s=="function"&&s(t[l])||typeof s!="function"&&s)&&(e[n]=u(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let a,s=o===void 0&&(a=i())!=null,u=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;s?e[n]=a:u&&(e[n]=i())}else{let a=o===void 0&&i!=null,s=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(a||s)&&(e[n]=i)}},AQt=e=>e!=null,RQt=e=>e});var V7e=C(()=>{Wpe()});var W7e=C(()=>{});var At,J7e=C(()=>{At=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(At);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=At(e[r]));return t}return e}});var G7e=C(()=>{});var Rt=C(()=>{CKe();TKe();p7e();h7e();m7e();g7e();M7e();I7e();A7e();R7e();$7e();Vpe();Wpe();q7e();U7e();z7e();H7e();zpe();V7e();W7e();J7e();G7e()});var K7e,Y7e=C(()=>{K7e=e=>e?.body instanceof ReadableStream});var DQt,jQt,NQt,LQt,Kpe,NJ,FQt,Z7e=C(()=>{SJ();KU();Rt();Ly();_Ke();Y7e();Ope();DQt=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),i=await e.maxAttempts();if(jQt(o)){o=o;let a=await o.acquireInitialRetryToken(r.partition_id),s=new Error,u=0,l=0,{request:c}=n,d=oN.isInstance(c);for(d&&(c.headers[yJ]=wpe());;)try{d&&(c.headers[bJ]=`attempt=${u+1}; max=${i}`);let{response:f,output:p}=await t(n);return o.recordSuccess(a),p.$metadata.attempts=u+1,p.$metadata.totalRetryDelay=l,{response:f,output:p}}catch(f){let p=NQt(f);if(s=Cpe(f),d&&K7e(c))throw(r.logger instanceof pE?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),s;try{a=await o.refreshRetryTokenForRetry(a,p)}catch{throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=l,s}u=a.getRetryCount();let h=a.getRetryDelay();l+=h,await new Promise(m=>setTimeout(m,h))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},jQt=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",NQt=e=>{let t={error:e,errorType:LQt(e)},r=FQt(e.$response);return r&&(t.retryAfterHint=r),t},LQt=e=>tN(e)?"THROTTLING":gJ(e)?"TRANSIENT":GGe(e)?"SERVER_ERROR":"CLIENT_ERROR",Kpe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},NJ=e=>({applyToStack:t=>{t.add(DQt(e),Kpe)}}),FQt=e=>{if(!ZU.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var LJ=C(()=>{wKe();Epe();SKe();Spe();xKe();xpe();Z7e()});var kQt,FJ,X7e=C(()=>{LJ();mpe();kQt={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Kpe.name},FJ=e=>({applyToStack:t=>{t.addRelativeTo(UGe(e),kQt)}})});var Q7e=C(()=>{mpe();X7e()});var cN,eYe=C(()=>{cN=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var tYe=C(()=>{JU();us()});var rYe=C(()=>{JU()});var dN,nYe=C(()=>{dN=class{async sign(t,r,n){return t}}});var oYe=C(()=>{tYe();rYe();nYe()});var BQt,iYe,Ype,aYe,sYe=C(()=>{BQt=e=>t=>Ype(t)&&t.expiration.getTime()-Date.now()<e,iYe=BQt(3e5),Ype=e=>e.expiration!==void 0,aYe=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,a,s=!1,u=async l=>{i||(i=n(l));try{o=await i,a=!0,s=!1}finally{i=void 0}return o};return t===void 0?async l=>((!a||l?.forceRefresh)&&(o=await u(l)),o):async l=>((!a||l?.forceRefresh)&&(o=await u(l)),s?o:r(o)?(t(o)&&await u(l),o):(s=!0,o))}});var uYe=C(()=>{eYe();oYe();sYe()});var lYe=C(()=>{us()});var fN,cYe=C(()=>{fN=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});var dYe=C(()=>{JU();Rt()});function Zpe(e,t,r,n,o){return async function*(a,s,...u){let l=a.startingToken||void 0,c=!0,d;for(;c;){if(s[r]=l,o&&(s[o]=s[o]??a.pageSize),a.client instanceof e)d=await $Qt(t,a.client,s,...u);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield d;let f=l;l=qQt(d,n),c=!!(l&&(!a.stopOnSameToken||l!==f))}return void 0}}var $Qt,qQt,fYe=C(()=>{$Qt=async(e,t,r,...n)=>await t.send(new e(r),...n);qQt=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var vE=C(()=>{RGe();Q7e();uYe();lYe();cYe();dYe();fYe()});var pYe=C(()=>{});var hYe=C(()=>{pYe()});var mYe=C(()=>{us()});var gYe=C(()=>{});var yYe=C(()=>{});function UQt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var kJ,bYe=C(()=>{kJ=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=UQt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var _Ye=C(()=>{});var vYe=C(()=>{});var wYe=C(()=>{});var SYe=C(()=>{hYe();mYe();gYe();yYe();bYe();_Ye();vYe();wYe()});function zQt(e){return t=>async r=>{let n=r.request;if(kJ.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(xYe)===-1)try{let a=e(o);n.headers={...n.headers,[xYe]:String(a)}}catch{}}return t({...r,request:n})}}var xYe,HQt,BJ,Xpe=C(()=>{SYe();xYe="content-length";HQt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},BJ=e=>({applyToStack:t=>{t.add(zQt(e.bodyLengthChecker),HQt)}})});var CYe=C(()=>{});var OYe=C(()=>{CYe()});var EYe=C(()=>{});var PYe=C(()=>{EYe()});var TYe=C(()=>{us()});var MYe=C(()=>{});var IYe=C(()=>{});function VQt(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var wE,AYe=C(()=>{wE=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=VQt(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var $J,RYe=C(()=>{$J=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var DYe=C(()=>{});var jYe=C(()=>{});var nz=C(()=>{PYe();TYe();MYe();IYe();AYe();RYe();DYe();jYe()});var Qpe,NYe=C(()=>{nz();Qpe=e=>$J.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var qJ,ehe=C(()=>{qJ=e=>new Date(Date.now()+e)});var LYe,FYe=C(()=>{ehe();LYe=(e,t)=>Math.abs(qJ(t).getTime()-e)>=3e5});var the,kYe=C(()=>{FYe();the=(e,t)=>{let r=Date.parse(e);return LYe(r,t)?r-Date.now():t}});var BYe=C(()=>{NYe();ehe();kYe()});var oz,$Ye,GI,qYe=C(()=>{nz();BYe();oz=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},$Ye=async e=>{let t=oz("context",e.context),r=oz("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await oz("signer",r.signer)(n),a=e?.signingRegion,s=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:s,signingName:u}},GI=class{async sign(t,r,n){if(!wE.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await $Ye(n),{config:i,signer:a}=o,{signingRegion:s,signingName:u}=o,l=n.context;if(l?.authSchemes?.length??!1){let[d,f]=l.authSchemes;d?.name==="sigv4a"&&f?.name==="sigv4"&&(s=f?.signingRegion??s,u=f?.signingName??u)}return await a.sign(t,{signingDate:qJ(i.systemClockOffset),signingRegion:s,signingService:u})}errorHandler(t){return r=>{let n=r.ServerTime??Qpe(r.$response);if(n){let o=oz("config",t.config),i=o.systemClockOffset;o.systemClockOffset=the(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Qpe(t);if(n){let o=oz("config",r.config);o.systemClockOffset=the(n,o.systemClockOffset)}}}});var UYe=C(()=>{vE();ex()});function HYe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in rhe)t[r/2]=rhe[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function rg(e){let t="";for(let r=0;r<e.byteLength;r++)t+=zYe[e[r]];return t}var zYe,rhe,iz=C(()=>{zYe={},rhe={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),zYe[e]=t,rhe[t]=e}});var az,nhe=C(()=>{az=e=>new TextEncoder().encode(e)});var SE,VYe=C(()=>{nhe();SE=e=>typeof e=="string"?az(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)});var WYe=C(()=>{});var sz=C(()=>{nhe();VYe();WYe()});var JYe,GYe,ohe,KYe,YYe,ihe,ahe,she,uhe,WQt,ZYe,XYe,uz,QYe,eZe,tZe,rZe,UJ,nZe,oZe,iZe,lhe,aZe,KI=C(()=>{JYe="X-Amz-Algorithm",GYe="X-Amz-Credential",ohe="X-Amz-Date",KYe="X-Amz-SignedHeaders",YYe="X-Amz-Expires",ihe="X-Amz-Signature",ahe="X-Amz-Security-Token",she="authorization",uhe=ohe.toLowerCase(),WQt="date",ZYe=[she,uhe,WQt],XYe=ihe.toLowerCase(),uz="x-amz-content-sha256",QYe=ahe.toLowerCase(),eZe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},tZe=/^proxy-/,rZe=/^sec-/,UJ="AWS4-HMAC-SHA256",nZe="AWS4-HMAC-SHA256-PAYLOAD",oZe="UNSIGNED-PAYLOAD",iZe=50,lhe="aws4_request",aZe=60*60*24*7});var zJ,che,HJ,uZe,sZe,dhe=C(()=>{iz();sz();KI();zJ={},che=[],HJ=(e,t,r)=>`${e}/${t}/${r}/${lhe}`,uZe=async(e,t,r,n,o)=>{let i=await sZe(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${o}:${rg(i)}:${t.sessionToken}`;if(a in zJ)return zJ[a];for(che.push(a);che.length>iZe;)delete zJ[che.shift()];let s=`AWS4${t.secretAccessKey}`;for(let u of[r,n,o,lhe])s=await sZe(e,s,u);return zJ[a]=s},sZe=(e,t,r)=>{let n=new e(t);return n.update(SE(r)),n.digest()}});var VJ,fhe=C(()=>{KI();VJ=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in eZe||t?.has(i)||tZe.test(i)||rZe.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n}});var phe,hhe=C(()=>{EJ();KI();phe=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===XYe)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${xh(n)}=${xh(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,a)=>i.concat([`${xh(n)}=${xh(a)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")}});var lZe,cZe=C(()=>{lZe=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"});var lz,mhe=C(()=>{cZe();iz();sz();KI();lz=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===uz)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||lZe(t)){let n=new r;return n.update(SE(t)),rg(await n.digest())}return oZe}});function fZe(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var WJ,dZe,JQt,ghe,pZe=C(()=>{iz();sz();WJ=class{format(t){let r=[];for(let i of Object.keys(t)){let a=az(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=az(t.value),u=new DataView(new ArrayBuffer(3+s.byteLength));u.setUint8(0,7),u.setUint16(1,s.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(s,3),l;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(ghe.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!JQt.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(HYe(t.value.replace(/\-/g,"")),1),d}}};(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(dZe||(dZe={}));JQt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ghe=class e{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&fZe(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&fZe(t),parseInt(rg(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var hZe,mZe=C(()=>{hZe=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1}});var yhe,bhe=C(()=>{nz();yhe=(e,t={})=>{let{headers:r,query:n={}}=wE.clone(e);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}}});var JJ,_he=C(()=>{nz();KI();JJ=e=>{e=wE.clone(e);for(let t of Object.keys(e.headers))ZYe.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e}});var gZe,GQt,yZe=C(()=>{gZe=e=>GQt(e).toISOString().replace(/\.\d{3}Z$/,"Z"),GQt=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e});var cz,GJ,bZe,_Ze=C(()=>{iz();eg();EJ();sz();KI();dhe();fhe();hhe();mhe();pZe();mZe();bhe();_he();yZe();cz=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerFormatter=new WJ,this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=zc(n),this.credentialProvider=zc(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,signingRegion:u,signingService:l}=r,c=await this.credentialProvider();this.validateResolvedCredentials(c);let d=u??await this.regionProvider(),{longDate:f,shortDate:p}=GJ(n);if(o>aZe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=HJ(p,d,l??this.service),m=yhe(JJ(t),{unhoistableHeaders:a});c.sessionToken&&(m.query[ahe]=c.sessionToken),m.query[JYe]=UJ,m.query[GYe]=`${c.accessKeyId}/${h}`,m.query[ohe]=f,m.query[YYe]=o.toString(10);let _=VJ(m,i,s);return m.query[KYe]=bZe(_),m.query[ihe]=await this.getSignature(f,h,this.getSigningKey(c,d,p,l),this.createCanonicalRequest(m,_,await lz(t,this.sha256))),m}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:u,longDate:l}=GJ(n),c=HJ(u,s,a??this.service),d=await lz({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let p=rg(await f.digest()),h=[nZe,l,c,o,p,d].join(`
`);return this.signString(h,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=GJ(r),u=new this.sha256(await this.getSigningKey(i,a,s,o));return u.update(SE(t)),rg(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let u=i??await this.regionProvider(),l=JJ(t),{longDate:c,shortDate:d}=GJ(r),f=HJ(d,u,a??this.service);l.headers[uhe]=c,s.sessionToken&&(l.headers[QYe]=s.sessionToken);let p=await lz(l,this.sha256);!hZe(uz,l.headers)&&this.applyChecksum&&(l.headers[uz]=p);let h=VJ(l,o,n),m=await this.getSignature(c,f,this.getSigningKey(s,u,d,a),this.createCanonicalRequest(l,h,p));return l.headers[she]=`${UJ} Credential=${s.accessKeyId}/${f}, SignedHeaders=${bZe(h)}, Signature=${m}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${phe(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(SE(n));let i=await o.digest();return`${UJ}
${t}
${r}
${rg(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return xh(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),a=new this.sha256(await n);return a.update(SE(i)),rg(await a.digest())}getSigningKey(t,r,n,o){return uZe(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},GJ=e=>{let t=gZe(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},bZe=e=>Object.keys(e).sort().join(";")});var vZe=C(()=>{_Ze();fhe();hhe();mhe();bhe();_he();dhe()});var KJ,wZe=C(()=>{vE();vZe();KJ=e=>{let t;e.credentials&&(t=aYe(e.credentials,iYe,Ype)),t||(e.credentialDefaultProvider?t=fN(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=fN(e.signer):e.regionInfoProvider?i=()=>fN(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,s])=>{let{signingRegion:u,signingService:l}=a;e.signingRegion=e.signingRegion||u||s,e.signingName=e.signingName||l||e.serviceId;let c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},d=e.signerConstructor||cz;return new d(c)}):i=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fN(e.region)(),properties:{}},a);let s=a.signingRegion,u=a.signingName;e.signingRegion=e.signingRegion||s,e.signingName=e.signingName||u||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},c=e.signerConstructor||cz;return new c(l)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}}});var SZe=C(()=>{qYe();UYe();wZe()});var xZe=C(()=>{SZe()});var CZe=C(()=>{});var OZe=C(()=>{Rt()});var YJ,vhe=C(()=>{Rt();YJ=(e,t)=>_E(e,t).then(r=>t.utf8Encoder(r))});var Ja,EZe,PZe,TZe=C(()=>{vhe();Ja=(e,t)=>YJ(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),EZe=async(e,t)=>{let r=await Ja(e,t);return r.message=r.message??r.Message,r},PZe=(e,t)=>{let r=(i,a)=>Object.keys(i).find(s=>s.toLowerCase()===a.toLowerCase()),n=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var ZJ=b(ix=>{"use strict";var MZe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",KQt=MZe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",IZe="["+MZe+"]["+KQt+"]*",YQt=new RegExp("^"+IZe+"$"),ZQt=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let a=0;a<i;a++)o.push(n[a]);r.push(o),n=t.exec(e)}return r},XQt=function(e){let t=YQt.exec(e);return!(t===null||typeof t>"u")};ix.isExist=function(e){return typeof e<"u"};ix.isEmptyObject=function(e){return Object.keys(e).length===0};ix.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};ix.getValue=function(e){return ix.isExist(e)?e:""};ix.isName=XQt;ix.getAllMatches=ZQt;ix.nameRegexp=IZe});var She=b(NZe=>{"use strict";var whe=ZJ(),QQt={allowBooleanAttributes:!1,unpairedTags:[]};NZe.validate=function(e,t){t=Object.assign({},QQt,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=RZe(e,i),i.err)return i}else if(e[i]==="<"){let a=i;if(i++,e[i]==="!"){i=DZe(e,i);continue}else{let s=!1;e[i]==="/"&&(s=!0,i++);let u="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)u+=e[i];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),i--),!ser(u)){let d;return u.trim().length===0?d="Invalid space after '<'.":d="Tag '"+u+"' is an invalid name.",Ga("InvalidTag",d,Rd(e,i))}let l=rer(e,i);if(l===!1)return Ga("InvalidAttr","Attributes for '"+u+"' have open quote.",Rd(e,i));let c=l.value;if(i=l.index,c[c.length-1]==="/"){let d=i-c.length;c=c.substring(0,c.length-1);let f=jZe(c,t);if(f===!0)n=!0;else return Ga(f.err.code,f.err.msg,Rd(e,d+f.err.line))}else if(s)if(l.tagClosed){if(c.trim().length>0)return Ga("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",Rd(e,a));if(r.length===0)return Ga("InvalidTag","Closing tag '"+u+"' has not been opened.",Rd(e,a));{let d=r.pop();if(u!==d.tagName){let f=Rd(e,d.tagStartPos);return Ga("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+u+"'.",Rd(e,a))}r.length==0&&(o=!0)}}else return Ga("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",Rd(e,i));else{let d=jZe(c,t);if(d!==!0)return Ga(d.err.code,d.err.msg,Rd(e,i-c.length+d.err.line));if(o===!0)return Ga("InvalidXml","Multiple possible root nodes found.",Rd(e,i));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:a}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=DZe(e,i);continue}else if(e[i+1]==="?"){if(i=RZe(e,++i),i.err)return i}else break;else if(e[i]==="&"){let d=ier(e,i);if(d==-1)return Ga("InvalidChar","char '&' is not expected.",Rd(e,i));i=d}else if(o===!0&&!AZe(e[i]))return Ga("InvalidXml","Extra text at the end",Rd(e,i));e[i]==="<"&&i--}}else{if(AZe(e[i]))continue;return Ga("InvalidChar","char '"+e[i]+"' is not expected.",Rd(e,i))}if(n){if(r.length==1)return Ga("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Rd(e,r[0].tagStartPos));if(r.length>0)return Ga("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ga("InvalidXml","Start tag expected.",1);return!0};function AZe(e){return e===" "||e==="	"||e===`
`||e==="\r"}function RZe(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Ga("InvalidXml","XML declaration allowed only at the start of the document.",Rd(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function DZe(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var eer='"',ter="'";function rer(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===eer||e[t]===ter)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var ner=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function jZe(e,t){let r=whe.getAllMatches(e,ner),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Ga("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",dz(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Ga("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",dz(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return Ga("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",dz(r[o]));let i=r[o][2];if(!aer(i))return Ga("InvalidAttr","Attribute '"+i+"' is an invalid name.",dz(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return Ga("InvalidAttr","Attribute '"+i+"' is repeated.",dz(r[o]))}return!0}function oer(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function ier(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,oer(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Ga(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function aer(e){return whe.isName(e)}function ser(e){return whe.isName(e)}function Rd(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function dz(e){return e.startIndex+e[1].length}});var FZe=b(xhe=>{var LZe={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},uer=function(e){return Object.assign({},LZe,e)};xhe.buildOptions=uer;xhe.defaultOptions=LZe});var BZe=b((tVn,kZe)=>{"use strict";var Che=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};kZe.exports=Che});var qZe=b((rVn,$Ze)=>{var ler=ZJ();function cer(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&per(e,t))t+=7,[entityName,val,t]=der(e,t+1),val.indexOf("&")===-1&&(r[yer(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&her(e,t))t+=8;else if(o&&mer(e,t))t+=8;else if(o&&ger(e,t))t+=9;else if(fer)i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function der(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function fer(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function per(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function her(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function mer(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function ger(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function yer(e){if(ler.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}$Ze.exports=cer});var zZe=b((nVn,UZe)=>{var ber=/^[-+]?0x[a-fA-F0-9]+$/,_er=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var ver={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function wer(e,t={}){if(t=Object.assign({},ver,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&ber.test(r))return Number.parseInt(r,16);{let n=_er.exec(r);if(n){let o=n[1],i=n[2],a=Ser(n[3]),s=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let u=Number(r),l=""+u;return l.search(/[eE]/)!==-1||s?t.eNotation?u:e:r.indexOf(".")!==-1?l==="0"&&a===""||l===a||o&&l==="-"+a?u:e:i?a===l||o+a===l?u:e:r===l||r===o+l?u:e}}else return e}}function Ser(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}UZe.exports=wer});var WZe=b((oVn,VZe)=>{"use strict";var HZe=ZJ(),fz=BZe(),xer=qZe(),Cer=zZe(),Ohe=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=Oer,this.parseXml=Ier,this.parseTextData=Eer,this.resolveNameSpace=Per,this.buildAttributesMap=Mer,this.isItStopNode=jer,this.replaceEntitiesValue=Rer,this.readStopNodeData=Ler,this.saveTextToParentTag=Der,this.addChild=Aer}};function Oer(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Eer(e,t,r,n,o,i,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let s=this.options.tagValueProcessor(t,e,r,o,i);return s==null?e:typeof s!=typeof e||s!==e?s:this.options.trimValues?Phe(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Phe(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Per(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var Ter=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Mer(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=HZe.getAllMatches(e,Ter),o=n.length,i={};for(let a=0;a<o;a++){let s=this.resolveNameSpace(n[a][1]),u=n[a][4],l=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);let c=this.options.attributeValueProcessor(s,u,t);c==null?i[l]=u:typeof c!=typeof u||c!==u?i[l]=c:i[l]=Phe(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=i,a}return i}}var Ier=function(e){e=e.replace(/\r\n?/g,`
`);let t=new fz("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let s=YI(e,">",i,"Closing Tag is not closed."),u=e.substring(i+2,s).trim();if(this.options.removeNSPrefix){let d=u.indexOf(":");d!==-1&&(u=u.substr(d+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let c=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),r=this.tagsNodeStack.pop(),n="",i=s}else if(e[i+1]==="?"){let s=Ehe(e,i,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){let u=new fz(s.tagName);u.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(u[":@"]=this.buildAttributesMap(s.tagExp,o,s.tagName)),this.addChild(r,u,o)}i=s.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let s=YI(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let u=e.substring(i+4,s-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}i=s}else if(e.substr(i+1,2)==="!D"){let s=xer(e,i);this.docTypeEntities=s.entities,i=s.i}else if(e.substr(i+1,2)==="!["){let s=YI(e,"]]>",i,"CDATA is not closed.")-2,u=e.substring(i+9,s);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(u,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):r.add(this.options.textNodeName,l),i=s+2}else{let s=Ehe(e,i,this.options.removeNSPrefix),u=s.tagName,l=s.rawTagName,c=s.tagExp,d=s.attrExpPresent,f=s.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),u!==t.tagname&&(o+=o?"."+u:u),this.isItStopNode(this.options.stopNodes,o,u)){let h="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),c=u):c=c.substr(0,c.length-1),i=s.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)i=s.closeIndex;else{let _=this.readStopNodeData(e,l,f+1);if(!_)throw new Error(`Unexpected end of ${l}`);i=_.i,h=_.tagContent}let m=new fz(u);u!==c&&d&&(m[":@"]=this.buildAttributesMap(c,o,u)),h&&(h=this.parseTextData(h,u,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),m.add(this.options.textNodeName,h),this.addChild(r,m,o)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));let h=new fz(u);u!==c&&d&&(h[":@"]=this.buildAttributesMap(c,o,u)),this.addChild(r,h,o),o=o.substr(0,o.lastIndexOf("."))}else{let h=new fz(u);this.tagsNodeStack.push(r),u!==c&&d&&(h[":@"]=this.buildAttributesMap(c,o,u)),this.addChild(r,h,o),r=h}n="",i=f}}else n+=e[i];return t.child};function Aer(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var Rer=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Der(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function jer(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function Ner(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let a=e[i];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else a==="	"&&(a=" ");o+=a}}function YI(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Ehe(e,t,r,n=">"){let o=Ner(e,t+1,n);if(!o)return;let i=o.data,a=o.index,s=i.search(/\s/),u=i,l=!0;s!==-1&&(u=i.substring(0,s),i=i.substring(s+1).trimStart());let c=u;if(r){let d=u.indexOf(":");d!==-1&&(u=u.substr(d+1),l=u!==o.data.substr(d+1))}return{tagName:u,tagExp:i,closeIndex:a,attrExpPresent:l,rawTagName:c}}function Ler(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=YI(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=YI(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=YI(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=YI(e,"]]>",r,"StopNode is not closed.")-2;else{let i=Ehe(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function Phe(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Cer(e,r)}else return HZe.isExist(e)?e:""}VZe.exports=Ohe});var KZe=b(GZe=>{"use strict";function Fer(e,t){return JZe(e,t)}function JZe(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let a=e[i],s=ker(a),u="";if(r===void 0?u=s:u=r+"."+s,s===t.textNodeName)n===void 0?n=a[s]:n+=""+a[s];else{if(s===void 0)continue;if(a[s]){let l=JZe(a[s],t,u),c=$er(l,t);a[":@"]?Ber(l,a[":@"],u,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[s]!==void 0&&o.hasOwnProperty(s)?(Array.isArray(o[s])||(o[s]=[o[s]]),o[s].push(l)):t.isArray(s,u,c)?o[s]=[l]:o[s]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function ker(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Ber(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let a=0;a<i;a++){let s=o[a];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function $er(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}GZe.prettify=Fer});var ZZe=b((aVn,YZe)=>{var{buildOptions:qer}=FZe(),Uer=WZe(),{prettify:zer}=KZe(),Her=She(),The=class{constructor(t){this.externalEntities={},this.options=qer(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Her.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Uer(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:zer(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};YZe.exports=The});var rXe=b((sVn,tXe)=>{var Ver=`
`;function Wer(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Ver),QZe(e,t,"",r)}function QZe(e,t,r,n){let o="",i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=Jer(s);if(u===void 0)continue;let l="";if(r.length===0?l=u:l=`${r}.${u}`,u===t.textNodeName){let h=s[u];Ger(l,t)||(h=t.tagValueProcessor(u,h),h=eXe(h,t)),i&&(o+=n),o+=h,i=!1;continue}else if(u===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${s[u][0][t.textNodeName]}]]>`,i=!1;continue}else if(u===t.commentPropName){o+=n+`<!--${s[u][0][t.textNodeName]}-->`,i=!0;continue}else if(u[0]==="?"){let h=XZe(s[":@"],t),m=u==="?xml"?"":n,_=s[u][0][t.textNodeName];_=_.length!==0?" "+_:"",o+=m+`<${u}${_}${h}?>`,i=!0;continue}let c=n;c!==""&&(c+=t.indentBy);let d=XZe(s[":@"],t),f=n+`<${u}${d}`,p=QZe(s[u],t,l,c);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!p||p.length===0)&&t.suppressEmptyNode?o+=f+"/>":p&&p.endsWith(">")?o+=f+`>${p}${n}</${u}>`:(o+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?o+=n+t.indentBy+p+n:o+=p,o+=`</${u}>`),i=!0}return o}function Jer(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function XZe(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let o=t.attributeValueProcessor(n,e[n]);o=eXe(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function Ger(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function eXe(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}tXe.exports=Wer});var oXe=b((uVn,nXe)=>{"use strict";var Ker=rXe(),Yer={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function xE(e){this.options=Object.assign({},Yer,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Qer),this.processTextOrObjNode=Zer,this.options.format?(this.indentate=Xer,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}xE.prototype.build=function(e){return this.options.preserveOrder?Ker(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};xE.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(typeof e[o]>"u")this.isAttribute(o)&&(n+="");else if(e[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let a=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(a)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,a="",s="";for(let u=0;u<i;u++){let l=e[o][u];if(!(typeof l>"u"))if(l===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let c=this.j2x(l,t+1);a+=c.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(s+=c.attrStr)}else a+=this.processTextOrObjNode(l,o,t);else if(this.options.oneListGroup){let c=this.options.tagValueProcessor(o,l);c=this.replaceEntitiesValue(c),a+=c}else a+=this.buildTextValNode(l,o,"",t)}this.options.oneListGroup&&(a=this.buildObjectNode(a,o,s,t)),n+=a}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),a=i.length;for(let s=0;s<a;s++)r+=this.buildAttrPairStr(i[s],""+e[o][i[s]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};xE.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Zer(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}xE.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};xE.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};xE.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};xE.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Xer(e){return this.options.indentBy.repeat(e)}function Qer(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}nXe.exports=xE});var aXe=b((lVn,iXe)=>{"use strict";var etr=She(),ttr=ZZe(),rtr=oXe();iXe.exports={XMLParser:ttr,XMLValidator:etr,XMLBuilder:rtr}});var sXe,Fy,uXe,lXe=C(()=>{Rt();sXe=B(aXe());vhe();Fy=(e,t)=>YJ(e,t).then(r=>{if(r.length){let n=new sXe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(u){throw u&&typeof u=="object"&&Object.defineProperty(u,"$responseBodyText",{value:r}),u}let i="#text",a=Object.keys(o)[0],s=o[a];return s[i]&&(s[a]=s[i],delete s[i]),Jpe(s)}return{}}),uXe=async(e,t)=>{let r=await Fy(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r}});var cXe=C(()=>{CZe();OZe();TZe();lXe()});var ZI=C(()=>{OYe();xZe();cXe()});function ntr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function XJ(e){return{schemeId:"smithy.api#noAuth"}}var dXe,fXe,pXe,Mhe=C(()=>{ZI();eg();dXe=async(e,t,r)=>({operation:jy(t).operation,region:await zc(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fXe=e=>{let t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(XJ(e));break}case"GetId":{t.push(XJ(e));break}case"GetOpenIdToken":{t.push(XJ(e));break}case"UnlinkIdentity":{t.push(XJ(e));break}default:t.push(ntr(e))}return t},pXe=e=>({...KJ(e)})});var hXe,Kt,Si=C(()=>{hXe=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),Kt={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var gXe,mXe=C(()=>{gXe={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/client-iam":"3.645.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var Ihe,Ahe,yXe,bXe=C(()=>{Ihe={name:"SHA-256"},Ahe={name:"HMAC",hash:Ihe},yXe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});function pN(){return typeof window<"u"?window:typeof self<"u"?self:itr}var itr,Rhe=C(()=>{itr={}});var hN,Dhe,jhe=C(()=>{hN=B(NW());bXe();Rhe();Dhe=function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!(0,hN.isEmptyData)(t)){var r=(0,hN.convertToBuffer)(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return pN().crypto.subtle.sign(Ahe,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,hN.isEmptyData)(this.toHash)?Promise.resolve(yXe):Promise.resolve().then(function(){return pN().crypto.subtle.digest(Ihe,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){pN().crypto.subtle.importKey("raw",(0,hN.convertToBuffer)(t.secret),Ahe,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},e}()});function _Xe(e){if(str(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return utr(t)}return!1}function str(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function utr(e){return e&&atr.every(function(t){return typeof e[t]=="function"})}var atr,vXe=C(()=>{atr=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"]});var wXe=C(()=>{vXe()});var SXe,xXe,QJ,CXe=C(()=>{jhe();SXe=B(Lfe());wXe();Rhe();xXe=B(NW()),QJ=function(){function e(t){_Xe(pN())?this.hash=new Dhe(t):this.hash=new SXe.Sha256(t)}return e.prototype.update=function(t,r){this.hash.update((0,xXe.convertToBuffer)(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}()});var Nhe=C(()=>{CXe();jhe()});var Fhe=b((pz,Lhe)=>{(function(e,t){typeof pz=="object"&&typeof Lhe=="object"?Lhe.exports=t():typeof define=="function"&&define.amd?define([],t):typeof pz=="object"?pz.bowser=t():e.bowser=t()})(pz,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(i,a,function(s){return n[s]}.bind(null,a));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function i(){}return i.getFirstMatch=function(a,s){var u=s.match(a);return u&&u.length>0&&u[1]||""},i.getSecondMatch=function(a,s){var u=s.match(a);return u&&u.length>1&&u[2]||""},i.matchAndReturnConst=function(a,s,u){if(a.test(s))return u},i.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},i.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},i.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},i.getVersionPrecision=function(a){return a.split(".").length},i.compareVersions=function(a,s,u){u===void 0&&(u=!1);var l=i.getVersionPrecision(a),c=i.getVersionPrecision(s),d=Math.max(l,c),f=0,p=i.map([a,s],function(h){var m=d-i.getVersionPrecision(h),_=h+new Array(m+1).join(".0");return i.map(_.split("."),function(g){return new Array(20-g.length).join("0")+g}).reverse()});for(u&&(f=d-Math.min(l,c)),d-=1;d>=f;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===f)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}},i.map=function(a,s){var u,l=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(u=0;u<a.length;u+=1)l.push(s(a[u]));return l},i.find=function(a,s){var u,l;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(u=0,l=a.length;u<l;u+=1){var c=a[u];if(s(c,u))return c}},i.assign=function(a){for(var s,u,l=a,c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[a].concat(d));var p=function(){var h=d[s];typeof h=="object"&&h!==null&&Object.keys(h).forEach(function(m){l[m]=h[m]})};for(s=0,u=d.length;s<u;s+=1)p();return a},i.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},i.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},i}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function a(u,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var s=function(){function u(){}var l,c,d;return u.getParser=function(f,p){if(p===void 0&&(p=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new o.default(f,p)},u.parse=function(f){return new o.default(f).getResult()},l=u,d=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(c=null)&&a(l.prototype,c),d&&a(l,d),u}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),o=u(r(93)),i=u(r(94)),a=u(r(95)),s=u(r(17));function u(c){return c&&c.__esModule?c:{default:c}}var l=function(){function c(f,p){if(p===void 0&&(p=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},p!==!0&&this.parse()}var d=c.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var p=s.default.find(n.default,function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some(function(m){return f.test(m)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var p=s.default.find(o.default,function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some(function(m){return f.test(m)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var p=this.getOS().name;return f?String(p).toLowerCase()||"":p||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var p=this.getPlatform().type;return f?String(p).toLowerCase()||"":p||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var p=s.default.find(i.default,function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some(function(m){return f.test(m)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var p=s.default.find(a.default,function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some(function(m){return f.test(m)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return s.default.assign({},this.parsedResult)},d.satisfies=function(f){var p=this,h={},m=0,_={},g=0;if(Object.keys(f).forEach(function(A){var j=f[A];typeof j=="string"?(_[A]=j,g+=1):typeof j=="object"&&(h[A]=j,m+=1)}),m>0){var v=Object.keys(h),S=s.default.find(v,function(A){return p.isOS(A)});if(S){var x=this.satisfies(h[S]);if(x!==void 0)return x}var O=s.default.find(v,function(A){return p.isPlatform(A)});if(O){var T=this.satisfies(h[O]);if(T!==void 0)return T}}if(g>0){var E=Object.keys(_),M=s.default.find(E,function(A){return p.isBrowser(A,!0)});if(M!==void 0)return this.compareVersion(_[M])}},d.isBrowser=function(f,p){p===void 0&&(p=!1);var h=this.getBrowserName().toLowerCase(),m=f.toLowerCase(),_=s.default.getBrowserTypeByAlias(m);return p&&_&&(m=_.toLowerCase()),m===h},d.compareVersion=function(f){var p=[0],h=f,m=!1,_=this.getBrowserVersion();if(typeof _=="string")return f[0]===">"||f[0]==="<"?(h=f.substr(1),f[1]==="="?(m=!0,h=f.substr(2)):p=[],f[0]===">"?p.push(1):p.push(-1)):f[0]==="="?h=f.substr(1):f[0]==="~"&&(m=!0,h=f.substr(1)),p.indexOf(s.default.compareVersions(_,h,m))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,p){return p===void 0&&(p=!1),this.isBrowser(f,p)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var p=this;return f===void 0&&(f=[]),f.some(function(h){return p.is(h)})},c}();t.default=l,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var u={name:"Googlebot"},l=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/opera/i],describe:function(s){var u={name:"Opera"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opr\/|opios/i],describe:function(s){var u={name:"Opera"},l=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/SamsungBrowser/i],describe:function(s){var u={name:"Samsung Internet for Android"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Whale/i],describe:function(s){var u={name:"NAVER Whale Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MZBrowser/i],describe:function(s){var u={name:"MZ Browser"},l=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/focus/i],describe:function(s){var u={name:"Focus"},l=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/swing/i],describe:function(s){var u={name:"Swing"},l=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/coast/i],describe:function(s){var u={name:"Opera Coast"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var u={name:"Opera Touch"},l=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/yabrowser/i],describe:function(s){var u={name:"Yandex Browser"},l=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/ucbrowser/i],describe:function(s){var u={name:"UC Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Maxthon|mxios/i],describe:function(s){var u={name:"Maxthon"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/epiphany/i],describe:function(s){var u={name:"Epiphany"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/puffin/i],describe:function(s){var u={name:"Puffin"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sleipnir/i],describe:function(s){var u={name:"Sleipnir"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/k-meleon/i],describe:function(s){var u={name:"K-Meleon"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/micromessenger/i],describe:function(s){var u={name:"WeChat"},l=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/qqbrowser/i],describe:function(s){var u={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/msie|trident/i],describe:function(s){var u={name:"Internet Explorer"},l=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/\sedg\//i],describe:function(s){var u={name:"Microsoft Edge"},l=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/edg([ea]|ios)/i],describe:function(s){var u={name:"Microsoft Edge"},l=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/vivaldi/i],describe:function(s){var u={name:"Vivaldi"},l=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/seamonkey/i],describe:function(s){var u={name:"SeaMonkey"},l=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sailfish/i],describe:function(s){var u={name:"Sailfish"},l=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(u.version=l),u}},{test:[/silk/i],describe:function(s){var u={name:"Amazon Silk"},l=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/phantom/i],describe:function(s){var u={name:"PhantomJS"},l=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/slimerjs/i],describe:function(s){var u={name:"SlimerJS"},l=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u={name:"BlackBerry"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u={name:"WebOS Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/bada/i],describe:function(s){var u={name:"Bada"},l=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/tizen/i],describe:function(s){var u={name:"Tizen"},l=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/qupzilla/i],describe:function(s){var u={name:"QupZilla"},l=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var u={name:"Firefox"},l=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/electron/i],describe:function(s){var u={name:"Electron"},l=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MiuiBrowser/i],describe:function(s){var u={name:"Miui"},l=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/chromium/i],describe:function(s){var u={name:"Chromium"},l=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/chrome|crios|crmo/i],describe:function(s){var u={name:"Chrome"},l=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/GSA/i],describe:function(s){var u={name:"Google Search"},l=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u={name:"Android Browser"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/playstation 4/i],describe:function(s){var u={name:"PlayStation 4"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/safari|applewebkit/i],describe:function(s){var u={name:"Safari"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/.*/i],describe:function(s){var u=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(u,s),version:o.default.getSecondMatch(u,s)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/Roku\/DVP/],describe:function(s){var u=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:i.OS_MAP.Roku,version:u}}},{test:[/windows phone/i],describe:function(s){var u=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.WindowsPhone,version:u}}},{test:[/windows /i],describe:function(s){var u=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=o.default.getWindowsVersionName(u);return{name:i.OS_MAP.Windows,version:u,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var u={name:i.OS_MAP.iOS},l=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(u.version=l),u}},{test:[/macintosh/i],describe:function(s){var u=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=o.default.getMacOSVersionName(u),c={name:i.OS_MAP.MacOS,version:u};return l&&(c.versionName=l),c}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var u=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:u}}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=o.default.getAndroidVersionName(u),c={name:i.OS_MAP.Android,version:u};return l&&(c.versionName=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:i.OS_MAP.WebOS};return u&&u.length&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||o.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:i.OS_MAP.BlackBerry,version:u}}},{test:[/bada/i],describe:function(s){var u=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.Bada,version:u}}},{test:[/tizen/i],describe:function(s){var u=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.Tizen,version:u}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var u=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.PlayStation4,version:u}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var u=o.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return u&&(l.model=u),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(s){var u=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return u&&!l},describe:function(s){var u=o.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:u}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var u=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&u>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:i.ENGINE_MAP.Blink};var u=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:i.ENGINE_MAP.EdgeHTML,version:u}}},{test:[/trident/i],describe:function(s){var u={name:i.ENGINE_MAP.Trident},l=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){return s.test(/presto/i)},describe:function(s){var u={name:i.ENGINE_MAP.Presto},l=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=s.test(/gecko/i),l=s.test(/like gecko/i);return u&&!l},describe:function(s){var u={name:i.ENGINE_MAP.Gecko},l=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var u={name:i.ENGINE_MAP.WebKit},l=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}}];t.default=a,e.exports=t.default}})})});var OXe,eG,khe=C(()=>{OXe=B(Fhe()),eG=({serviceId:e,clientVersion:t})=>async()=>{let r=typeof window<"u"&&window?.navigator?.userAgent?OXe.default.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n}});var EXe=C(()=>{});var tG,PXe=C(()=>{tG=e=>()=>Promise.reject(e)});var Bhe=C(()=>{EXe();PXe()});var TXe,rG,MXe=C(()=>{TXe=typeof TextEncoder=="function"?new TextEncoder:null,rG=e=>{if(typeof e=="string"){if(TXe)return TXe.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)}});var $he=C(()=>{MXe()});var qhe,Uhe=C(()=>{qhe=e=>new TextEncoder().encode(e)});var IXe=C(()=>{Uhe()});var AXe,RXe=C(()=>{AXe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}});var DXe=C(()=>{Uhe();IXe();RXe()});var zXe,By,$y,gN,jXe,mz,mN,hz,ax,zhe,NXe,LXe,FXe,HXe,VXe,ky,kXe,BXe,$Xe,qXe,UXe,ltr,WXe,JXe=C(()=>{zXe="required",By="fn",$y="argv",gN="ref",jXe="isSet",mz="booleanEquals",mN="error",hz="endpoint",ax="tree",zhe="PartitionResult",NXe={[zXe]:!1,type:"String"},LXe={[zXe]:!0,default:!1,type:"Boolean"},FXe={[gN]:"Endpoint"},HXe={[By]:mz,[$y]:[{[gN]:"UseFIPS"},!0]},VXe={[By]:mz,[$y]:[{[gN]:"UseDualStack"},!0]},ky={},kXe={[By]:"getAttr",[$y]:[{[gN]:zhe},"supportsFIPS"]},BXe={[By]:mz,[$y]:[!0,{[By]:"getAttr",[$y]:[{[gN]:zhe},"supportsDualStack"]}]},$Xe=[HXe],qXe=[VXe],UXe=[{[gN]:"Region"}],ltr={version:"1.0",parameters:{Region:NXe,UseDualStack:LXe,UseFIPS:LXe,Endpoint:NXe},rules:[{conditions:[{[By]:jXe,[$y]:[FXe]}],rules:[{conditions:$Xe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:mN},{conditions:qXe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:mN},{endpoint:{url:FXe,properties:ky,headers:ky},type:hz}],type:ax},{conditions:[{[By]:jXe,[$y]:UXe}],rules:[{conditions:[{[By]:"aws.partition",[$y]:UXe,assign:zhe}],rules:[{conditions:[HXe,VXe],rules:[{conditions:[{[By]:mz,[$y]:[!0,kXe]},BXe],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ky,headers:ky},type:hz}],type:ax},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:mN}],type:ax},{conditions:$Xe,rules:[{conditions:[{[By]:mz,[$y]:[kXe,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ky,headers:ky},type:hz}],type:ax},{error:"FIPS is enabled but this partition does not support FIPS",type:mN}],type:ax},{conditions:qXe,rules:[{conditions:[BXe],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ky,headers:ky},type:hz}],type:ax},{error:"DualStack is enabled but this partition does not support DualStack",type:mN}],type:ax},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:ky,headers:ky},type:hz}],type:ax}],type:ax},{error:"Invalid Configuration: Missing Region",type:mN}]},WXe=ltr});var GXe,KXe=C(()=>{QW();dE();JXe();GXe=(e,t={})=>zU(WXe,{endpointParams:e,logger:t.logger});tx.aws=HU});var YXe,ZXe=C(()=>{ZI();vE();Rt();cJ();aN();DXe();Mhe();KXe();YXe=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??gE,base64Encoder:e?.base64Encoder??yE,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??GXe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??fXe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new GI},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dN}],logger:e?.logger??new pE,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??fE,utf8Decoder:e?.utf8Decoder??qhe,utf8Encoder:e?.utf8Encoder??AXe})});var XXe,QXe=C(()=>{XXe=["in-region","cross-region","mobile","standard","legacy"]});var eQe,nG,ctr,tQe=C(()=>{ex();eQe=B(Fhe());QXe();nG=({defaultsMode:e}={})=>V5e(async()=>{let t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(ctr()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${XXe.join(", ")}, got ${t}`)}}),ctr=()=>{let t=(typeof window<"u"&&window?.navigator?.userAgent?eQe.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return t==="tablet"||t==="mobile"}});var Hhe=C(()=>{tQe()});var rQe,nQe=C(()=>{mXe();Nhe();khe();VU();QU();Bhe();$he();Ly();ZXe();Rt();Hhe();rQe=e=>{let t=nG(e),r=()=>t().then(AJ),n=YXe(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??rG,credentialDefaultProvider:e?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??eG({serviceId:n.serviceId,clientVersion:gXe.version}),maxAttempts:e?.maxAttempts??Ny,region:e?.region??tG("Region is missing"),requestHandler:bE.create(e?.requestHandler??r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||GU),sha256:e?.sha256??QJ,streamCollector:e?.streamCollector??sN,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(iJ)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(aJ))}}});var oG,iG,oQe=C(()=>{oG=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},iG=e=>({region:e.region()})});var iQe=C(()=>{});var Vhe=C(()=>{});var aQe=C(()=>{Vhe()});var sQe=C(()=>{aQe();Vhe()});var uQe=C(()=>{iQe();sQe()});var Whe=C(()=>{oQe();uQe()});var lQe,cQe,dQe=C(()=>{lQe=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},cQe=e=>({httpHandler:e.httpHandler()})});var fQe=C(()=>{dQe()});var pQe=C(()=>{us()});var hQe=C(()=>{});var mQe=C(()=>{});function ftr(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var aG,gQe=C(()=>{aG=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=ftr(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var yQe=C(()=>{});var bQe=C(()=>{});var _Qe=C(()=>{});var Jhe=C(()=>{fQe();pQe();hQe();mQe();gQe();yQe();bQe();_Qe()});var vQe,wQe,SQe=C(()=>{vQe=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},wQe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var sG,xQe,CQe=C(()=>{Whe();Jhe();Rt();SQe();sG=e=>e,xQe=(e,t)=>{let r={...sG(oG(e)),...sG(RJ(e)),...sG(lQe(e)),...sG(vQe(e))};return t.forEach(n=>n.configure(r)),{...e,...iG(r),...DJ(r),...cQe(r),...wQe(r)}}});var CE,uG=C(()=>{$fe();qfe();Ufe();ipe();VU();vE();Xpe();gn();LJ();Rt();Mhe();Si();nQe();CQe();CE=class extends zI{constructor(...[t]){let r=rQe(t||{}),n=hXe(r),o=VW(n),i=CJ(o),a=uJ(i),s=a,u=pJ(s),l=pXe(u),c=xQe(l,t?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(nJ(this.config)),this.middlewareStack.use(NJ(this.config)),this.middlewareStack.use(BJ(this.config)),this.middlewareStack.use(qW(this.config)),this.middlewareStack.use(UW(this.config)),this.middlewareStack.use(HW(this.config)),this.middlewareStack.use(hJ(this.config,{httpAuthSchemeParametersProvider:dXe,identityProviderConfigProvider:async d=>new cN({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(FJ(this.config))}destroy(){super.destroy()}}});var Hc,Ghe=C(()=>{Rt();Hc=class e extends lN{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var lG,cG,dG,fG,pG,hG,mG,gG,yG,bG,_G,Khe=C(()=>{Ghe();lG=class e extends Hc{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}},cG=class e extends Hc{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},dG=class e extends Hc{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},fG=class e extends Hc{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},pG=class e extends Hc{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},hG=class e extends Hc{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},mG=class e extends Hc{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},gG=class e extends Hc{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},yG=class e extends Hc{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},bG=class e extends Hc{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},_G=class e extends Hc{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}}});function ua(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}var OQe,EQe,PQe,TQe,MQe,IQe,AQe,RQe,DQe,jQe,NQe,LQe,FQe,kQe,BQe,$Qe,qQe,UQe,zQe,HQe,VQe,WQe,JQe,GQe,KQe,YQe,ZQe,XQe,QQe,eet,tet,ret,net,oet,iet,aet,set,uet,cet,det,fet,pet,het,met,get,yet,aa,htr,mtr,gtr,ytr,btr,_tr,vtr,wtr,Str,xtr,Ctr,Otr,Etr,Ptr,bet,Ttr,Cn,Mtr,sa,$i=C(()=>{ZI();Jhe();Rt();Ghe();Khe();OQe=async(e,t)=>{let r=ua("CreateIdentityPool"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},EQe=async(e,t)=>{let r=ua("DeleteIdentities"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},PQe=async(e,t)=>{let r=ua("DeleteIdentityPool"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},TQe=async(e,t)=>{let r=ua("DescribeIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},MQe=async(e,t)=>{let r=ua("DescribeIdentityPool"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},IQe=async(e,t)=>{let r=ua("GetCredentialsForIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},AQe=async(e,t)=>{let r=ua("GetId"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},RQe=async(e,t)=>{let r=ua("GetIdentityPoolRoles"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},DQe=async(e,t)=>{let r=ua("GetOpenIdToken"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},jQe=async(e,t)=>{let r=ua("GetOpenIdTokenForDeveloperIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},NQe=async(e,t)=>{let r=ua("GetPrincipalTagAttributeMap"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},LQe=async(e,t)=>{let r=ua("ListIdentities"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},FQe=async(e,t)=>{let r=ua("ListIdentityPools"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},kQe=async(e,t)=>{let r=ua("ListTagsForResource"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},BQe=async(e,t)=>{let r=ua("LookupDeveloperIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},$Qe=async(e,t)=>{let r=ua("MergeDeveloperIdentities"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},qQe=async(e,t)=>{let r=ua("SetIdentityPoolRoles"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},UQe=async(e,t)=>{let r=ua("SetPrincipalTagAttributeMap"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},zQe=async(e,t)=>{let r=ua("TagResource"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},HQe=async(e,t)=>{let r=ua("UnlinkDeveloperIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},VQe=async(e,t)=>{let r=ua("UnlinkIdentity"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},WQe=async(e,t)=>{let r=ua("UntagResource"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},JQe=async(e,t)=>{let r=ua("UpdateIdentityPool"),n;return n=JSON.stringify(At(e)),sa(t,r,"/",void 0,n)},GQe=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},KQe=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},YQe=async(e,t)=>e.statusCode>=300?aa(e,t):(await _E(e.body,t),{$metadata:Cn(e)}),ZQe=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=bet(r,t),{$metadata:Cn(e),...n}},XQe=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},QQe=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=Etr(r,t),{$metadata:Cn(e),...n}},eet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},tet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},ret=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},net=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},oet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},iet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=Ttr(r,t),{$metadata:Cn(e),...n}},aet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},set=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},uet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},cet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},det=async(e,t)=>e.statusCode>=300?aa(e,t):(await _E(e.body,t),{$metadata:Cn(e)}),fet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},pet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},het=async(e,t)=>e.statusCode>=300?aa(e,t):(await _E(e.body,t),{$metadata:Cn(e)}),met=async(e,t)=>e.statusCode>=300?aa(e,t):(await _E(e.body,t),{$metadata:Cn(e)}),get=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},yet=async(e,t)=>{if(e.statusCode>=300)return aa(e,t);let r=await Ja(e.body,t),n={};return n=At(r),{$metadata:Cn(e),...n}},aa=async(e,t)=>{let r={...e,body:await EZe(e.body,t)},n=PZe(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await ytr(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await _tr(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await vtr(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await wtr(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Str(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Ctr(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await xtr(r,t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await gtr(r,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await btr(r,t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await mtr(r,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await htr(r,t);default:let o=r.body;return Mtr({output:e,parsedBody:o,errorCode:n})}},htr=async(e,t)=>{let r=e.body,n=At(r),o=new _G({$metadata:Cn(e),...n});return ia(o,r)},mtr=async(e,t)=>{let r=e.body,n=At(r),o=new bG({$metadata:Cn(e),...n});return ia(o,r)},gtr=async(e,t)=>{let r=e.body,n=At(r),o=new gG({$metadata:Cn(e),...n});return ia(o,r)},ytr=async(e,t)=>{let r=e.body,n=At(r),o=new lG({$metadata:Cn(e),...n});return ia(o,r)},btr=async(e,t)=>{let r=e.body,n=At(r),o=new yG({$metadata:Cn(e),...n});return ia(o,r)},_tr=async(e,t)=>{let r=e.body,n=At(r),o=new cG({$metadata:Cn(e),...n});return ia(o,r)},vtr=async(e,t)=>{let r=e.body,n=At(r),o=new dG({$metadata:Cn(e),...n});return ia(o,r)},wtr=async(e,t)=>{let r=e.body,n=At(r),o=new fG({$metadata:Cn(e),...n});return ia(o,r)},Str=async(e,t)=>{let r=e.body,n=At(r),o=new pG({$metadata:Cn(e),...n});return ia(o,r)},xtr=async(e,t)=>{let r=e.body,n=At(r),o=new mG({$metadata:Cn(e),...n});return ia(o,r)},Ctr=async(e,t)=>{let r=e.body,n=At(r),o=new hG({$metadata:Cn(e),...n});return ia(o,r)},Otr=(e,t)=>rz(e,{AccessKeyId:jr,Expiration:r=>uN(MJ(WI(r))),SecretKey:jr,SessionToken:jr}),Etr=(e,t)=>rz(e,{Credentials:r=>Otr(r,t),IdentityId:jr}),Ptr=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>bet(n,t)),bet=(e,t)=>rz(e,{CreationDate:r=>uN(MJ(WI(r))),IdentityId:jr,LastModifiedDate:r=>uN(MJ(WI(r))),Logins:At}),Ttr=(e,t)=>rz(e,{Identities:r=>Ptr(r,t),IdentityPoolId:jr,NextToken:jr}),Cn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mtr=IJ(Hc),sa=async(e,t,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:u}=await e.endpoint(),l={protocol:a,hostname:i,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+r:u+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new aG(l)}});var vG,Yhe=C(()=>{gn();xn();Rt();Si();$i();vG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","CreateIdentityPool",{}).n("CognitoIdentityClient","CreateIdentityPoolCommand").f(void 0,void 0).ser(OQe).de(GQe).build(){}});var wG,Zhe=C(()=>{gn();xn();Rt();Si();$i();wG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentities",{}).n("CognitoIdentityClient","DeleteIdentitiesCommand").f(void 0,void 0).ser(EQe).de(KQe).build(){}});var SG,Xhe=C(()=>{gn();xn();Rt();Si();$i();SG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentityPool",{}).n("CognitoIdentityClient","DeleteIdentityPoolCommand").f(void 0,void 0).ser(PQe).de(YQe).build(){}});var xG,Qhe=C(()=>{gn();xn();Rt();Si();$i();xG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentity",{}).n("CognitoIdentityClient","DescribeIdentityCommand").f(void 0,void 0).ser(TQe).de(ZQe).build(){}});var CG,eme=C(()=>{gn();xn();Rt();Si();$i();CG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentityPool",{}).n("CognitoIdentityClient","DescribeIdentityPoolCommand").f(void 0,void 0).ser(MQe).de(XQe).build(){}});var yN,tme=C(()=>{gn();xn();Rt();Si();$i();yN=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(IQe).de(QQe).build(){}});var bN,rme=C(()=>{gn();xn();Rt();Si();$i();bN=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(AQe).de(eet).build(){}});var OG,nme=C(()=>{gn();xn();Rt();Si();$i();OG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetIdentityPoolRoles",{}).n("CognitoIdentityClient","GetIdentityPoolRolesCommand").f(void 0,void 0).ser(RQe).de(tet).build(){}});var EG,ome=C(()=>{gn();xn();Rt();Si();$i();EG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdToken",{}).n("CognitoIdentityClient","GetOpenIdTokenCommand").f(void 0,void 0).ser(DQe).de(ret).build(){}});var PG,ime=C(()=>{gn();xn();Rt();Si();$i();PG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdTokenForDeveloperIdentity",{}).n("CognitoIdentityClient","GetOpenIdTokenForDeveloperIdentityCommand").f(void 0,void 0).ser(jQe).de(net).build(){}});var TG,ame=C(()=>{gn();xn();Rt();Si();$i();TG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","GetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(NQe).de(oet).build(){}});var MG,sme=C(()=>{gn();xn();Rt();Si();$i();MG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentities",{}).n("CognitoIdentityClient","ListIdentitiesCommand").f(void 0,void 0).ser(LQe).de(iet).build(){}});var _N,IG=C(()=>{gn();xn();Rt();Si();$i();_N=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentityPools",{}).n("CognitoIdentityClient","ListIdentityPoolsCommand").f(void 0,void 0).ser(FQe).de(aet).build(){}});var AG,ume=C(()=>{gn();xn();Rt();Si();$i();AG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListTagsForResource",{}).n("CognitoIdentityClient","ListTagsForResourceCommand").f(void 0,void 0).ser(kQe).de(set).build(){}});var RG,lme=C(()=>{gn();xn();Rt();Si();$i();RG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","LookupDeveloperIdentity",{}).n("CognitoIdentityClient","LookupDeveloperIdentityCommand").f(void 0,void 0).ser(BQe).de(uet).build(){}});var DG,cme=C(()=>{gn();xn();Rt();Si();$i();DG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","MergeDeveloperIdentities",{}).n("CognitoIdentityClient","MergeDeveloperIdentitiesCommand").f(void 0,void 0).ser($Qe).de(cet).build(){}});var jG,dme=C(()=>{gn();xn();Rt();Si();$i();jG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetIdentityPoolRoles",{}).n("CognitoIdentityClient","SetIdentityPoolRolesCommand").f(void 0,void 0).ser(qQe).de(det).build(){}});var NG,fme=C(()=>{gn();xn();Rt();Si();$i();NG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","SetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(UQe).de(fet).build(){}});var LG,pme=C(()=>{gn();xn();Rt();Si();$i();LG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","TagResource",{}).n("CognitoIdentityClient","TagResourceCommand").f(void 0,void 0).ser(zQe).de(pet).build(){}});var FG,hme=C(()=>{gn();xn();Rt();Si();$i();FG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkDeveloperIdentity",{}).n("CognitoIdentityClient","UnlinkDeveloperIdentityCommand").f(void 0,void 0).ser(HQe).de(het).build(){}});var kG,mme=C(()=>{gn();xn();Rt();Si();$i();kG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkIdentity",{}).n("CognitoIdentityClient","UnlinkIdentityCommand").f(void 0,void 0).ser(VQe).de(met).build(){}});var BG,gme=C(()=>{gn();xn();Rt();Si();$i();BG=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UntagResource",{}).n("CognitoIdentityClient","UntagResourceCommand").f(void 0,void 0).ser(WQe).de(get).build(){}});var $G,yme=C(()=>{gn();xn();Rt();Si();$i();$G=class extends ot.classBuilder().ep({...Kt}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UpdateIdentityPool",{}).n("CognitoIdentityClient","UpdateIdentityPoolCommand").f(void 0,void 0).ser(JQe).de(yet).build(){}});var Itr,bme,_et=C(()=>{Rt();uG();Yhe();Zhe();Xhe();Qhe();eme();tme();rme();nme();ome();ime();ame();sme();IG();ume();lme();cme();dme();fme();pme();hme();mme();gme();yme();Itr={CreateIdentityPoolCommand:vG,DeleteIdentitiesCommand:wG,DeleteIdentityPoolCommand:SG,DescribeIdentityCommand:xG,DescribeIdentityPoolCommand:CG,GetCredentialsForIdentityCommand:yN,GetIdCommand:bN,GetIdentityPoolRolesCommand:OG,GetOpenIdTokenCommand:EG,GetOpenIdTokenForDeveloperIdentityCommand:PG,GetPrincipalTagAttributeMapCommand:TG,ListIdentitiesCommand:MG,ListIdentityPoolsCommand:_N,ListTagsForResourceCommand:AG,LookupDeveloperIdentityCommand:RG,MergeDeveloperIdentitiesCommand:DG,SetIdentityPoolRolesCommand:jG,SetPrincipalTagAttributeMapCommand:NG,TagResourceCommand:LG,UnlinkDeveloperIdentityCommand:FG,UnlinkIdentityCommand:kG,UntagResourceCommand:BG,UpdateIdentityPoolCommand:$G},bme=class extends CE{};TJ(Itr,bme)});var vet=C(()=>{Yhe();Zhe();Xhe();Qhe();eme();tme();rme();nme();ome();ime();ame();sme();IG();ume();lme();cme();dme();fme();pme();hme();mme();gme();yme()});var wet=C(()=>{});var SKn,xet=C(()=>{vE();uG();IG();SKn=Zpe(CE,_N,"NextToken","NextToken","MaxResults")});var Cet=C(()=>{wet();xet()});var Oet=C(()=>{Khe()});var Eet=C(()=>{uG();_et();vet();Cet();Oet()});var _me={};Kd(_me,{CognitoIdentityClient:()=>CE,GetCredentialsForIdentityCommand:()=>yN,GetIdCommand:()=>bN});var vme=C(()=>{Eet()});function qG(e){return async()=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:t,CognitoIdentityClient:r}=await Promise.resolve().then(()=>(vme(),_me)),{Credentials:{AccessKeyId:n=Atr(e.logger),Expiration:o,SecretKey:i=Dtr(e.logger),SessionToken:a}=Rtr(e.logger)}=await(e.client??new r(Object.assign({},e.clientConfig??{},{region:e.clientConfig?.region??e.parentClientConfig?.region}))).send(new t({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await BW(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:n,secretAccessKey:i,sessionToken:a,expiration:o}}}function Atr(e){throw new qu("Response from Amazon Cognito contained no access key ID",{logger:e})}function Rtr(e){throw new qu("Response from Amazon Cognito contained no credentials",{logger:e})}function Dtr(e){throw new qu("Response from Amazon Cognito contained no secret key",{logger:e})}var wme=C(()=>{ex();Ffe()});var Sme,UG,Pet=C(()=>{Sme="IdentityIds",UG=class{constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",r=>{let n=r.get(t);return new Promise(o=>{n.onerror=()=>o(null),n.onsuccess=()=>o(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",r=>{let n=r.delete(t);return new Promise((o,i)=>{n.onerror=()=>i(n.error),n.onsuccess=()=>o()})})}setItem(t,r){return this.withObjectStore("readwrite",n=>{let o=n.put({id:t,value:r});return new Promise((i,a)=>{o.onerror=()=>a(o.error),o.onsuccess=()=>i()})})}getDb(){let t=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{t.onsuccess=()=>{r(t.result)},t.onerror=()=>{n(t.error)},t.onblocked=()=>{n(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{let o=t.result;o.onerror=()=>{n(new Error("Failed to create object store"))},o.createObjectStore(Sme,{keyPath:"id"})}})}withObjectStore(t,r){return this.getDb().then(n=>{let o=n.transaction(Sme,t);return o.oncomplete=()=>n.close(),new Promise((i,a)=>{o.onerror=()=>a(o.error),i(r(o.objectStore(Sme)))}).catch(i=>{throw n.close(),i})})}}});var zG,Tet=C(()=>{zG=class{constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,r){this.store[t]=r}}});function Met(){return typeof self=="object"&&self.indexedDB?new UG:typeof window=="object"&&window.localStorage?window.localStorage:jtr}var jtr,Iet=C(()=>{Pet();Tet();jtr=new zG});function Aet({accountId:e,cache:t=Met(),client:r,clientConfig:n,customRoleArn:o,identityPoolId:i,logins:a,userIdentifier:s=!a||Object.keys(a).length===0?"ANONYMOUS":void 0,logger:u,parentClientConfig:l}){u?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let c=s?`aws:cognito-identity-credentials:${i}:${s}`:void 0,d=async()=>{let{GetIdCommand:f,CognitoIdentityClient:p}=await Promise.resolve().then(()=>(vme(),_me)),h=r??new p(Object.assign({},n??{},{region:n?.region??l?.region})),m=c&&await t.getItem(c);if(!m){let{IdentityId:_=Ntr(u)}=await h.send(new f({AccountId:e,IdentityPoolId:i,Logins:a?await BW(a):void 0}));m=_,c&&Promise.resolve(t.setItem(c,m)).catch(()=>{})}return d=qG({client:h,customRoleArn:o,logins:a,identityId:m}),d()};return()=>d().catch(async f=>{throw c&&Promise.resolve(t.removeItem(c)).catch(()=>{}),f})}function Ntr(e){throw new qu("Response from Amazon Cognito contained no identity ID",{logger:e})}var Ret=C(()=>{ex();wme();Iet();Ffe()});var xme=C(()=>{k5e();B5e();$5e();wme();Ret()});var Ltr,Det=C(()=>{xme();Ltr=e=>qG({...e})});var Ftr,jet=C(()=>{xme();Ftr=e=>Aet({...e})});var ktr,Btr,$tr,Net,Let=C(()=>{ex();ktr="169.254.170.2",Btr="169.254.170.23",$tr="[fd00:ec2::23]",Net=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===ktr||e.hostname===Btr||e.hostname===$tr)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new qu(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}}});var Fet=C(()=>{});var ket=C(()=>{Fet()});var Bet=C(()=>{us()});var $et=C(()=>{});var qet=C(()=>{});function qtr(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var HG,Uet=C(()=>{HG=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=qtr(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var zet=C(()=>{});var Het=C(()=>{});var Vet=C(()=>{});var Wet=C(()=>{ket();Bet();$et();qet();Uet();zet();Het();Vet()});function Jet(e){return new HG({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Get(e,t){let n=await l7e(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new qu("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:E7e(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new qu(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new qu(`Server responded with status: ${e.statusCode}`,{logger:t})}var Ket=C(()=>{ex();Wet();Rt();Bpe()});var Yet,Zet=C(()=>{Yet=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()}});var Cme,Xet=C(()=>{QU();ex();Let();Ket();Zet();Cme=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.credentialsFullUri;if(r)t=r;else throw new qu("No HTTP credential provider host provided.",{logger:e.logger});let n=new URL(t);Net(n,e.logger);let o=new bE;return Yet(async()=>{let i=Jet(n);e.authorizationToken&&(i.headers.Authorization=e.authorizationToken);let a=await o.handle(i);return Get(a.response)},e.maxRetries??3,e.timeout??1e3)}});var Qet=C(()=>{Xet()});function Utr(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ett(e){return{schemeId:"smithy.api#noAuth"}}var ttt,rtt,ztr,ntt,Ome=C(()=>{ZI();eg();gz();ttt=async(e,t,r)=>({operation:jy(t).operation,region:await zc(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});rtt=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(ett(e));break}case"AssumeRoleWithWebIdentity":{t.push(ett(e));break}default:t.push(Utr(e))}return t},ztr=e=>({...e,stsClientCtor:Ch}),ntt=e=>{let t=ztr(e);return{...KJ(t)}}});var ott,Vc,qy=C(()=>{ott=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Vc={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var att,itt=C(()=>{att={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Eme,Pme=C(()=>{Eme=e=>new TextEncoder().encode(e)});var stt=C(()=>{Pme()});var utt,ltt=C(()=>{utt=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}});var ctt=C(()=>{Pme();stt();ltt()});var wtt,Tr,qn,Un,EE,OE,Jl,Stt,xtt,Ctt,qi,dtt,Uy,vN,Mme,ftt,Tme,Ott,ptt,Gl,htt,Ett,Ptt,Wc,dp,mtt,Ttt,Mtt,gtt,Itt,ytt,btt,_tt,vtt,Vtr,Att,Rtt=C(()=>{wtt="required",Tr="type",qn="fn",Un="argv",EE="ref",OE="booleanEquals",Jl="stringEquals",Stt="sigv4",xtt="sts",Ctt="us-east-1",qi="endpoint",dtt="https://sts.{Region}.{PartitionResult#dnsSuffix}",Uy="tree",vN="error",Mme="getAttr",ftt={[wtt]:!1,[Tr]:"String"},Tme={[wtt]:!0,default:!1,[Tr]:"Boolean"},Ott={[EE]:"Endpoint"},ptt={[qn]:"isSet",[Un]:[{[EE]:"Region"}]},Gl={[EE]:"Region"},htt={[qn]:"aws.partition",[Un]:[Gl],assign:"PartitionResult"},Ett={[EE]:"UseFIPS"},Ptt={[EE]:"UseDualStack"},Wc={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Stt,signingName:xtt,signingRegion:Ctt}]},headers:{}},dp={},mtt={conditions:[{[qn]:Jl,[Un]:[Gl,"aws-global"]}],[qi]:Wc,[Tr]:qi},Ttt={[qn]:OE,[Un]:[Ett,!0]},Mtt={[qn]:OE,[Un]:[Ptt,!0]},gtt={[qn]:Mme,[Un]:[{[EE]:"PartitionResult"},"supportsFIPS"]},Itt={[EE]:"PartitionResult"},ytt={[qn]:OE,[Un]:[!0,{[qn]:Mme,[Un]:[Itt,"supportsDualStack"]}]},btt=[{[qn]:"isSet",[Un]:[Ott]}],_tt=[Ttt],vtt=[Mtt],Vtr={version:"1.0",parameters:{Region:ftt,UseDualStack:Tme,UseFIPS:Tme,Endpoint:ftt,UseGlobalEndpoint:Tme},rules:[{conditions:[{[qn]:OE,[Un]:[{[EE]:"UseGlobalEndpoint"},!0]},{[qn]:"not",[Un]:btt},ptt,htt,{[qn]:OE,[Un]:[Ett,!1]},{[qn]:OE,[Un]:[Ptt,!1]}],rules:[{conditions:[{[qn]:Jl,[Un]:[Gl,"ap-northeast-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"ap-south-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"ap-southeast-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"ap-southeast-2"]}],endpoint:Wc,[Tr]:qi},mtt,{conditions:[{[qn]:Jl,[Un]:[Gl,"ca-central-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"eu-central-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"eu-north-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"eu-west-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"eu-west-2"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"eu-west-3"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"sa-east-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,Ctt]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"us-east-2"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"us-west-1"]}],endpoint:Wc,[Tr]:qi},{conditions:[{[qn]:Jl,[Un]:[Gl,"us-west-2"]}],endpoint:Wc,[Tr]:qi},{endpoint:{url:dtt,properties:{authSchemes:[{name:Stt,signingName:xtt,signingRegion:"{Region}"}]},headers:dp},[Tr]:qi}],[Tr]:Uy},{conditions:btt,rules:[{conditions:_tt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Tr]:vN},{conditions:vtt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Tr]:vN},{endpoint:{url:Ott,properties:dp,headers:dp},[Tr]:qi}],[Tr]:Uy},{conditions:[ptt],rules:[{conditions:[htt],rules:[{conditions:[Ttt,Mtt],rules:[{conditions:[{[qn]:OE,[Un]:[!0,gtt]},ytt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dp,headers:dp},[Tr]:qi}],[Tr]:Uy},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Tr]:vN}],[Tr]:Uy},{conditions:_tt,rules:[{conditions:[{[qn]:OE,[Un]:[gtt,!0]}],rules:[{conditions:[{[qn]:Jl,[Un]:[{[qn]:Mme,[Un]:[Itt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:dp,headers:dp},[Tr]:qi},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dp,headers:dp},[Tr]:qi}],[Tr]:Uy},{error:"FIPS is enabled but this partition does not support FIPS",[Tr]:vN}],[Tr]:Uy},{conditions:vtt,rules:[{conditions:[ytt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dp,headers:dp},[Tr]:qi}],[Tr]:Uy},{error:"DualStack is enabled but this partition does not support DualStack",[Tr]:vN}],[Tr]:Uy},mtt,{endpoint:{url:dtt,properties:dp,headers:dp},[Tr]:qi}],[Tr]:Uy}],[Tr]:Uy},{error:"Invalid Configuration: Missing Region",[Tr]:vN}]},Att=Vtr});var Dtt,jtt=C(()=>{QW();dE();Rtt();Dtt=(e,t={})=>zU(Att,{endpointParams:e,logger:t.logger});tx.aws=HU});var Ntt,Ltt=C(()=>{ZI();vE();Rt();cJ();aN();ctt();Ome();jtt();Ntt=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??gE,base64Encoder:e?.base64Encoder??yE,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Dtt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??rtt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new GI},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dN}],logger:e?.logger??new pE,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??fE,utf8Decoder:e?.utf8Decoder??Eme,utf8Encoder:e?.utf8Encoder??utt})});var Ftt,ktt=C(()=>{itt();Nhe();khe();VU();QU();Bhe();$he();Ly();Ltt();Rt();Hhe();Ftt=e=>{let t=nG(e),r=()=>t().then(AJ),n=Ntt(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??rG,credentialDefaultProvider:e?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??eG({serviceId:n.serviceId,clientVersion:att.version}),maxAttempts:e?.maxAttempts??Ny,region:e?.region??tG("Region is missing"),requestHandler:bE.create(e?.requestHandler??r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||GU),sha256:e?.sha256??QJ,streamCollector:e?.streamCollector??sN,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(iJ)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(aJ))}}});var Btt,$tt,qtt=C(()=>{Btt=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},$tt=e=>({httpHandler:e.httpHandler()})});var Utt=C(()=>{qtt()});var ztt=C(()=>{us()});var Htt=C(()=>{});var Vtt=C(()=>{});function Wtr(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var VG,Wtt=C(()=>{VG=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=Wtr(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}}});var Jtt=C(()=>{});var Gtt=C(()=>{});var Ktt=C(()=>{});var Ime=C(()=>{Utt();ztt();Htt();Vtt();Wtt();Jtt();Gtt();Ktt()});var Ytt,Ztt,Xtt=C(()=>{Ytt=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Ztt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var WG,Qtt,ert=C(()=>{Whe();Ime();Rt();Xtt();WG=e=>e,Qtt=(e,t)=>{let r={...WG(oG(e)),...WG(RJ(e)),...WG(Btt(e)),...WG(Ytt(e))};return t.forEach(n=>n.configure(r)),{...e,...iG(r),...DJ(r),...$tt(r),...Ztt(r)}}});var Ch,gz=C(()=>{$fe();qfe();Ufe();ipe();VU();vE();Xpe();gn();LJ();Rt();Ome();qy();ktt();ert();Ch=class extends zI{constructor(...[t]){let r=Ftt(t||{}),n=ott(r),o=VW(n),i=CJ(o),a=uJ(i),s=a,u=pJ(s),l=ntt(u),c=Qtt(l,t?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(nJ(this.config)),this.middlewareStack.use(NJ(this.config)),this.middlewareStack.use(BJ(this.config)),this.middlewareStack.use(qW(this.config)),this.middlewareStack.use(UW(this.config)),this.middlewareStack.use(HW(this.config)),this.middlewareStack.use(hJ(this.config,{httpAuthSchemeParametersProvider:ttt,identityProviderConfigProvider:async d=>new cN({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(FJ(this.config))}destroy(){super.destroy()}}});var Dd,JG=C(()=>{Rt();Dd=class e extends lN{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var yz,bz,_z,vz,wz,Sz,xz,Cz,wN,Ame,Rme,Dme,jme,Nme,Lme,Fme,PE=C(()=>{Rt();JG();yz=class e extends Dd{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},bz=class e extends Dd{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},_z=class e extends Dd{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},vz=class e extends Dd{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},wz=class e extends Dd{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Sz=class e extends Dd{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},xz=class e extends Dd{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Cz=class e extends Dd{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},wN=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:PJ}}),Ame=e=>({...e,...e.Credentials&&{Credentials:wN(e.Credentials)}}),Rme=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:PJ}}),Dme=e=>({...e,...e.Credentials&&{Credentials:wN(e.Credentials)}}),jme=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:PJ}}),Nme=e=>({...e,...e.Credentials&&{Credentials:wN(e.Credentials)}}),Lme=e=>({...e,...e.Credentials&&{Credentials:wN(e.Credentials)}}),Fme=e=>({...e,...e.Credentials&&{Credentials:wN(e.Credentials)}})});var trt,rrt,nrt,ort,irt,art,srt,urt,lrt,crt,drt,frt,prt,hrt,mrt,grt,TE,Jtr,Gtr,Ktr,Ytr,Ztr,Xtr,Qtr,err,trr,rrr,nrr,orr,irr,arr,srr,urr,GG,lrr,crr,drr,frr,prr,yrt,fge,hrr,mrr,grr,Oz,yrr,brr,_rr,vrr,wrr,Srr,xrr,Crr,Orr,Err,Prr,Trr,Mrr,Irr,Jc,Arr,ME,IE,AE,RE,SN,Rrr,kme,sx,Drr,jrr,xN,ux,CN,jd,Bme,Nrr,$me,Nd,qme,Ume,zme,Hme,Vme,Lrr,Frr,krr,Brr,Wme,Jme,Gme,Kme,Oh,Eh,Yme,Zme,Xme,Qme,Ph,ege,lx,ON,tge,rge,nge,oge,Th,EN,ige,age,PN,TN,sge,uge,DE,lge,cge,dge,Ui,jE,$rr,cx=C(()=>{ZI();Ime();Rt();PE();JG();trt=async(e,t)=>{let r=IE,n;return n=jE({...trr(e,t),[RE]:Rrr,[DE]:AE}),ME(t,r,"/",void 0,n)},rrt=async(e,t)=>{let r=IE,n;return n=jE({...rrr(e,t),[RE]:Drr,[DE]:AE}),ME(t,r,"/",void 0,n)},nrt=async(e,t)=>{let r=IE,n;return n=jE({...nrr(e,t),[RE]:jrr,[DE]:AE}),ME(t,r,"/",void 0,n)},ort=async(e,t)=>{let r=IE,n;return n=jE({...orr(e,t),[RE]:Nrr,[DE]:AE}),ME(t,r,"/",void 0,n)},irt=async(e,t)=>{let r=IE,n;return n=jE({...irr(e,t),[RE]:Lrr,[DE]:AE}),ME(t,r,"/",void 0,n)},art=async(e,t)=>{let r=IE,n;return n=jE({...arr(e,t),[RE]:Frr,[DE]:AE}),ME(t,r,"/",void 0,n)},srt=async(e,t)=>{let r=IE,n;return n=jE({...srr(e,t),[RE]:krr,[DE]:AE}),ME(t,r,"/",void 0,n)},urt=async(e,t)=>{let r=IE,n;return n=jE({...urr(e,t),[RE]:Brr,[DE]:AE}),ME(t,r,"/",void 0,n)},lrt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=hrr(r.AssumeRoleResult,t),{$metadata:Jc(e),...n}},crt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=mrr(r.AssumeRoleWithSAMLResult,t),{$metadata:Jc(e),...n}},drt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=grr(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Jc(e),...n}},frt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=yrr(r.DecodeAuthorizationMessageResult,t),{$metadata:Jc(e),...n}},prt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=vrr(r.GetAccessKeyInfoResult,t),{$metadata:Jc(e),...n}},hrt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=wrr(r.GetCallerIdentityResult,t),{$metadata:Jc(e),...n}},mrt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=Srr(r.GetFederationTokenResult,t),{$metadata:Jc(e),...n}},grt=async(e,t)=>{if(e.statusCode>=300)return TE(e,t);let r=await Fy(e.body,t),n={};return n=xrr(r.GetSessionTokenResult,t),{$metadata:Jc(e),...n}},TE=async(e,t)=>{let r={...e,body:await uXe(e.body,t)},n=$rr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Jtr(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Xtr(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Qtr(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await err(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Ktr(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Ztr(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Gtr(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await Ytr(r,t);default:let o=r.body;return Arr({output:e,parsedBody:o.Error,errorCode:n})}},Jtr=async(e,t)=>{let r=e.body,n=brr(r.Error,t),o=new yz({$metadata:Jc(e),...n});return ia(o,r)},Gtr=async(e,t)=>{let r=e.body,n=Crr(r.Error,t),o=new xz({$metadata:Jc(e),...n});return ia(o,r)},Ktr=async(e,t)=>{let r=e.body,n=Orr(r.Error,t),o=new wz({$metadata:Jc(e),...n});return ia(o,r)},Ytr=async(e,t)=>{let r=e.body,n=Err(r.Error,t),o=new Cz({$metadata:Jc(e),...n});return ia(o,r)},Ztr=async(e,t)=>{let r=e.body,n=Prr(r.Error,t),o=new Sz({$metadata:Jc(e),...n});return ia(o,r)},Xtr=async(e,t)=>{let r=e.body,n=Trr(r.Error,t),o=new bz({$metadata:Jc(e),...n});return ia(o,r)},Qtr=async(e,t)=>{let r=e.body,n=Mrr(r.Error,t),o=new _z({$metadata:Jc(e),...n});return ia(o,r)},err=async(e,t)=>{let r=e.body,n=Irr(r.Error,t),o=new vz({$metadata:Jc(e),...n});return ia(o,r)},trr=(e,t)=>{let r={};if(e[lx]!=null&&(r[lx]=e[lx]),e[ON]!=null&&(r[ON]=e[ON]),e[Eh]!=null){let n=GG(e[Eh],t);e[Eh]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}if(e[Oh]!=null&&(r[Oh]=e[Oh]),e[Nd]!=null&&(r[Nd]=e[Nd]),e[PN]!=null){let n=yrt(e[PN],t);e[PN]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,i])=>{let a=`Tags.${o}`;r[a]=i})}if(e[sge]!=null){let n=prr(e[sge],t);e[sge]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,i])=>{let a=`TransitiveTagKeys.${o}`;r[a]=i})}if(e[Ume]!=null&&(r[Ume]=e[Ume]),e[EN]!=null&&(r[EN]=e[EN]),e[TN]!=null&&(r[TN]=e[TN]),e[Th]!=null&&(r[Th]=e[Th]),e[Xme]!=null){let n=drr(e[Xme],t);e[Xme]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,i])=>{let a=`ProvidedContexts.${o}`;r[a]=i})}return r},rrr=(e,t)=>{let r={};if(e[lx]!=null&&(r[lx]=e[lx]),e[Yme]!=null&&(r[Yme]=e[Yme]),e[nge]!=null&&(r[nge]=e[nge]),e[Eh]!=null){let n=GG(e[Eh],t);e[Eh]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e[Oh]!=null&&(r[Oh]=e[Oh]),e[Nd]!=null&&(r[Nd]=e[Nd]),r},nrr=(e,t)=>{let r={};if(e[lx]!=null&&(r[lx]=e[lx]),e[ON]!=null&&(r[ON]=e[ON]),e[cge]!=null&&(r[cge]=e[cge]),e[Qme]!=null&&(r[Qme]=e[Qme]),e[Eh]!=null){let n=GG(e[Eh],t);e[Eh]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e[Oh]!=null&&(r[Oh]=e[Oh]),e[Nd]!=null&&(r[Nd]=e[Nd]),r},orr=(e,t)=>{let r={};return e[zme]!=null&&(r[zme]=e[zme]),r},irr=(e,t)=>{let r={};return e[SN]!=null&&(r[SN]=e[SN]),r},arr=(e,t)=>({}),srr=(e,t)=>{let r={};if(e[Gme]!=null&&(r[Gme]=e[Gme]),e[Oh]!=null&&(r[Oh]=e[Oh]),e[Eh]!=null){let n=GG(e[Eh],t);e[Eh]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}if(e[Nd]!=null&&(r[Nd]=e[Nd]),e[PN]!=null){let n=yrt(e[PN],t);e[PN]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,i])=>{let a=`Tags.${o}`;r[a]=i})}return r},urr=(e,t)=>{let r={};return e[Nd]!=null&&(r[Nd]=e[Nd]),e[EN]!=null&&(r[EN]=e[EN]),e[TN]!=null&&(r[TN]=e[TN]),r},GG=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=lrr(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},lrr=(e,t)=>{let r={};return e[dge]!=null&&(r[dge]=e[dge]),r},crr=(e,t)=>{let r={};return e[Zme]!=null&&(r[Zme]=e[Zme]),e[Bme]!=null&&(r[Bme]=e[Bme]),r},drr=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=crr(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},frr=(e,t)=>{let r={};return e[Jme]!=null&&(r[Jme]=e[Jme]),e[lge]!=null&&(r[lge]=e[lge]),r},prr=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},yrt=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=frr(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},fge=(e,t)=>{let r={};return e[kme]!=null&&(r[kme]=jr(e[kme])),e[ux]!=null&&(r[ux]=jr(e[ux])),r},hrr=(e,t)=>{let r={};return e[jd]!=null&&(r[jd]=Oz(e[jd],t)),e[sx]!=null&&(r[sx]=fge(e[sx],t)),e[Ph]!=null&&(r[Ph]=tz(e[Ph])),e[Th]!=null&&(r[Th]=jr(e[Th])),r},mrr=(e,t)=>{let r={};return e[jd]!=null&&(r[jd]=Oz(e[jd],t)),e[sx]!=null&&(r[sx]=fge(e[sx],t)),e[Ph]!=null&&(r[Ph]=tz(e[Ph])),e[tge]!=null&&(r[tge]=jr(e[tge])),e[ige]!=null&&(r[ige]=jr(e[ige])),e[Wme]!=null&&(r[Wme]=jr(e[Wme])),e[CN]!=null&&(r[CN]=jr(e[CN])),e[Kme]!=null&&(r[Kme]=jr(e[Kme])),e[Th]!=null&&(r[Th]=jr(e[Th])),r},grr=(e,t)=>{let r={};return e[jd]!=null&&(r[jd]=Oz(e[jd],t)),e[oge]!=null&&(r[oge]=jr(e[oge])),e[sx]!=null&&(r[sx]=fge(e[sx],t)),e[Ph]!=null&&(r[Ph]=tz(e[Ph])),e[ege]!=null&&(r[ege]=jr(e[ege])),e[CN]!=null&&(r[CN]=jr(e[CN])),e[Th]!=null&&(r[Th]=jr(e[Th])),r},Oz=(e,t)=>{let r={};return e[SN]!=null&&(r[SN]=jr(e[SN])),e[rge]!=null&&(r[rge]=jr(e[rge])),e[age]!=null&&(r[age]=jr(e[age])),e[qme]!=null&&(r[qme]=uN(P7e(e[qme]))),r},yrr=(e,t)=>{let r={};return e[$me]!=null&&(r[$me]=jr(e[$me])),r},brr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},_rr=(e,t)=>{let r={};return e[Vme]!=null&&(r[Vme]=jr(e[Vme])),e[ux]!=null&&(r[ux]=jr(e[ux])),r},vrr=(e,t)=>{let r={};return e[xN]!=null&&(r[xN]=jr(e[xN])),r},wrr=(e,t)=>{let r={};return e[uge]!=null&&(r[uge]=jr(e[uge])),e[xN]!=null&&(r[xN]=jr(e[xN])),e[ux]!=null&&(r[ux]=jr(e[ux])),r},Srr=(e,t)=>{let r={};return e[jd]!=null&&(r[jd]=Oz(e[jd],t)),e[Hme]!=null&&(r[Hme]=_rr(e[Hme],t)),e[Ph]!=null&&(r[Ph]=tz(e[Ph])),r},xrr=(e,t)=>{let r={};return e[jd]!=null&&(r[jd]=Oz(e[jd],t)),r},Crr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Orr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Err=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Prr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Trr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Mrr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Irr=(e,t)=>{let r={};return e[Ui]!=null&&(r[Ui]=jr(e[Ui])),r},Jc=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Arr=IJ(Dd),ME=async(e,t,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:u}=await e.endpoint(),l={protocol:a,hostname:i,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+r:u+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new VG(l)},IE={"content-type":"application/x-www-form-urlencoded"},AE="2011-06-15",RE="Action",SN="AccessKeyId",Rrr="AssumeRole",kme="AssumedRoleId",sx="AssumedRoleUser",Drr="AssumeRoleWithSAML",jrr="AssumeRoleWithWebIdentity",xN="Account",ux="Arn",CN="Audience",jd="Credentials",Bme="ContextAssertion",Nrr="DecodeAuthorizationMessage",$me="DecodedMessage",Nd="DurationSeconds",qme="Expiration",Ume="ExternalId",zme="EncodedMessage",Hme="FederatedUser",Vme="FederatedUserId",Lrr="GetAccessKeyInfo",Frr="GetCallerIdentity",krr="GetFederationToken",Brr="GetSessionToken",Wme="Issuer",Jme="Key",Gme="Name",Kme="NameQualifier",Oh="Policy",Eh="PolicyArns",Yme="PrincipalArn",Zme="ProviderArn",Xme="ProvidedContexts",Qme="ProviderId",Ph="PackedPolicySize",ege="Provider",lx="RoleArn",ON="RoleSessionName",tge="Subject",rge="SecretAccessKey",nge="SAMLAssertion",oge="SubjectFromWebIdentityToken",Th="SourceIdentity",EN="SerialNumber",ige="SubjectType",age="SessionToken",PN="Tags",TN="TokenCode",sge="TransitiveTagKeys",uge="UserId",DE="Version",lge="Value",cge="WebIdentityToken",dge="arn",Ui="message",jE=e=>Object.entries(e).map(([t,r])=>jJ(t)+"="+jJ(r)).join("&"),$rr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var dx,KG=C(()=>{gn();xn();Rt();qy();PE();cx();dx=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Ame).ser(trt).de(lrt).build(){}});var Ez,pge=C(()=>{gn();xn();Rt();qy();PE();cx();Ez=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(Rme,Dme).ser(rrt).de(crt).build(){}});var XI,YG=C(()=>{gn();xn();Rt();qy();PE();cx();XI=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(jme,Nme).ser(nrt).de(drt).build(){}});var Pz,hge=C(()=>{gn();xn();Rt();qy();cx();Pz=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(ort).de(frt).build(){}});var Tz,mge=C(()=>{gn();xn();Rt();qy();cx();Tz=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(irt).de(prt).build(){}});var Mz,gge=C(()=>{gn();xn();Rt();qy();cx();Mz=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(art).de(hrt).build(){}});var Iz,yge=C(()=>{gn();xn();Rt();qy();PE();cx();Iz=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,Lme).ser(srt).de(mrt).build(){}});var Az,bge=C(()=>{gn();xn();Rt();qy();PE();cx();Az=class extends ot.classBuilder().ep({...Vc}).m(function(t,r,n,o){return[dt(n,this.serialize,this.deserialize),ft(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,Fme).ser(urt).de(grt).build(){}});var qrr,ZG,brt=C(()=>{Rt();KG();pge();YG();hge();mge();gge();yge();bge();gz();qrr={AssumeRoleCommand:dx,AssumeRoleWithSAMLCommand:Ez,AssumeRoleWithWebIdentityCommand:XI,DecodeAuthorizationMessageCommand:Pz,GetAccessKeyInfoCommand:Tz,GetCallerIdentityCommand:Mz,GetFederationTokenCommand:Iz,GetSessionTokenCommand:Az},ZG=class extends Ch{};TJ(qrr,ZG)});var _rt=C(()=>{KG();pge();YG();hge();mge();gge();yge();bge()});var vrt=C(()=>{PE()});var wrt,Srt,xrt,Crt,Ort,Ert,Prt=C(()=>{KG();YG();wrt="us-east-1",Srt=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},xrt=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${wrt} (STS default)`),n??o??wrt},Crt=(e,t)=>{let r,n;return async(o,i)=>{if(n=o,!r){let{logger:l=e?.parentClientConfig?.logger,region:c,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,p=await xrt(c,e?.parentClientConfig?.region,f),h=!Ert(d);r=new t({credentialDefaultProvider:()=>async()=>n,region:p,requestHandler:h?d:void 0,logger:l})}let{Credentials:a,AssumedRoleUser:s}=await r.send(new dx(i));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let u=Srt(s);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...u&&{accountId:u}}}},Ort=(e,t)=>{let r;return async n=>{if(!r){let{logger:s=e?.parentClientConfig?.logger,region:u,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:c}=e,d=await xrt(u,e?.parentClientConfig?.region,c),f=!Ert(l);r=new t({region:d,requestHandler:f?l:void 0,logger:s})}let{Credentials:o,AssumedRoleUser:i}=await r.send(new XI(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=Srt(i);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...a&&{accountId:a}}}},Ert=e=>e?.metadata?.handlerProtocol==="h2"});var Trt,Mrt,Irt,Urr,Art=C(()=>{Prt();gz();Trt=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Mrt=(e={},t)=>Crt(e,Trt(Ch,t)),Irt=(e={},t)=>Ort(e,Trt(Ch,t)),Urr=e=>t=>e({roleAssumer:Mrt(t),roleAssumerWithWebIdentity:Irt(t),...t})});var Rrt={};Kd(Rrt,{$Command:()=>ot,AssumeRoleCommand:()=>dx,AssumeRoleResponseFilterSensitiveLog:()=>Ame,AssumeRoleWithSAMLCommand:()=>Ez,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>Rme,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>Dme,AssumeRoleWithWebIdentityCommand:()=>XI,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>jme,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Nme,CredentialsFilterSensitiveLog:()=>wN,DecodeAuthorizationMessageCommand:()=>Pz,ExpiredTokenException:()=>yz,GetAccessKeyInfoCommand:()=>Tz,GetCallerIdentityCommand:()=>Mz,GetFederationTokenCommand:()=>Iz,GetFederationTokenResponseFilterSensitiveLog:()=>Lme,GetSessionTokenCommand:()=>Az,GetSessionTokenResponseFilterSensitiveLog:()=>Fme,IDPCommunicationErrorException:()=>xz,IDPRejectedClaimException:()=>wz,InvalidAuthorizationMessageException:()=>Cz,InvalidIdentityTokenException:()=>Sz,MalformedPolicyDocumentException:()=>bz,PackedPolicyTooLargeException:()=>_z,RegionDisabledException:()=>vz,STS:()=>ZG,STSClient:()=>Ch,STSServiceException:()=>Dd,__Client:()=>zI,decorateDefaultCredentialProvider:()=>Urr,getDefaultRoleAssumer:()=>Mrt,getDefaultRoleAssumerWithWebIdentity:()=>Irt});var _ge=C(()=>{gz();brt();_rt();vrt();Art();JG()});var Drt={};Kd(Drt,{AssumeRoleCommand:()=>dx,STSClient:()=>Ch});var jrt=C(()=>{_ge()});var zrr,Nrt=C(()=>{ex();zrr=e=>{let t;return async()=>{e.logger?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");let r={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(r?.SerialNumber){if(!e.mfaCodeProvider)throw new qu("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:e.logger});r.TokenCode=await e.mfaCodeProvider(r?.SerialNumber)}let{AssumeRoleCommand:n,STSClient:o}=await Promise.resolve().then(()=>(jrt(),Drt));if(t||(t=new o({...e.clientConfig,credentials:e.masterCredentials})),e.clientPlugins)for(let a of e.clientPlugins)t.middlewareStack.use(a);let{Credentials:i}=await t.send(new n(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new qu(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`,{logger:e.logger});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,credentialScope:i.CredentialScope}}}});var Lrt=C(()=>{});var Frt,krt=C(()=>{Frt=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:s}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:l}=await Promise.resolve().then(()=>(_ge(),Rrt));u=l({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return u({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:s})}});var Brt=C(()=>{Lrt();krt()});var Hrr,$rt=C(()=>{Brt();Hrr=e=>Frt({...e})});var qrt={};Kd(qrt,{fromCognitoIdentity:()=>Ltr,fromCognitoIdentityPool:()=>Ftr,fromHttp:()=>Cme,fromTemporaryCredentials:()=>zrr,fromWebToken:()=>Hrr});var Urt=C(()=>{Det();jet();Qet();Nrt();$rt()});var QI={};Kd(QI,{__addDisposableResource:()=>lnt,__assign:()=>XG,__asyncDelegator:()=>tnt,__asyncGenerator:()=>ent,__asyncValues:()=>rnt,__await:()=>MN,__awaiter:()=>Grt,__classPrivateFieldGet:()=>ant,__classPrivateFieldIn:()=>unt,__classPrivateFieldSet:()=>snt,__createBinding:()=>eK,__decorate:()=>Vrt,__disposeResources:()=>cnt,__esDecorate:()=>Vrr,__exportStar:()=>Yrt,__extends:()=>zrt,__generator:()=>Krt,__importDefault:()=>int,__importStar:()=>ont,__makeTemplateObject:()=>nnt,__metadata:()=>Jrt,__param:()=>Wrt,__propKey:()=>Jrr,__read:()=>wge,__rest:()=>Hrt,__runInitializers:()=>Wrr,__setFunctionName:()=>Grr,__spread:()=>Zrt,__spreadArray:()=>Qrt,__spreadArrays:()=>Xrt,__values:()=>QG,default:()=>Zrr});function zrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vge(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Hrt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Vrt(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Wrt(e,t){return function(r,n){t(r,n,e)}}function Vrr(e,t,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,c=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var h={};for(var m in n)h[m]=m==="access"?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var _=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],h);if(s==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=a(_.get))&&(c.get=d),(d=a(_.set))&&(c.set=d),(d=a(_.init))&&o.unshift(d)}else(d=a(_))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function Wrr(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Jrr(e){return typeof e=="symbol"?e:"".concat(e)}function Grr(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Jrt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Grt(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function Krt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yrt(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eK(t,e,r)}function QG(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wge(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Zrt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wge(arguments[t]));return e}function Xrt(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function Qrt(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function MN(e){return this instanceof MN?(this.v=e,this):new MN(e)}function ent(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(h){return Promise.resolve(h).then(p,d)}}function s(p,h){n[p]&&(o[p]=function(m){return new Promise(function(_,g){i.push([p,m,_,g])>1||u(p,m)})},h&&(o[p]=h(o[p])))}function u(p,h){try{l(n[p](h))}catch(m){f(i[0][3],m)}}function l(p){p.value instanceof MN?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,h){p(h),i.shift(),i.length&&u(i[0][0],i[0][1])}}function tnt(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:MN(e[o](a)),done:!1}:i?i(a):a}:i}}function rnt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof QG=="function"?QG(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function nnt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ont(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eK(t,e,r);return Krr(t,e),t}function int(e){return e&&e.__esModule?e:{default:e}}function ant(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function snt(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function unt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function lnt(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function cnt(e){function t(i){e.error=e.hasError?new Yrr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}var vge,XG,eK,Krr,Yrr,Zrr,eA=C(()=>{vge=function(e,t){return vge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},vge(e,t)};XG=function(){return XG=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},XG.apply(this,arguments)};eK=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};Krr=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Yrr=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Zrr={__extends:zrt,__assign:XG,__rest:Hrt,__decorate:Vrt,__param:Wrt,__metadata:Jrt,__awaiter:Grt,__generator:Krt,__createBinding:eK,__exportStar:Yrt,__values:QG,__read:wge,__spread:Zrt,__spreadArrays:Xrt,__spreadArray:Qrt,__await:MN,__asyncGenerator:ent,__asyncDelegator:tnt,__asyncValues:rnt,__makeTemplateObject:nnt,__importStar:ont,__importDefault:int,__classPrivateFieldGet:ant,__classPrivateFieldSet:snt,__classPrivateFieldIn:unt,__addDisposableResource:lnt,__disposeResources:cnt}});var fnt=b(dnt=>{"use strict";Object.defineProperty(dnt,"__esModule",{value:!0})});var pnt=b(Rz=>{"use strict";Object.defineProperty(Rz,"__esModule",{value:!0});Rz.HttpAuthLocation=void 0;var Xrr;(function(e){e.HEADER="header",e.QUERY="query"})(Xrr=Rz.HttpAuthLocation||(Rz.HttpAuthLocation={}))});var mnt=b(hnt=>{"use strict";Object.defineProperty(hnt,"__esModule",{value:!0})});var ynt=b(gnt=>{"use strict";Object.defineProperty(gnt,"__esModule",{value:!0})});var _nt=b(bnt=>{"use strict";Object.defineProperty(bnt,"__esModule",{value:!0})});var wnt=b(vnt=>{"use strict";Object.defineProperty(vnt,"__esModule",{value:!0})});var xnt=b(Snt=>{"use strict";Object.defineProperty(Snt,"__esModule",{value:!0})});var Ont=b(Cnt=>{"use strict";Object.defineProperty(Cnt,"__esModule",{value:!0})});var Pnt=b(Ent=>{"use strict";Object.defineProperty(Ent,"__esModule",{value:!0})});var Tnt=b(Dz=>{"use strict";Object.defineProperty(Dz,"__esModule",{value:!0});var Sge=(eA(),il(QI));Sge.__exportStar(xnt(),Dz);Sge.__exportStar(Ont(),Dz);Sge.__exportStar(Pnt(),Dz)});var Int=b(Mnt=>{"use strict";Object.defineProperty(Mnt,"__esModule",{value:!0})});var Rnt=b(Ant=>{"use strict";Object.defineProperty(Ant,"__esModule",{value:!0})});var Dnt=b(jz=>{"use strict";Object.defineProperty(jz,"__esModule",{value:!0});jz.EndpointURLScheme=void 0;var Qrr;(function(e){e.HTTP="http",e.HTTPS="https"})(Qrr=jz.EndpointURLScheme||(jz.EndpointURLScheme={}))});var Nnt=b(jnt=>{"use strict";Object.defineProperty(jnt,"__esModule",{value:!0})});var Fnt=b(Lnt=>{"use strict";Object.defineProperty(Lnt,"__esModule",{value:!0})});var Bnt=b(knt=>{"use strict";Object.defineProperty(knt,"__esModule",{value:!0})});var qnt=b($nt=>{"use strict";Object.defineProperty($nt,"__esModule",{value:!0})});var znt=b(Unt=>{"use strict";Object.defineProperty(Unt,"__esModule",{value:!0})});var Hnt=b(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var Nz=(eA(),il(QI));Nz.__exportStar(Nnt(),tA);Nz.__exportStar(Fnt(),tA);Nz.__exportStar(Bnt(),tA);Nz.__exportStar(qnt(),tA);Nz.__exportStar(znt(),tA)});var Wnt=b(Vnt=>{"use strict";Object.defineProperty(Vnt,"__esModule",{value:!0})});var Jnt=b(Lz=>{"use strict";Object.defineProperty(Lz,"__esModule",{value:!0});Lz.FieldPosition=void 0;var enr;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(enr=Lz.FieldPosition||(Lz.FieldPosition={}))});var Knt=b(Gnt=>{"use strict";Object.defineProperty(Gnt,"__esModule",{value:!0})});var Znt=b(Ynt=>{"use strict";Object.defineProperty(Ynt,"__esModule",{value:!0})});var Qnt=b(tK=>{"use strict";Object.defineProperty(tK,"__esModule",{value:!0});var Xnt=(eA(),il(QI));Xnt.__exportStar(Knt(),tK);Xnt.__exportStar(Znt(),tK)});var tot=b(eot=>{"use strict";Object.defineProperty(eot,"__esModule",{value:!0})});var not=b(rot=>{"use strict";Object.defineProperty(rot,"__esModule",{value:!0})});var iot=b(oot=>{"use strict";Object.defineProperty(oot,"__esModule",{value:!0})});var sot=b(aot=>{"use strict";Object.defineProperty(aot,"__esModule",{value:!0})});var lot=b(uot=>{"use strict";Object.defineProperty(uot,"__esModule",{value:!0})});var dot=b(cot=>{"use strict";Object.defineProperty(cot,"__esModule",{value:!0})});var pot=b(fot=>{"use strict";Object.defineProperty(fot,"__esModule",{value:!0})});var mot=b(hot=>{"use strict";Object.defineProperty(hot,"__esModule",{value:!0})});var yot=b(got=>{"use strict";Object.defineProperty(got,"__esModule",{value:!0})});var _ot=b(bot=>{"use strict";Object.defineProperty(bot,"__esModule",{value:!0})});var wot=b(vot=>{"use strict";Object.defineProperty(vot,"__esModule",{value:!0})});var xot=b(Sot=>{"use strict";Object.defineProperty(Sot,"__esModule",{value:!0})});var Oot=b(Cot=>{"use strict";Object.defineProperty(Cot,"__esModule",{value:!0})});var Eot=b(Fz=>{"use strict";Object.defineProperty(Fz,"__esModule",{value:!0});Fz.RequestHandlerProtocol=void 0;var tnr;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(tnr=Fz.RequestHandlerProtocol||(Fz.RequestHandlerProtocol={}))});var Tot=b(Pot=>{"use strict";Object.defineProperty(Pot,"__esModule",{value:!0})});var Iot=b(Mot=>{"use strict";Object.defineProperty(Mot,"__esModule",{value:!0})});var Rot=b(Aot=>{"use strict";Object.defineProperty(Aot,"__esModule",{value:!0})});var jot=b(Dot=>{"use strict";Object.defineProperty(Dot,"__esModule",{value:!0})});var Lot=b(Not=>{"use strict";Object.defineProperty(Not,"__esModule",{value:!0})});var Fot=b(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Fn=(eA(),il(QI));Fn.__exportStar(fnt(),yn);Fn.__exportStar(pnt(),yn);Fn.__exportStar(mnt(),yn);Fn.__exportStar(ynt(),yn);Fn.__exportStar(_nt(),yn);Fn.__exportStar(wnt(),yn);Fn.__exportStar(Tnt(),yn);Fn.__exportStar(Int(),yn);Fn.__exportStar(Rnt(),yn);Fn.__exportStar(Dnt(),yn);Fn.__exportStar(Hnt(),yn);Fn.__exportStar(Wnt(),yn);Fn.__exportStar(Jnt(),yn);Fn.__exportStar(Qnt(),yn);Fn.__exportStar(tot(),yn);Fn.__exportStar(not(),yn);Fn.__exportStar(iot(),yn);Fn.__exportStar(sot(),yn);Fn.__exportStar(lot(),yn);Fn.__exportStar(dot(),yn);Fn.__exportStar(pot(),yn);Fn.__exportStar(mot(),yn);Fn.__exportStar(yot(),yn);Fn.__exportStar(_ot(),yn);Fn.__exportStar(wot(),yn);Fn.__exportStar(xot(),yn);Fn.__exportStar(Oot(),yn);Fn.__exportStar(Eot(),yn);Fn.__exportStar(Tot(),yn);Fn.__exportStar(Iot(),yn);Fn.__exportStar(Rot(),yn);Fn.__exportStar(jot(),yn);Fn.__exportStar(Lot(),yn)});var kot=b(rK=>{"use strict";Object.defineProperty(rK,"__esModule",{value:!0});rK.Field=void 0;var rnr=Fot(),xge=class{constructor({name:t,kind:r=rnr.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};rK.Field=xge});var Bot=b(nK=>{"use strict";Object.defineProperty(nK,"__esModule",{value:!0});nK.Fields=void 0;var Cge=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};nK.Fields=Cge});var qot=b($ot=>{"use strict";Object.defineProperty($ot,"__esModule",{value:!0})});var Uot=b(oK=>{"use strict";Object.defineProperty(oK,"__esModule",{value:!0});oK.HttpRequest=void 0;var Oge=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new e({...this,headers:{...this.headers}});return t.query&&(t.query=nnr(t.query)),t}};oK.HttpRequest=Oge;function nnr(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var zot=b(iK=>{"use strict";Object.defineProperty(iK,"__esModule",{value:!0});iK.HttpResponse=void 0;var Ege=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};iK.HttpResponse=Ege});var Hot=b(aK=>{"use strict";Object.defineProperty(aK,"__esModule",{value:!0});aK.isValidHostname=void 0;function onr(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}aK.isValidHostname=onr});var Wot=b(Vot=>{"use strict";Object.defineProperty(Vot,"__esModule",{value:!0})});var Jot=b(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});var rA=(eA(),il(QI));rA.__exportStar(kot(),fx);rA.__exportStar(Bot(),fx);rA.__exportStar(qot(),fx);rA.__exportStar(Uot(),fx);rA.__exportStar(zot(),fx);rA.__exportStar(Hot(),fx);rA.__exportStar(Wot(),fx)});var Got=b(Pge=>{"use strict";Object.defineProperty(Pge,"__esModule",{value:!0});var inr=(eA(),il(QI));inr.__exportStar(Jot(),Pge)});var nA={};Kd(nA,{__addDisposableResource:()=>mit,__assign:()=>sK,__asyncDelegator:()=>sit,__asyncGenerator:()=>ait,__asyncValues:()=>uit,__await:()=>IN,__awaiter:()=>eit,__classPrivateFieldGet:()=>fit,__classPrivateFieldIn:()=>hit,__classPrivateFieldSet:()=>pit,__createBinding:()=>lK,__decorate:()=>Zot,__disposeResources:()=>git,__esDecorate:()=>anr,__exportStar:()=>rit,__extends:()=>Kot,__generator:()=>tit,__importDefault:()=>dit,__importStar:()=>cit,__makeTemplateObject:()=>lit,__metadata:()=>Qot,__param:()=>Xot,__propKey:()=>unr,__read:()=>Mge,__rest:()=>Yot,__runInitializers:()=>snr,__setFunctionName:()=>lnr,__spread:()=>nit,__spreadArray:()=>iit,__spreadArrays:()=>oit,__values:()=>uK,default:()=>fnr});function Kot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tge(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Yot(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Zot(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Xot(e,t){return function(r,n){t(r,n,e)}}function anr(e,t,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,c=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var h={};for(var m in n)h[m]=m==="access"?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var _=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],h);if(s==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=a(_.get))&&(c.get=d),(d=a(_.set))&&(c.set=d),(d=a(_.init))&&o.unshift(d)}else(d=a(_))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function snr(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function unr(e){return typeof e=="symbol"?e:"".concat(e)}function lnr(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Qot(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function eit(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function tit(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function rit(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lK(t,e,r)}function uK(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mge(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function nit(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mge(arguments[t]));return e}function oit(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function iit(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function IN(e){return this instanceof IN?(this.v=e,this):new IN(e)}function ait(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(h){return Promise.resolve(h).then(p,d)}}function s(p,h){n[p]&&(o[p]=function(m){return new Promise(function(_,g){i.push([p,m,_,g])>1||u(p,m)})},h&&(o[p]=h(o[p])))}function u(p,h){try{l(n[p](h))}catch(m){f(i[0][3],m)}}function l(p){p.value instanceof IN?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,h){p(h),i.shift(),i.length&&u(i[0][0],i[0][1])}}function sit(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:IN(e[o](a)),done:!1}:i?i(a):a}:i}}function uit(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof uK=="function"?uK(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function lit(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cit(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lK(t,e,r);return cnr(t,e),t}function dit(e){return e&&e.__esModule?e:{default:e}}function fit(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function pit(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function hit(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function mit(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function git(e){function t(i){e.error=e.hasError?new dnr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}var Tge,sK,lK,cnr,dnr,fnr,oA=C(()=>{Tge=function(e,t){return Tge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Tge(e,t)};sK=function(){return sK=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sK.apply(this,arguments)};lK=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};cnr=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};dnr=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};fnr={__extends:Kot,__assign:sK,__rest:Yot,__decorate:Zot,__param:Xot,__metadata:Qot,__awaiter:eit,__generator:tit,__createBinding:lK,__exportStar:rit,__values:uK,__read:Mge,__spread:nit,__spreadArrays:oit,__spreadArray:iit,__await:IN,__asyncGenerator:ait,__asyncDelegator:sit,__asyncValues:uit,__makeTemplateObject:lit,__importStar:cit,__importDefault:dit,__classPrivateFieldGet:fit,__classPrivateFieldSet:pit,__classPrivateFieldIn:hit,__addDisposableResource:mit,__disposeResources:git}});var Dge={};Kd(Dge,{__assign:()=>Age,__asyncDelegator:()=>Onr,__asyncGenerator:()=>Cnr,__asyncValues:()=>Enr,__await:()=>kz,__awaiter:()=>bnr,__classPrivateFieldGet:()=>Inr,__classPrivateFieldSet:()=>Anr,__createBinding:()=>vnr,__decorate:()=>mnr,__exportStar:()=>wnr,__extends:()=>pnr,__generator:()=>_nr,__importDefault:()=>Mnr,__importStar:()=>Tnr,__makeTemplateObject:()=>Pnr,__metadata:()=>ynr,__param:()=>gnr,__read:()=>yit,__rest:()=>hnr,__spread:()=>Snr,__spreadArrays:()=>xnr,__values:()=>Rge});function pnr(e,t){Ige(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function hnr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function mnr(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function gnr(e,t){return function(r,n){t(r,n,e)}}function ynr(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function bnr(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function _nr(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vnr(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function wnr(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Rge(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yit(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Snr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yit(arguments[t]));return e}function xnr(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function kz(e){return this instanceof kz?(this.v=e,this):new kz(e)}function Cnr(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(h,m){i.push([f,p,h,m])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(h){d(i[0][3],h)}}function u(f){f.value instanceof kz?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Onr(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:kz(e[o](a)),done:o==="return"}:i?i(a):a}:i}}function Enr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rge=="function"?Rge(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function Pnr(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Tnr(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Mnr(e){return e&&e.__esModule?e:{default:e}}function Inr(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Anr(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Ige,Age,jge=C(()=>{Ige=function(e,t){return Ige=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Ige(e,t)};Age=function(){return Age=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Age.apply(this,arguments)}});var bit=b(AN=>{"use strict";Object.defineProperty(AN,"__esModule",{value:!0});AN.toUtf8=AN.fromUtf8=void 0;var Rnr=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)};AN.fromUtf8=Rnr;var Dnr=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let i=e[++r];t+=String.fromCharCode((o&31)<<6|i&63)}else if(240<=o&&o<365){let a="%"+[o,e[++r],e[++r],e[++r]].map(s=>s.toString(16)).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};AN.toUtf8=Dnr});var _it=b(RN=>{"use strict";Object.defineProperty(RN,"__esModule",{value:!0});RN.toUtf8=RN.fromUtf8=void 0;function jnr(e){return new TextEncoder().encode(e)}RN.fromUtf8=jnr;function Nnr(e){return new TextDecoder("utf-8").decode(e)}RN.toUtf8=Nnr});var Sit=b(DN=>{"use strict";Object.defineProperty(DN,"__esModule",{value:!0});DN.toUtf8=DN.fromUtf8=void 0;var vit=bit(),wit=_it(),Lnr=e=>typeof TextEncoder=="function"?(0,wit.fromUtf8)(e):(0,vit.fromUtf8)(e);DN.fromUtf8=Lnr;var Fnr=e=>typeof TextDecoder=="function"?(0,wit.toUtf8)(e):(0,vit.toUtf8)(e);DN.toUtf8=Fnr});var xit=b(cK=>{"use strict";Object.defineProperty(cK,"__esModule",{value:!0});cK.convertToBuffer=void 0;var knr=Sit(),Bnr=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:knr.fromUtf8;function $nr(e){return e instanceof Uint8Array?e:typeof e=="string"?Bnr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}cK.convertToBuffer=$nr});var Cit=b(dK=>{"use strict";Object.defineProperty(dK,"__esModule",{value:!0});dK.isEmptyData=void 0;function qnr(e){return typeof e=="string"?e.length===0:e.byteLength===0}dK.isEmptyData=qnr});var Oit=b(fK=>{"use strict";Object.defineProperty(fK,"__esModule",{value:!0});fK.numToUint8=void 0;function Unr(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}fK.numToUint8=Unr});var Eit=b(pK=>{"use strict";Object.defineProperty(pK,"__esModule",{value:!0});pK.uint32ArrayFrom=void 0;function znr(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}pK.uint32ArrayFrom=znr});var Nge=b(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});zy.uint32ArrayFrom=zy.numToUint8=zy.isEmptyData=zy.convertToBuffer=void 0;var Hnr=xit();Object.defineProperty(zy,"convertToBuffer",{enumerable:!0,get:function(){return Hnr.convertToBuffer}});var Vnr=Cit();Object.defineProperty(zy,"isEmptyData",{enumerable:!0,get:function(){return Vnr.isEmptyData}});var Wnr=Oit();Object.defineProperty(zy,"numToUint8",{enumerable:!0,get:function(){return Wnr.numToUint8}});var Jnr=Eit();Object.defineProperty(zy,"uint32ArrayFrom",{enumerable:!0,get:function(){return Jnr.uint32ArrayFrom}})});var Mit=b(hK=>{"use strict";Object.defineProperty(hK,"__esModule",{value:!0});hK.AwsCrc32=void 0;var Pit=(jge(),il(Dge)),Lge=Nge(),Tit=mK(),Gnr=function(){function e(){this.crc32=new Tit.Crc32}return e.prototype.update=function(t){(0,Lge.isEmptyData)(t)||this.crc32.update((0,Lge.convertToBuffer)(t))},e.prototype.digest=function(){return Pit.__awaiter(this,void 0,void 0,function(){return Pit.__generator(this,function(t){return[2,(0,Lge.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Tit.Crc32},e}();hK.AwsCrc32=Gnr});var mK=b(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});NE.AwsCrc32=NE.Crc32=NE.crc32=void 0;var Knr=(jge(),il(Dge)),Ynr=Nge();function Znr(e){return new Iit().update(e).digest()}NE.crc32=Znr;var Iit=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=Knr.__values(t),i=o.next();!i.done;i=o.next()){var a=i.value;this.checksum=this.checksum>>>8^Qnr[(this.checksum^a)&255]}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();NE.Crc32=Iit;var Xnr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Qnr=(0,Ynr.uint32ArrayFrom)(Xnr),eor=Mit();Object.defineProperty(NE,"AwsCrc32",{enumerable:!0,get:function(){return eor.AwsCrc32}})});var NN=b(jN=>{"use strict";Object.defineProperty(jN,"__esModule",{value:!0});jN.toHex=jN.fromHex=void 0;var Ait={},Fge={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ait[e]=t,Fge[t]=e}function tor(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Fge)t[r/2]=Fge[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}jN.fromHex=tor;function ror(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Ait[e[r]];return t}jN.toHex=ror});var Bge=b(gK=>{"use strict";Object.defineProperty(gK,"__esModule",{value:!0});gK.Int64=void 0;var nor=NN(),kge=class e{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Rit(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Rit(t),parseInt((0,nor.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};gK.Int64=kge;function Rit(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}});var Uge=b(yK=>{"use strict";Object.defineProperty(yK,"__esModule",{value:!0});yK.HeaderMarshaller=void 0;var LN=NN(),$ge=Bge(),qge=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+s.byteLength));u.setUint8(0,7),u.setUint16(1,s.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(s,3),l;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set($ge.Int64.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!por.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,LN.fromHex)(t.value.replace(/\-/g,"")),1),d}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[i]={type:jit,value:!0};break;case 1:r[i]={type:jit,value:!1};break;case 2:r[i]={type:oor,value:t.getInt8(n++)};break;case 3:r[i]={type:ior,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:aor,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:sor,value:new $ge.Int64(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let a=t.getUint16(n,!1);n+=2,r[i]={type:uor,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:let s=t.getUint16(n,!1);n+=2,r[i]={type:lor,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s))},n+=s;break;case 8:r[i]={type:cor,value:new Date(new $ge.Int64(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:dor,value:`${(0,LN.toHex)(u.subarray(0,4))}-${(0,LN.toHex)(u.subarray(4,6))}-${(0,LN.toHex)(u.subarray(6,8))}-${(0,LN.toHex)(u.subarray(8,10))}-${(0,LN.toHex)(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};yK.HeaderMarshaller=qge;var Dit;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Dit||(Dit={}));var jit="boolean",oor="byte",ior="short",aor="integer",sor="long",uor="binary",lor="string",cor="timestamp",dor="uuid",por=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});var Lit=b(bK=>{"use strict";Object.defineProperty(bK,"__esModule",{value:!0});bK.splitMessage=void 0;var hor=mK(),Nit=4,LE=Nit*2,iA=4,mor=LE+iA*2;function gor({byteLength:e,byteOffset:t,buffer:r}){if(e<mor)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let i=n.getUint32(Nit,!1),a=n.getUint32(LE,!1),s=n.getUint32(e-iA,!1),u=new hor.Crc32().update(new Uint8Array(r,t,LE));if(a!==u.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+LE,e-(LE+iA))),s!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(r,t+LE+iA,i),body:new Uint8Array(r,t+LE+iA+i,o-i-(LE+iA+iA))}}bK.splitMessage=gor});var Fit=b(_K=>{"use strict";Object.defineProperty(_K,"__esModule",{value:!0});_K.EventStreamCodec=void 0;var yor=mK(),bor=Uge(),_or=Lit(),zge=class{constructor(t,r){this.headerMarshaller=new bor.HeaderMarshaller(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new yor.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=(0,_or.splitMessage)(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};_K.EventStreamCodec=zge});var Bit=b(kit=>{"use strict";Object.defineProperty(kit,"__esModule",{value:!0})});var $it=b(vK=>{"use strict";Object.defineProperty(vK,"__esModule",{value:!0});vK.MessageDecoderStream=void 0;var Hge=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};vK.MessageDecoderStream=Hge});var qit=b(wK=>{"use strict";Object.defineProperty(wK,"__esModule",{value:!0});wK.MessageEncoderStream=void 0;var Vge=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};wK.MessageEncoderStream=Vge});var Uit=b(SK=>{"use strict";Object.defineProperty(SK,"__esModule",{value:!0});SK.SmithyMessageDecoderStream=void 0;var Wge=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};SK.SmithyMessageDecoderStream=Wge});var zit=b(xK=>{"use strict";Object.defineProperty(xK,"__esModule",{value:!0});xK.SmithyMessageEncoderStream=void 0;var Jge=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};xK.SmithyMessageEncoderStream=Jge});var Hit=b(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});var FE=(oA(),il(nA));FE.__exportStar(Fit(),Hy);FE.__exportStar(Uge(),Hy);FE.__exportStar(Bge(),Hy);FE.__exportStar(Bit(),Hy);FE.__exportStar($it(),Hy);FE.__exportStar(qit(),Hy);FE.__exportStar(Uit(),Hy);FE.__exportStar(zit(),Hy)});var Vit=b(CK=>{"use strict";Object.defineProperty(CK,"__esModule",{value:!0});CK.normalizeProvider=void 0;var vor=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};CK.normalizeProvider=vor});var Wit=b(Gge=>{"use strict";Object.defineProperty(Gge,"__esModule",{value:!0});var wor=(oA(),il(nA));wor.__exportStar(Vit(),Gge)});var Kge=b(OK=>{"use strict";Object.defineProperty(OK,"__esModule",{value:!0});OK.isArrayBuffer=void 0;var Sor=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";OK.isArrayBuffer=Sor});var Zge=b(FN=>{"use strict";Object.defineProperty(FN,"__esModule",{value:!0});FN.fromString=FN.fromArrayBuffer=void 0;var xor=Kge(),Yge=Td(),Cor=(e,t=0,r=e.byteLength-t)=>{if(!(0,xor.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Yge.Buffer.from(e,t,r)};FN.fromArrayBuffer=Cor;var Oor=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Yge.Buffer.from(e,t):Yge.Buffer.from(e)};FN.fromString=Oor});var Xge=b(EK=>{"use strict";Object.defineProperty(EK,"__esModule",{value:!0});EK.fromUtf8=void 0;var Eor=Zge(),Por=e=>{let t=(0,Eor.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};EK.fromUtf8=Por});var Jit=b(PK=>{"use strict";Object.defineProperty(PK,"__esModule",{value:!0});PK.toUint8Array=void 0;var Tor=Xge(),Mor=e=>typeof e=="string"?(0,Tor.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);PK.toUint8Array=Mor});var Git=b(TK=>{"use strict";Object.defineProperty(TK,"__esModule",{value:!0});TK.toUtf8=void 0;var Ior=Zge(),Aor=e=>(0,Ior.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8");TK.toUtf8=Aor});var MK=b(Bz=>{"use strict";Object.defineProperty(Bz,"__esModule",{value:!0});var Qge=(oA(),il(nA));Qge.__exportStar(Xge(),Bz);Qge.__exportStar(Jit(),Bz);Qge.__exportStar(Git(),Bz)});var aA=b(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.MAX_PRESIGNED_TTL=pt.KEY_TYPE_IDENTIFIER=pt.MAX_CACHE_SIZE=pt.UNSIGNED_PAYLOAD=pt.EVENT_ALGORITHM_IDENTIFIER=pt.ALGORITHM_IDENTIFIER_V4A=pt.ALGORITHM_IDENTIFIER=pt.UNSIGNABLE_PATTERNS=pt.SEC_HEADER_PATTERN=pt.PROXY_HEADER_PATTERN=pt.ALWAYS_UNSIGNABLE_HEADERS=pt.HOST_HEADER=pt.TOKEN_HEADER=pt.SHA256_HEADER=pt.SIGNATURE_HEADER=pt.GENERATED_HEADERS=pt.DATE_HEADER=pt.AMZ_DATE_HEADER=pt.AUTH_HEADER=pt.REGION_SET_PARAM=pt.TOKEN_QUERY_PARAM=pt.SIGNATURE_QUERY_PARAM=pt.EXPIRES_QUERY_PARAM=pt.SIGNED_HEADERS_QUERY_PARAM=pt.AMZ_DATE_QUERY_PARAM=pt.CREDENTIAL_QUERY_PARAM=pt.ALGORITHM_QUERY_PARAM=void 0;pt.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";pt.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";pt.AMZ_DATE_QUERY_PARAM="X-Amz-Date";pt.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";pt.EXPIRES_QUERY_PARAM="X-Amz-Expires";pt.SIGNATURE_QUERY_PARAM="X-Amz-Signature";pt.TOKEN_QUERY_PARAM="X-Amz-Security-Token";pt.REGION_SET_PARAM="X-Amz-Region-Set";pt.AUTH_HEADER="authorization";pt.AMZ_DATE_HEADER=pt.AMZ_DATE_QUERY_PARAM.toLowerCase();pt.DATE_HEADER="date";pt.GENERATED_HEADERS=[pt.AUTH_HEADER,pt.AMZ_DATE_HEADER,pt.DATE_HEADER];pt.SIGNATURE_HEADER=pt.SIGNATURE_QUERY_PARAM.toLowerCase();pt.SHA256_HEADER="x-amz-content-sha256";pt.TOKEN_HEADER=pt.TOKEN_QUERY_PARAM.toLowerCase();pt.HOST_HEADER="host";pt.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};pt.PROXY_HEADER_PATTERN=/^proxy-/;pt.SEC_HEADER_PATTERN=/^sec-/;pt.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];pt.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";pt.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";pt.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";pt.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";pt.MAX_CACHE_SIZE=50;pt.KEY_TYPE_IDENTIFIER="aws4_request";pt.MAX_PRESIGNED_TTL=60*60*24*7});var tye=b(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.clearCredentialCache=kE.getSigningKey=kE.createScope=void 0;var Ror=NN(),Dor=MK(),eye=aA(),kN={},IK=[],jor=(e,t,r)=>`${e}/${t}/${r}/${eye.KEY_TYPE_IDENTIFIER}`;kE.createScope=jor;var Nor=async(e,t,r,n,o)=>{let i=await Kit(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${o}:${(0,Ror.toHex)(i)}:${t.sessionToken}`;if(a in kN)return kN[a];for(IK.push(a);IK.length>eye.MAX_CACHE_SIZE;)delete kN[IK.shift()];let s=`AWS4${t.secretAccessKey}`;for(let u of[r,n,o,eye.KEY_TYPE_IDENTIFIER])s=await Kit(e,s,u);return kN[a]=s};kE.getSigningKey=Nor;var Lor=()=>{IK.length=0,Object.keys(kN).forEach(e=>{delete kN[e]})};kE.clearCredentialCache=Lor;var Kit=(e,t,r)=>{let n=new e(t);return n.update((0,Dor.toUint8Array)(r)),n.digest()}});var nye=b(AK=>{"use strict";Object.defineProperty(AK,"__esModule",{value:!0});AK.getCanonicalHeaders=void 0;var rye=aA(),For=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in rye.ALWAYS_UNSIGNABLE_HEADERS||t?.has(i)||rye.PROXY_HEADER_PATTERN.test(i)||rye.SEC_HEADER_PATTERN.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n};AK.getCanonicalHeaders=For});var oye=b(RK=>{"use strict";Object.defineProperty(RK,"__esModule",{value:!0});RK.escapeUri=void 0;var kor=e=>encodeURIComponent(e).replace(/[!'()*]/g,Bor);RK.escapeUri=kor;var Bor=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var Yit=b(DK=>{"use strict";Object.defineProperty(DK,"__esModule",{value:!0});DK.escapeUriPath=void 0;var $or=oye(),qor=e=>e.split("/").map($or.escapeUri).join("/");DK.escapeUriPath=qor});var Xit=b(jK=>{"use strict";Object.defineProperty(jK,"__esModule",{value:!0});var Zit=(oA(),il(nA));Zit.__exportStar(oye(),jK);Zit.__exportStar(Yit(),jK)});var iye=b(LK=>{"use strict";Object.defineProperty(LK,"__esModule",{value:!0});LK.getCanonicalQuery=void 0;var NK=Xit(),Uor=aA(),zor=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===Uor.SIGNATURE_HEADER)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,NK.escapeUri)(n)}=${(0,NK.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((i,a)=>i.concat([`${(0,NK.escapeUri)(n)}=${(0,NK.escapeUri)(a)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};LK.getCanonicalQuery=zor});var aye=b(FK=>{"use strict";Object.defineProperty(FK,"__esModule",{value:!0});FK.getPayloadHash=void 0;var Hor=Kge(),Vor=NN(),Wor=MK(),Qit=aA(),Jor=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Qit.SHA256_HEADER)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Hor.isArrayBuffer)(t)){let n=new r;return n.update((0,Wor.toUint8Array)(t)),(0,Vor.toHex)(await n.digest())}return Qit.UNSIGNED_PAYLOAD};FK.getPayloadHash=Jor});var eat=b(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});BE.deleteHeader=BE.getHeaderValue=BE.hasHeader=void 0;var Gor=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};BE.hasHeader=Gor;var Kor=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return t[r]};BE.getHeaderValue=Kor;var Yor=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))e===r.toLowerCase()&&delete t[r]};BE.deleteHeader=Yor});var sye=b(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.cloneQuery=sA.cloneRequest=void 0;var Zor=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?(0,sA.cloneQuery)(t):void 0});sA.cloneRequest=Zor;var Xor=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});sA.cloneQuery=Xor});var uye=b(kK=>{"use strict";Object.defineProperty(kK,"__esModule",{value:!0});kK.moveHeadersToQuery=void 0;var Qor=sye(),eir=(e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():(0,Qor.cloneRequest)(e);for(let i of Object.keys(n)){let a=i.toLowerCase();a.slice(0,6)==="x-amz-"&&!(!((r=t.unhoistableHeaders)===null||r===void 0)&&r.has(a))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}};kK.moveHeadersToQuery=eir});var lye=b(BK=>{"use strict";Object.defineProperty(BK,"__esModule",{value:!0});BK.prepareRequest=void 0;var tir=sye(),rir=aA(),nir=e=>{e=typeof e.clone=="function"?e.clone():(0,tir.cloneRequest)(e);for(let t of Object.keys(e.headers))rir.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};BK.prepareRequest=nir});var tat=b(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});uA.toDate=uA.iso8601=void 0;var oir=e=>(0,uA.toDate)(e).toISOString().replace(/\.\d{3}Z$/,"Z");uA.iso8601=oir;var iir=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;uA.toDate=iir});var aat=b(zK=>{"use strict";Object.defineProperty(zK,"__esModule",{value:!0});zK.SignatureV4=void 0;var air=Hit(),$K=NN(),rat=Wit(),$z=MK(),Kl=aA(),qK=tye(),nat=nye(),sir=iye(),cye=aye(),uir=eat(),lir=uye(),oat=lye(),cir=tat(),dye=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerMarshaller=new air.HeaderMarshaller($z.toUtf8,$z.fromUtf8),this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,rat.normalizeProvider)(n),this.credentialProvider=(0,rat.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,signingRegion:u,signingService:l}=r,c=await this.credentialProvider();this.validateResolvedCredentials(c);let d=u??await this.regionProvider(),{longDate:f,shortDate:p}=UK(n);if(o>Kl.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=(0,qK.createScope)(p,d,l??this.service),m=(0,lir.moveHeadersToQuery)((0,oat.prepareRequest)(t),{unhoistableHeaders:a});c.sessionToken&&(m.query[Kl.TOKEN_QUERY_PARAM]=c.sessionToken),m.query[Kl.ALGORITHM_QUERY_PARAM]=Kl.ALGORITHM_IDENTIFIER,m.query[Kl.CREDENTIAL_QUERY_PARAM]=`${c.accessKeyId}/${h}`,m.query[Kl.AMZ_DATE_QUERY_PARAM]=f,m.query[Kl.EXPIRES_QUERY_PARAM]=o.toString(10);let _=(0,nat.getCanonicalHeaders)(m,i,s);return m.query[Kl.SIGNED_HEADERS_QUERY_PARAM]=iat(_),m.query[Kl.SIGNATURE_QUERY_PARAM]=await this.getSignature(f,h,this.getSigningKey(c,d,p,l),this.createCanonicalRequest(m,_,await(0,cye.getPayloadHash)(t,this.sha256))),m}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:u,longDate:l}=UK(n),c=(0,qK.createScope)(u,s,a??this.service),d=await(0,cye.getPayloadHash)({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let p=(0,$K.toHex)(await f.digest()),h=[Kl.EVENT_ALGORITHM_IDENTIFIER,l,c,o,p,d].join(`
`);return this.signString(h,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=UK(r),u=new this.sha256(await this.getSigningKey(i,a,s,o));return u.update((0,$z.toUint8Array)(t)),(0,$K.toHex)(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let u=i??await this.regionProvider(),l=(0,oat.prepareRequest)(t),{longDate:c,shortDate:d}=UK(r),f=(0,qK.createScope)(d,u,a??this.service);l.headers[Kl.AMZ_DATE_HEADER]=c,s.sessionToken&&(l.headers[Kl.TOKEN_HEADER]=s.sessionToken);let p=await(0,cye.getPayloadHash)(l,this.sha256);!(0,uir.hasHeader)(Kl.SHA256_HEADER,l.headers)&&this.applyChecksum&&(l.headers[Kl.SHA256_HEADER]=p);let h=(0,nat.getCanonicalHeaders)(l,o,n),m=await this.getSignature(c,f,this.getSigningKey(s,u,d,a),this.createCanonicalRequest(l,h,p));return l.headers[Kl.AUTH_HEADER]=`${Kl.ALGORITHM_IDENTIFIER} Credential=${s.accessKeyId}/${f}, SignedHeaders=${iat(h)}, Signature=${m}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${(0,sir.getCanonicalQuery)(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,$z.toUint8Array)(n));let i=await o.digest();return`${Kl.ALGORITHM_IDENTIFIER}
${t}
${r}
${(0,$K.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),a=new this.sha256(await n);return a.update((0,$z.toUint8Array)(i)),(0,$K.toHex)(await a.digest())}getSigningKey(t,r,n,o){return(0,qK.getSigningKey)(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};zK.SignatureV4=dye;var UK=e=>{let t=(0,cir.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},iat=e=>Object.keys(e).sort().join(";")});var uat=b(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.prepareRequest=yf.moveHeadersToQuery=yf.getPayloadHash=yf.getCanonicalQuery=yf.getCanonicalHeaders=void 0;var sat=(oA(),il(nA));sat.__exportStar(aat(),yf);var dir=nye();Object.defineProperty(yf,"getCanonicalHeaders",{enumerable:!0,get:function(){return dir.getCanonicalHeaders}});var fir=iye();Object.defineProperty(yf,"getCanonicalQuery",{enumerable:!0,get:function(){return fir.getCanonicalQuery}});var pir=aye();Object.defineProperty(yf,"getPayloadHash",{enumerable:!0,get:function(){return pir.getPayloadHash}});var hir=uye();Object.defineProperty(yf,"moveHeadersToQuery",{enumerable:!0,get:function(){return hir.moveHeadersToQuery}});var mir=lye();Object.defineProperty(yf,"prepareRequest",{enumerable:!0,get:function(){return mir.prepareRequest}});sat.__exportStar(tye(),yf)});var lat=b(fye=>{"use strict";Object.defineProperty(fye,"__esModule",{value:!0});var gir=(oA(),il(nA));gir.__exportStar(uat(),fye)});var la=b((ito,cat)=>{"use strict";cat.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}});var BN=b((ato,HK)=>{"use strict";var{AbortController:dat,AbortSignal:yir}=typeof self<"u"?self:typeof window<"u"?window:void 0;HK.exports=dat;HK.exports.AbortSignal=yir;HK.exports.default=dat});var qz=b((sto,pye)=>{"use strict";var $N=typeof Reflect=="object"?Reflect:null,fat=$N&&typeof $N.apply=="function"?$N.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},VK;$N&&typeof $N.ownKeys=="function"?VK=$N.ownKeys:Object.getOwnPropertySymbols?VK=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:VK=function(t){return Object.getOwnPropertyNames(t)};function bir(e){console&&console.warn&&console.warn(e)}var hat=Number.isNaN||function(t){return t!==t};function Ho(){Ho.init.call(this)}pye.exports=Ho;pye.exports.once=Sir;Ho.EventEmitter=Ho;Ho.prototype._events=void 0;Ho.prototype._eventsCount=0;Ho.prototype._maxListeners=void 0;var pat=10;function WK(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ho,"defaultMaxListeners",{enumerable:!0,get:function(){return pat},set:function(e){if(typeof e!="number"||e<0||hat(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pat=e}});Ho.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ho.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||hat(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function mat(e){return e._maxListeners===void 0?Ho.defaultMaxListeners:e._maxListeners}Ho.prototype.getMaxListeners=function(){return mat(this)};Ho.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(u===void 0)return!1;if(typeof u=="function")fat(u,this,r);else for(var l=u.length,c=vat(u,l),n=0;n<l;++n)fat(c[n],this,r);return!0};function gat(e,t,r,n){var o,i,a;if(WK(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),a===void 0)a=i[t]=r,++e._eventsCount;else if(typeof a=="function"?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),o=mat(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,bir(s)}return e}Ho.prototype.addListener=function(t,r){return gat(this,t,r,!1)};Ho.prototype.on=Ho.prototype.addListener;Ho.prototype.prependListener=function(t,r){return gat(this,t,r,!0)};function _ir(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yat(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=_ir.bind(n);return o.listener=r,n.wrapFn=o,o}Ho.prototype.once=function(t,r){return WK(r),this.on(t,yat(this,t,r)),this};Ho.prototype.prependOnceListener=function(t,r){return WK(r),this.prependListener(t,yat(this,t,r)),this};Ho.prototype.removeListener=function(t,r){var n,o,i,a,s;if(WK(r),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():vir(n,i),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this};Ho.prototype.off=Ho.prototype.removeListener;Ho.prototype.removeAllListeners=function(t){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),a;for(o=0;o<i.length;++o)a=i[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this};function bat(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?wir(o):vat(o,o.length)}Ho.prototype.listeners=function(t){return bat(this,t,!0)};Ho.prototype.rawListeners=function(t){return bat(this,t,!1)};Ho.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):_at.call(e,t)};Ho.prototype.listenerCount=_at;function _at(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ho.prototype.eventNames=function(){return this._eventsCount>0?VK(this._events):[]};function vat(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function vir(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wir(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Sir(e,t){return new Promise(function(r,n){function o(a){e.removeListener(t,i),n(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),r([].slice.call(arguments))}wat(e,t,i,{once:!0}),t!=="error"&&xir(e,o,{once:!0})})}function xir(e,t,r){typeof e.on=="function"&&wat(e,"error",t,r)}function wat(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(i){n.once&&e.removeEventListener(t,o),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Gc=b((uto,mye)=>{"use strict";var Cir=Td(),{kResistStopPropagation:Oir,SymbolDispose:Eir}=la(),Pir=globalThis.AbortSignal||BN().AbortSignal,Tir=globalThis.AbortController||BN().AbortController,Mir=Object.getPrototypeOf(async function(){}).constructor,Sat=globalThis.Blob||Cir.Blob,Iir=typeof Sat<"u"?function(t){return t instanceof Sat}:function(t){return!1},xat=(e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},Air=(e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE(t,"Function",e)},hye=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};mye.exports={AggregateError:hye,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...o)=>n?r(n):t(...o))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let o=t.shift();return n==="f"?o.toFixed(6):n==="j"?JSON.stringify(o):n==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof Mir},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:Iir,deprecate(e,t){return e},addAbortListener:qz().addAbortListener||function(t,r){if(t===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);xat(t,"signal"),Air(r,"listener");let n;return t.aborted?queueMicrotask(()=>r()):(t.addEventListener("abort",r,{__proto__:null,once:!0,[Oir]:!0}),n=()=>{t.removeEventListener("abort",r)}),{__proto__:null,[Eir](){var o;(o=n)===null||o===void 0||o()}}},AbortSignalAny:Pir.any||function(t){if(t.length===1)return t[0];let r=new Tir,n=()=>r.abort();return t.forEach(o=>{xat(o,"signals"),o.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{t.forEach(o=>o.removeEventListener("abort",n))},{once:!0}),r.signal}};mye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ld=b((lto,Eat)=>{"use strict";var{format:Rir,inspect:JK,AggregateError:Dir}=Gc(),jir=globalThis.AggregateError||Dir,Nir=Symbol("kIsNodeError"),Lir=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Fir=/^([A-Z][a-z0-9]*)+$/,kir="__node_internal_",GK={};function lA(e,t){if(!e)throw new GK.ERR_INTERNAL_ASSERTION(t)}function Cat(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Bir(e,t,r){if(typeof t=="function")return lA(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return lA(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:Rir(t,...r)}function Yl(e,t,r){r||(r=Error);class n extends r{constructor(...i){super(Bir(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Nir]=!0,GK[e]=n}function Oat(e){let t=kir+e.name;return Object.defineProperty(e,"name",{value:t}),e}function $ir(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new jir([t,e],t.message);return r.code=t.code,r}return e||t}var gye=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new GK.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};Yl("ERR_ASSERTION","%s",Error);Yl("ERR_INVALID_ARG_TYPE",(e,t,r)=>{lA(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],i=[],a=[];for(let u of t)lA(typeof u=="string","All expected entries have to be of type string"),Lir.includes(u)?o.push(u.toLowerCase()):Fir.test(u)?i.push(u):(lA(u!=="object",'The value "object" should be written as "Object"'),a.push(u));if(i.length>0){let u=o.indexOf("object");u!==-1&&(o.splice(o,u,1),i.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let u=o.pop();n+=`one of type ${o.join(", ")}, or ${u}`}}(i.length>0||a.length>0)&&(n+=" or ")}if(i.length>0){switch(i.length){case 1:n+=`an instance of ${i[0]}`;break;case 2:n+=`an instance of ${i[0]} or ${i[1]}`;break;default:{let u=i.pop();n+=`an instance of ${i.join(", ")}, or ${u}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let u=a.pop();n+=`one of ${a.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var s;if((s=r.constructor)!==null&&s!==void 0&&s.name)n+=`. Received an instance of ${r.constructor.name}`;else{let u=JK(r,{depth:-1});n+=`. Received ${u}`}}else{let u=JK(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);Yl("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=JK(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);Yl("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError);Yl("ERR_MISSING_ARGS",(...e)=>{lA(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);Yl("ERR_OUT_OF_RANGE",(e,t,r)=>{lA(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Cat(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Cat(n)),n+="n"):n=JK(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);Yl("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Yl("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Yl("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Yl("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Yl("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Yl("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Yl("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Yl("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Yl("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Yl("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Yl("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Eat.exports={AbortError:gye,aggregateTwoErrors:Oat($ir),hideStackFrames:Oat,codes:GK}});var UN=b((cto,Lat)=>{"use strict";var{ArrayIsArray:bye,ArrayPrototypeIncludes:Iat,ArrayPrototypeJoin:Aat,ArrayPrototypeMap:qir,NumberIsInteger:_ye,NumberIsNaN:Uir,NumberMAX_SAFE_INTEGER:zir,NumberMIN_SAFE_INTEGER:Hir,NumberParseInt:Vir,ObjectPrototypeHasOwnProperty:Wir,RegExpPrototypeExec:Rat,String:Jir,StringPrototypeToUpperCase:Gir,StringPrototypeTrim:Kir}=la(),{hideStackFrames:Mh,codes:{ERR_SOCKET_BAD_PORT:Yir,ERR_INVALID_ARG_TYPE:Kc,ERR_INVALID_ARG_VALUE:qN,ERR_OUT_OF_RANGE:cA,ERR_UNKNOWN_SIGNAL:Pat}}=Ld(),{normalizeEncoding:Zir}=Gc(),{isAsyncFunction:Xir,isArrayBufferView:Qir}=Gc().types,Tat={};function ear(e){return e===(e|0)}function tar(e){return e===e>>>0}var rar=/^[0-7]+$/,nar="must be a 32-bit unsigned integer or an octal string";function oar(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Rat(rar,e)===null)throw new qN(t,e,nar);e=Vir(e,8)}return Dat(e,t),e}var iar=Mh((e,t,r=Hir,n=zir)=>{if(typeof e!="number")throw new Kc(t,"number",e);if(!_ye(e))throw new cA(t,"an integer",e);if(e<r||e>n)throw new cA(t,`>= ${r} && <= ${n}`,e)}),aar=Mh((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Kc(t,"number",e);if(!_ye(e))throw new cA(t,"an integer",e);if(e<r||e>n)throw new cA(t,`>= ${r} && <= ${n}`,e)}),Dat=Mh((e,t,r=!1)=>{if(typeof e!="number")throw new Kc(t,"number",e);if(!_ye(e))throw new cA(t,"an integer",e);let n=r?1:0,o=4294967295;if(e<n||e>o)throw new cA(t,`>= ${n} && <= ${o}`,e)});function vye(e,t){if(typeof e!="string")throw new Kc(t,"string",e)}function sar(e,t,r=void 0,n){if(typeof e!="number")throw new Kc(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Uir(e))throw new cA(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}var uar=Mh((e,t,r)=>{if(!Iat(r,e)){let o="must be one of: "+Aat(qir(r,i=>typeof i=="string"?`'${i}'`:Jir(i)),", ");throw new qN(t,e,o)}});function jat(e,t){if(typeof e!="boolean")throw new Kc(t,"boolean",e)}function yye(e,t,r){return e==null||!Wir(e,t)?r:e[t]}var lar=Mh((e,t,r=null)=>{let n=yye(r,"allowArray",!1),o=yye(r,"allowFunction",!1);if(!yye(r,"nullable",!1)&&e===null||!n&&bye(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Kc(t,"Object",e)}),car=Mh((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Kc(t,"a dictionary",e)}),KK=Mh((e,t,r=0)=>{if(!bye(e))throw new Kc(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new qN(t,e,n)}});function dar(e,t){KK(e,t);for(let r=0;r<e.length;r++)vye(e[r],`${t}[${r}]`)}function far(e,t){KK(e,t);for(let r=0;r<e.length;r++)jat(e[r],`${t}[${r}]`)}function par(e,t){KK(e,t);for(let r=0;r<e.length;r++){let n=e[r],o=`${t}[${r}]`;if(n==null)throw new Kc(o,"AbortSignal",n);Nat(n,o)}}function har(e,t="signal"){if(vye(e,t),Tat[e]===void 0)throw Tat[Gir(e)]!==void 0?new Pat(e+" (signals must use all capital letters)"):new Pat(e)}var mar=Mh((e,t="buffer")=>{if(!Qir(e))throw new Kc(t,["Buffer","TypedArray","DataView"],e)});function gar(e,t){let r=Zir(t),n=e.length;if(r==="hex"&&n%2!==0)throw new qN("encoding",t,`is invalid for data of length ${n}`)}function yar(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Kir(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Yir(t,e,r);return e|0}var Nat=Mh((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Kc(t,"AbortSignal",e)}),bar=Mh((e,t)=>{if(typeof e!="function")throw new Kc(t,"Function",e)}),_ar=Mh((e,t)=>{if(typeof e!="function"||Xir(e))throw new Kc(t,"Function",e)}),war=Mh((e,t)=>{if(e!==void 0)throw new Kc(t,"undefined",e)});function Sar(e,t,r){if(!Iat(r,e))throw new Kc(t,`('${Aat(r,"|")}')`,e)}var xar=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Mat(e,t){if(typeof e>"u"||!Rat(xar,e))throw new qN(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Car(e){if(typeof e=="string")return Mat(e,"hints"),e;if(bye(e)){let t=e.length,r="";if(t===0)return r;for(let n=0;n<t;n++){let o=e[n];Mat(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new qN("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Lat.exports={isInt32:ear,isUint32:tar,parseFileMode:oar,validateArray:KK,validateStringArray:dar,validateBooleanArray:far,validateAbortSignalArray:par,validateBoolean:jat,validateBuffer:mar,validateDictionary:car,validateEncoding:gar,validateFunction:bar,validateInt32:aar,validateInteger:iar,validateNumber:sar,validateObject:lar,validateOneOf:uar,validatePlainFunction:_ar,validatePort:yar,validateSignalName:har,validateString:vye,validateUint32:Dat,validateUndefined:war,validateUnion:Sar,validateAbortSignal:Nat,validateLinkHeaderValue:Car}});var $E=b((dto,$at)=>{var Ka=$at.exports={},Vy,Wy;function wye(){throw new Error("setTimeout has not been defined")}function Sye(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Vy=setTimeout:Vy=wye}catch{Vy=wye}try{typeof clearTimeout=="function"?Wy=clearTimeout:Wy=Sye}catch{Wy=Sye}})();function Fat(e){if(Vy===setTimeout)return setTimeout(e,0);if((Vy===wye||!Vy)&&setTimeout)return Vy=setTimeout,setTimeout(e,0);try{return Vy(e,0)}catch{try{return Vy.call(null,e,0)}catch{return Vy.call(this,e,0)}}}function Oar(e){if(Wy===clearTimeout)return clearTimeout(e);if((Wy===Sye||!Wy)&&clearTimeout)return Wy=clearTimeout,clearTimeout(e);try{return Wy(e)}catch{try{return Wy.call(null,e)}catch{return Wy.call(this,e)}}}var px=[],zN=!1,dA,YK=-1;function Ear(){!zN||!dA||(zN=!1,dA.length?px=dA.concat(px):YK=-1,px.length&&kat())}function kat(){if(!zN){var e=Fat(Ear);zN=!0;for(var t=px.length;t;){for(dA=px,px=[];++YK<t;)dA&&dA[YK].run();YK=-1,t=px.length}dA=null,zN=!1,Oar(e)}}Ka.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];px.push(new Bat(e,t)),px.length===1&&!zN&&Fat(kat)};function Bat(e,t){this.fun=e,this.array=t}Bat.prototype.run=function(){this.fun.apply(null,this.array)};Ka.title="browser";Ka.browser=!0;Ka.env={};Ka.argv=[];Ka.version="";Ka.versions={};function hx(){}Ka.on=hx;Ka.addListener=hx;Ka.once=hx;Ka.off=hx;Ka.removeListener=hx;Ka.removeAllListeners=hx;Ka.emit=hx;Ka.prependListener=hx;Ka.prependOnceListener=hx;Ka.listeners=function(e){return[]};Ka.binding=function(e){throw new Error("process.binding is not supported")};Ka.cwd=function(){return"/"};Ka.chdir=function(e){throw new Error("process.chdir is not supported")};Ka.umask=function(){return 0}});var Gy=b((fto,tst)=>{"use strict";var{SymbolAsyncIterator:qat,SymbolIterator:Uat,SymbolFor:fA}=la(),zat=fA("nodejs.stream.destroyed"),Hat=fA("nodejs.stream.errored"),xye=fA("nodejs.stream.readable"),Cye=fA("nodejs.stream.writable"),Vat=fA("nodejs.stream.disturbed"),Par=fA("nodejs.webstream.isClosedPromise"),Tar=fA("nodejs.webstream.controllerErrorFunction");function ZK(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function XK(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Mar(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Jy(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Wat(e){return!!(e&&!Jy(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function Jat(e){return!!(e&&!Jy(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Gat(e){return!!(e&&!Jy(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Iar(e){return Wat(e)||Jat(e)||Gat(e)}function Aar(e,t){return e==null?!1:t===!0?typeof e[qat]=="function":t===!1?typeof e[Uat]=="function":typeof e[qat]=="function"||typeof e[Uat]=="function"}function QK(e){if(!Jy(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[zat]||n!=null&&n.destroyed)}function Kat(e){if(!XK(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function Rar(e,t){if(!XK(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Dar(e){if(!ZK(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function Yat(e,t){if(!ZK(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Zat(e){return e&&e[xye]!=null?e[xye]:typeof e?.readable!="boolean"?null:QK(e)?!1:ZK(e)&&e.readable&&!Yat(e)}function Xat(e){return e&&e[Cye]!=null?e[Cye]:typeof e?.writable!="boolean"?null:QK(e)?!1:XK(e)&&e.writable&&!Kat(e)}function jar(e,t){return Jy(e)?QK(e)?!0:!(t?.readable!==!1&&Zat(e)||t?.writable!==!1&&Xat(e)):null}function Nar(e){var t,r;return Jy(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Lar(e){var t,r;return Jy(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Far(e){if(!Jy(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&Qat(e)?e._closed:null}function Qat(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function est(e){return typeof e._sent100=="boolean"&&Qat(e)}function kar(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function Bar(e){if(!Jy(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&est(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function $ar(e){var t;return!!(e&&((t=e[Vat])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function qar(e){var t,r,n,o,i,a,s,u,l,c;return!!(e&&((t=(r=(n=(o=(i=(a=e[Hat])!==null&&a!==void 0?a:e.readableErrored)!==null&&i!==void 0?i:e.writableErrored)!==null&&o!==void 0?o:(s=e._readableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&n!==void 0?n:(u=e._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(l=e._readableState)===null||l===void 0?void 0:l.errored)!==null&&t!==void 0?t:!((c=e._writableState)===null||c===void 0)&&c.errored))}tst.exports={isDestroyed:QK,kIsDestroyed:zat,isDisturbed:$ar,kIsDisturbed:Vat,isErrored:qar,kIsErrored:Hat,isReadable:Zat,kIsReadable:xye,kIsClosedPromise:Par,kControllerErrorFunction:Tar,kIsWritable:Cye,isClosed:Far,isDuplexNodeStream:Mar,isFinished:jar,isIterable:Aar,isReadableNodeStream:ZK,isReadableStream:Wat,isReadableEnded:Dar,isReadableFinished:Yat,isReadableErrored:Lar,isNodeStream:Jy,isWebStream:Iar,isWritable:Xat,isWritableNodeStream:XK,isWritableStream:Jat,isWritableEnded:Kat,isWritableFinished:Rar,isWritableErrored:Nar,isServerRequest:kar,isServerResponse:est,willEmitClose:Bar,isTransformStream:Gat}});var mx=b((pto,Mye)=>{var qE=$E(),{AbortError:cst,codes:Uar}=Ld(),{ERR_INVALID_ARG_TYPE:zar,ERR_STREAM_PREMATURE_CLOSE:rst}=Uar,{kEmptyObject:Eye,once:Pye}=Gc(),{validateAbortSignal:Har,validateFunction:Var,validateObject:War,validateBoolean:Jar}=UN(),{Promise:Gar,PromisePrototypeThen:Kar,SymbolDispose:dst}=la(),{isClosed:Yar,isReadable:nst,isReadableNodeStream:Oye,isReadableStream:Zar,isReadableFinished:ost,isReadableErrored:ist,isWritable:ast,isWritableNodeStream:sst,isWritableStream:Xar,isWritableFinished:ust,isWritableErrored:lst,isNodeStream:Qar,willEmitClose:esr,kIsClosedPromise:tsr}=Gy(),HN;function rsr(e){return e.setHeader&&typeof e.abort=="function"}var Tye=()=>{};function fst(e,t,r){var n,o;if(arguments.length===2?(r=t,t=Eye):t==null?t=Eye:War(t,"options"),Var(r,"callback"),Har(t.signal,"options.signal"),r=Pye(r),Zar(e)||Xar(e))return nsr(e,t,r);if(!Qar(e))throw new zar("stream",["ReadableStream","WritableStream","Stream"],e);let i=(n=t.readable)!==null&&n!==void 0?n:Oye(e),a=(o=t.writable)!==null&&o!==void 0?o:sst(e),s=e._writableState,u=e._readableState,l=()=>{e.writable||f()},c=esr(e)&&Oye(e)===i&&sst(e)===a,d=ust(e,!1),f=()=>{d=!0,e.destroyed&&(c=!1),!(c&&(!e.readable||i))&&(!i||p)&&r.call(e)},p=ost(e,!1),h=()=>{p=!0,e.destroyed&&(c=!1),!(c&&(!e.writable||a))&&(!a||d)&&r.call(e)},m=O=>{r.call(e,O)},_=Yar(e),g=()=>{_=!0;let O=lst(e)||ist(e);if(O&&typeof O!="boolean")return r.call(e,O);if(i&&!p&&Oye(e,!0)&&!ost(e,!1))return r.call(e,new rst);if(a&&!d&&!ust(e,!1))return r.call(e,new rst);r.call(e)},v=()=>{_=!0;let O=lst(e)||ist(e);if(O&&typeof O!="boolean")return r.call(e,O);r.call(e)},S=()=>{e.req.on("finish",f)};rsr(e)?(e.on("complete",f),c||e.on("abort",g),e.req?S():e.on("request",S)):a&&!s&&(e.on("end",l),e.on("close",l)),!c&&typeof e.aborted=="boolean"&&e.on("aborted",g),e.on("end",h),e.on("finish",f),t.error!==!1&&e.on("error",m),e.on("close",g),_?qE.nextTick(g):s!=null&&s.errorEmitted||u!=null&&u.errorEmitted?c||qE.nextTick(v):(!i&&(!c||nst(e))&&(d||ast(e)===!1)||!a&&(!c||ast(e))&&(p||nst(e)===!1)||u&&e.req&&e.aborted)&&qE.nextTick(v);let x=()=>{r=Tye,e.removeListener("aborted",g),e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",S),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("end",h),e.removeListener("error",m),e.removeListener("close",g)};if(t.signal&&!_){let O=()=>{let T=r;x(),T.call(e,new cst(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)qE.nextTick(O);else{HN=HN||Gc().addAbortListener;let T=HN(t.signal,O),E=r;r=Pye((...M)=>{T[dst](),E.apply(e,M)})}}return x}function nsr(e,t,r){let n=!1,o=Tye;if(t.signal)if(o=()=>{n=!0,r.call(e,new cst(void 0,{cause:t.signal.reason}))},t.signal.aborted)qE.nextTick(o);else{HN=HN||Gc().addAbortListener;let a=HN(t.signal,o),s=r;r=Pye((...u)=>{a[dst](),s.apply(e,u)})}let i=(...a)=>{n||qE.nextTick(()=>r.apply(e,a))};return Kar(e[tsr].promise,i,i),Tye}function osr(e,t){var r;let n=!1;return t===null&&(t=Eye),(r=t)!==null&&r!==void 0&&r.cleanup&&(Jar(t.cleanup,"cleanup"),n=t.cleanup),new Gar((o,i)=>{let a=fst(e,t,s=>{n&&a(),s?i(s):o()})})}Mye.exports=fst;Mye.exports.finished=osr});var pA=b((hto,vst)=>{"use strict";var Ky=$E(),{aggregateTwoErrors:isr,codes:{ERR_MULTIPLE_CALLBACK:asr},AbortError:ssr}=Ld(),{Symbol:mst}=la(),{kIsDestroyed:usr,isDestroyed:lsr,isFinished:csr,isServerRequest:dsr}=Gy(),gst=mst("kDestroy"),Iye=mst("kConstruct");function yst(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function fsr(e,t){let r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(yst(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?pst(this,e,t):this.once(gst,function(i){pst(this,isr(i,e),t)}),this)}function pst(e,t,r){let n=!1;function o(i){if(n)return;n=!0;let a=e._readableState,s=e._writableState;yst(i,s,a),s&&(s.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(i),i?Ky.nextTick(psr,e,i):Ky.nextTick(bst,e)}try{e._destroy(t||null,o)}catch(i){o(i)}}function psr(e,t){Aye(e,t),bst(e)}function bst(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function Aye(e,t){let r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function hsr(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function Rye(e,t,r){let n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Ky.nextTick(Aye,e,t):Aye(e,t))}function msr(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(Iye,t),!(e.listenerCount(Iye)>1)&&Ky.nextTick(gsr,e)}function gsr(e){let t=!1;function r(n){if(t){Rye(e,n??new asr);return}t=!0;let o=e._readableState,i=e._writableState,a=i||o;o&&(o.constructed=!0),i&&(i.constructed=!0),a.destroyed?e.emit(gst,n):n?Rye(e,n,!0):Ky.nextTick(ysr,e)}try{e._construct(n=>{Ky.nextTick(r,n)})}catch(n){Ky.nextTick(r,n)}}function ysr(e){e.emit(Iye)}function hst(e){return e?.setHeader&&typeof e.abort=="function"}function _st(e){e.emit("close")}function bsr(e,t){e.emit("error",t),Ky.nextTick(_st,e)}function _sr(e,t){!e||lsr(e)||(!t&&!csr(e)&&(t=new ssr),dsr(e)?(e.socket=null,e.destroy(t)):hst(e)?e.abort():hst(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Ky.nextTick(bsr,e,t):Ky.nextTick(_st,e),e.destroyed||(e[usr]=!0))}vst.exports={construct:msr,destroyer:_sr,destroy:fsr,undestroy:hsr,errorOrDestroy:Rye}});var r7=b((mto,Sst)=>{"use strict";var{ArrayIsArray:vsr,ObjectSetPrototypeOf:wst}=la(),{EventEmitter:e7}=qz();function t7(e){e7.call(this,e)}wst(t7.prototype,e7.prototype);wst(t7,e7);t7.prototype.pipe=function(e,t){let r=this;function n(c){e.writable&&e.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",s));let i=!1;function a(){i||(i=!0,e.end())}function s(){i||(i=!0,typeof e.destroy=="function"&&e.destroy())}function u(c){l(),e7.listenerCount(this,"error")===0&&this.emit("error",c)}Dye(r,"error",u),Dye(e,"error",u);function l(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e};function Dye(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):vsr(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}Sst.exports={Stream:t7,prependListener:Dye}});var Uz=b((gto,n7)=>{"use strict";var{SymbolDispose:wsr}=la(),{AbortError:xst,codes:Ssr}=Ld(),{isNodeStream:Cst,isWebStream:xsr,kControllerErrorFunction:Csr}=Gy(),Osr=mx(),{ERR_INVALID_ARG_TYPE:Ost}=Ssr,jye,Esr=(e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new Ost(t,"AbortSignal",e)};n7.exports.addAbortSignal=function(t,r){if(Esr(t,"signal"),!Cst(r)&&!xsr(r))throw new Ost("stream",["ReadableStream","WritableStream","Stream"],r);return n7.exports.addAbortSignalNoValidate(t,r)};n7.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=Cst(t)?()=>{t.destroy(new xst(void 0,{cause:e.reason}))}:()=>{t[Csr](new xst(void 0,{cause:e.reason}))};if(e.aborted)r();else{jye=jye||Gc().addAbortListener;let n=jye(e,r);Osr(t,n[wsr])}return t}});var Tst=b((bto,Pst)=>{"use strict";var{StringPrototypeSlice:Est,SymbolIterator:Psr,TypedArrayPrototypeSet:o7,Uint8Array:Tsr}=la(),{Buffer:Nye}=Td(),{inspect:Msr}=Gc();Pst.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Nye.alloc(0);let r=Nye.allocUnsafe(t>>>0),n=this.head,o=0;for(;n;)o7(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Psr](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{let i=n.data;if(t>i.length)r+=i,t-=i.length;else{t===i.length?(r+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Est(i,0,t),this.head=n,n.data=Est(i,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){let r=Nye.allocUnsafe(t),n=t,o=this.head,i=0;do{let a=o.data;if(t>a.length)o7(r,a,n-t),t-=a.length;else{t===a.length?(o7(r,a,n-t),++i,o.next?this.head=o.next:this.head=this.tail=null):(o7(r,new Tsr(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++i}while((o=o.next)!==null);return this.length-=i,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Msr(this,{...r,depth:0,customInspect:!1})}}});var zz=b((_to,Rst)=>{"use strict";var{MathFloor:Isr,NumberIsInteger:Asr}=la(),{validateInteger:Rsr}=UN(),{ERR_INVALID_ARG_VALUE:Dsr}=Ld().codes,Mst=16*1024,Ist=16;function jsr(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Ast(e){return e?Ist:Mst}function Nsr(e,t){Rsr(t,"value",0),e?Ist=t:Mst=t}function Lsr(e,t,r,n){let o=jsr(t,n,r);if(o!=null){if(!Asr(o)||o<0){let i=n?`options.${r}`:"options.highWaterMark";throw new Dsr(i,o)}return Isr(o)}return Ast(e.objectMode)}Rst.exports={getHighWaterMark:Lsr,getDefaultHighWaterMark:Ast,setDefaultHighWaterMark:Nsr}});var Nst=b((Lye,jst)=>{var i7=Td(),Yy=i7.Buffer;function Dst(e,t){for(var r in e)t[r]=e[r]}Yy.from&&Yy.alloc&&Yy.allocUnsafe&&Yy.allocUnsafeSlow?jst.exports=i7:(Dst(i7,Lye),Lye.Buffer=hA);function hA(e,t,r){return Yy(e,t,r)}hA.prototype=Object.create(Yy.prototype);Dst(Yy,hA);hA.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Yy(e,t,r)};hA.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Yy(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};hA.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Yy(e)};hA.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return i7.SlowBuffer(e)}});var kst=b(Fst=>{"use strict";var kye=Nst().Buffer,Lst=kye.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Fsr(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function ksr(e){var t=Fsr(e);if(typeof t!="string"&&(kye.isEncoding===Lst||!Lst(e)))throw new Error("Unknown encoding: "+e);return t||e}Fst.StringDecoder=Hz;function Hz(e){this.encoding=ksr(e);var t;switch(this.encoding){case"utf16le":this.text=Hsr,this.end=Vsr,t=4;break;case"utf8":this.fillLast=qsr,t=4;break;case"base64":this.text=Wsr,this.end=Jsr,t=3;break;default:this.write=Gsr,this.end=Ksr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=kye.allocUnsafe(t)}Hz.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Hz.prototype.end=zsr;Hz.prototype.text=Usr;Hz.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Fye(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Bsr(e,t,r){var n=t.length-1;if(n<r)return 0;var o=Fye(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=Fye(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=Fye(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function $sr(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function qsr(e){var t=this.lastTotal-this.lastNeed,r=$sr(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Usr(e,t){var r=Bsr(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function zsr(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Hsr(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Vsr(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Wsr(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Jsr(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Gsr(e){return e.toString(this.encoding)}function Ksr(e){return e&&e.length?this.write(e):""}});var Bye=b((wto,Ust)=>{"use strict";var Bst=$E(),{PromisePrototypeThen:Ysr,SymbolAsyncIterator:$st,SymbolIterator:qst}=la(),{Buffer:Zsr}=Td(),{ERR_INVALID_ARG_TYPE:Xsr,ERR_STREAM_NULL_VALUES:Qsr}=Ld().codes;function eur(e,t,r){let n;if(typeof t=="string"||t instanceof Zsr)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[$st])o=!0,n=t[$st]();else if(t&&t[qst])o=!1,n=t[qst]();else throw new Xsr("iterable",["Iterable"],t);let i=new e({objectMode:!0,highWaterMark:1,...r}),a=!1;i._read=function(){a||(a=!0,u())},i._destroy=function(l,c){Ysr(s(l),()=>Bst.nextTick(c,l),d=>Bst.nextTick(c,d||l))};async function s(l){let c=l!=null,d=typeof n.throw=="function";if(c&&d){let{value:f,done:p}=await n.throw(l);if(await f,p)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function u(){for(;;){try{let{value:l,done:c}=o?await n.next():n.next();if(c)i.push(null);else{let d=l&&typeof l.then=="function"?await l:l;if(d===null)throw a=!1,new Qsr;if(i.push(d))continue;a=!1}}catch(l){i.destroy(l)}break}}return i}Ust.exports=eur});var Wz=b((Sto,aut)=>{var ng=$E(),{ArrayPrototypeIndexOf:tur,NumberIsInteger:rur,NumberIsNaN:nur,NumberParseInt:our,ObjectDefineProperties:Jye,ObjectKeys:iur,ObjectSetPrototypeOf:Vst,Promise:Wst,SafeSet:aur,SymbolAsyncDispose:sur,SymbolAsyncIterator:uur,Symbol:lur}=la();aut.exports=Nr;Nr.ReadableState=l7;var{EventEmitter:cur}=qz(),{Stream:UE,prependListener:dur}=r7(),{Buffer:$ye}=Td(),{addAbortSignal:fur}=Uz(),Jst=mx(),an=Gc().debuglog("stream",e=>{an=e}),pur=Tst(),JN=pA(),{getHighWaterMark:hur,getDefaultHighWaterMark:mur}=zz(),{aggregateTwoErrors:zst,codes:{ERR_INVALID_ARG_TYPE:gur,ERR_METHOD_NOT_IMPLEMENTED:yur,ERR_OUT_OF_RANGE:bur,ERR_STREAM_PUSH_AFTER_EOF:_ur,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:vur},AbortError:wur}=Ld(),{validateObject:Sur}=UN(),mA=lur("kPaused"),{StringDecoder:Gst}=kst(),xur=Bye();Vst(Nr.prototype,UE.prototype);Vst(Nr,UE);var qye=()=>{},{errorOrDestroy:VN}=JN,WN=1,Cur=2,Kst=4,Vz=8,Yst=16,a7=32,s7=64,Zst=128,Our=256,Eur=512,Pur=1024,Vye=2048,Wye=4096,Tur=8192,Mur=16384,Iur=32768,Xst=65536,Aur=1<<17,Rur=1<<18;function Uu(e){return{enumerable:!1,get(){return(this.state&e)!==0},set(t){t?this.state|=e:this.state&=~e}}}Jye(l7.prototype,{objectMode:Uu(WN),ended:Uu(Cur),endEmitted:Uu(Kst),reading:Uu(Vz),constructed:Uu(Yst),sync:Uu(a7),needReadable:Uu(s7),emittedReadable:Uu(Zst),readableListening:Uu(Our),resumeScheduled:Uu(Eur),errorEmitted:Uu(Pur),emitClose:Uu(Vye),autoDestroy:Uu(Wye),destroyed:Uu(Tur),closed:Uu(Mur),closeEmitted:Uu(Iur),multiAwaitDrain:Uu(Xst),readingMore:Uu(Aur),dataEmitted:Uu(Rur)});function l7(e,t,r){typeof r!="boolean"&&(r=t instanceof Zy()),this.state=Vye|Wye|Yst|a7,e&&e.objectMode&&(this.state|=WN),r&&e&&e.readableObjectMode&&(this.state|=WN),this.highWaterMark=e?hur(this,e,"readableHighWaterMark",r):mur(!1),this.buffer=new pur,this.length=0,this.pipes=[],this.flowing=null,this[mA]=null,e&&e.emitClose===!1&&(this.state&=~Vye),e&&e.autoDestroy===!1&&(this.state&=~Wye),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Gst(e.encoding),this.encoding=e.encoding)}function Nr(e){if(!(this instanceof Nr))return new Nr(e);let t=this instanceof Zy();this._readableState=new l7(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&fur(e.signal,this)),UE.call(this,e),JN.construct(this,()=>{this._readableState.needReadable&&u7(this,this._readableState)})}Nr.prototype.destroy=JN.destroy;Nr.prototype._undestroy=JN.undestroy;Nr.prototype._destroy=function(e,t){t(e)};Nr.prototype[cur.captureRejectionSymbol]=function(e){this.destroy(e)};Nr.prototype[sur]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new wur,this.destroy(e)),new Wst((t,r)=>Jst(this,n=>n&&n!==e?r(n):t(null)))};Nr.prototype.push=function(e,t){return Qst(this,e,t,!1)};Nr.prototype.unshift=function(e,t){return Qst(this,e,t,!0)};function Qst(e,t,r,n){an("readableAddChunk",t);let o=e._readableState,i;if((o.state&WN)===0&&(typeof t=="string"?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=$ye.from(t,r).toString(o.encoding):(t=$ye.from(t,r),r=""))):t instanceof $ye?r="":UE._isUint8Array(t)?(t=UE._uint8ArrayToBuffer(t),r=""):t!=null&&(i=new gur("chunk",["string","Buffer","Uint8Array"],t))),i)VN(e,i);else if(t===null)o.state&=~Vz,Nur(e,o);else if((o.state&WN)!==0||t&&t.length>0)if(n)if((o.state&Kst)!==0)VN(e,new vur);else{if(o.destroyed||o.errored)return!1;Uye(e,o,t,!0)}else if(o.ended)VN(e,new _ur);else{if(o.destroyed||o.errored)return!1;o.state&=~Vz,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Uye(e,o,t,!1):u7(e,o)):Uye(e,o,t,!1)}else n||(o.state&=~Vz,u7(e,o));return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Uye(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?((t.state&Xst)!==0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(t.state&s7)!==0&&c7(e)),u7(e,t)}Nr.prototype.isPaused=function(){let e=this._readableState;return e[mA]===!0||e.flowing===!1};Nr.prototype.setEncoding=function(e){let t=new Gst(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let o of r)n+=t.write(o);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Dur=1073741824;function jur(e){if(e>Dur)throw new bur("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function Hst(e,t){return e<=0||t.length===0&&t.ended?0:(t.state&WN)!==0?1:nur(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}Nr.prototype.read=function(e){an("read",e),e===void 0?e=NaN:rur(e)||(e=our(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=jur(e)),e!==0&&(t.state&=~Zst),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return an("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?zye(this):c7(this),null;if(e=Hst(e,t),e===0&&t.ended)return t.length===0&&zye(this),null;let n=(t.state&s7)!==0;if(an("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,an("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,an("reading, ended or constructing",n);else if(n){an("do read"),t.state|=Vz|a7,t.length===0&&(t.state|=s7);try{this._read(t.highWaterMark)}catch(i){VN(this,i)}t.state&=~a7,t.reading||(e=Hst(r,t))}let o;return e>0?o=out(e,t):o=null,o===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&zye(this)),o!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",o)),o};function Nur(e,t){if(an("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?c7(e):(t.needReadable=!1,t.emittedReadable=!0,eut(e))}}function c7(e){let t=e._readableState;an("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(an("emitReadable",t.flowing),t.emittedReadable=!0,ng.nextTick(eut,e))}function eut(e){let t=e._readableState;an("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,rut(e)}function u7(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,ng.nextTick(Lur,e,t))}function Lur(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(an("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Nr.prototype._read=function(e){throw new yur("_read()")};Nr.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new aur(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),an("pipe count=%d opts=%j",n.pipes.length,t);let i=(!t||t.end!==!1)&&e!==ng.stdout&&e!==ng.stderr?s:_;n.endEmitted?ng.nextTick(i):r.once("end",i),e.on("unpipe",a);function a(g,v){an("onunpipe"),g===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,c())}function s(){an("onend"),e.end()}let u,l=!1;function c(){an("cleanup"),e.removeListener("close",h),e.removeListener("finish",m),u&&e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",_),r.removeListener("data",f),l=!0,u&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&u()}function d(){l||(n.pipes.length===1&&n.pipes[0]===e?(an("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(an("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),u||(u=Fur(r,e),e.on("drain",u))}r.on("data",f);function f(g){an("ondata");let v=e.write(g);an("dest.write",v),v===!1&&d()}function p(g){if(an("onerror",g),_(),e.removeListener("error",p),e.listenerCount("error")===0){let v=e._writableState||e._readableState;v&&!v.errorEmitted?VN(e,g):e.emit("error",g)}}dur(e,"error",p);function h(){e.removeListener("finish",m),_()}e.once("close",h);function m(){an("onfinish"),e.removeListener("close",h),_()}e.once("finish",m);function _(){an("unpipe"),r.unpipe(e)}return e.emit("pipe",r),e.writableNeedDrain===!0?d():n.flowing||(an("pipe resume"),r.resume()),e};function Fur(e,t){return function(){let n=e._readableState;n.awaitDrainWriters===t?(an("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(an("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()}}Nr.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let o=t.pipes;t.pipes=[],this.pause();for(let i=0;i<o.length;i++)o[i].emit("unpipe",this,{hasUnpiped:!1});return this}let n=tur(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};Nr.prototype.on=function(e,t){let r=UE.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,an("on readable",n.length,n.reading),n.length?c7(this):n.reading||ng.nextTick(kur,this)),r};Nr.prototype.addListener=Nr.prototype.on;Nr.prototype.removeListener=function(e,t){let r=UE.prototype.removeListener.call(this,e,t);return e==="readable"&&ng.nextTick(tut,this),r};Nr.prototype.off=Nr.prototype.removeListener;Nr.prototype.removeAllListeners=function(e){let t=UE.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&ng.nextTick(tut,this),t};function tut(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[mA]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function kur(e){an("readable nexttick read 0"),e.read(0)}Nr.prototype.resume=function(){let e=this._readableState;return e.flowing||(an("resume"),e.flowing=!e.readableListening,Bur(this,e)),e[mA]=!1,this};function Bur(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ng.nextTick($ur,e,t))}function $ur(e,t){an("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),rut(e),t.flowing&&!t.reading&&e.read(0)}Nr.prototype.pause=function(){return an("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(an("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[mA]=!0,this};function rut(e){let t=e._readableState;for(an("flow",t.flowing);t.flowing&&e.read()!==null;);}Nr.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{VN(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=iur(e);for(let n=1;n<r.length;n++){let o=r[n];this[o]===void 0&&typeof e[o]=="function"&&(this[o]=e[o].bind(e))}return this};Nr.prototype[uur]=function(){return nut(this)};Nr.prototype.iterator=function(e){return e!==void 0&&Sur(e,"options"),nut(this,e)};function nut(e,t){typeof e.read!="function"&&(e=Nr.wrap(e,{objectMode:!0}));let r=qur(e,t);return r.stream=e,r}async function*qur(e,t){let r=qye;function n(a){this===e?(r(),r=qye):r=a}e.on("readable",n);let o,i=Jst(e,{writable:!1},a=>{o=a?zst(o,a):null,r(),r=qye});try{for(;;){let a=e.destroyed?null:e.read();if(a!==null)yield a;else{if(o)throw o;if(o===null)return;await new Wst(n)}}}catch(a){throw o=zst(o,a),o}finally{(o||t?.destroyOnReturn!==!1)&&(o===void 0||e._readableState.autoDestroy)?JN.destroyer(e,null):(e.off("readable",n),i())}}Jye(Nr.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Jye(l7.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[mA]!==!1},set(e){this[mA]=!!e}}});Nr._fromList=out;function out(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function zye(e){let t=e._readableState;an("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,ng.nextTick(Uur,t,e))}function Uur(e,t){if(an("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)ng.nextTick(zur,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}function zur(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}Nr.from=function(e,t){return xur(Nr,e,t)};var Hye;function iut(){return Hye===void 0&&(Hye={}),Hye}Nr.fromWeb=function(e,t){return iut().newStreamReadableFromReadableStream(e,t)};Nr.toWeb=function(e,t){return iut().newReadableStreamFromStreamReadable(e,t)};Nr.wrap=function(e,t){var r,n;return new Nr({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(o,i){JN.destroyer(e,o),i(o)}}).wrap(e)}});var m7=b((xto,but)=>{var gA=$E(),{ArrayPrototypeSlice:lut,Error:Hur,FunctionPrototypeSymbolHasInstance:cut,ObjectDefineProperty:dut,ObjectDefineProperties:Vur,ObjectSetPrototypeOf:fut,StringPrototypeToLowerCase:Wur,Symbol:Jur,SymbolHasInstance:Gur}=la();but.exports=ca;ca.WritableState=Kz;var{EventEmitter:Kur}=qz(),Jz=r7().Stream,{Buffer:d7}=Td(),h7=pA(),{addAbortSignal:Yur}=Uz(),{getHighWaterMark:Zur,getDefaultHighWaterMark:Xur}=zz(),{ERR_INVALID_ARG_TYPE:Qur,ERR_METHOD_NOT_IMPLEMENTED:elr,ERR_MULTIPLE_CALLBACK:put,ERR_STREAM_CANNOT_PIPE:tlr,ERR_STREAM_DESTROYED:Gz,ERR_STREAM_ALREADY_FINISHED:rlr,ERR_STREAM_NULL_VALUES:nlr,ERR_STREAM_WRITE_AFTER_END:olr,ERR_UNKNOWN_ENCODING:hut}=Ld().codes,{errorOrDestroy:GN}=h7;fut(ca.prototype,Jz.prototype);fut(ca,Jz);function Yye(){}var KN=Jur("kOnFinished");function Kz(e,t,r){typeof r!="boolean"&&(r=t instanceof Zy()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Zur(this,e,"writableHighWaterMark",r):Xur(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=alr.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p7(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[KN]=[]}function p7(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}Kz.prototype.getBuffer=function(){return lut(this.buffered,this.bufferedIndex)};dut(Kz.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ca(e){let t=this instanceof Zy();if(!t&&!cut(ca,this))return new ca(e);this._writableState=new Kz(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Yur(e.signal,this)),Jz.call(this,e),h7.construct(this,()=>{let r=this._writableState;r.writing||Xye(this,r),Qye(this,r)})}dut(ca,Gur,{__proto__:null,value:function(e){return cut(this,e)?!0:this!==ca?!1:e&&e._writableState instanceof Kz}});ca.prototype.pipe=function(){GN(this,new tlr)};function mut(e,t,r,n){let o=e._writableState;if(typeof r=="function")n=r,r=o.defaultEncoding;else{if(!r)r=o.defaultEncoding;else if(r!=="buffer"&&!d7.isEncoding(r))throw new hut(r);typeof n!="function"&&(n=Yye)}if(t===null)throw new nlr;if(!o.objectMode)if(typeof t=="string")o.decodeStrings!==!1&&(t=d7.from(t,r),r="buffer");else if(t instanceof d7)r="buffer";else if(Jz._isUint8Array(t))t=Jz._uint8ArrayToBuffer(t),r="buffer";else throw new Qur("chunk",["string","Buffer","Uint8Array"],t);let i;return o.ending?i=new olr:o.destroyed&&(i=new Gz("write")),i?(gA.nextTick(n,i),GN(e,i,!0),i):(o.pendingcb++,ilr(e,o,t,r,n))}ca.prototype.write=function(e,t,r){return mut(this,e,t,r)===!0};ca.prototype.cork=function(){this._writableState.corked++};ca.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||Xye(this,e))};ca.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=Wur(t)),!d7.isEncoding(t))throw new hut(t);return this._writableState.defaultEncoding=t,this};function ilr(e,t,r,n,o){let i=t.objectMode?1:r.length;t.length+=i;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:o}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&o!==Yye&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}function sut(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Gz("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function uut(e,t,r,n){--t.pendingcb,n(r),Zye(t),GN(e,r)}function alr(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if(typeof o!="function"){GN(e,new put);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?gA.nextTick(uut,e,r,t,o):uut(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&Xye(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},gA.nextTick(slr,r.afterWriteTickInfo)):gut(e,r,1,o))}function slr({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,gut(e,t,r,n)}function gut(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&Zye(t),Qye(e,t)}function Zye(e){if(e.writing)return;for(let o=e.bufferedIndex;o<e.buffered.length;++o){var t;let{chunk:i,callback:a}=e.buffered[o],s=e.objectMode?1:i.length;e.length-=s,a((t=e.errored)!==null&&t!==void 0?t:new Gz("write"))}let r=e[KN].splice(0);for(let o=0;o<r.length;o++){var n;r[o]((n=e.errored)!==null&&n!==void 0?n:new Gz("end"))}p7(e)}function Xye(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:o}=t,i=r.length-n;if(!i)return;let a=n;if(t.bufferProcessing=!0,i>1&&e._writev){t.pendingcb-=i-1;let s=t.allNoop?Yye:l=>{for(let c=a;c<r.length;++c)r[c].callback(l)},u=t.allNoop&&a===0?r:lut(r,a);u.allBuffers=t.allBuffers,sut(e,t,!0,t.length,u,"",s),p7(t)}else{do{let{chunk:s,encoding:u,callback:l}=r[a];r[a++]=null;let c=o?1:s.length;sut(e,t,!1,c,s,u,l)}while(a<r.length&&!t.writing);a===r.length?p7(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}ca.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new elr("_write()")};ca.prototype._writev=null;ca.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let o;if(e!=null){let i=mut(this,e,t);i instanceof Hur&&(o=i)}return n.corked&&(n.corked=1,this.uncork()),o||(!n.errored&&!n.ending?(n.ending=!0,Qye(this,n,!0),n.ended=!0):n.finished?o=new rlr("end"):n.destroyed&&(o=new Gz("end"))),typeof r=="function"&&(o||n.finished?gA.nextTick(r,o):n[KN].push(r)),this};function f7(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function ulr(e,t){let r=!1;function n(o){if(r){GN(e,o??put());return}if(r=!0,t.pendingcb--,o){let i=t[KN].splice(0);for(let a=0;a<i.length;a++)i[a](o);GN(e,o,t.sync)}else f7(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,gA.nextTick(Kye,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(o){n(o)}t.sync=!1}function llr(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,ulr(e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Qye(e,t,r){f7(t)&&(llr(e,t),t.pendingcb===0&&(r?(t.pendingcb++,gA.nextTick((n,o)=>{f7(o)?Kye(n,o):o.pendingcb--},e,t)):f7(t)&&(t.pendingcb++,Kye(e,t))))}function Kye(e,t){t.pendingcb--,t.finished=!0;let r=t[KN].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}Vur(ca.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var clr=h7.destroy;ca.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[KN].length)&&gA.nextTick(Zye,r),clr.call(this,e,t),this};ca.prototype._undestroy=h7.undestroy;ca.prototype._destroy=function(e,t){t(e)};ca.prototype[Kur.captureRejectionSymbol]=function(e){this.destroy(e)};var Gye;function yut(){return Gye===void 0&&(Gye={}),Gye}ca.fromWeb=function(e,t){return yut().newStreamWritableFromWritableStream(e,t)};ca.toWeb=function(e){return yut().newWritableStreamFromStreamWritable(e)}});var Dut=b((Cto,Rut)=>{var ebe=$E(),dlr=Td(),{isReadable:flr,isWritable:plr,isIterable:_ut,isNodeStream:hlr,isReadableNodeStream:vut,isWritableNodeStream:wut,isDuplexNodeStream:mlr,isReadableStream:Sut,isWritableStream:xut}=Gy(),Cut=mx(),{AbortError:Iut,codes:{ERR_INVALID_ARG_TYPE:glr,ERR_INVALID_RETURN_VALUE:Out}}=Ld(),{destroyer:ZN}=pA(),ylr=Zy(),Aut=Wz(),blr=m7(),{createDeferredPromise:Eut}=Gc(),Put=Bye(),Tut=globalThis.Blob||dlr.Blob,_lr=typeof Tut<"u"?function(t){return t instanceof Tut}:function(t){return!1},vlr=globalThis.AbortController||BN().AbortController,{FunctionPrototypeCall:Mut}=la(),zE=class extends ylr{constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Rut.exports=function e(t,r){if(mlr(t))return t;if(vut(t))return YN({readable:t});if(wut(t))return YN({writable:t});if(hlr(t))return YN({writable:!1,readable:!1});if(Sut(t))return YN({readable:Aut.fromWeb(t)});if(xut(t))return YN({writable:blr.fromWeb(t)});if(typeof t=="function"){let{value:o,write:i,final:a,destroy:s}=wlr(t);if(_ut(o))return Put(zE,o,{objectMode:!0,write:i,final:a,destroy:s});let u=o?.then;if(typeof u=="function"){let l,c=Mut(u,o,d=>{if(d!=null)throw new Out("nully","body",d)},d=>{ZN(l,d)});return l=new zE({objectMode:!0,readable:!1,write:i,final(d){a(async()=>{try{await c,ebe.nextTick(d,null)}catch(f){ebe.nextTick(d,f)}})},destroy:s})}throw new Out("Iterable, AsyncIterable or AsyncFunction",r,o)}if(_lr(t))return e(t.arrayBuffer());if(_ut(t))return Put(zE,t,{objectMode:!0,writable:!1});if(Sut(t?.readable)&&xut(t?.writable))return zE.fromWeb(t);if(typeof t?.writable=="object"||typeof t?.readable=="object"){let o=t!=null&&t.readable?vut(t?.readable)?t?.readable:e(t.readable):void 0,i=t!=null&&t.writable?wut(t?.writable)?t?.writable:e(t.writable):void 0;return YN({readable:o,writable:i})}let n=t?.then;if(typeof n=="function"){let o;return Mut(n,t,i=>{i!=null&&o.push(i),o.push(null)},i=>{ZN(o,i)}),o=new zE({objectMode:!0,writable:!1,read(){}})}throw new glr(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)};function wlr(e){let{promise:t,resolve:r}=Eut(),n=new vlr,o=n.signal;return{value:e(async function*(){for(;;){let a=t;t=null;let{chunk:s,done:u,cb:l}=await a;if(ebe.nextTick(l),u)return;if(o.aborted)throw new Iut(void 0,{cause:o.reason});({promise:t,resolve:r}=Eut()),yield s}}(),{signal:o}),write(a,s,u){let l=r;r=null,l({chunk:a,done:!1,cb:u})},final(a){let s=r;r=null,s({done:!0,cb:a})},destroy(a,s){n.abort(),s(a)}}}function YN(e){let t=e.readable&&typeof e.readable.read!="function"?Aut.wrap(e.readable):e.readable,r=e.writable,n=!!flr(t),o=!!plr(r),i,a,s,u,l;function c(d){let f=u;u=null,f?f(d):d&&l.destroy(d)}return l=new zE({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:o}),o&&(Cut(r,d=>{o=!1,d&&ZN(t,d),c(d)}),l._write=function(d,f,p){r.write(d,f)?p():i=p},l._final=function(d){r.end(),a=d},r.on("drain",function(){if(i){let d=i;i=null,d()}}),r.on("finish",function(){if(a){let d=a;a=null,d()}})),n&&(Cut(t,d=>{n=!1,d&&ZN(t,d),c(d)}),t.on("readable",function(){if(s){let d=s;s=null,d()}}),t.on("end",function(){l.push(null)}),l._read=function(){for(;;){let d=t.read();if(d===null){s=l._read;return}if(!l.push(d))return}}),l._destroy=function(d,f){!d&&u!==null&&(d=new Iut),s=null,i=null,a=null,u===null?f(d):(u=f,ZN(r,d),ZN(t,d))},l}});var Zy=b((Oto,Lut)=>{"use strict";var{ObjectDefineProperties:Slr,ObjectGetOwnPropertyDescriptor:gx,ObjectKeys:xlr,ObjectSetPrototypeOf:jut}=la();Lut.exports=og;var nbe=Wz(),Ih=m7();jut(og.prototype,nbe.prototype);jut(og,nbe);{let e=xlr(Ih.prototype);for(let t=0;t<e.length;t++){let r=e[t];og.prototype[r]||(og.prototype[r]=Ih.prototype[r])}}function og(e){if(!(this instanceof og))return new og(e);nbe.call(this,e),Ih.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Slr(og.prototype,{writable:{__proto__:null,...gx(Ih.prototype,"writable")},writableHighWaterMark:{__proto__:null,...gx(Ih.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...gx(Ih.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...gx(Ih.prototype,"writableBuffer")},writableLength:{__proto__:null,...gx(Ih.prototype,"writableLength")},writableFinished:{__proto__:null,...gx(Ih.prototype,"writableFinished")},writableCorked:{__proto__:null,...gx(Ih.prototype,"writableCorked")},writableEnded:{__proto__:null,...gx(Ih.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...gx(Ih.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var tbe;function Nut(){return tbe===void 0&&(tbe={}),tbe}og.fromWeb=function(e,t){return Nut().newStreamDuplexFromReadableWritablePair(e,t)};og.toWeb=function(e){return Nut().newReadableWritablePairFromDuplex(e)};var rbe;og.from=function(e){return rbe||(rbe=Dut()),rbe(e,"body")}});var abe=b((Eto,kut)=>{"use strict";var{ObjectSetPrototypeOf:Fut,Symbol:Clr}=la();kut.exports=yx;var{ERR_METHOD_NOT_IMPLEMENTED:Olr}=Ld().codes,ibe=Zy(),{getHighWaterMark:Elr}=zz();Fut(yx.prototype,ibe.prototype);Fut(yx,ibe);var Yz=Clr("kCallback");function yx(e){if(!(this instanceof yx))return new yx(e);let t=e?Elr(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),ibe.call(this,e),this._readableState.sync=!1,this[Yz]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Plr)}function obe(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Plr(){this._final!==obe&&obe.call(this)}yx.prototype._final=obe;yx.prototype._transform=function(e,t,r){throw new Olr("_transform()")};yx.prototype._write=function(e,t,r){let n=this._readableState,o=this._writableState,i=n.length;this._transform(e,t,(a,s)=>{if(a){r(a);return}s!=null&&this.push(s),o.ended||i===n.length||n.length<n.highWaterMark?r():this[Yz]=r})};yx.prototype._read=function(){if(this[Yz]){let e=this[Yz];this[Yz]=null,e()}}});var ube=b((Pto,$ut)=>{"use strict";var{ObjectSetPrototypeOf:But}=la();$ut.exports=XN;var sbe=abe();But(XN.prototype,sbe.prototype);But(XN,sbe);function XN(e){if(!(this instanceof XN))return new XN(e);sbe.call(this,e)}XN.prototype._transform=function(e,t,r){r(null,e)}});var _7=b((Tto,Vut)=>{var Zz=$E(),{ArrayIsArray:Tlr,Promise:Mlr,SymbolAsyncIterator:Ilr,SymbolDispose:Alr}=la(),b7=mx(),{once:Rlr}=Gc(),Dlr=pA(),qut=Zy(),{aggregateTwoErrors:jlr,codes:{ERR_INVALID_ARG_TYPE:ybe,ERR_INVALID_RETURN_VALUE:lbe,ERR_MISSING_ARGS:Nlr,ERR_STREAM_DESTROYED:Llr,ERR_STREAM_PREMATURE_CLOSE:Flr},AbortError:klr}=Ld(),{validateFunction:Blr,validateAbortSignal:$lr}=UN(),{isIterable:yA,isReadable:cbe,isReadableNodeStream:y7,isNodeStream:Uut,isTransformStream:QN,isWebStream:qlr,isReadableStream:dbe,isReadableFinished:Ulr}=Gy(),zlr=globalThis.AbortController||BN().AbortController,fbe,pbe,hbe;function zut(e,t,r){let n=!1;e.on("close",()=>{n=!0});let o=b7(e,{readable:t,writable:r},i=>{n=!i});return{destroy:i=>{n||(n=!0,Dlr.destroyer(e,i||new Llr("pipe")))},cleanup:o}}function Hlr(e){return Blr(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function mbe(e){if(yA(e))return e;if(y7(e))return Vlr(e);throw new ybe("val",["Readable","Iterable","AsyncIterable"],e)}async function*Vlr(e){pbe||(pbe=Wz()),yield*pbe.prototype[Ilr].call(e)}async function g7(e,t,r,{end:n}){let o,i=null,a=l=>{if(l&&(o=l),i){let c=i;i=null,c()}},s=()=>new Mlr((l,c)=>{o?c(o):i=()=>{o?c(o):l()}});t.on("drain",a);let u=b7(t,{readable:!1},a);try{t.writableNeedDrain&&await s();for await(let l of e)t.write(l)||await s();n&&(t.end(),await s()),r()}catch(l){r(o!==l?jlr(o,l):l)}finally{u(),t.off("drain",a)}}async function gbe(e,t,r,{end:n}){QN(t)&&(t=t.writable);let o=t.getWriter();try{for await(let i of e)await o.ready,o.write(i).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(i){try{await o.abort(i),r(i)}catch(a){r(a)}}}function Wlr(...e){return Hut(e,Rlr(Hlr(e)))}function Hut(e,t,r){if(e.length===1&&Tlr(e[0])&&(e=e[0]),e.length<2)throw new Nlr("streams");let n=new zlr,o=n.signal,i=r?.signal,a=[];$lr(i,"options.signal");function s(){h(new klr)}hbe=hbe||Gc().addAbortListener;let u;i&&(u=hbe(i,s));let l,c,d=[],f=0;function p(S){h(S,--f===0)}function h(S,x){var O;if(S&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=S),!(!l&&!x)){for(;d.length;)d.shift()(l);(O=u)===null||O===void 0||O[Alr](),n.abort(),x&&(l||a.forEach(T=>T()),Zz.nextTick(t,l,c))}}let m;for(let S=0;S<e.length;S++){let x=e[S],O=S<e.length-1,T=S>0,E=O||r?.end!==!1,M=S===e.length-1;if(Uut(x)){let A=function(j){j&&j.name!=="AbortError"&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(j)};var v=A;if(E){let{destroy:j,cleanup:N}=zut(x,O,T);d.push(j),cbe(x)&&M&&a.push(N)}x.on("error",A),cbe(x)&&M&&a.push(()=>{x.removeListener("error",A)})}if(S===0)if(typeof x=="function"){if(m=x({signal:o}),!yA(m))throw new lbe("Iterable, AsyncIterable or Stream","source",m)}else yA(x)||y7(x)||QN(x)?m=x:m=qut.from(x);else if(typeof x=="function"){if(QN(m)){var _;m=mbe((_=m)===null||_===void 0?void 0:_.readable)}else m=mbe(m);if(m=x(m,{signal:o}),O){if(!yA(m,!0))throw new lbe("AsyncIterable",`transform[${S-1}]`,m)}else{var g;fbe||(fbe=ube());let A=new fbe({objectMode:!0}),j=(g=m)===null||g===void 0?void 0:g.then;if(typeof j=="function")f++,j.call(m,k=>{c=k,k!=null&&A.write(k),E&&A.end(),Zz.nextTick(p)},k=>{A.destroy(k),Zz.nextTick(p,k)});else if(yA(m,!0))f++,g7(m,A,p,{end:E});else if(dbe(m)||QN(m)){let k=m.readable||m;f++,g7(k,A,p,{end:E})}else throw new lbe("AsyncIterable or Promise","destination",m);m=A;let{destroy:N,cleanup:F}=zut(m,!1,!0);d.push(N),M&&a.push(F)}}else if(Uut(x)){if(y7(m)){f+=2;let A=Jlr(m,x,p,{end:E});cbe(x)&&M&&a.push(A)}else if(QN(m)||dbe(m)){let A=m.readable||m;f++,g7(A,x,p,{end:E})}else if(yA(m))f++,g7(m,x,p,{end:E});else throw new ybe("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=x}else if(qlr(x)){if(y7(m))f++,gbe(mbe(m),x,p,{end:E});else if(dbe(m)||yA(m))f++,gbe(m,x,p,{end:E});else if(QN(m))f++,gbe(m.readable,x,p,{end:E});else throw new ybe("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=x}else m=qut.from(x)}return(o!=null&&o.aborted||i!=null&&i.aborted)&&Zz.nextTick(s),m}function Jlr(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new Flr)}),e.pipe(t,{end:!1}),n){let a=function(){o=!0,t.end()};var i=a;Ulr(e)?Zz.nextTick(a):e.once("end",a)}else r();return b7(e,{readable:!0,writable:!1},a=>{let s=e._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?e.once("end",r).once("error",r):r(a)}),b7(t,{readable:!1,writable:!0},r)}Vut.exports={pipelineImpl:Hut,pipeline:Wlr}});var _be=b((Mto,Zut)=>{"use strict";var{pipeline:Glr}=_7(),v7=Zy(),{destroyer:Klr}=pA(),{isNodeStream:w7,isReadable:Wut,isWritable:Jut,isWebStream:bbe,isTransformStream:bA,isWritableStream:Gut,isReadableStream:Kut}=Gy(),{AbortError:Ylr,codes:{ERR_INVALID_ARG_VALUE:Yut,ERR_MISSING_ARGS:Zlr}}=Ld(),Xlr=mx();Zut.exports=function(...t){if(t.length===0)throw new Zlr("streams");if(t.length===1)return v7.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=v7.from(t[0])),typeof t[t.length-1]=="function"){let p=t.length-1;t[p]=v7.from(t[p])}for(let p=0;p<t.length;++p)if(!(!w7(t[p])&&!bbe(t[p]))){if(p<t.length-1&&!(Wut(t[p])||Kut(t[p])||bA(t[p])))throw new Yut(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Jut(t[p])||Gut(t[p])||bA(t[p])))throw new Yut(`streams[${p}]`,r[p],"must be writable")}let n,o,i,a,s;function u(p){let h=a;a=null,h?h(p):p?s.destroy(p):!f&&!d&&s.destroy()}let l=t[0],c=Glr(t,u),d=!!(Jut(l)||Gut(l)||bA(l)),f=!!(Wut(c)||Kut(c)||bA(c));if(s=new v7({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(c!=null&&c.readableObjectMode),writable:d,readable:f}),d){if(w7(l))s._write=function(h,m,_){l.write(h,m)?_():n=_},s._final=function(h){l.end(),o=h},l.on("drain",function(){if(n){let h=n;n=null,h()}});else if(bbe(l)){let m=(bA(l)?l.writable:l).getWriter();s._write=async function(_,g,v){try{await m.ready,m.write(_).catch(()=>{}),v()}catch(S){v(S)}},s._final=async function(_){try{await m.ready,m.close().catch(()=>{}),o=_}catch(g){_(g)}}}let p=bA(c)?c.readable:c;Xlr(p,()=>{if(o){let h=o;o=null,h()}})}if(f){if(w7(c))c.on("readable",function(){if(i){let p=i;i=null,p()}}),c.on("end",function(){s.push(null)}),s._read=function(){for(;;){let p=c.read();if(p===null){i=s._read;return}if(!s.push(p))return}};else if(bbe(c)){let h=(bA(c)?c.readable:c).getReader();s._read=async function(){for(;;)try{let{value:m,done:_}=await h.read();if(!s.push(m))return;if(_){s.push(null);return}}catch{return}}}}return s._destroy=function(p,h){!p&&a!==null&&(p=new Ylr),i=null,n=null,o=null,a===null?h(p):(a=h,w7(c)&&Klr(c,p))},s}});var slt=b((Ito,Sbe)=>{"use strict";var Qlr=globalThis.AbortController||BN().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ecr,ERR_INVALID_ARG_TYPE:Xz,ERR_MISSING_ARGS:tcr,ERR_OUT_OF_RANGE:rcr},AbortError:Xy}=Ld(),{validateAbortSignal:_A,validateInteger:Xut,validateObject:vA}=UN(),ncr=la().Symbol("kWeak"),ocr=la().Symbol("kResistStopPropagation"),{finished:icr}=mx(),acr=_be(),{addAbortSignalNoValidate:scr}=Uz(),{isWritable:ucr,isNodeStream:lcr}=Gy(),{deprecate:ccr}=Gc(),{ArrayPrototypePush:dcr,Boolean:fcr,MathFloor:Qut,Number:pcr,NumberIsNaN:hcr,Promise:elt,PromiseReject:tlt,PromiseResolve:mcr,PromisePrototypeThen:rlt,Symbol:olt}=la(),S7=olt("kEmpty"),nlt=olt("kEof");function gcr(e,t){if(t!=null&&vA(t,"options"),t?.signal!=null&&_A(t.signal,"options.signal"),lcr(e)&&!ucr(e))throw new ecr("stream",e,"must be writable");let r=acr(this,e);return t!=null&&t.signal&&scr(t.signal,r),r}function x7(e,t){if(typeof e!="function")throw new Xz("fn",["Function","AsyncFunction"],e);t!=null&&vA(t,"options"),t?.signal!=null&&_A(t.signal,"options.signal");let r=1;t?.concurrency!=null&&(r=Qut(t.concurrency));let n=r-1;return t?.highWaterMark!=null&&(n=Qut(t.highWaterMark)),Xut(r,"options.concurrency",1),Xut(n,"options.highWaterMark",0),n+=r,async function*(){let i=Gc().AbortSignalAny([t?.signal].filter(fcr)),a=this,s=[],u={signal:i},l,c,d=!1,f=0;function p(){d=!0,h()}function h(){f-=1,m()}function m(){c&&!d&&f<r&&s.length<n&&(c(),c=null)}async function _(){try{for await(let g of a){if(d)return;if(i.aborted)throw new Xy;try{if(g=e(g,u),g===S7)continue;g=mcr(g)}catch(v){g=tlt(v)}f+=1,rlt(g,h,p),s.push(g),l&&(l(),l=null),!d&&(s.length>=n||f>=r)&&await new elt(v=>{c=v})}s.push(nlt)}catch(g){let v=tlt(g);rlt(v,h,p),s.push(v)}finally{d=!0,l&&(l(),l=null)}}_();try{for(;;){for(;s.length>0;){let g=await s[0];if(g===nlt)return;if(i.aborted)throw new Xy;g!==S7&&(yield g),s.shift(),m()}await new elt(g=>{l=g})}}finally{d=!0,c&&(c(),c=null)}}.call(this)}function ycr(e=void 0){return e!=null&&vA(e,"options"),e?.signal!=null&&_A(e.signal,"options.signal"),async function*(){let r=0;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xy({cause:e.signal.reason});yield[r++,o]}}.call(this)}async function ilt(e,t=void 0){for await(let r of wbe.call(this,e,t))return!0;return!1}async function bcr(e,t=void 0){if(typeof e!="function")throw new Xz("fn",["Function","AsyncFunction"],e);return!await ilt.call(this,async(...r)=>!await e(...r),t)}async function _cr(e,t){for await(let r of wbe.call(this,e,t))return r}async function vcr(e,t){if(typeof e!="function")throw new Xz("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),S7}for await(let n of x7.call(this,r,t));}function wbe(e,t){if(typeof e!="function")throw new Xz("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:S7}return x7.call(this,r,t)}var vbe=class extends tcr{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function wcr(e,t,r){var n;if(typeof e!="function")throw new Xz("reducer",["Function","AsyncFunction"],e);r!=null&&vA(r,"options"),r?.signal!=null&&_A(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let l=new Xy(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await icr(this.destroy(l)),l}let i=new Qlr,a=i.signal;if(r!=null&&r.signal){let l={once:!0,[ncr]:this,[ocr]:!0};r.signal.addEventListener("abort",()=>i.abort(),l)}let s=!1;try{for await(let l of this){var u;if(s=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new Xy;o?t=await e(t,l,{signal:a}):(t=l,o=!0)}if(!s&&!o)throw new vbe}finally{i.abort()}return t}async function Scr(e){e!=null&&vA(e,"options"),e?.signal!=null&&_A(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Xy(void 0,{cause:e.signal.reason});dcr(t,n)}return t}function xcr(e,t){let r=x7.call(this,e,t);return async function*(){for await(let o of r)yield*o}.call(this)}function alt(e){if(e=pcr(e),hcr(e))return 0;if(e<0)throw new rcr("number",">= 0",e);return e}function Ccr(e,t=void 0){return t!=null&&vA(t,"options"),t?.signal!=null&&_A(t.signal,"options.signal"),e=alt(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Xy;for await(let i of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Xy;e--<=0&&(yield i)}}.call(this)}function Ocr(e,t=void 0){return t!=null&&vA(t,"options"),t?.signal!=null&&_A(t.signal,"options.signal"),e=alt(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Xy;for await(let i of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Xy;if(e-- >0&&(yield i),e<=0)return}}.call(this)}Sbe.exports.streamReturningOperators={asIndexedPairs:ccr(ycr,"readable.asIndexedPairs will be removed in a future version."),drop:Ccr,filter:wbe,flatMap:xcr,map:x7,take:Ocr,compose:gcr};Sbe.exports.promiseReturningOperators={every:bcr,forEach:vcr,reduce:wcr,toArray:Scr,some:ilt,find:_cr}});var xbe=b((Ato,ult)=>{"use strict";var{ArrayPrototypePop:Ecr,Promise:Pcr}=la(),{isIterable:Tcr,isNodeStream:Mcr,isWebStream:Icr}=Gy(),{pipelineImpl:Acr}=_7(),{finished:Rcr}=mx();Cbe();function Dcr(...e){return new Pcr((t,r)=>{let n,o,i=e[e.length-1];if(i&&typeof i=="object"&&!Mcr(i)&&!Tcr(i)&&!Icr(i)){let a=Ecr(e);n=a.signal,o=a.end}Acr(e,(a,s)=>{a?r(a):t(s)},{signal:n,end:o})})}ult.exports={finished:Rcr,pipeline:Dcr}});var Cbe=b((Rto,ylt)=>{var{Buffer:jcr}=Td(),{ObjectDefineProperty:bx,ObjectKeys:dlt,ReflectApply:flt}=la(),{promisify:{custom:plt}}=Gc(),{streamReturningOperators:llt,promiseReturningOperators:clt}=slt(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:hlt}}=Ld(),Ncr=_be(),{setDefaultHighWaterMark:Lcr,getDefaultHighWaterMark:Fcr}=zz(),{pipeline:mlt}=_7(),{destroyer:kcr}=pA(),glt=mx(),Obe=xbe(),Qz=Gy(),xi=ylt.exports=r7().Stream;xi.isDestroyed=Qz.isDestroyed;xi.isDisturbed=Qz.isDisturbed;xi.isErrored=Qz.isErrored;xi.isReadable=Qz.isReadable;xi.isWritable=Qz.isWritable;xi.Readable=Wz();for(let e of dlt(llt)){let r=function(...n){if(new.target)throw hlt();return xi.Readable.from(flt(t,this,n))};Ebe=r;let t=llt[e];bx(r,"name",{__proto__:null,value:t.name}),bx(r,"length",{__proto__:null,value:t.length}),bx(xi.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ebe;for(let e of dlt(clt)){let r=function(...o){if(new.target)throw hlt();return flt(t,this,o)};Ebe=r;let t=clt[e];bx(r,"name",{__proto__:null,value:t.name}),bx(r,"length",{__proto__:null,value:t.length}),bx(xi.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ebe;xi.Writable=m7();xi.Duplex=Zy();xi.Transform=abe();xi.PassThrough=ube();xi.pipeline=mlt;var{addAbortSignal:Bcr}=Uz();xi.addAbortSignal=Bcr;xi.finished=glt;xi.destroy=kcr;xi.compose=Ncr;xi.setDefaultHighWaterMark=Lcr;xi.getDefaultHighWaterMark=Fcr;bx(xi,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Obe}});bx(mlt,plt,{__proto__:null,enumerable:!0,get(){return Obe.pipeline}});bx(glt,plt,{__proto__:null,enumerable:!0,get(){return Obe.finished}});xi.Stream=xi;xi._isUint8Array=function(t){return t instanceof Uint8Array};xi._uint8ArrayToBuffer=function(t){return jcr.from(t.buffer,t.byteOffset,t.byteLength)}});var e2=b((Dto,Ya)=>{"use strict";var zu=Cbe(),$cr=xbe(),qcr=zu.Readable.destroy;Ya.exports=zu.Readable;Ya.exports._uint8ArrayToBuffer=zu._uint8ArrayToBuffer;Ya.exports._isUint8Array=zu._isUint8Array;Ya.exports.isDisturbed=zu.isDisturbed;Ya.exports.isErrored=zu.isErrored;Ya.exports.isReadable=zu.isReadable;Ya.exports.Readable=zu.Readable;Ya.exports.Writable=zu.Writable;Ya.exports.Duplex=zu.Duplex;Ya.exports.Transform=zu.Transform;Ya.exports.PassThrough=zu.PassThrough;Ya.exports.addAbortSignal=zu.addAbortSignal;Ya.exports.finished=zu.finished;Ya.exports.destroy=zu.destroy;Ya.exports.destroy=qcr;Ya.exports.pipeline=zu.pipeline;Ya.exports.compose=zu.compose;Object.defineProperty(zu,"promises",{configurable:!0,enumerable:!0,get(){return $cr}});Ya.exports.Stream=zu.Stream;Ya.exports.default=Ya.exports});var wA=b((jto,blt)=>{"use strict";blt.exports=TypeError});var _lt=b(()=>{});var o2=b((Fto,Blt)=>{var Lbe=typeof Map=="function"&&Map.prototype,Pbe=Object.getOwnPropertyDescriptor&&Lbe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,O7=Lbe&&Pbe&&typeof Pbe.get=="function"?Pbe.get:null,vlt=Lbe&&Map.prototype.forEach,Fbe=typeof Set=="function"&&Set.prototype,Tbe=Object.getOwnPropertyDescriptor&&Fbe?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E7=Fbe&&Tbe&&typeof Tbe.get=="function"?Tbe.get:null,wlt=Fbe&&Set.prototype.forEach,Ucr=typeof WeakMap=="function"&&WeakMap.prototype,r2=Ucr?WeakMap.prototype.has:null,zcr=typeof WeakSet=="function"&&WeakSet.prototype,n2=zcr?WeakSet.prototype.has:null,Hcr=typeof WeakRef=="function"&&WeakRef.prototype,Slt=Hcr?WeakRef.prototype.deref:null,Vcr=Boolean.prototype.valueOf,Wcr=Object.prototype.toString,Jcr=Function.prototype.toString,Gcr=String.prototype.match,kbe=String.prototype.slice,HE=String.prototype.replace,Kcr=String.prototype.toUpperCase,xlt=String.prototype.toLowerCase,Rlt=RegExp.prototype.test,Clt=Array.prototype.concat,Qy=Array.prototype.join,Ycr=Array.prototype.slice,Olt=Math.floor,Abe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Mbe=Object.getOwnPropertySymbols,Rbe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,eL=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Yc=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===eL||!0)?Symbol.toStringTag:null,Dlt=Object.prototype.propertyIsEnumerable,Elt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Plt(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Rlt.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-Olt(-e):Olt(e);if(n!==e){var o=String(n),i=kbe.call(t,o.length+1);return HE.call(o,r,"$&_")+"."+HE.call(HE.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return HE.call(t,r,"$&_")}var Dbe=_lt(),Tlt=Dbe.custom,Mlt=Llt(Tlt)?Tlt:null,jlt={__proto__:null,double:'"',single:"'"},Zcr={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Blt.exports=function e(t,r,n,o){var i=r||{};if(_x(i,"quoteStyle")&&!_x(jlt,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_x(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=_x(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_x(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_x(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return klt(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?Plt(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?Plt(t,l):l}var c=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof t=="object")return jbe(t)?"[Array]":"[Object]";var d=mdr(i,n);if(typeof o>"u")o=[];else if(Flt(o,t)>=0)return"[Circular]";function f(k,L,q){if(L&&(o=Ycr.call(o),o.push(L)),q){var U={depth:i.depth};return _x(i,"quoteStyle")&&(U.quoteStyle=i.quoteStyle),e(k,U,n+1,o)}return e(k,i,n+1,o)}if(typeof t=="function"&&!Ilt(t)){var p=adr(t),h=C7(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+Qy.call(h,", ")+" }":"")}if(Llt(t)){var m=eL?HE.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Rbe.call(t);return typeof t=="object"&&!eL?t2(m):m}if(fdr(t)){for(var _="<"+xlt.call(String(t.nodeName)),g=t.attributes||[],v=0;v<g.length;v++)_+=" "+g[v].name+"="+Nlt(Xcr(g[v].value),"double",i);return _+=">",t.childNodes&&t.childNodes.length&&(_+="..."),_+="</"+xlt.call(String(t.nodeName))+">",_}if(jbe(t)){if(t.length===0)return"[]";var S=C7(t,f);return d&&!hdr(S)?"["+Nbe(S,d)+"]":"[ "+Qy.call(S,", ")+" ]"}if(edr(t)){var x=C7(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!Dlt.call(t,"cause")?"{ ["+String(t)+"] "+Qy.call(Clt.call("[cause]: "+f(t.cause),x),", ")+" }":x.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Qy.call(x,", ")+" }"}if(typeof t=="object"&&a){if(Mlt&&typeof t[Mlt]=="function"&&Dbe)return Dbe(t,{depth:c-n});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(sdr(t)){var O=[];return vlt&&vlt.call(t,function(k,L){O.push(f(L,t,!0)+" => "+f(k,t))}),Alt("Map",O7.call(t),O,d)}if(cdr(t)){var T=[];return wlt&&wlt.call(t,function(k){T.push(f(k,t))}),Alt("Set",E7.call(t),T,d)}if(udr(t))return Ibe("WeakMap");if(ddr(t))return Ibe("WeakSet");if(ldr(t))return Ibe("WeakRef");if(rdr(t))return t2(f(Number(t)));if(odr(t))return t2(f(Abe.call(t)));if(ndr(t))return t2(Vcr.call(t));if(tdr(t))return t2(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof window<"u"&&t===window)return"{ [object globalThis] }";if(!Qcr(t)&&!Ilt(t)){var E=C7(t,f),M=Elt?Elt(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",j=!M&&Yc&&Object(t)===t&&Yc in t?kbe.call(VE(t),8,-1):A?"Object":"",N=M||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",F=N+(j||A?"["+Qy.call(Clt.call([],j||[],A||[]),": ")+"] ":"");return E.length===0?F+"{}":d?F+"{"+Nbe(E,d)+"}":F+"{ "+Qy.call(E,", ")+" }"}return String(t)};function Nlt(e,t,r){var n=r.quoteStyle||t,o=jlt[n];return o+e+o}function Xcr(e){return HE.call(String(e),/"/g,"&quot;")}function jbe(e){return VE(e)==="[object Array]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function Qcr(e){return VE(e)==="[object Date]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function Ilt(e){return VE(e)==="[object RegExp]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function edr(e){return VE(e)==="[object Error]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function tdr(e){return VE(e)==="[object String]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function rdr(e){return VE(e)==="[object Number]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function ndr(e){return VE(e)==="[object Boolean]"&&(!Yc||!(typeof e=="object"&&Yc in e))}function Llt(e){if(eL)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Rbe)return!1;try{return Rbe.call(e),!0}catch{}return!1}function odr(e){if(!e||typeof e!="object"||!Abe)return!1;try{return Abe.call(e),!0}catch{}return!1}var idr=Object.prototype.hasOwnProperty||function(e){return e in this};function _x(e,t){return idr.call(e,t)}function VE(e){return Wcr.call(e)}function adr(e){if(e.name)return e.name;var t=Gcr.call(Jcr.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Flt(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function sdr(e){if(!O7||!e||typeof e!="object")return!1;try{O7.call(e);try{E7.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function udr(e){if(!r2||!e||typeof e!="object")return!1;try{r2.call(e,r2);try{n2.call(e,n2)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function ldr(e){if(!Slt||!e||typeof e!="object")return!1;try{return Slt.call(e),!0}catch{}return!1}function cdr(e){if(!E7||!e||typeof e!="object")return!1;try{E7.call(e);try{O7.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ddr(e){if(!n2||!e||typeof e!="object")return!1;try{n2.call(e,n2);try{r2.call(e,r2)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function fdr(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function klt(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return klt(kbe.call(e,0,t.maxStringLength),t)+n}var o=Zcr[t.quoteStyle||"single"];o.lastIndex=0;var i=HE.call(HE.call(e,o,"\\$1"),/[\x00-\x1f]/g,pdr);return Nlt(i,"single",t)}function pdr(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Kcr.call(t.toString(16))}function t2(e){return"Object("+e+")"}function Ibe(e){return e+" { ? }"}function Alt(e,t,r,n){var o=n?Nbe(r,n):Qy.call(r,", ");return e+" ("+t+") {"+o+"}"}function hdr(e){for(var t=0;t<e.length;t++)if(Flt(e[t],`
`)>=0)return!1;return!0}function mdr(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Qy.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Qy.call(Array(t+1),r)}}function Nbe(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Qy.call(e,","+r)+`
`+t.prev}function C7(e,t){var r=jbe(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=_x(e,o)?t(e[o],e):""}var i=typeof Mbe=="function"?Mbe(e):[],a;if(eL){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var u in e)_x(e,u)&&(r&&String(Number(u))===u&&u<e.length||eL&&a["$"+u]instanceof Symbol||(Rlt.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof Mbe=="function")for(var l=0;l<i.length;l++)Dlt.call(e,i[l])&&n.push("["+t(i[l])+"]: "+t(e[i[l]],e));return n}});var qlt=b((kto,$lt)=>{"use strict";var gdr=o2(),ydr=wA(),P7=function(e,t,r){for(var n=e,o;(o=n.next)!=null;n=o)if(o.key===t)return n.next=o.next,r||(o.next=e.next,e.next=o),o},bdr=function(e,t){if(e){var r=P7(e,t);return r&&r.value}},_dr=function(e,t,r){var n=P7(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},vdr=function(e,t){return e?!!P7(e,t):!1},wdr=function(e,t){if(e)return P7(e,t,!0)};$lt.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new ydr("Side channel does not contain "+gdr(n))},delete:function(n){var o=t&&t.next,i=wdr(t,n);return i&&o&&o===i&&(t=void 0),!!i},get:function(n){return bdr(t,n)},has:function(n){return vdr(t,n)},set:function(n,o){t||(t={next:void 0}),_dr(t,n,o)}};return r}});var Bbe=b((Bto,Ult)=>{"use strict";Ult.exports=Object});var Hlt=b(($to,zlt)=>{"use strict";zlt.exports=Error});var Wlt=b((qto,Vlt)=>{"use strict";Vlt.exports=EvalError});var Glt=b((Uto,Jlt)=>{"use strict";Jlt.exports=RangeError});var Ylt=b((zto,Klt)=>{"use strict";Klt.exports=ReferenceError});var Xlt=b((Hto,Zlt)=>{"use strict";Zlt.exports=SyntaxError});var ect=b((Vto,Qlt)=>{"use strict";Qlt.exports=URIError});var rct=b((Wto,tct)=>{"use strict";tct.exports=Math.abs});var oct=b((Jto,nct)=>{"use strict";nct.exports=Math.floor});var act=b((Gto,ict)=>{"use strict";ict.exports=Math.max});var uct=b((Kto,sct)=>{"use strict";sct.exports=Math.min});var cct=b((Yto,lct)=>{"use strict";lct.exports=Math.pow});var fct=b((Zto,dct)=>{"use strict";dct.exports=Math.round});var hct=b((Xto,pct)=>{"use strict";pct.exports=Number.isNaN||function(t){return t!==t}});var gct=b((Qto,mct)=>{"use strict";var Sdr=hct();mct.exports=function(t){return Sdr(t)||t===0?t:t<0?-1:1}});var bct=b((ero,yct)=>{"use strict";yct.exports=Object.getOwnPropertyDescriptor});var $be=b((tro,_ct)=>{"use strict";var T7=bct();if(T7)try{T7([],"length")}catch{T7=null}_ct.exports=T7});var wct=b((rro,vct)=>{"use strict";var M7=Object.defineProperty||!1;if(M7)try{M7({},"a",{value:1})}catch{M7=!1}vct.exports=M7});var xct=b((nro,Sct)=>{"use strict";Sct.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0}});var Ect=b((oro,Oct)=>{"use strict";var Cct=typeof Symbol<"u"&&Symbol,xdr=xct();Oct.exports=function(){return typeof Cct!="function"||typeof Symbol!="function"||typeof Cct("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xdr()}});var qbe=b((iro,Pct)=>{"use strict";Pct.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Ube=b((aro,Tct)=>{"use strict";var Cdr=Bbe();Tct.exports=Cdr.getPrototypeOf||null});var Act=b((sro,Ict)=>{"use strict";var Odr="Function.prototype.bind called on incompatible ",Edr=Object.prototype.toString,Pdr=Math.max,Tdr="[object Function]",Mct=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},Mdr=function(t,r){for(var n=[],o=r||0,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},Idr=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};Ict.exports=function(t){var r=this;if(typeof r!="function"||Edr.apply(r)!==Tdr)throw new TypeError(Odr+r);for(var n=Mdr(arguments,1),o,i=function(){if(this instanceof o){var c=r.apply(this,Mct(n,arguments));return Object(c)===c?c:this}return r.apply(t,Mct(n,arguments))},a=Pdr(0,r.length-n.length),s=[],u=0;u<a;u++)s[u]="$"+u;if(o=Function("binder","return function ("+Idr(s,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,o.prototype=new l,l.prototype=null}return o}});var i2=b((uro,Rct)=>{"use strict";var Adr=Act();Rct.exports=Function.prototype.bind||Adr});var I7=b((lro,Dct)=>{"use strict";Dct.exports=Function.prototype.call});var zbe=b((cro,jct)=>{"use strict";jct.exports=Function.prototype.apply});var Lct=b((dro,Nct)=>{"use strict";Nct.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var kct=b((fro,Fct)=>{"use strict";var Rdr=i2(),Ddr=zbe(),jdr=I7(),Ndr=Lct();Fct.exports=Ndr||Rdr.call(jdr,Ddr)});var Hbe=b((pro,Bct)=>{"use strict";var Ldr=i2(),Fdr=wA(),kdr=I7(),Bdr=kct();Bct.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Fdr("a function is required");return Bdr(Ldr,kdr,t)}});var Vct=b((hro,Hct)=>{"use strict";var $dr=Hbe(),$ct=$be(),Uct;try{Uct=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var Vbe=!!Uct&&$ct&&$ct(Object.prototype,"__proto__"),zct=Object,qct=zct.getPrototypeOf;Hct.exports=Vbe&&typeof Vbe.get=="function"?$dr([Vbe.get]):typeof qct=="function"?function(t){return qct(t==null?t:zct(t))}:!1});var Yct=b((mro,Kct)=>{"use strict";var Wct=qbe(),Jct=Ube(),Gct=Vct();Kct.exports=Wct?function(t){return Wct(t)}:Jct?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Jct(t)}:Gct?function(t){return Gct(t)}:null});var Xct=b((gro,Zct)=>{"use strict";var qdr=Function.prototype.call,Udr=Object.prototype.hasOwnProperty,zdr=i2();Zct.exports=zdr.call(qdr,Udr)});var D7=b((yro,odt)=>{"use strict";var sn,Hdr=Bbe(),Vdr=Hlt(),Wdr=Wlt(),Jdr=Glt(),Gdr=Ylt(),oL=Xlt(),nL=wA(),Kdr=ect(),Ydr=rct(),Zdr=oct(),Xdr=act(),Qdr=uct(),efr=cct(),tfr=fct(),rfr=gct(),rdt=Function,Wbe=function(e){try{return rdt('"use strict"; return ('+e+").constructor;")()}catch{}},a2=$be(),nfr=wct(),Jbe=function(){throw new nL},ofr=a2?function(){try{return arguments.callee,Jbe}catch{try{return a2(arguments,"callee").get}catch{return Jbe}}}():Jbe,tL=Ect()(),pl=Yct(),ifr=Ube(),afr=qbe(),ndt=zbe(),s2=I7(),rL={},sfr=typeof Uint8Array>"u"||!pl?sn:pl(Uint8Array),SA={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":tL&&pl?pl([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":rL,"%AsyncGenerator%":rL,"%AsyncGeneratorFunction%":rL,"%AsyncIteratorPrototype%":rL,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?sn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?sn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Vdr,"%eval%":eval,"%EvalError%":Wdr,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":rdt,"%GeneratorFunction%":rL,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tL&&pl?pl(pl([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tL||!pl?sn:pl(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Hdr,"%Object.getOwnPropertyDescriptor%":a2,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":Jdr,"%ReferenceError%":Gdr,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tL||!pl?sn:pl(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tL&&pl?pl(""[Symbol.iterator]()):sn,"%Symbol%":tL?Symbol:sn,"%SyntaxError%":oL,"%ThrowTypeError%":ofr,"%TypedArray%":sfr,"%TypeError%":nL,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":Kdr,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet,"%Function.prototype.call%":s2,"%Function.prototype.apply%":ndt,"%Object.defineProperty%":nfr,"%Object.getPrototypeOf%":ifr,"%Math.abs%":Ydr,"%Math.floor%":Zdr,"%Math.max%":Xdr,"%Math.min%":Qdr,"%Math.pow%":efr,"%Math.round%":tfr,"%Math.sign%":rfr,"%Reflect.getPrototypeOf%":afr};if(pl)try{null.error}catch(e){Qct=pl(pl(e)),SA["%Error.prototype%"]=Qct}var Qct,ufr=function e(t){var r;if(t==="%AsyncFunction%")r=Wbe("async function () {}");else if(t==="%GeneratorFunction%")r=Wbe("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Wbe("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&pl&&(r=pl(o.prototype))}return SA[t]=r,r},edt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},u2=i2(),A7=Xct(),lfr=u2.call(s2,Array.prototype.concat),cfr=u2.call(ndt,Array.prototype.splice),tdt=u2.call(s2,String.prototype.replace),R7=u2.call(s2,String.prototype.slice),dfr=u2.call(s2,RegExp.prototype.exec),ffr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pfr=/\\(\\)?/g,hfr=function(t){var r=R7(t,0,1),n=R7(t,-1);if(r==="%"&&n!=="%")throw new oL("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new oL("invalid intrinsic syntax, expected opening `%`");var o=[];return tdt(t,ffr,function(i,a,s,u){o[o.length]=s?tdt(u,pfr,"$1"):a||i}),o},mfr=function(t,r){var n=t,o;if(A7(edt,n)&&(o=edt[n],n="%"+o[0]+"%"),A7(SA,n)){var i=SA[n];if(i===rL&&(i=ufr(n)),typeof i>"u"&&!r)throw new nL("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new oL("intrinsic "+t+" does not exist!")};odt.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new nL("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new nL('"allowMissing" argument must be a boolean');if(dfr(/^%?[^%]*%?$/,t)===null)throw new oL("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=hfr(t),o=n.length>0?n[0]:"",i=mfr("%"+o+"%",r),a=i.name,s=i.value,u=!1,l=i.alias;l&&(o=l[0],cfr(n,lfr([0,1],l)));for(var c=1,d=!0;c<n.length;c+=1){var f=n[c],p=R7(f,0,1),h=R7(f,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new oL("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(u=!0),o+="."+f,a="%"+o+"%",A7(SA,a))s=SA[a];else if(s!=null){if(!(f in s)){if(!r)throw new nL("base intrinsic for "+t+" exists, but the property is not available.");return}if(a2&&c+1>=n.length){var m=a2(s,f);d=!!m,d&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[f]}else d=A7(s,f),s=s[f];d&&!u&&(SA[a]=s)}}return s}});var Gbe=b((bro,sdt)=>{"use strict";var idt=D7(),adt=Hbe(),gfr=adt([idt("%String.prototype.indexOf%")]);sdt.exports=function(t,r){var n=idt(t,!!r);return typeof n=="function"&&gfr(t,".prototype.")>-1?adt([n]):n}});var Kbe=b((_ro,ldt)=>{"use strict";var yfr=D7(),l2=Gbe(),bfr=o2(),_fr=wA(),udt=yfr("%Map%",!0),vfr=l2("Map.prototype.get",!0),wfr=l2("Map.prototype.set",!0),Sfr=l2("Map.prototype.has",!0),xfr=l2("Map.prototype.delete",!0),Cfr=l2("Map.prototype.size",!0);ldt.exports=!!udt&&function(){var t,r={assert:function(n){if(!r.has(n))throw new _fr("Side channel does not contain "+bfr(n))},delete:function(n){if(t){var o=xfr(t,n);return Cfr(t)===0&&(t=void 0),o}return!1},get:function(n){if(t)return vfr(t,n)},has:function(n){return t?Sfr(t,n):!1},set:function(n,o){t||(t=new udt),wfr(t,n,o)}};return r}});var ddt=b((vro,cdt)=>{"use strict";var Ofr=D7(),N7=Gbe(),Efr=o2(),j7=Kbe(),Pfr=wA(),iL=Ofr("%WeakMap%",!0),Tfr=N7("WeakMap.prototype.get",!0),Mfr=N7("WeakMap.prototype.set",!0),Ifr=N7("WeakMap.prototype.has",!0),Afr=N7("WeakMap.prototype.delete",!0);cdt.exports=iL?function(){var t,r,n={assert:function(o){if(!n.has(o))throw new Pfr("Side channel does not contain "+Efr(o))},delete:function(o){if(iL&&o&&(typeof o=="object"||typeof o=="function")){if(t)return Afr(t,o)}else if(j7&&r)return r.delete(o);return!1},get:function(o){return iL&&o&&(typeof o=="object"||typeof o=="function")&&t?Tfr(t,o):r&&r.get(o)},has:function(o){return iL&&o&&(typeof o=="object"||typeof o=="function")&&t?Ifr(t,o):!!r&&r.has(o)},set:function(o,i){iL&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new iL),Mfr(t,o,i)):j7&&(r||(r=j7()),r.set(o,i))}};return n}:j7});var pdt=b((wro,fdt)=>{"use strict";var Rfr=wA(),Dfr=o2(),jfr=qlt(),Nfr=Kbe(),Lfr=ddt(),Ffr=Lfr||Nfr||jfr;fdt.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new Rfr("Side channel does not contain "+Dfr(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,o){t||(t=Ffr()),t.set(n,o)}};return r}});var L7=b((Sro,hdt)=>{"use strict";var kfr=String.prototype.replace,Bfr=/%20/g,Ybe={RFC1738:"RFC1738",RFC3986:"RFC3986"};hdt.exports={default:Ybe.RFC3986,formatters:{RFC1738:function(e){return kfr.call(e,Bfr,"+")},RFC3986:function(e){return String(e)}},RFC1738:Ybe.RFC1738,RFC3986:Ybe.RFC3986}});var Xbe=b((xro,gdt)=>{"use strict";var $fr=L7(),Zbe=Object.prototype.hasOwnProperty,xA=Array.isArray,eb=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),qfr=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(xA(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},mdt=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]<"u"&&(n[o]=t[o]);return n},Ufr=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(xA(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Zbe.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return xA(t)&&!xA(r)&&(o=mdt(t,n)),xA(t)&&xA(r)?(r.forEach(function(i,a){if(Zbe.call(t,a)){var s=t[a];s&&typeof s=="object"&&i&&typeof i=="object"?t[a]=e(s,i,n):t.push(i)}else t[a]=i}),t):Object.keys(r).reduce(function(i,a){var s=r[a];return Zbe.call(i,a)?i[a]=e(i[a],s,n):i[a]=s,i},o)},zfr=function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},Hfr=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Vfr=function(t,r,n,o,i){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",u=0;u<a.length;++u){var l=a.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===$fr.RFC1738&&(l===40||l===41)){s+=a.charAt(u);continue}if(l<128){s=s+eb[l];continue}if(l<2048){s=s+(eb[192|l>>6]+eb[128|l&63]);continue}if(l<55296||l>=57344){s=s+(eb[224|l>>12]+eb[128|l>>6&63]+eb[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|a.charCodeAt(u)&1023),s+=eb[240|l>>18]+eb[128|l>>12&63]+eb[128|l>>6&63]+eb[128|l&63]}return s},Wfr=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:a,prop:l}),n.push(c))}return qfr(r),t},Jfr=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Gfr=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Kfr=function(t,r){return[].concat(t,r)},Yfr=function(t,r){if(xA(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)};gdt.exports={arrayToObject:mdt,assign:zfr,combine:Kfr,compact:Wfr,decode:Hfr,encode:Vfr,isBuffer:Gfr,isRegExp:Jfr,maybeMap:Yfr,merge:Ufr}});var Sdt=b((Cro,wdt)=>{"use strict";var _dt=pdt(),F7=Xbe(),c2=L7(),Zfr=Object.prototype.hasOwnProperty,ydt={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},vx=Array.isArray,Xfr=Array.prototype.push,vdt=function(e,t){Xfr.apply(e,vx(t)?t:[t])},Qfr=Date.prototype.toISOString,bdt=c2.default,Zc={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:F7.encode,encodeValuesOnly:!1,format:bdt,formatter:c2.formatters[bdt],indices:!1,serializeDate:function(t){return Qfr.call(t)},skipNulls:!1,strictNullHandling:!1},epr=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Qbe={},tpr=function e(t,r,n,o,i,a,s,u,l,c,d,f,p,h,m,_){for(var g=t,v=_,S=0,x=!1;(v=v.get(Qbe))!==void 0&&!x;){var O=v.get(t);if(S+=1,typeof O<"u"){if(O===S)throw new RangeError("Cyclic object value");x=!0}typeof v.get(Qbe)>"u"&&(S=0)}if(typeof u=="function"?g=u(r,g):g instanceof Date?g=d(g):n==="comma"&&vx(g)&&(g=F7.maybeMap(g,function(U){return U instanceof Date?d(U):U})),g===null){if(i)return s&&!h?s(r,Zc.encoder,m,"key",f):r;g=""}if(epr(g)||F7.isBuffer(g)){if(s){var T=h?r:s(r,Zc.encoder,m,"key",f);return[p(T)+"="+p(s(g,Zc.encoder,m,"value",f))]}return[p(r)+"="+p(String(g))]}var E=[];if(typeof g>"u")return E;var M;if(n==="comma"&&vx(g))h&&s&&(g=F7.maybeMap(g,s)),M=[{value:g.length>0?g.join(",")||null:void 0}];else if(vx(u))M=u;else{var A=Object.keys(g);M=l?A.sort(l):A}for(var j=o&&vx(g)&&g.length===1?r+"[]":r,N=0;N<M.length;++N){var F=M[N],k=typeof F=="object"&&typeof F.value<"u"?F.value:g[F];if(!(a&&k===null)){var L=vx(g)?typeof n=="function"?n(j,F):j:j+(c?"."+F:"["+F+"]");_.set(t,S);var q=_dt();q.set(Qbe,_),vdt(E,e(k,L,n,o,i,a,n==="comma"&&h&&vx(g)?null:s,u,l,c,d,f,p,h,m,q))}}return E},rpr=function(t){if(!t)return Zc;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Zc.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=c2.default;if(typeof t.format<"u"){if(!Zfr.call(c2.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=c2.formatters[n],i=Zc.filter;return(typeof t.filter=="function"||vx(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Zc.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Zc.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Zc.charsetSentinel,delimiter:typeof t.delimiter>"u"?Zc.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Zc.encode,encoder:typeof t.encoder=="function"?t.encoder:Zc.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Zc.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Zc.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Zc.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Zc.strictNullHandling}};wdt.exports=function(e,t){var r=e,n=rpr(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):vx(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var s;t&&t.arrayFormat in ydt?s=t.arrayFormat:t&&"indices"in t?s=t.indices?"indices":"repeat":s="indices";var u=ydt[s];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&t&&t.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var c=_dt(),d=0;d<o.length;++d){var f=o[d];n.skipNulls&&r[f]===null||vdt(a,tpr(r[f],f,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=a.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""}});var Odt=b((Oro,Cdt)=>{"use strict";var aL=Xbe(),e_e=Object.prototype.hasOwnProperty,npr=Array.isArray,hl={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:aL.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},opr=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},xdt=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},ipr="utf8=%26%2310003%3B",apr="utf8=%E2%9C%93",spr=function(t,r){var n={__proto__:null},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),s=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===apr?l="utf-8":a[u]===ipr&&(l="iso-8859-1"),s=u,u=a.length);for(u=0;u<a.length;++u)if(u!==s){var c=a[u],d=c.indexOf("]="),f=d===-1?c.indexOf("="):d+1,p,h;f===-1?(p=r.decoder(c,hl.decoder,l,"key"),h=r.strictNullHandling?null:""):(p=r.decoder(c.slice(0,f),hl.decoder,l,"key"),h=aL.maybeMap(xdt(c.slice(f+1),r),function(m){return r.decoder(m,hl.decoder,l,"value")})),h&&r.interpretNumericEntities&&l==="iso-8859-1"&&(h=opr(h)),c.indexOf("[]=")>-1&&(h=npr(h)?[h]:h),e_e.call(n,p)?n[p]=aL.combine(n[p],h):n[p]=h}return n},upr=function(e,t,r,n){for(var o=n?t:xdt(t,r),i=e.length-1;i>=0;--i){var a,s=e[i];if(s==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=parseInt(u,10);!r.parseArrays&&u===""?a={0:o}:!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[],a[l]=o):u!=="__proto__"&&(a[u]=o)}o=a}return o},lpr=function(t,r,n,o){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(i),l=u?i.slice(0,u.index):i,c=[];if(l){if(!n.plainObjects&&e_e.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var d=0;n.depth>0&&(u=s.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&e_e.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),upr(c,r,n,o)}},cpr=function(t){if(!t)return hl;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?hl.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?hl.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:hl.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:hl.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:hl.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:hl.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:hl.comma,decoder:typeof t.decoder=="function"?t.decoder:hl.decoder,delimiter:typeof t.delimiter=="string"||aL.isRegExp(t.delimiter)?t.delimiter:hl.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:hl.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:hl.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:hl.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:hl.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:hl.strictNullHandling}};Cdt.exports=function(e,t){var r=cpr(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?spr(e,r):e,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var s=i[a],u=lpr(s,n[s],r,typeof e=="string");o=aL.merge(o,u,r)}return r.allowSparse===!0?o:aL.compact(o)}});var Pdt=b((Ero,Edt)=>{"use strict";var dpr=Sdt(),fpr=Odt(),ppr=L7();Edt.exports={formats:ppr,parse:fpr,stringify:dpr}});var Tdt=b(sL=>{"use strict";var hpr=sL&&sL.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sL,"__esModule",{value:!0});sL.createRequestUrl=void 0;var mpr=hpr(Pdt());function gpr(e,t){return Object.keys(t??{}).length>0?`${e}?${mpr.default.stringify(t,{arrayFormat:"repeat"})}`:e}sL.createRequestUrl=gpr});var Adt=b(k7=>{"use strict";var t_e,r_e,n_e,o_e,i_e;Object.defineProperty(k7,"__esModule",{value:!0});k7.RUNTIME=void 0;var ypr=typeof window<"u"&&typeof window.document<"u",bpr=typeof self=="object"&&typeof self?.importScripts=="function"&&(((t_e=self.constructor)===null||t_e===void 0?void 0:t_e.name)==="DedicatedWorkerGlobalScope"||((r_e=self.constructor)===null||r_e===void 0?void 0:r_e.name)==="ServiceWorkerGlobalScope"||((n_e=self.constructor)===null||n_e===void 0?void 0:n_e.name)==="SharedWorkerGlobalScope"),Mdt=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",Idt=typeof Bun<"u"&&typeof Bun.version<"u",_pr=typeof process<"u"&&!!process.version&&!!(!((o_e=process.versions)===null||o_e===void 0)&&o_e.node)&&!Mdt&&!Idt,vpr=typeof navigator<"u"&&navigator?.product==="ReactNative",wpr=typeof globalThis<"u"&&((i_e=globalThis?.navigator)===null||i_e===void 0?void 0:i_e.userAgent)==="Cloudflare-Workers";k7.RUNTIME=Spr();function Spr(){return ypr?{type:"browser",version:window.navigator.userAgent}:wpr?{type:"workerd"}:bpr?{type:"web-worker"}:Mdt?{type:"deno",version:Deno.version.deno}:Idt?{type:"bun",version:Bun.version}:_pr?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:vpr?{type:"react-native"}:{type:"unknown"}}});var uL=b(B7=>{"use strict";Object.defineProperty(B7,"__esModule",{value:!0});B7.RUNTIME=void 0;var xpr=Adt();Object.defineProperty(B7,"RUNTIME",{enumerable:!0,get:function(){return xpr.RUNTIME}})});var a_e=b((lL,Rdt)=>{"use strict";var Cpr=function(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")},CA=Cpr();Rdt.exports=lL=CA.fetch;CA.fetch&&(lL.default=CA.fetch.bind(CA));lL.Headers=CA.Headers;lL.Request=CA.Request;lL.Response=CA.Response});var jdt=b(Ah=>{"use strict";var Opr=Ah&&Ah.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Epr=Ah&&Ah.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ddt=Ah&&Ah.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Opr(t,e,r);return Epr(t,e),t},Ppr=Ah&&Ah.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.getFetchFn=void 0;var $7=uL();function Tpr(){return Ppr(this,void 0,void 0,function*(){return $7.RUNTIME.type==="node"&&$7.RUNTIME.parsedVersion!=null&&$7.RUNTIME.parsedVersion>=18?fetch:$7.RUNTIME.type==="node"?(yield Promise.resolve().then(()=>Ddt(a_e()))).default:typeof fetch=="function"?fetch:(yield Promise.resolve().then(()=>Ddt(a_e()))).default})}Ah.getFetchFn=Tpr});var Ndt=b(cL=>{"use strict";var Mpr=cL&&cL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(cL,"__esModule",{value:!0});cL.getRequestBody=void 0;function Ipr({body:e,type:t}){return Mpr(this,void 0,void 0,function*(){return t.includes("json")?JSON.stringify(e):e})}cL.getRequestBody=Ipr});var Ldt=b(dL=>{"use strict";var ig=dL&&dL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(dL,"__esModule",{value:!0});dL.Node18UniversalStreamWrapper=void 0;var s_e=class e{constructor(t){this.readableStream=t,this.reader=this.readableStream.getReader(),this.events={data:[],end:[],error:[],readable:[],close:[],pause:[],resume:[]},this.paused=!1,this.resumeCallback=null,this.encoding=null}on(t,r){var n;(n=this.events[t])===null||n===void 0||n.push(r)}off(t,r){var n;this.events[t]=(n=this.events[t])===null||n===void 0?void 0:n.filter(o=>o!==r)}pipe(t){return this.on("data",r=>ig(this,void 0,void 0,function*(){if(t instanceof e)t._write(r);else if(t instanceof WritableStream){let n=t.getWriter();n.write(r).then(()=>n.releaseLock())}else t.write(r)})),this.on("end",()=>ig(this,void 0,void 0,function*(){t instanceof e?t._end():t instanceof WritableStream?t.getWriter().close():t.end()})),this.on("error",r=>ig(this,void 0,void 0,function*(){t instanceof e?t._error(r):t instanceof WritableStream?t.getWriter().abort(r):t.destroy(r)})),this._startReading(),t}pipeTo(t){return this.pipe(t)}unpipe(t){this.off("data",r=>ig(this,void 0,void 0,function*(){if(t instanceof e)t._write(r);else if(t instanceof WritableStream){let n=t.getWriter();n.write(r).then(()=>n.releaseLock())}else t.write(r)})),this.off("end",()=>ig(this,void 0,void 0,function*(){t instanceof e?t._end():t instanceof WritableStream?t.getWriter().close():t.end()})),this.off("error",r=>ig(this,void 0,void 0,function*(){t instanceof e?t._error(r):t instanceof WritableStream?t.getWriter().abort(r):t.destroy(r)}))}destroy(t){this.reader.cancel(t).then(()=>{this._emit("close")}).catch(r=>{this._emit("error",r)})}pause(){this.paused=!0,this._emit("pause")}resume(){this.paused&&(this.paused=!1,this._emit("resume"),this.resumeCallback&&(this.resumeCallback(),this.resumeCallback=null))}get isPaused(){return this.paused}read(){return ig(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();if(!t)return r})}setEncoding(t){this.encoding=t}text(){return ig(this,void 0,void 0,function*(){let t=[];for(;;){let{done:n,value:o}=yield this.reader.read();if(n)break;o&&t.push(o)}return new TextDecoder(this.encoding||"utf-8").decode(yield new Blob(t).arrayBuffer())})}json(){return ig(this,void 0,void 0,function*(){let t=yield this.text();return JSON.parse(t)})}_write(t){this._emit("data",t)}_end(){this._emit("end")}_error(t){this._emit("error",t)}_emit(t,r){if(this.events[t])for(let n of this.events[t]||[])n(r)}_startReading(){return ig(this,void 0,void 0,function*(){try{for(this._emit("readable");;){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();if(t){this._emit("end"),this._emit("close");break}r&&this._emit("data",r)}}catch(t){this._emit("error",t)}})}[Symbol.asyncIterator](){return{next:()=>ig(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();return t?{done:!0,value:void 0}:{done:!1,value:r}}),[Symbol.asyncIterator](){return this}}}};dL.Node18UniversalStreamWrapper=s_e});var Fdt=b(fL=>{"use strict";var d2=fL&&fL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(fL,"__esModule",{value:!0});fL.UndiciStreamWrapper=void 0;var u_e=class e{constructor(t){this.readableStream=t,this.reader=this.readableStream.getReader(),this.events={data:[],end:[],error:[],readable:[],close:[],pause:[],resume:[]},this.paused=!1,this.resumeCallback=null,this.encoding=null}on(t,r){var n;(n=this.events[t])===null||n===void 0||n.push(r)}off(t,r){var n;this.events[t]=(n=this.events[t])===null||n===void 0?void 0:n.filter(o=>o!==r)}pipe(t){return this.on("data",r=>{if(t instanceof e)t._write(r);else{let n=t.getWriter();n.write(r).then(()=>n.releaseLock())}}),this.on("end",()=>{t instanceof e?t._end():t.getWriter().close()}),this.on("error",r=>{t instanceof e?t._error(r):t.getWriter().abort(r)}),this._startReading(),t}pipeTo(t){return this.pipe(t)}unpipe(t){this.off("data",r=>{if(t instanceof e)t._write(r);else{let n=t.getWriter();n.write(r).then(()=>n.releaseLock())}}),this.off("end",()=>{t instanceof e?t._end():t.getWriter().close()}),this.off("error",r=>{t instanceof e?t._error(r):t.getWriter().abort(r)})}destroy(t){this.reader.cancel(t).then(()=>{this._emit("close")}).catch(r=>{this._emit("error",r)})}pause(){this.paused=!0,this._emit("pause")}resume(){this.paused&&(this.paused=!1,this._emit("resume"),this.resumeCallback&&(this.resumeCallback(),this.resumeCallback=null))}get isPaused(){return this.paused}read(){return d2(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();if(!t)return r})}setEncoding(t){this.encoding=t}text(){return d2(this,void 0,void 0,function*(){let t=[];for(;;){let{done:n,value:o}=yield this.reader.read();if(n)break;o&&t.push(o)}return new TextDecoder(this.encoding||"utf-8").decode(yield new Blob(t).arrayBuffer())})}json(){return d2(this,void 0,void 0,function*(){let t=yield this.text();return JSON.parse(t)})}_write(t){this._emit("data",t)}_end(){this._emit("end")}_error(t){this._emit("error",t)}_emit(t,r){if(this.events[t])for(let n of this.events[t]||[])n(r)}_startReading(){return d2(this,void 0,void 0,function*(){try{for(this._emit("readable");;){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();if(t){this._emit("end"),this._emit("close");break}r&&this._emit("data",r)}}catch(t){this._emit("error",t)}})}[Symbol.asyncIterator](){return{next:()=>d2(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:t,value:r}=yield this.reader.read();return t?{done:!0,value:void 0}:{done:!1,value:r}}),[Symbol.asyncIterator](){return this}}}};fL.UndiciStreamWrapper=u_e});var kdt=b(WE=>{"use strict";var q7=WE&&WE.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Apr=WE&&WE.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}};Object.defineProperty(WE,"__esModule",{value:!0});WE.NodePre18StreamWrapper=void 0;var l_e=class{constructor(t){this.readableStream=t}on(t,r){this.readableStream.on(t,r)}off(t,r){this.readableStream.off(t,r)}pipe(t){return this.readableStream.pipe(t),t}pipeTo(t){return this.pipe(t)}unpipe(t){t?this.readableStream.unpipe(t):this.readableStream.unpipe()}destroy(t){this.readableStream.destroy(t)}pause(){this.readableStream.pause()}resume(){this.readableStream.resume()}get isPaused(){return this.readableStream.isPaused()}read(){return q7(this,void 0,void 0,function*(){return new Promise((t,r)=>{let n=this.readableStream.read();n?t(n):(this.readableStream.once("readable",()=>{let o=this.readableStream.read();t(o)}),this.readableStream.once("error",r))})})}setEncoding(t){this.readableStream.setEncoding(t),this.encoding=t}text(){var t,r;return q7(this,void 0,void 0,function*(){let n=[],o=new TextEncoder;this.readableStream.setEncoding(this.encoding||"utf-8");try{for(var i=Apr(this.readableStream),a;a=yield i.next(),!a.done;){let u=a.value;n.push(o.encode(u))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&(yield r.call(i))}finally{if(t)throw t.error}}return new TextDecoder(this.encoding||"utf-8").decode(Buffer.concat(n))})}json(){return q7(this,void 0,void 0,function*(){let t=yield this.text();return JSON.parse(t)})}[Symbol.asyncIterator](){let r=this.readableStream[Symbol.asyncIterator]();return{next(){return q7(this,void 0,void 0,function*(){let{value:n,done:o}=yield r.next();return{value:n,done:o}})},[Symbol.asyncIterator](){return this}}}};WE.NodePre18StreamWrapper=l_e});var Bdt=b(Rh=>{"use strict";var Rpr=Rh&&Rh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dpr=Rh&&Rh.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c_e=Rh&&Rh.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rpr(t,e,r);return Dpr(t,e),t},jpr=Rh&&Rh.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.chooseStreamWrapper=void 0;var U7=uL();function Npr(e){return jpr(this,void 0,void 0,function*(){return U7.RUNTIME.type==="node"&&U7.RUNTIME.parsedVersion!=null&&U7.RUNTIME.parsedVersion>=18?new(yield Promise.resolve().then(()=>c_e(Ldt()))).Node18UniversalStreamWrapper(e):U7.RUNTIME.type!=="node"&&typeof fetch=="function"?new(yield Promise.resolve().then(()=>c_e(Fdt()))).UndiciStreamWrapper(e):new(yield Promise.resolve().then(()=>c_e(kdt()))).NodePre18StreamWrapper(e)})}Rh.chooseStreamWrapper=Npr});var $dt=b(pL=>{"use strict";var Lpr=pL&&pL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(pL,"__esModule",{value:!0});pL.getResponseBody=void 0;var Fpr=Bdt();function kpr(e,t){return Lpr(this,void 0,void 0,function*(){if(e.body!=null&&t==="blob")return yield e.blob();if(e.body!=null&&t==="sse")return e.body;if(e.body!=null&&t==="streaming")return(0,Fpr.chooseStreamWrapper)(e.body);if(e.body!=null&&t==="text")return yield e.text();{let r=yield e.text();if(r.length>0)try{return JSON.parse(r)}catch{return{ok:!1,error:{reason:"non-json",statusCode:e.status,rawBody:r}}}else return}})}pL.getResponseBody=kpr});var qdt=b(hL=>{"use strict";Object.defineProperty(hL,"__esModule",{value:!0});hL.anySignal=hL.getTimeoutSignal=void 0;var Bpr="timeout";function $pr(e){let t=new AbortController,r=setTimeout(()=>t.abort(Bpr),e);return{signal:t.signal,abortId:r}}hL.getTimeoutSignal=$pr;function qpr(...e){let t=e.length===1&&Array.isArray(e[0])?e[0]:e,r=new AbortController;for(let n of t){if(n.aborted){r.abort(n?.reason);break}n.addEventListener("abort",()=>r.abort(n?.reason),{signal:r.signal})}return r.signal}hL.anySignal=qpr});var zdt=b(mL=>{"use strict";var Upr=mL&&mL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(mL,"__esModule",{value:!0});mL.makeRequest=void 0;var Udt=qdt(),zpr=(e,t,r,n,o,i,a,s,u)=>Upr(void 0,void 0,void 0,function*(){let l=[],c;if(i!=null){let{signal:p,abortId:h}=(0,Udt.getTimeoutSignal)(i);c=h,l.push(p)}a!=null&&l.push(a);let d=(0,Udt.anySignal)(l),f=yield e(t,{method:r,headers:n,body:o,signal:d,credentials:s?"include":void 0,duplex:u});return c!=null&&clearTimeout(c),f});mL.makeRequest=zpr});var Hdt=b(gL=>{"use strict";var Hpr=gL&&gL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(gL,"__esModule",{value:!0});gL.requestWithRetries=void 0;var Vpr=1,Wpr=60,Jpr=2;function Gpr(e,t=Jpr){return Hpr(this,void 0,void 0,function*(){let r=yield e();for(let n=0;n<t&&([408,409,429].includes(r.status)||r.status>=500);++n){let o=Math.min(Vpr*Math.pow(2,n),Wpr);yield new Promise(i=>setTimeout(i,o)),r=yield e()}return r})}gL.requestWithRetries=Gpr});var Jdt=b(JE=>{"use strict";var Vdt=JE&&JE.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(JE,"__esModule",{value:!0});JE.fetcher=JE.fetcherImpl=void 0;var Kpr=Tdt(),Ypr=jdt(),Zpr=Ndt(),Xpr=$dt(),Qpr=zdt(),ehr=Hdt();function Wdt(e){return Vdt(this,void 0,void 0,function*(){let t={};if(e.body!==void 0&&e.contentType!=null&&(t["Content-Type"]=e.contentType),e.headers!=null)for(let[i,a]of Object.entries(e.headers))a!=null&&(t[i]=a);let r=(0,Kpr.createRequestUrl)(e.url,e.queryParameters),n=yield(0,Zpr.getRequestBody)({body:e.body,type:e.requestType==="json"?"json":"other"}),o=yield(0,Ypr.getFetchFn)();try{let i=yield(0,ehr.requestWithRetries)(()=>Vdt(this,void 0,void 0,function*(){return(0,Qpr.makeRequest)(o,r,e.method,t,n,e.timeoutMs,e.abortSignal,e.withCredentials,e.duplex)}),e.maxRetries),a=yield(0,Xpr.getResponseBody)(i,e.responseType);return i.status>=200&&i.status<400?{ok:!0,body:a,headers:i.headers}:{ok:!1,error:{reason:"status-code",statusCode:i.status,body:a}}}catch(i){return e.abortSignal!=null&&e.abortSignal.aborted?{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"}}:i instanceof Error&&i.name==="AbortError"?{ok:!1,error:{reason:"timeout"}}:i instanceof Error?{ok:!1,error:{reason:"unknown",errorMessage:i.message}}:{ok:!1,error:{reason:"unknown",errorMessage:JSON.stringify(i)}}}})}JE.fetcherImpl=Wdt;JE.fetcher=Wdt});var Gdt=b(z7=>{"use strict";Object.defineProperty(z7,"__esModule",{value:!0});z7.getHeader=void 0;function thr(e,t){for(let[r,n]of Object.entries(e))if(r.toLowerCase()===t.toLowerCase())return n}z7.getHeader=thr});var Kdt=b(yL=>{"use strict";var rhr=yL&&yL.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(yL,"__esModule",{value:!0});yL.Supplier=void 0;yL.Supplier={get:e=>rhr(void 0,void 0,void 0,function*(){return typeof e=="function"?e():e})}});var Ydt=b(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});GE.Supplier=GE.getHeader=GE.fetcher=void 0;var nhr=Jdt();Object.defineProperty(GE,"fetcher",{enumerable:!0,get:function(){return nhr.fetcher}});var ohr=Gdt();Object.defineProperty(GE,"getHeader",{enumerable:!0,get:function(){return ohr.getHeader}});var ihr=Kdt();Object.defineProperty(GE,"Supplier",{enumerable:!0,get:function(){return ihr.Supplier}})});var Zdt=b((d_e,f_e)=>{(function(e,t){typeof d_e=="object"&&typeof f_e<"u"?f_e.exports=t():typeof define=="function"&&define.amd?define(t):function(){var r=e.Base64,n=t();n.noConflict=function(){return e.Base64=r,n},e.Meteor&&(Base64=n),e.Base64=n}()})(typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:d_e,function(){"use strict";var e="3.7.2",t=e,r=typeof atob=="function",n=typeof btoa=="function",o=typeof Buffer=="function",i=typeof TextDecoder=="function"?new TextDecoder:void 0,a=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(s),l=function(Z){var Q={};return Z.forEach(function(ue,Me){return Q[ue]=Me}),Q}(u),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(Z,Q){return Q===void 0&&(Q=function(ue){return ue}),new Uint8Array(Array.prototype.slice.call(Z,0).map(Q))},p=function(Z){return Z.replace(/=/g,"").replace(/[+\/]/g,function(Q){return Q=="+"?"-":"_"})},h=function(Z){return Z.replace(/[^A-Za-z0-9\+\/]/g,"")},m=function(Z){for(var Q,ue,Me,ht,we="",ie=Z.length%3,ee=0;ee<Z.length;){if((ue=Z.charCodeAt(ee++))>255||(Me=Z.charCodeAt(ee++))>255||(ht=Z.charCodeAt(ee++))>255)throw new TypeError("invalid character found");Q=ue<<16|Me<<8|ht,we+=u[Q>>18&63]+u[Q>>12&63]+u[Q>>6&63]+u[Q&63]}return ie?we.slice(0,ie-3)+"===".substring(ie):we},_=n?function(Z){return btoa(Z)}:o?function(Z){return Buffer.from(Z,"binary").toString("base64")}:m,g=o?function(Z){return Buffer.from(Z).toString("base64")}:function(Z){for(var Q=4096,ue=[],Me=0,ht=Z.length;Me<ht;Me+=Q)ue.push(d.apply(null,Z.subarray(Me,Me+Q)));return _(ue.join(""))},v=function(Z,Q){return Q===void 0&&(Q=!1),Q?p(g(Z)):g(Z)},S=function(Z){if(Z.length<2){var Q=Z.charCodeAt(0);return Q<128?Z:Q<2048?d(192|Q>>>6)+d(128|Q&63):d(224|Q>>>12&15)+d(128|Q>>>6&63)+d(128|Q&63)}else{var Q=65536+(Z.charCodeAt(0)-55296)*1024+(Z.charCodeAt(1)-56320);return d(240|Q>>>18&7)+d(128|Q>>>12&63)+d(128|Q>>>6&63)+d(128|Q&63)}},x=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,O=function(Z){return Z.replace(x,S)},T=o?function(Z){return Buffer.from(Z,"utf8").toString("base64")}:a?function(Z){return g(a.encode(Z))}:function(Z){return _(O(Z))},E=function(Z,Q){return Q===void 0&&(Q=!1),Q?p(T(Z)):T(Z)},M=function(Z){return E(Z,!0)},A=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,j=function(Z){switch(Z.length){case 4:var Q=(7&Z.charCodeAt(0))<<18|(63&Z.charCodeAt(1))<<12|(63&Z.charCodeAt(2))<<6|63&Z.charCodeAt(3),ue=Q-65536;return d((ue>>>10)+55296)+d((ue&1023)+56320);case 3:return d((15&Z.charCodeAt(0))<<12|(63&Z.charCodeAt(1))<<6|63&Z.charCodeAt(2));default:return d((31&Z.charCodeAt(0))<<6|63&Z.charCodeAt(1))}},N=function(Z){return Z.replace(A,j)},F=function(Z){if(Z=Z.replace(/\s+/g,""),!c.test(Z))throw new TypeError("malformed base64.");Z+="==".slice(2-(Z.length&3));for(var Q,ue="",Me,ht,we=0;we<Z.length;)Q=l[Z.charAt(we++)]<<18|l[Z.charAt(we++)]<<12|(Me=l[Z.charAt(we++)])<<6|(ht=l[Z.charAt(we++)]),ue+=Me===64?d(Q>>16&255):ht===64?d(Q>>16&255,Q>>8&255):d(Q>>16&255,Q>>8&255,Q&255);return ue},k=r?function(Z){return atob(h(Z))}:o?function(Z){return Buffer.from(Z,"base64").toString("binary")}:F,L=o?function(Z){return f(Buffer.from(Z,"base64"))}:function(Z){return f(k(Z),function(Q){return Q.charCodeAt(0)})},q=function(Z){return L(G(Z))},U=o?function(Z){return Buffer.from(Z,"base64").toString("utf8")}:i?function(Z){return i.decode(L(Z))}:function(Z){return N(k(Z))},G=function(Z){return h(Z.replace(/[-_]/g,function(Q){return Q=="-"?"+":"/"}))},V=function(Z){return U(G(Z))},D=function(Z){if(typeof Z!="string")return!1;var Q=Z.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Q)||!/[^\s0-9a-zA-Z\-_]/.test(Q)},z=function(Z){return{value:Z,enumerable:!1,writable:!0,configurable:!0}},W=function(){var Z=function(Q,ue){return Object.defineProperty(String.prototype,Q,z(ue))};Z("fromBase64",function(){return V(this)}),Z("toBase64",function(Q){return E(this,Q)}),Z("toBase64URI",function(){return E(this,!0)}),Z("toBase64URL",function(){return E(this,!0)}),Z("toUint8Array",function(){return q(this)})},J=function(){var Z=function(Q,ue){return Object.defineProperty(Uint8Array.prototype,Q,z(ue))};Z("toBase64",function(Q){return v(this,Q)}),Z("toBase64URI",function(){return v(this,!0)}),Z("toBase64URL",function(){return v(this,!0)})},te=function(){W(),J()},Ae={version:e,VERSION:t,atob:k,atobPolyfill:F,btoa:_,btoaPolyfill:m,fromBase64:V,toBase64:E,encode:E,encodeURI:M,encodeURL:M,utob:O,btou:N,decode:V,isValid:D,fromUint8Array:v,toUint8Array:q,extendString:W,extendUint8Array:J,extendBuiltins:te};return Ae.Base64={},Object.keys(Ae).forEach(function(Z){return Ae.Base64[Z]=Ae[Z]}),Ae})});var Qdt=b(H7=>{"use strict";Object.defineProperty(H7,"__esModule",{value:!0});H7.BasicAuth=void 0;var Xdt=Zdt(),ahr=/^Basic /i;H7.BasicAuth={toAuthorizationHeader:e=>e==null?void 0:`Basic ${Xdt.Base64.encode(`${e.username}:${e.password}`)}`,fromAuthorizationHeader:e=>{let t=e.replace(ahr,""),r=Xdt.Base64.decode(t),[n,o]=r.split(":",2);if(n==null||o==null)throw new Error("Invalid basic auth");return{username:n,password:o}}}});var eft=b(V7=>{"use strict";Object.defineProperty(V7,"__esModule",{value:!0});V7.BearerToken=void 0;var shr=/^Bearer /i;V7.BearerToken={toAuthorizationHeader:e=>{if(e!=null)return`Bearer ${e}`},fromAuthorizationHeader:e=>e.replace(shr,"").trim()}});var tft=b(bL=>{"use strict";Object.defineProperty(bL,"__esModule",{value:!0});bL.BearerToken=bL.BasicAuth=void 0;var uhr=Qdt();Object.defineProperty(bL,"BasicAuth",{enumerable:!0,get:function(){return uhr.BasicAuth}});var lhr=eft();Object.defineProperty(bL,"BearerToken",{enumerable:!0,get:function(){return lhr.BearerToken}})});var h_e=b(bf=>{"use strict";var rft=bf&&bf.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},nft=bf&&bf.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},ag=bf&&bf.__await||function(e){return this instanceof ag?(this.v=e,this):new ag(e)},oft=bf&&bf.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(h,m){i.push([f,p,h,m])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(h){d(i[0][3],h)}}function u(f){f.value instanceof ag?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(bf,"__esModule",{value:!0});bf.readableStreamAsyncIterable=bf.Stream=void 0;var chr=uL(),dhr="data:",p_e=class{constructor({stream:t,parse:r,eventShape:n,signal:o}){this.controller=new AbortController,this.stream=t,this.parse=r,n.type==="sse"?(this.prefix=dhr,this.messageTerminator=`
`,this.streamTerminator=n.streamTerminator):this.messageTerminator=n.messageTerminator,o?.addEventListener("abort",()=>this.controller.abort())}iterMessages(){return oft(this,arguments,function*(){var r,n;this.controller.signal;let o=ift(this.stream),i="",a=!1;try{for(var s=nft(o),u;u=yield ag(s.next()),!u.done;){let l=u.value;i+=this.decodeChunk(l);let c;for(;(c=i.indexOf(this.messageTerminator))>=0;){let d=i.slice(0,c+1);if(i=i.slice(c+1),d.length===0)continue;if(!a&&this.prefix!=null){let p=d.indexOf(this.prefix);if(p===-1)continue;a=!0,d=d.slice(p+this.prefix.length)}if(this.streamTerminator!=null&&d.includes(this.streamTerminator))return yield ag(void 0);let f=yield ag(this.parse(JSON.parse(d)));yield yield ag(f),a=!1}}}catch(l){r={error:l}}finally{try{u&&!u.done&&(n=s.return)&&(yield ag(n.call(s)))}finally{if(r)throw r.error}}})}[Symbol.asyncIterator](){return oft(this,arguments,function*(){var r,n;try{for(var o=nft(this.iterMessages()),i;i=yield ag(o.next()),!i.done;){let a=i.value;yield yield ag(a)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&(yield ag(n.call(o)))}finally{if(r)throw r.error}}})}decodeChunk(t){let r="";if(typeof TextDecoder<"u"){let n=new TextDecoder("utf8");r+=n.decode(t)}else chr.RUNTIME.type==="node"&&typeof t<"u"&&(r+=Buffer.isBuffer(t)?t:Buffer.from(t));return r}};bf.Stream=p_e;function ift(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{next(){return rft(this,void 0,void 0,function*(){try{let r=yield t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}})},return(){return rft(this,void 0,void 0,function*(){let r=t.cancel();return t.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}bf.readableStreamAsyncIterable=ift});var aft=b(W7=>{"use strict";Object.defineProperty(W7,"__esModule",{value:!0});W7.Stream=void 0;var fhr=h_e();Object.defineProperty(W7,"Stream",{enumerable:!0,get:function(){return fhr.Stream}})});var lft=b((Kro,uft)=>{"use strict";var m_e=Object.defineProperty,phr=Object.getOwnPropertyDescriptor,hhr=Object.getOwnPropertyNames,mhr=Object.prototype.hasOwnProperty,ghr=(e,t)=>{for(var r in t)m_e(e,r,{get:t[r],enumerable:!0})},yhr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hhr(t))!mhr.call(e,o)&&o!==r&&m_e(e,o,{get:()=>t[o],enumerable:!(n=phr(t,o))||n.enumerable});return e},bhr=e=>yhr(m_e({},"__esModule",{value:!0}),e),sft={};ghr(sft,{Blob:()=>whr,File:()=>Shr,FormData:()=>vhr});uft.exports=bhr(sft);var _hr=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window}(),{FormData:vhr,Blob:whr,File:Shr}=_hr});var Sft=b((Yro,wft)=>{"use strict";var b_e=Object.defineProperty,xhr=Object.getOwnPropertyDescriptor,Chr=Object.getOwnPropertyNames,Ohr=Object.prototype.hasOwnProperty,Ehr=(e,t)=>{for(var r in t)b_e(e,r,{get:t[r],enumerable:!0})},Phr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Chr(t))!Ohr.call(e,o)&&o!==r&&b_e(e,o,{get:()=>t[o],enumerable:!(n=xhr(t,o))||n.enumerable});return e},Thr=e=>Phr(b_e({},"__esModule",{value:!0}),e),__e=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ia=(e,t,r)=>(__e(e,t,"read from private field"),r?r.call(e):t.get(e)),tb=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f2=(e,t,r,n)=>(__e(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),g_e=(e,t,r)=>(__e(e,t,"access private method"),r),gft={};Ehr(gft,{FormDataEncoder:()=>Lhr,isFile:()=>EA,isFormData:()=>_ft});wft.exports=Thr(gft);var wx=e=>typeof e=="function",Mhr=e=>wx(e[Symbol.asyncIterator]),cft=65536;function*yft(e){if(e.byteLength<=cft){yield e;return}let t=0;for(;t<e.byteLength;){let r=Math.min(e.byteLength-t,cft),n=e.buffer.slice(t,t+r);t+=n.byteLength,yield new Uint8Array(n)}}async function*Ihr(e){let t=e.getReader();for(;;){let{done:r,value:n}=await t.read();if(r)break;yield n}}async function*dft(e){for await(let t of e)yield*yft(t)}var Ahr=e=>{if(Mhr(e))return dft(e);if(wx(e.getReader))return dft(Ihr(e));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},fft="abcdefghijklmnopqrstuvwxyz0123456789";function Rhr(){let e=16,t="";for(;e--;)t+=fft[Math.random()*fft.length<<0];return t}var bft=e=>String(e).replace(/\r|\n/g,(t,r,n)=>t==="\r"&&n[r+1]!==`
`||t===`
`&&n[r-1]!=="\r"?`\r
`:t),Dhr=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function pft(e){if(Dhr(e)!=="object")return!1;let t=Object.getPrototypeOf(e);return t==null?!0:(t.constructor&&t.constructor.toString())===Object.toString()}function hft(e,t){if(typeof t=="string"){for(let[r,n]of Object.entries(e))if(t.toLowerCase()===r.toLowerCase())return n}}var jhr=e=>new Proxy(e,{get:(t,r)=>hft(t,r),has:(t,r)=>hft(t,r)!==void 0}),_ft=e=>!!(e&&wx(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&wx(e.append)&&wx(e.getAll)&&wx(e.entries)&&wx(e[Symbol.iterator])),mft=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),EA=e=>!!(e&&typeof e=="object"&&wx(e.constructor)&&e[Symbol.toStringTag]==="File"&&wx(e.stream)&&e.name!=null),Nhr={enableAdditionalHeaders:!1},J7={writable:!1,configurable:!1},KE,p2,G7,h2,OA,m2,g2,K7,Y7,v_e,y_e,vft,Lhr=class{constructor(e,t,r){if(tb(this,Y7),tb(this,y_e),tb(this,KE,`\r
`),tb(this,p2,void 0),tb(this,G7,void 0),tb(this,h2,"-".repeat(2)),tb(this,OA,new TextEncoder),tb(this,m2,void 0),tb(this,g2,void 0),tb(this,K7,void 0),!_ft(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if(pft(t)?r=t:n=t,n||(n=Rhr()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(r&&!pft(r))throw new TypeError("Expected options argument to be an object.");f2(this,g2,Array.from(e.entries())),f2(this,K7,{...Nhr,...r}),f2(this,p2,Ia(this,OA).encode(Ia(this,KE))),f2(this,G7,Ia(this,p2).byteLength),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,f2(this,m2,Ia(this,OA).encode(`${Ia(this,h2)}${this.boundary}${Ia(this,h2)}${Ia(this,KE).repeat(2)}`));let o={"Content-Type":this.contentType},i=g_e(this,y_e,vft).call(this);i&&(this.contentLength=i,o["Content-Length"]=i),this.headers=jhr(Object.freeze(o)),Object.defineProperties(this,{boundary:J7,contentType:J7,contentLength:J7,headers:J7})}*values(){for(let[e,t]of Ia(this,g2)){let r=EA(t)?t:Ia(this,OA).encode(bft(t));yield g_e(this,Y7,v_e).call(this,e,r),yield r,yield Ia(this,p2)}yield Ia(this,m2)}async*encode(){for(let e of this.values())EA(e)?yield*Ahr(e.stream()):yield*yft(e)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};KE=new WeakMap;p2=new WeakMap;G7=new WeakMap;h2=new WeakMap;OA=new WeakMap;m2=new WeakMap;g2=new WeakMap;K7=new WeakMap;Y7=new WeakSet;v_e=function(e,t){let r="";if(r+=`${Ia(this,h2)}${this.boundary}${Ia(this,KE)}`,r+=`Content-Disposition: form-data; name="${mft(e)}"`,EA(t)&&(r+=`; filename="${mft(t.name)}"${Ia(this,KE)}`,r+=`Content-Type: ${t.type||"application/octet-stream"}`),Ia(this,K7).enableAdditionalHeaders===!0){let n=EA(t)?t.size:t.byteLength;n!=null&&!isNaN(n)&&(r+=`${Ia(this,KE)}Content-Length: ${n}`)}return Ia(this,OA).encode(`${r}${Ia(this,KE).repeat(2)}`)};y_e=new WeakSet;vft=function(){let e=0;for(let[t,r]of Ia(this,g2)){let n=EA(r)?r:Ia(this,OA).encode(bft(r)),o=EA(n)?n.size:n.byteLength;if(o==null||isNaN(o))return;e+=g_e(this,Y7,v_e).call(this,t,n).byteLength,e+=o,e+=Ia(this,G7)}return String(e+Ia(this,m2).byteLength)}});var Cft=b((Xro,xft)=>{xft.exports=typeof self=="object"?self.FormData:window.FormData});var Oft=b(ml=>{"use strict";var Fhr=ml&&ml.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),khr=ml&&ml.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_L=ml&&ml.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fhr(t,e,r);return khr(t,e),t},YE=ml&&ml.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(ml,"__esModule",{value:!0});ml.WebFormData=ml.Node16FormData=ml.Node18FormData=ml.newFormData=void 0;var Z7=uL();function w_e(e){return typeof e=="object"&&e!=null&&"name"in e}function Bhr(){return YE(this,void 0,void 0,function*(){let e;return Z7.RUNTIME.type==="node"&&Z7.RUNTIME.parsedVersion!=null&&Z7.RUNTIME.parsedVersion>=18?e=new X7:Z7.RUNTIME.type==="node"?e=new Q7:e=new eY,yield e.setup(),e})}ml.newFormData=Bhr;var X7=class{setup(){return YE(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>_L(lft()))).FormData})}append(t,r){var n;(n=this.fd)===null||n===void 0||n.append(t,r)}appendFile(t,r,n){var o,i;return YE(this,void 0,void 0,function*(){n==null&&w_e(r)&&(n=r.name),r instanceof(yield Promise.resolve().then(()=>_L(e2()))).Readable?(o=this.fd)===null||o===void 0||o.append(t,{type:void 0,name:n,[Symbol.toStringTag]:"File",stream(){return r}}):(i=this.fd)===null||i===void 0||i.append(t,r,n)})}getRequest(){return YE(this,void 0,void 0,function*(){let t=new(yield Promise.resolve().then(()=>_L(Sft()))).FormDataEncoder(this.fd);return{body:yield(yield Promise.resolve().then(()=>_L(e2()))).Readable.from(t),headers:t.headers,duplex:"half"}})}};ml.Node18FormData=X7;var Q7=class{setup(){return YE(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>_L(Cft()))).default})}append(t,r){var n;(n=this.fd)===null||n===void 0||n.append(t,r)}appendFile(t,r,n){var o,i;return YE(this,void 0,void 0,function*(){n==null&&w_e(r)&&(n=r.name);let a;r instanceof(yield Promise.resolve().then(()=>_L(e2()))).Readable?a=r:a=Buffer.from(yield r.arrayBuffer()),n==null?(o=this.fd)===null||o===void 0||o.append(t,a):(i=this.fd)===null||i===void 0||i.append(t,a,{filename:n})})}getRequest(){return{body:this.fd,headers:this.fd?this.fd.getHeaders():{}}}};ml.Node16FormData=Q7;var eY=class{setup(){return YE(this,void 0,void 0,function*(){this.fd=new FormData})}append(t,r){var n;(n=this.fd)===null||n===void 0||n.append(t,r)}appendFile(t,r,n){var o;return YE(this,void 0,void 0,function*(){n==null&&w_e(r)&&(n=r.name),(o=this.fd)===null||o===void 0||o.append(t,new Blob([r]),n)})}getRequest(){return{body:this.fd,headers:{}}}};ml.WebFormData=eY});var Eft=b(PA=>{"use strict";var $hr=PA&&PA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qhr=PA&&PA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$hr(t,e,r)};Object.defineProperty(PA,"__esModule",{value:!0});qhr(Oft(),PA)});var Zl=b(tY=>{"use strict";Object.defineProperty(tY,"__esModule",{value:!0});tY.SchemaType=void 0;tY.SchemaType={DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",OPTIONAL:"optional"}});var _f=b(rY=>{"use strict";Object.defineProperty(rY,"__esModule",{value:!0});rY.getErrorMessageForIncorrectType=void 0;function Uhr(e,t){return`Expected ${t}. Received ${zhr(e)}.`}rY.getErrorMessageForIncorrectType=Uhr;function zhr(e){if(Array.isArray(e))return"list";if(e===null)return"null";switch(typeof e){case"string":return`"${e}"`;case"number":case"boolean":case"undefined":return`${e}`}return typeof e}});var Sx=b(nY=>{"use strict";Object.defineProperty(nY,"__esModule",{value:!0});nY.maybeSkipValidation=void 0;function Hhr(e){return Object.assign(Object.assign({},e),{json:Pft(e.json),parse:Pft(e.parse)})}nY.maybeSkipValidation=Hhr;function Pft(e){return(t,r)=>{let n=e(t,r),{skipValidation:o=!1}=r??{};return!n.ok&&o?(console.warn(["Failed to validate.",...n.errors.map(i=>"  - "+(i.path.length>0?`${i.path.join(".")}: ${i.message}`:i.message))].join(`
`)),{ok:!0,value:t}):n}}});var S_e=b(oY=>{"use strict";Object.defineProperty(oY,"__esModule",{value:!0});oY.stringifyValidationError=void 0;function Vhr(e){return e.path.length===0?e.message:`${e.path.join(" -> ")}: ${e.message}`}oY.stringifyValidationError=Vhr});var C_e=b(iY=>{"use strict";Object.defineProperty(iY,"__esModule",{value:!0});iY.JsonError=void 0;var Whr=S_e(),x_e=class e extends Error{constructor(t){super(t.map(Whr.stringifyValidationError).join("; ")),this.errors=t,Object.setPrototypeOf(this,e.prototype)}};iY.JsonError=x_e});var E_e=b(aY=>{"use strict";Object.defineProperty(aY,"__esModule",{value:!0});aY.ParseError=void 0;var Jhr=S_e(),O_e=class e extends Error{constructor(t){super(t.map(Jhr.stringifyValidationError).join("; ")),this.errors=t,Object.setPrototypeOf(this,e.prototype)}};aY.ParseError=O_e});var Ift=b(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.transform=ZE.optional=ZE.getSchemaUtils=void 0;var Ghr=Zl(),Khr=C_e(),Yhr=E_e();function P_e(e){return{optional:()=>Tft(e),transform:t=>Mft(e,t),parseOrThrow:(t,r)=>{let n=e.parse(t,r);if(n.ok)return n.value;throw new Yhr.ParseError(n.errors)},jsonOrThrow:(t,r)=>{let n=e.json(t,r);if(n.ok)return n.value;throw new Khr.JsonError(n.errors)}}}ZE.getSchemaUtils=P_e;function Tft(e){let t={parse:(r,n)=>r==null?{ok:!0,value:void 0}:e.parse(r,n),json:(r,n)=>n?.omitUndefined&&r===void 0?{ok:!0,value:void 0}:r==null?{ok:!0,value:null}:e.json(r,n),getType:()=>Ghr.SchemaType.OPTIONAL};return Object.assign(Object.assign({},t),P_e(t))}ZE.optional=Tft;function Mft(e,t){let r={parse:(n,o)=>{let i=e.parse(n,o);return i.ok?{ok:!0,value:t.transform(i.value)}:i},json:(n,o)=>{let i=t.untransform(n);return e.json(i,o)},getType:()=>e.getType()};return Object.assign(Object.assign({},r),P_e(r))}ZE.transform=Mft});var fp=b(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.ParseError=Dh.JsonError=Dh.transform=Dh.optional=Dh.getSchemaUtils=void 0;var T_e=Ift();Object.defineProperty(Dh,"getSchemaUtils",{enumerable:!0,get:function(){return T_e.getSchemaUtils}});Object.defineProperty(Dh,"optional",{enumerable:!0,get:function(){return T_e.optional}});Object.defineProperty(Dh,"transform",{enumerable:!0,get:function(){return T_e.transform}});var Zhr=C_e();Object.defineProperty(Dh,"JsonError",{enumerable:!0,get:function(){return Zhr.JsonError}});var Xhr=E_e();Object.defineProperty(Dh,"ParseError",{enumerable:!0,get:function(){return Xhr.ParseError}})});var Aft=b(sY=>{"use strict";Object.defineProperty(sY,"__esModule",{value:!0});sY.date=void 0;var Qhr=Zl(),M_e=_f(),emr=Sx(),tmr=fp(),rmr=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function nmr(){let e={parse:(t,{breadcrumbsPrefix:r=[]}={})=>typeof t!="string"?{ok:!1,errors:[{path:r,message:(0,M_e.getErrorMessageForIncorrectType)(t,"string")}]}:rmr.test(t)?{ok:!0,value:new Date(t)}:{ok:!1,errors:[{path:r,message:(0,M_e.getErrorMessageForIncorrectType)(t,"ISO 8601 date string")}]},json:(t,{breadcrumbsPrefix:r=[]}={})=>t instanceof Date?{ok:!0,value:t.toISOString()}:{ok:!1,errors:[{path:r,message:(0,M_e.getErrorMessageForIncorrectType)(t,"Date object")}]},getType:()=>Qhr.SchemaType.DATE};return Object.assign(Object.assign({},(0,emr.maybeSkipValidation)(e)),(0,tmr.getSchemaUtils)(e))}sY.date=nmr});var Rft=b(uY=>{"use strict";Object.defineProperty(uY,"__esModule",{value:!0});uY.date=void 0;var omr=Aft();Object.defineProperty(uY,"date",{enumerable:!0,get:function(){return omr.date}})});var xx=b(lY=>{"use strict";Object.defineProperty(lY,"__esModule",{value:!0});lY.createIdentitySchemaCreator=void 0;var imr=fp(),amr=Sx();function smr(e,t){return()=>{let r={parse:t,json:t,getType:()=>e};return Object.assign(Object.assign({},(0,amr.maybeSkipValidation)(r)),(0,imr.getSchemaUtils)(r))}}lY.createIdentitySchemaCreator=smr});var jft=b(cY=>{"use strict";Object.defineProperty(cY,"__esModule",{value:!0});cY.enum_=void 0;var umr=Zl(),lmr=xx(),Dft=_f();function cmr(e){let t=new Set(e);return(0,lmr.createIdentitySchemaCreator)(umr.SchemaType.ENUM,(n,{allowUnrecognizedEnumValues:o,breadcrumbsPrefix:i=[]}={})=>typeof n!="string"?{ok:!1,errors:[{path:i,message:(0,Dft.getErrorMessageForIncorrectType)(n,"string")}]}:!t.has(n)&&!o?{ok:!1,errors:[{path:i,message:(0,Dft.getErrorMessageForIncorrectType)(n,"enum")}]}:{ok:!0,value:n})()}cY.enum_=cmr});var I_e=b(dY=>{"use strict";Object.defineProperty(dY,"__esModule",{value:!0});dY.enum_=void 0;var dmr=jft();Object.defineProperty(dY,"enum_",{enumerable:!0,get:function(){return dmr.enum_}})});var A_e=b(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.getMemoizedSchema=XE.constructLazyBaseSchema=XE.lazy=void 0;var fmr=fp();function pmr(e){let t=Nft(e);return Object.assign(Object.assign({},t),(0,fmr.getSchemaUtils)(t))}XE.lazy=pmr;function Nft(e){return{parse:(t,r)=>fY(e).parse(t,r),json:(t,r)=>fY(e).json(t,r),getType:()=>fY(e).getType()}}XE.constructLazyBaseSchema=Nft;function fY(e){let t=e;return t.__zurg_memoized==null&&(t.__zurg_memoized=e()),t.__zurg_memoized}XE.getMemoizedSchema=fY});var R_e=b(pY=>{"use strict";Object.defineProperty(pY,"__esModule",{value:!0});pY.entries=void 0;function hmr(e){return Object.entries(e)}pY.entries=hmr});var D_e=b(hY=>{"use strict";Object.defineProperty(hY,"__esModule",{value:!0});hY.filterObject=void 0;function mmr(e,t){let r=new Set(t);return Object.entries(e).reduce((n,[o,i])=>(r.has(o)&&(n[o]=i),n),{})}hY.filterObject=mmr});var y2=b(mY=>{"use strict";Object.defineProperty(mY,"__esModule",{value:!0});mY.isPlainObject=void 0;function gmr(e){if(typeof e!="object"||e===null)return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}mY.isPlainObject=gmr});var j_e=b(gY=>{"use strict";Object.defineProperty(gY,"__esModule",{value:!0});gY.keys=void 0;function ymr(e){return Object.keys(e)}gY.keys=ymr});var Lft=b(yY=>{"use strict";Object.defineProperty(yY,"__esModule",{value:!0});yY.partition=void 0;function bmr(e,t){let r=[],n=[];for(let o of e)t(o)?r.push(o):n.push(o);return[r,n]}yY.partition=bmr});var Bft=b(vL=>{"use strict";Object.defineProperty(vL,"__esModule",{value:!0});vL.withParsedProperties=vL.getObjectLikeUtils=void 0;var _mr=D_e(),vmr=_f(),wmr=y2(),Smr=fp();function Fft(e){return{withParsedProperties:t=>kft(e,t)}}vL.getObjectLikeUtils=Fft;function kft(e,t){let r={parse:(n,o)=>{let i=e.parse(n,o);if(!i.ok)return i;let a=Object.entries(t).reduce((s,[u,l])=>Object.assign(Object.assign({},s),{[u]:typeof l=="function"?l(i.value):l}),{});return{ok:!0,value:Object.assign(Object.assign({},i.value),a)}},json:(n,o)=>{var i;if(!(0,wmr.isPlainObject)(n))return{ok:!1,errors:[{path:(i=o?.breadcrumbsPrefix)!==null&&i!==void 0?i:[],message:(0,vmr.getErrorMessageForIncorrectType)(n,"object")}]};let a=new Set(Object.keys(t)),s=(0,_mr.filterObject)(n,Object.keys(n).filter(u=>!a.has(u)));return e.json(s,o)},getType:()=>e.getType()};return Object.assign(Object.assign(Object.assign({},r),(0,Smr.getSchemaUtils)(r)),Fft(r))}vL.withParsedProperties=kft});var b2=b(wL=>{"use strict";Object.defineProperty(wL,"__esModule",{value:!0});wL.withParsedProperties=wL.getObjectLikeUtils=void 0;var $ft=Bft();Object.defineProperty(wL,"getObjectLikeUtils",{enumerable:!0,get:function(){return $ft.getObjectLikeUtils}});Object.defineProperty(wL,"withParsedProperties",{enumerable:!0,get:function(){return $ft.withParsedProperties}})});var N_e=b(SL=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.isProperty=SL.property=void 0;function xmr(e,t){return{rawKey:e,valueSchema:t,isProperty:!0}}SL.property=xmr;function Cmr(e){return e.isProperty}SL.isProperty=Cmr});var F_e=b(xL=>{"use strict";Object.defineProperty(xL,"__esModule",{value:!0});xL.getObjectUtils=xL.object=void 0;var v2=Zl(),qft=R_e(),Uft=D_e(),Omr=_f(),Emr=y2(),Wft=j_e(),Pmr=Sx(),Tmr=Lft(),Jft=b2(),Gft=fp(),_2=N_e();function Mmr(e){let t={_getRawProperties:()=>Object.entries(e).map(([r,n])=>(0,_2.isProperty)(n)?n.rawKey:r),_getParsedProperties:()=>(0,Wft.keys)(e),parse:(r,n)=>{let o={},i=[];for(let[a,s]of(0,qft.entries)(e)){let u=(0,_2.isProperty)(s)?s.rawKey:a,l=(0,_2.isProperty)(s)?s.valueSchema:s,c={rawKey:u,parsedKey:a,valueSchema:l};o[u]=c,Vft(l)&&i.push(u)}return zft({value:r,requiredKeys:i,getProperty:a=>{let s=o[a];if(s!=null)return{transformedKey:s.parsedKey,transform:u=>{var l;return s.valueSchema.parse(u,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(l=n?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],a]}))}}},unrecognizedObjectKeys:n?.unrecognizedObjectKeys,skipValidation:n?.skipValidation,breadcrumbsPrefix:n?.breadcrumbsPrefix,omitUndefined:n?.omitUndefined})},json:(r,n)=>{let o=[];for(let[i,a]of(0,qft.entries)(e)){let s=(0,_2.isProperty)(a)?a.valueSchema:a;Vft(s)&&o.push(i)}return zft({value:r,requiredKeys:o,getProperty:i=>{let a=e[i];if(a!=null)return(0,_2.isProperty)(a)?{transformedKey:a.rawKey,transform:s=>{var u;return a.valueSchema.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n?.breadcrumbsPrefix)!==null&&u!==void 0?u:[],i]}))}}:{transformedKey:i,transform:s=>{var u;return a.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n?.breadcrumbsPrefix)!==null&&u!==void 0?u:[],i]}))}}},unrecognizedObjectKeys:n?.unrecognizedObjectKeys,skipValidation:n?.skipValidation,breadcrumbsPrefix:n?.breadcrumbsPrefix,omitUndefined:n?.omitUndefined})},getType:()=>v2.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,Pmr.maybeSkipValidation)(t)),(0,Gft.getSchemaUtils)(t)),(0,Jft.getObjectLikeUtils)(t)),L_e(t))}xL.object=Mmr;function zft({value:e,requiredKeys:t,getProperty:r,unrecognizedObjectKeys:n="fail",skipValidation:o=!1,breadcrumbsPrefix:i=[]}){if(!(0,Emr.isPlainObject)(e))return{ok:!1,errors:[{path:i,message:(0,Omr.getErrorMessageForIncorrectType)(e,"object")}]};let a=new Set(t),s=[],u={};for(let[l,c]of Object.entries(e)){let d=r(l);if(d!=null){a.delete(l);let f=d.transform(c);f.ok?u[d.transformedKey]=f.value:(u[l]=c,s.push(...f.errors))}else switch(n){case"fail":s.push({path:[...i,l],message:`Unexpected key "${l}"`});break;case"strip":break;case"passthrough":u[l]=c;break}}return s.push(...t.filter(l=>a.has(l)).map(l=>({path:i,message:`Missing required key "${l}"`}))),s.length===0||o?{ok:!0,value:u}:{ok:!1,errors:s}}function L_e(e){return{extend:t=>{let r={_getParsedProperties:()=>[...e._getParsedProperties(),...t._getParsedProperties()],_getRawProperties:()=>[...e._getRawProperties(),...t._getRawProperties()],parse:(n,o)=>Hft({extensionKeys:t._getRawProperties(),value:n,transformBase:i=>e.parse(i,o),transformExtension:i=>t.parse(i,o)}),json:(n,o)=>Hft({extensionKeys:t._getParsedProperties(),value:n,transformBase:i=>e.json(i,o),transformExtension:i=>t.json(i,o)}),getType:()=>v2.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,Gft.getSchemaUtils)(r)),(0,Jft.getObjectLikeUtils)(r)),L_e(r))}}}xL.getObjectUtils=L_e;function Hft({extensionKeys:e,value:t,transformBase:r,transformExtension:n}){let o=new Set(e),[i,a]=(0,Tmr.partition)((0,Wft.keys)(t),l=>o.has(l)),s=r((0,Uft.filterObject)(t,a)),u=n((0,Uft.filterObject)(t,i));return s.ok&&u.ok?{ok:!0,value:Object.assign(Object.assign({},s.value),u.value)}:{ok:!1,errors:[...s.ok?[]:s.errors,...u.ok?[]:u.errors]}}function Vft(e){return!Imr(e)}function Imr(e){switch(e.getType()){case v2.SchemaType.ANY:case v2.SchemaType.UNKNOWN:case v2.SchemaType.OPTIONAL:return!0;default:return!1}}});var Kft=b(bY=>{"use strict";Object.defineProperty(bY,"__esModule",{value:!0});bY.objectWithoutOptionalProperties=void 0;var Amr=F_e();function Rmr(e){return(0,Amr.object)(e)}bY.objectWithoutOptionalProperties=Rmr});var k_e=b(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.property=jh.isProperty=jh.objectWithoutOptionalProperties=jh.object=jh.getObjectUtils=void 0;var Yft=F_e();Object.defineProperty(jh,"getObjectUtils",{enumerable:!0,get:function(){return Yft.getObjectUtils}});Object.defineProperty(jh,"object",{enumerable:!0,get:function(){return Yft.object}});var Dmr=Kft();Object.defineProperty(jh,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return Dmr.objectWithoutOptionalProperties}});var Zft=N_e();Object.defineProperty(jh,"isProperty",{enumerable:!0,get:function(){return Zft.isProperty}});Object.defineProperty(jh,"property",{enumerable:!0,get:function(){return Zft.property}})});var Xft=b(_Y=>{"use strict";Object.defineProperty(_Y,"__esModule",{value:!0});_Y.lazyObject=void 0;var jmr=k_e(),Nmr=b2(),Lmr=fp(),B_e=A_e();function Fmr(e){let t=Object.assign(Object.assign({},(0,B_e.constructLazyBaseSchema)(e)),{_getRawProperties:()=>(0,B_e.getMemoizedSchema)(e)._getRawProperties(),_getParsedProperties:()=>(0,B_e.getMemoizedSchema)(e)._getParsedProperties()});return Object.assign(Object.assign(Object.assign(Object.assign({},t),(0,Lmr.getSchemaUtils)(t)),(0,Nmr.getObjectLikeUtils)(t)),(0,jmr.getObjectUtils)(t))}_Y.lazyObject=Fmr});var Qft=b(CL=>{"use strict";Object.defineProperty(CL,"__esModule",{value:!0});CL.lazyObject=CL.lazy=void 0;var kmr=A_e();Object.defineProperty(CL,"lazy",{enumerable:!0,get:function(){return kmr.lazy}});var Bmr=Xft();Object.defineProperty(CL,"lazyObject",{enumerable:!0,get:function(){return Bmr.lazyObject}})});var tpt=b(vY=>{"use strict";Object.defineProperty(vY,"__esModule",{value:!0});vY.list=void 0;var $mr=Zl(),qmr=_f(),Umr=Sx(),zmr=fp();function Hmr(e){let t={parse:(r,n)=>ept(r,(o,i)=>{var a;return e.parse(o,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(a=n?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`[${i}]`]}))}),json:(r,n)=>ept(r,(o,i)=>{var a;return e.json(o,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(a=n?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`[${i}]`]}))}),getType:()=>$mr.SchemaType.LIST};return Object.assign(Object.assign({},(0,Umr.maybeSkipValidation)(t)),(0,zmr.getSchemaUtils)(t))}vY.list=Hmr;function ept(e,t){return Array.isArray(e)?e.map((n,o)=>t(n,o)).reduce((n,o)=>{if(n.ok&&o.ok)return{ok:!0,value:[...n.value,o.value]};let i=[];return n.ok||i.push(...n.errors),o.ok||i.push(...o.errors),{ok:!1,errors:i}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,qmr.getErrorMessageForIncorrectType)(e,"list"),path:[]}]}}});var $_e=b(wY=>{"use strict";Object.defineProperty(wY,"__esModule",{value:!0});wY.list=void 0;var Vmr=tpt();Object.defineProperty(wY,"list",{enumerable:!0,get:function(){return Vmr.list}})});var rpt=b(SY=>{"use strict";Object.defineProperty(SY,"__esModule",{value:!0});SY.stringLiteral=void 0;var Wmr=Zl(),Jmr=xx(),Gmr=_f();function Kmr(e){return(0,Jmr.createIdentitySchemaCreator)(Wmr.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===e?{ok:!0,value:e}:{ok:!1,errors:[{path:n,message:(0,Gmr.getErrorMessageForIncorrectType)(r,`"${e}"`)}]})()}SY.stringLiteral=Kmr});var npt=b(xY=>{"use strict";Object.defineProperty(xY,"__esModule",{value:!0});xY.booleanLiteral=void 0;var Ymr=Zl(),Zmr=xx(),Xmr=_f();function Qmr(e){return(0,Zmr.createIdentitySchemaCreator)(Ymr.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===e?{ok:!0,value:e}:{ok:!1,errors:[{path:n,message:(0,Xmr.getErrorMessageForIncorrectType)(r,`${e.toString()}`)}]})()}xY.booleanLiteral=Qmr});var opt=b(OL=>{"use strict";Object.defineProperty(OL,"__esModule",{value:!0});OL.booleanLiteral=OL.stringLiteral=void 0;var egr=rpt();Object.defineProperty(OL,"stringLiteral",{enumerable:!0,get:function(){return egr.stringLiteral}});var tgr=npt();Object.defineProperty(OL,"booleanLiteral",{enumerable:!0,get:function(){return tgr.booleanLiteral}})});var ipt=b(CY=>{"use strict";Object.defineProperty(CY,"__esModule",{value:!0});CY.any=void 0;var rgr=Zl(),ngr=xx();CY.any=(0,ngr.createIdentitySchemaCreator)(rgr.SchemaType.ANY,e=>({ok:!0,value:e}))});var apt=b(OY=>{"use strict";Object.defineProperty(OY,"__esModule",{value:!0});OY.boolean=void 0;var ogr=Zl(),igr=xx(),agr=_f();OY.boolean=(0,igr.createIdentitySchemaCreator)(ogr.SchemaType.BOOLEAN,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="boolean"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,agr.getErrorMessageForIncorrectType)(e,"boolean")}]})});var spt=b(EY=>{"use strict";Object.defineProperty(EY,"__esModule",{value:!0});EY.number=void 0;var sgr=Zl(),ugr=xx(),lgr=_f();EY.number=(0,ugr.createIdentitySchemaCreator)(sgr.SchemaType.NUMBER,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="number"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,lgr.getErrorMessageForIncorrectType)(e,"number")}]})});var upt=b(PY=>{"use strict";Object.defineProperty(PY,"__esModule",{value:!0});PY.string=void 0;var cgr=Zl(),dgr=xx(),fgr=_f();PY.string=(0,dgr.createIdentitySchemaCreator)(cgr.SchemaType.STRING,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="string"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,fgr.getErrorMessageForIncorrectType)(e,"string")}]})});var lpt=b(TY=>{"use strict";Object.defineProperty(TY,"__esModule",{value:!0});TY.unknown=void 0;var pgr=Zl(),hgr=xx();TY.unknown=(0,hgr.createIdentitySchemaCreator)(pgr.SchemaType.UNKNOWN,e=>({ok:!0,value:e}))});var cpt=b(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.unknown=Nh.string=Nh.number=Nh.boolean=Nh.any=void 0;var mgr=ipt();Object.defineProperty(Nh,"any",{enumerable:!0,get:function(){return mgr.any}});var ggr=apt();Object.defineProperty(Nh,"boolean",{enumerable:!0,get:function(){return ggr.boolean}});var ygr=spt();Object.defineProperty(Nh,"number",{enumerable:!0,get:function(){return ygr.number}});var bgr=upt();Object.defineProperty(Nh,"string",{enumerable:!0,get:function(){return bgr.string}});var _gr=lpt();Object.defineProperty(Nh,"unknown",{enumerable:!0,get:function(){return _gr.unknown}})});var fpt=b(MY=>{"use strict";Object.defineProperty(MY,"__esModule",{value:!0});MY.record=void 0;var q_e=Zl(),vgr=R_e(),wgr=_f(),Sgr=y2(),xgr=Sx(),Cgr=fp();function Ogr(e,t){let r={parse:(n,o)=>dpt({value:n,isKeyNumeric:e.getType()===q_e.SchemaType.NUMBER,transformKey:i=>{var a;return e.parse(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(a=o?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`${i} (key)`]}))},transformValue:(i,a)=>{var s;return t.parse(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(s=o?.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${a}`]}))},breadcrumbsPrefix:o?.breadcrumbsPrefix}),json:(n,o)=>dpt({value:n,isKeyNumeric:e.getType()===q_e.SchemaType.NUMBER,transformKey:i=>{var a;return e.json(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(a=o?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`${i} (key)`]}))},transformValue:(i,a)=>{var s;return t.json(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(s=o?.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${a}`]}))},breadcrumbsPrefix:o?.breadcrumbsPrefix}),getType:()=>q_e.SchemaType.RECORD};return Object.assign(Object.assign({},(0,xgr.maybeSkipValidation)(r)),(0,Cgr.getSchemaUtils)(r))}MY.record=Ogr;function dpt({value:e,isKeyNumeric:t,transformKey:r,transformValue:n,breadcrumbsPrefix:o=[]}){return(0,Sgr.isPlainObject)(e)?(0,vgr.entries)(e).reduce((i,[a,s])=>{if(s==null)return i;let u=i,l=a;if(t){let p=a.length>0?Number(a):NaN;isNaN(p)||(l=p)}let c=r(l),d=n(s,l);if(u.ok&&c.ok&&d.ok)return{ok:!0,value:Object.assign(Object.assign({},u.value),{[c.value]:d.value})};let f=[];return u.ok||f.push(...u.errors),c.ok||f.push(...c.errors),d.ok||f.push(...d.errors),{ok:!1,errors:f}},{ok:!0,value:{}}):{ok:!1,errors:[{path:o,message:(0,wgr.getErrorMessageForIncorrectType)(e,"object")}]}}});var ppt=b(IY=>{"use strict";Object.defineProperty(IY,"__esModule",{value:!0});IY.record=void 0;var Egr=fpt();Object.defineProperty(IY,"record",{enumerable:!0,get:function(){return Egr.record}})});var hpt=b(AY=>{"use strict";Object.defineProperty(AY,"__esModule",{value:!0});AY.set=void 0;var Pgr=Zl(),Tgr=_f(),Mgr=Sx(),Igr=$_e(),Agr=fp();function Rgr(e){let t=(0,Igr.list)(e),r={parse:(n,o)=>{let i=t.parse(n,o);return i.ok?{ok:!0,value:new Set(i.value)}:i},json:(n,o)=>{var i;return n instanceof Set?t.json([...n],o):{ok:!1,errors:[{path:(i=o?.breadcrumbsPrefix)!==null&&i!==void 0?i:[],message:(0,Tgr.getErrorMessageForIncorrectType)(n,"Set")}]}},getType:()=>Pgr.SchemaType.SET};return Object.assign(Object.assign({},(0,Mgr.maybeSkipValidation)(r)),(0,Agr.getSchemaUtils)(r))}AY.set=Rgr});var mpt=b(RY=>{"use strict";Object.defineProperty(RY,"__esModule",{value:!0});RY.set=void 0;var Dgr=hpt();Object.defineProperty(RY,"set",{enumerable:!0,get:function(){return Dgr.set}})});var ypt=b(DY=>{"use strict";Object.defineProperty(DY,"__esModule",{value:!0});DY.undiscriminatedUnion=void 0;var jgr=Zl(),Ngr=Sx(),Lgr=fp();function Fgr(e){let t={parse:(r,n)=>gpt((o,i)=>o.parse(r,i),e,n),json:(r,n)=>gpt((o,i)=>o.json(r,i),e,n),getType:()=>jgr.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,Ngr.maybeSkipValidation)(t)),(0,Lgr.getSchemaUtils)(t))}DY.undiscriminatedUnion=Fgr;function gpt(e,t,r){let n=[];for(let[o,i]of t.entries()){let a=e(i,Object.assign(Object.assign({},r),{skipValidation:!1}));if(a.ok)return a;for(let s of a.errors)n.push({path:s.path,message:`[Variant ${o}] ${s.message}`})}return{ok:!1,errors:n}}});var bpt=b(jY=>{"use strict";Object.defineProperty(jY,"__esModule",{value:!0});jY.undiscriminatedUnion=void 0;var kgr=ypt();Object.defineProperty(jY,"undiscriminatedUnion",{enumerable:!0,get:function(){return kgr.undiscriminatedUnion}})});var _pt=b(NY=>{"use strict";Object.defineProperty(NY,"__esModule",{value:!0});NY.discriminant=void 0;function Bgr(e,t){return{parsedDiscriminant:e,rawDiscriminant:t}}NY.discriminant=Bgr});var wpt=b(EL=>{"use strict";var $gr=EL&&EL.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};Object.defineProperty(EL,"__esModule",{value:!0});EL.union=void 0;var qgr=Zl(),Ugr=_f(),zgr=y2(),Hgr=j_e(),Vgr=Sx(),Wgr=I_e(),Jgr=b2(),Ggr=fp();function Kgr(e,t){let r=typeof e=="string"?e:e.rawDiscriminant,n=typeof e=="string"?e:e.parsedDiscriminant,o=(0,Wgr.enum_)((0,Hgr.keys)(t)),i={parse:(a,s)=>vpt({value:a,discriminant:r,transformedDiscriminant:n,transformDiscriminantValue:u=>{var l;return o.parse(u,{allowUnrecognizedEnumValues:s?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(l=s?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],r]})},getAdditionalPropertiesSchema:u=>t[u],allowUnrecognizedUnionMembers:s?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,l)=>l.parse(u,s),breadcrumbsPrefix:s?.breadcrumbsPrefix}),json:(a,s)=>vpt({value:a,discriminant:n,transformedDiscriminant:r,transformDiscriminantValue:u=>{var l;return o.json(u,{allowUnrecognizedEnumValues:s?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(l=s?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],n]})},getAdditionalPropertiesSchema:u=>t[u],allowUnrecognizedUnionMembers:s?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,l)=>l.json(u,s),breadcrumbsPrefix:s?.breadcrumbsPrefix}),getType:()=>qgr.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,Vgr.maybeSkipValidation)(i)),(0,Ggr.getSchemaUtils)(i)),(0,Jgr.getObjectLikeUtils)(i))}EL.union=Kgr;function vpt({value:e,discriminant:t,transformedDiscriminant:r,transformDiscriminantValue:n,getAdditionalPropertiesSchema:o,allowUnrecognizedUnionMembers:i=!1,transformAdditionalProperties:a,breadcrumbsPrefix:s=[]}){if(!(0,zgr.isPlainObject)(e))return{ok:!1,errors:[{path:s,message:(0,Ugr.getErrorMessageForIncorrectType)(e,"object")}]};let u=e,l=t,c=u[l],d=$gr(u,[typeof l=="symbol"?l:l+""]);if(c==null)return{ok:!1,errors:[{path:s,message:`Missing discriminant ("${t}")`}]};let f=n(c);if(!f.ok)return{ok:!1,errors:f.errors};let p=o(f.value);if(p==null)return i?{ok:!0,value:Object.assign({[r]:f.value},d)}:{ok:!1,errors:[{path:[...s,t],message:"Unexpected discriminant value"}]};let h=a(d,p);return h.ok?{ok:!0,value:Object.assign({[r]:c},h.value)}:h}});var Spt=b(PL=>{"use strict";Object.defineProperty(PL,"__esModule",{value:!0});PL.union=PL.discriminant=void 0;var Ygr=_pt();Object.defineProperty(PL,"discriminant",{enumerable:!0,get:function(){return Ygr.discriminant}});var Zgr=wpt();Object.defineProperty(PL,"union",{enumerable:!0,get:function(){return Zgr.union}})});var xpt=b(Hu=>{"use strict";var Xgr=Hu&&Hu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pp=Hu&&Hu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xgr(t,e,r)};Object.defineProperty(Hu,"__esModule",{value:!0});pp(Rft(),Hu);pp(I_e(),Hu);pp(Qft(),Hu);pp($_e(),Hu);pp(opt(),Hu);pp(k_e(),Hu);pp(b2(),Hu);pp(cpt(),Hu);pp(ppt(),Hu);pp(fp(),Hu);pp(mpt(),Hu);pp(bpt(),Hu);pp(Spt(),Hu)});var Cpt=b(TA=>{"use strict";var Qgr=TA&&TA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eyr=TA&&TA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qgr(t,e,r)};Object.defineProperty(TA,"__esModule",{value:!0});eyr(xpt(),TA)});var $=b(Xl=>{"use strict";var Opt=Xl&&Xl.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tyr=Xl&&Xl.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),w2=Xl&&Xl.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Opt(t,e,r)},ryr=Xl&&Xl.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Opt(t,e,r);return tyr(t,e),t};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.serialization=void 0;w2(Ydt(),Xl);w2(tft(),Xl);w2(aft(),Xl);w2(uL(),Xl);w2(Eft(),Xl);Xl.serialization=ryr(Cpt())});var Ppt=b(ls=>{"use strict";var S2=ls&&ls.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},x2=ls&&ls.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},zi=ls&&ls.__await||function(e){return this instanceof zi?(this.v=e,this):new zi(e)},C2=ls&&ls.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(h,m){i.push([f,p,h,m])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(h){d(i[0][3],h)}}function u(f){f.value instanceof zi?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(ls,"__esModule",{value:!0});ls.readableStreamAsyncIterable=ls._decodeChunks=ls.LineDecoder=ls._iterSSEMessages=ls.StreamUtils=void 0;var TL=Wa(),U_e=class e{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;function o(){return C2(this,arguments,function*(){var a,s;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let u=!1;try{try{for(var l=x2(Ept(t,r)),c;c=yield zi(l.next()),!c.done;){let d=c.value;if(!u){if(d.data.startsWith("[DONE]")){u=!0;continue}if(d.event===null){let f;try{f=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(f&&f.error)throw new TL.CohereError({message:`Error: ${f.error}`});yield yield zi(f)}else{let f;try{f=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(d.event=="error")throw new TL.CohereError({message:`Error: ${f.message}, ${f.error}`});yield yield zi({event:d.event,data:f})}}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&(yield zi(s.call(l)))}finally{if(a)throw a.error}}u=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return yield zi(void 0);throw d}finally{u||r?.abort()}})}return new e(o,r)}static fromReadableStream(t,r){let n=!1;function o(){return C2(this,arguments,function*(){var s,u;let l=new QE,c=H_e(t);try{for(var d=x2(c),f;f=yield zi(d.next()),!f.done;){let p=f.value;for(let h of l.decode(p))yield yield zi(h)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(u=d.return)&&(yield zi(u.call(d)))}finally{if(s)throw s.error}}for(let p of l.flush())yield yield zi(p)})}function i(){return C2(this,arguments,function*(){var s,u;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let l=!1;try{try{for(var c=x2(o()),d;d=yield zi(c.next()),!d.done;){let f=d.value;l||f&&(yield yield zi(JSON.parse(f)))}}catch(f){s={error:f}}finally{try{d&&!d.done&&(u=c.return)&&(yield zi(u.call(c)))}finally{if(s)throw s.error}}l=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return yield zi(void 0);throw f}finally{l||r?.abort()}})}return new e(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(r),this.controller)]}toReadableStream(){let t=this,r,n=new TextEncoder;return new ReadableStream({start(){return S2(this,void 0,void 0,function*(){r=t[Symbol.asyncIterator]()})},pull(o){return S2(this,void 0,void 0,function*(){try{let{value:i,done:a}=yield r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}})},cancel(){var o;return S2(this,void 0,void 0,function*(){yield(o=r.return)===null||o===void 0?void 0:o.call(r)})}})}};ls.StreamUtils=U_e;function Ept(e,t){return C2(this,arguments,function*(){var n,o;if(!e.body)throw t?.abort(),new TL.CohereError({message:"Attempted to iterate over a response with no body"});let i=new z_e,a=new QE,s=H_e(e.body);try{for(var u=x2(nyr(s)),l;l=yield zi(u.next()),!l.done;){let c=l.value;for(let d of a.decode(c)){let f=i.decode(d);f&&(yield yield zi(f))}}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=u.return)&&(yield zi(o.call(u)))}finally{if(n)throw n.error}}for(let c of a.flush()){let d=i.decode(c);d&&(yield yield zi(d))}})}ls._iterSSEMessages=Ept;function nyr(e){return C2(this,arguments,function*(){var r,n;let o=new Uint8Array;try{for(var i=x2(e),a;a=yield zi(i.next()),!a.done;){let s=a.value;if(s==null)continue;let u=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s,l=new Uint8Array(o.length+u.length);l.set(o),l.set(u,o.length),o=l;let c;for(;(c=oyr(o))!==-1;)yield yield zi(o.slice(0,c)),o=o.slice(c)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&(yield zi(n.call(i)))}finally{if(r)throw r.error}}o.length>0&&(yield yield zi(o))})}function oyr(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}var z_e=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=ayr(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},QE=class e{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=e.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(e.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(t){var r;if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new TL.CohereError({message:`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return(r=this.textDecoder)!==null&&r!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new TL.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`})}throw new TL.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};ls.LineDecoder=QE;QE.NEWLINE_CHARS=new Set([`
`,"\r"]);QE.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iyr(e){let t=new QE,r=[];for(let n of e)r.push(...t.decode(n));return r}ls._decodeChunks=iyr;function ayr(e,t){let r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function H_e(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{next(){return S2(this,void 0,void 0,function*(){try{let r=yield t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}})},return(){return S2(this,void 0,void 0,function*(){let r=t.cancel();return t.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}ls.readableStreamAsyncIterable=H_e});var V_e=b(rb=>{"use strict";var syr=rb&&rb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uyr=rb&&rb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lyr=rb&&rb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&syr(t,e,r);return uyr(t,e),t};Object.defineProperty(rb,"__esModule",{value:!0});rb.V2ChatStreamRequestCitationMode=void 0;var cyr=lyr($());rb.V2ChatStreamRequestCitationMode=cyr.serialization.enum_(["FAST","ACCURATE","OFF"])});var W_e=b(nb=>{"use strict";var dyr=nb&&nb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fyr=nb&&nb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pyr=nb&&nb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dyr(t,e,r);return fyr(t,e),t};Object.defineProperty(nb,"__esModule",{value:!0});nb.V2ChatRequestCitationMode=void 0;var hyr=pyr($());nb.V2ChatRequestCitationMode=hyr.serialization.enum_(["FAST","ACCURATE","OFF"])});var ML=b(ob=>{"use strict";var myr=ob&&ob.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gyr=ob&&ob.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yyr=ob&&ob.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&myr(t,e,r);return gyr(t,e),t};Object.defineProperty(ob,"__esModule",{value:!0});ob.TextContent=void 0;var Tpt=yyr($());ob.TextContent=Tpt.serialization.object({text:Tpt.serialization.string()})});var J_e=b(ib=>{"use strict";var byr=ib&&ib.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_yr=ib&&ib.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vyr=ib&&ib.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&byr(t,e,r);return _yr(t,e),t};Object.defineProperty(ib,"__esModule",{value:!0});ib.Content=void 0;var wyr=vyr($()),Syr=ML();ib.Content=wyr.serialization.union("type",{text:Syr.TextContent}).transform({transform:e=>e,untransform:e=>e})});var K_e=b(ab=>{"use strict";var xyr=ab&&ab.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cyr=ab&&ab.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Oyr=ab&&ab.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xyr(t,e,r);return Cyr(t,e),t};Object.defineProperty(ab,"__esModule",{value:!0});ab.UserMessageContent=void 0;var G_e=Oyr($()),Eyr=J_e();ab.UserMessageContent=G_e.serialization.undiscriminatedUnion([G_e.serialization.string(),G_e.serialization.list(Eyr.Content)])});var MA=b(sb=>{"use strict";var Pyr=sb&&sb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tyr=sb&&sb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Myr=sb&&sb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pyr(t,e,r);return Tyr(t,e),t};Object.defineProperty(sb,"__esModule",{value:!0});sb.ChatDocument=void 0;var Y_e=Myr($());sb.ChatDocument=Y_e.serialization.record(Y_e.serialization.string(),Y_e.serialization.string())});var Z_e=b(ub=>{"use strict";var Iyr=ub&&ub.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ayr=ub&&ub.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ryr=ub&&ub.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Iyr(t,e,r);return Ayr(t,e),t};Object.defineProperty(ub,"__esModule",{value:!0});ub.UserMessage=void 0;var Mpt=Ryr($()),Dyr=K_e(),jyr=MA();ub.UserMessage=Mpt.serialization.object({content:Dyr.UserMessageContent,documents:Mpt.serialization.list(jyr.ChatDocument).optional()})});var Q_e=b(lb=>{"use strict";var Nyr=lb&&lb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lyr=lb&&lb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fyr=lb&&lb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Nyr(t,e,r);return Lyr(t,e),t};Object.defineProperty(lb,"__esModule",{value:!0});lb.ToolCall2Function=void 0;var X_e=Fyr($());lb.ToolCall2Function=X_e.serialization.object({name:X_e.serialization.string().optional(),arguments:X_e.serialization.string().optional()})});var LY=b(cb=>{"use strict";var kyr=cb&&cb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Byr=cb&&cb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$yr=cb&&cb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kyr(t,e,r);return Byr(t,e),t};Object.defineProperty(cb,"__esModule",{value:!0});cb.ToolCall2=void 0;var eve=$yr($()),qyr=Q_e();cb.ToolCall2=eve.serialization.object({id:eve.serialization.string().optional(),type:eve.serialization.stringLiteral("function").optional(),function:qyr.ToolCall2Function.optional()})});var tve=b(db=>{"use strict";var Uyr=db&&db.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zyr=db&&db.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hyr=db&&db.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Uyr(t,e,r);return zyr(t,e),t};Object.defineProperty(db,"__esModule",{value:!0});db.ToolSource=void 0;var IL=Hyr($());db.ToolSource=IL.serialization.object({id:IL.serialization.string().optional(),toolOutput:IL.serialization.property("tool_output",IL.serialization.record(IL.serialization.string(),IL.serialization.unknown()).optional())})});var rve=b(fb=>{"use strict";var Vyr=fb&&fb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wyr=fb&&fb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jyr=fb&&fb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vyr(t,e,r);return Wyr(t,e),t};Object.defineProperty(fb,"__esModule",{value:!0});fb.DocumentSource=void 0;var O2=Jyr($());fb.DocumentSource=O2.serialization.object({id:O2.serialization.string().optional(),document:O2.serialization.record(O2.serialization.string(),O2.serialization.unknown()).optional()})});var nve=b(pb=>{"use strict";var Gyr=pb&&pb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kyr=pb&&pb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yyr=pb&&pb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Gyr(t,e,r);return Kyr(t,e),t};Object.defineProperty(pb,"__esModule",{value:!0});pb.Source=void 0;var Zyr=Yyr($()),Xyr=tve(),Qyr=rve();pb.Source=Zyr.serialization.union("type",{tool:Xyr.ToolSource,document:Qyr.DocumentSource}).transform({transform:e=>e,untransform:e=>e})});var P2=b(hb=>{"use strict";var ebr=hb&&hb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tbr=hb&&hb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rbr=hb&&hb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ebr(t,e,r);return tbr(t,e),t};Object.defineProperty(hb,"__esModule",{value:!0});hb.Citation=void 0;var E2=rbr($()),nbr=nve();hb.Citation=E2.serialization.object({start:E2.serialization.number().optional(),end:E2.serialization.number().optional(),text:E2.serialization.string().optional(),sources:E2.serialization.list(nbr.Source).optional()})});var ove=b(mb=>{"use strict";var obr=mb&&mb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ibr=mb&&mb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),abr=mb&&mb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&obr(t,e,r);return ibr(t,e),t};Object.defineProperty(mb,"__esModule",{value:!0});mb.AssistantMessageContentItem=void 0;var sbr=abr($()),ubr=ML();mb.AssistantMessageContentItem=sbr.serialization.union("type",{text:ubr.TextContent}).transform({transform:e=>e,untransform:e=>e})});var ave=b(gb=>{"use strict";var lbr=gb&&gb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cbr=gb&&gb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dbr=gb&&gb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lbr(t,e,r);return cbr(t,e),t};Object.defineProperty(gb,"__esModule",{value:!0});gb.AssistantMessageContent=void 0;var ive=dbr($()),fbr=ove();gb.AssistantMessageContent=ive.serialization.undiscriminatedUnion([ive.serialization.string(),ive.serialization.list(fbr.AssistantMessageContentItem)])});var sve=b(yb=>{"use strict";var pbr=yb&&yb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hbr=yb&&yb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mbr=yb&&yb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pbr(t,e,r);return hbr(t,e),t};Object.defineProperty(yb,"__esModule",{value:!0});yb.AssistantMessage=void 0;var AL=mbr($()),gbr=LY(),ybr=ave(),bbr=P2();yb.AssistantMessage=AL.serialization.object({toolCalls:AL.serialization.property("tool_calls",AL.serialization.list(gbr.ToolCall2).optional()),toolPlan:AL.serialization.property("tool_plan",AL.serialization.string().optional()),content:ybr.AssistantMessageContent.optional(),citations:AL.serialization.list(bbr.Citation).optional()})});var uve=b(bb=>{"use strict";var _br=bb&&bb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vbr=bb&&bb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wbr=bb&&bb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_br(t,e,r);return vbr(t,e),t};Object.defineProperty(bb,"__esModule",{value:!0});bb.SystemMessageContentItem=void 0;var Sbr=wbr($()),xbr=ML();bb.SystemMessageContentItem=Sbr.serialization.union("type",{text:xbr.TextContent}).transform({transform:e=>e,untransform:e=>e})});var cve=b(_b=>{"use strict";var Cbr=_b&&_b.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Obr=_b&&_b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ebr=_b&&_b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Cbr(t,e,r);return Obr(t,e),t};Object.defineProperty(_b,"__esModule",{value:!0});_b.SystemMessageContent=void 0;var lve=Ebr($()),Pbr=uve();_b.SystemMessageContent=lve.serialization.undiscriminatedUnion([lve.serialization.string(),lve.serialization.list(Pbr.SystemMessageContentItem)])});var dve=b(vb=>{"use strict";var Tbr=vb&&vb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mbr=vb&&vb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ibr=vb&&vb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Tbr(t,e,r);return Mbr(t,e),t};Object.defineProperty(vb,"__esModule",{value:!0});vb.SystemMessage=void 0;var Abr=Ibr($()),Rbr=cve();vb.SystemMessage=Abr.serialization.object({content:Rbr.SystemMessageContent})});var fve=b(wb=>{"use strict";var Dbr=wb&&wb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jbr=wb&&wb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nbr=wb&&wb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Dbr(t,e,r);return jbr(t,e),t};Object.defineProperty(wb,"__esModule",{value:!0});wb.ToolContent=void 0;var FY=Nbr($());wb.ToolContent=FY.serialization.object({output:FY.serialization.record(FY.serialization.string(),FY.serialization.unknown())})});var pve=b(Sb=>{"use strict";var Lbr=Sb&&Sb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fbr=Sb&&Sb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kbr=Sb&&Sb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lbr(t,e,r);return Fbr(t,e),t};Object.defineProperty(Sb,"__esModule",{value:!0});Sb.ToolMessage2ToolContentItem=void 0;var Bbr=kbr($()),$br=fve();Sb.ToolMessage2ToolContentItem=Bbr.serialization.union("type",{tool_result_object:$br.ToolContent}).transform({transform:e=>e,untransform:e=>e})});var hve=b(xb=>{"use strict";var qbr=xb&&xb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ubr=xb&&xb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zbr=xb&&xb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qbr(t,e,r);return Ubr(t,e),t};Object.defineProperty(xb,"__esModule",{value:!0});xb.ToolMessage2=void 0;var T2=zbr($()),Hbr=pve();xb.ToolMessage2=T2.serialization.object({toolCallId:T2.serialization.property("tool_call_id",T2.serialization.string()),toolContent:T2.serialization.property("tool_content",T2.serialization.list(Hbr.ToolMessage2ToolContentItem))})});var mve=b(Cb=>{"use strict";var Vbr=Cb&&Cb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wbr=Cb&&Cb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jbr=Cb&&Cb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vbr(t,e,r);return Wbr(t,e),t};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.ChatMessage2=void 0;var Gbr=Jbr($()),Kbr=Z_e(),Ybr=sve(),Zbr=dve(),Xbr=hve();Cb.ChatMessage2=Gbr.serialization.union("role",{user:Kbr.UserMessage,assistant:Ybr.AssistantMessage,system:Zbr.SystemMessage,tool:Xbr.ToolMessage2}).transform({transform:e=>e,untransform:e=>e})});var kY=b(Ob=>{"use strict";var Qbr=Ob&&Ob.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),e_r=Ob&&Ob.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t_r=Ob&&Ob.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qbr(t,e,r);return e_r(t,e),t};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.ChatMessages=void 0;var r_r=t_r($()),n_r=mve();Ob.ChatMessages=r_r.serialization.list(n_r.ChatMessage2)});var gve=b(Eb=>{"use strict";var o_r=Eb&&Eb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i_r=Eb&&Eb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a_r=Eb&&Eb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o_r(t,e,r);return i_r(t,e),t};Object.defineProperty(Eb,"__esModule",{value:!0});Eb.Tool2Function=void 0;var RL=a_r($());Eb.Tool2Function=RL.serialization.object({name:RL.serialization.string().optional(),description:RL.serialization.string().optional(),parameters:RL.serialization.record(RL.serialization.string(),RL.serialization.unknown()).optional()})});var BY=b(Pb=>{"use strict";var s_r=Pb&&Pb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u_r=Pb&&Pb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l_r=Pb&&Pb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&s_r(t,e,r);return u_r(t,e),t};Object.defineProperty(Pb,"__esModule",{value:!0});Pb.Tool2=void 0;var Ipt=l_r($()),c_r=gve();Pb.Tool2=Ipt.serialization.object({type:Ipt.serialization.stringLiteral("function").optional(),function:c_r.Tool2Function.optional()})});var $Y=b(Tb=>{"use strict";var d_r=Tb&&Tb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f_r=Tb&&Tb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p_r=Tb&&Tb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d_r(t,e,r);return f_r(t,e),t};Object.defineProperty(Tb,"__esModule",{value:!0});Tb.ChatFinishReason=void 0;var h_r=p_r($());Tb.ChatFinishReason=h_r.serialization.enum_(["complete","stop_sequence","max_tokens","tool_call","error","content_blocked","error_limit"])});var yve=b(Mb=>{"use strict";var m_r=Mb&&Mb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g_r=Mb&&Mb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y_r=Mb&&Mb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m_r(t,e,r);return g_r(t,e),t};Object.defineProperty(Mb,"__esModule",{value:!0});Mb.AssistantMessageResponseContentItem=void 0;var b_r=y_r($()),__r=ML();Mb.AssistantMessageResponseContentItem=b_r.serialization.union("type",{text:__r.TextContent}).transform({transform:e=>e,untransform:e=>e})});var bve=b(Ib=>{"use strict";var v_r=Ib&&Ib.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),w_r=Ib&&Ib.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S_r=Ib&&Ib.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v_r(t,e,r);return w_r(t,e),t};Object.defineProperty(Ib,"__esModule",{value:!0});Ib.AssistantMessageResponse=void 0;var eP=S_r($()),x_r=LY(),C_r=yve(),O_r=P2();Ib.AssistantMessageResponse=eP.serialization.object({role:eP.serialization.stringLiteral("assistant"),toolCalls:eP.serialization.property("tool_calls",eP.serialization.list(x_r.ToolCall2).optional()),toolPlan:eP.serialization.property("tool_plan",eP.serialization.string().optional()),content:eP.serialization.list(C_r.AssistantMessageResponseContentItem).optional(),citations:eP.serialization.list(O_r.Citation).optional()})});var _ve=b(Ab=>{"use strict";var E_r=Ab&&Ab.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P_r=Ab&&Ab.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),T_r=Ab&&Ab.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E_r(t,e,r);return P_r(t,e),t};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.UsageBilledUnits=void 0;var tP=T_r($());Ab.UsageBilledUnits=tP.serialization.object({inputTokens:tP.serialization.property("input_tokens",tP.serialization.number().optional()),outputTokens:tP.serialization.property("output_tokens",tP.serialization.number().optional()),searchUnits:tP.serialization.property("search_units",tP.serialization.number().optional()),classifications:tP.serialization.number().optional()})});var vve=b(Rb=>{"use strict";var M_r=Rb&&Rb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I_r=Rb&&Rb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),A_r=Rb&&Rb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M_r(t,e,r);return I_r(t,e),t};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.UsageTokens=void 0;var M2=A_r($());Rb.UsageTokens=M2.serialization.object({inputTokens:M2.serialization.property("input_tokens",M2.serialization.number().optional()),outputTokens:M2.serialization.property("output_tokens",M2.serialization.number().optional())})});var qY=b(Db=>{"use strict";var R_r=Db&&Db.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),D_r=Db&&Db.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j_r=Db&&Db.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R_r(t,e,r);return D_r(t,e),t};Object.defineProperty(Db,"__esModule",{value:!0});Db.Usage=void 0;var Apt=j_r($()),N_r=_ve(),L_r=vve();Db.Usage=Apt.serialization.object({billedUnits:Apt.serialization.property("billed_units",N_r.UsageBilledUnits.optional()),tokens:L_r.UsageTokens.optional()})});var Rpt=b(jb=>{"use strict";var F_r=jb&&jb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),k_r=jb&&jb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),B_r=jb&&jb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F_r(t,e,r);return k_r(t,e),t};Object.defineProperty(jb,"__esModule",{value:!0});jb.NonStreamedChatResponse2=void 0;var UY=B_r($()),$_r=$Y(),q_r=bve(),U_r=qY();jb.NonStreamedChatResponse2=UY.serialization.object({id:UY.serialization.string(),finishReason:UY.serialization.property("finish_reason",$_r.ChatFinishReason),prompt:UY.serialization.string().optional(),message:q_r.AssistantMessageResponse.optional(),usage:U_r.Usage.optional()})});var hp=b(Nb=>{"use strict";var z_r=Nb&&Nb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H_r=Nb&&Nb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),V_r=Nb&&Nb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z_r(t,e,r);return H_r(t,e),t};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.ChatStreamEventType=void 0;var W_r=V_r($());Nb.ChatStreamEventType=W_r.serialization.object({})});var wve=b(Lb=>{"use strict";var J_r=Lb&&Lb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G_r=Lb&&Lb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K_r=Lb&&Lb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J_r(t,e,r);return G_r(t,e),t};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.ChatMessageStartEventDeltaMessage=void 0;var Dpt=K_r($());Lb.ChatMessageStartEventDeltaMessage=Dpt.serialization.object({role:Dpt.serialization.stringLiteral("assistant").optional()})});var Sve=b(Fb=>{"use strict";var Y_r=Fb&&Fb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z_r=Fb&&Fb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X_r=Fb&&Fb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y_r(t,e,r);return Z_r(t,e),t};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.ChatMessageStartEventDelta=void 0;var Q_r=X_r($()),evr=wve();Fb.ChatMessageStartEventDelta=Q_r.serialization.object({message:evr.ChatMessageStartEventDeltaMessage.optional()})});var xve=b(kb=>{"use strict";var tvr=kb&&kb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rvr=kb&&kb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nvr=kb&&kb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tvr(t,e,r);return rvr(t,e),t};Object.defineProperty(kb,"__esModule",{value:!0});kb.ChatMessageStartEvent=void 0;var jpt=nvr($()),ovr=Sve(),ivr=hp();kb.ChatMessageStartEvent=jpt.serialization.object({id:jpt.serialization.string().optional(),delta:ovr.ChatMessageStartEventDelta.optional()}).extend(ivr.ChatStreamEventType)});var Ove=b(Bb=>{"use strict";var avr=Bb&&Bb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),svr=Bb&&Bb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uvr=Bb&&Bb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&avr(t,e,r);return svr(t,e),t};Object.defineProperty(Bb,"__esModule",{value:!0});Bb.ChatContentStartEventDeltaMessageContent=void 0;var Cve=uvr($());Bb.ChatContentStartEventDeltaMessageContent=Cve.serialization.object({text:Cve.serialization.string().optional(),type:Cve.serialization.stringLiteral("text").optional()})});var Eve=b($b=>{"use strict";var lvr=$b&&$b.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cvr=$b&&$b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dvr=$b&&$b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lvr(t,e,r);return cvr(t,e),t};Object.defineProperty($b,"__esModule",{value:!0});$b.ChatContentStartEventDeltaMessage=void 0;var fvr=dvr($()),pvr=Ove();$b.ChatContentStartEventDeltaMessage=fvr.serialization.object({content:pvr.ChatContentStartEventDeltaMessageContent.optional()})});var Pve=b(qb=>{"use strict";var hvr=qb&&qb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mvr=qb&&qb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gvr=qb&&qb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hvr(t,e,r);return mvr(t,e),t};Object.defineProperty(qb,"__esModule",{value:!0});qb.ChatContentStartEventDelta=void 0;var yvr=gvr($()),bvr=Eve();qb.ChatContentStartEventDelta=yvr.serialization.object({message:bvr.ChatContentStartEventDeltaMessage.optional()})});var Tve=b(Ub=>{"use strict";var _vr=Ub&&Ub.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vvr=Ub&&Ub.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wvr=Ub&&Ub.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_vr(t,e,r);return vvr(t,e),t};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.ChatContentStartEvent=void 0;var Npt=wvr($()),Svr=Pve(),xvr=hp();Ub.ChatContentStartEvent=Npt.serialization.object({index:Npt.serialization.number().optional(),delta:Svr.ChatContentStartEventDelta.optional()}).extend(xvr.ChatStreamEventType)});var Mve=b(zb=>{"use strict";var Cvr=zb&&zb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ovr=zb&&zb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Evr=zb&&zb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Cvr(t,e,r);return Ovr(t,e),t};Object.defineProperty(zb,"__esModule",{value:!0});zb.ChatContentDeltaEventDeltaMessageContent=void 0;var Lpt=Evr($());zb.ChatContentDeltaEventDeltaMessageContent=Lpt.serialization.object({text:Lpt.serialization.string().optional()})});var Ive=b(Hb=>{"use strict";var Pvr=Hb&&Hb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tvr=Hb&&Hb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mvr=Hb&&Hb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pvr(t,e,r);return Tvr(t,e),t};Object.defineProperty(Hb,"__esModule",{value:!0});Hb.ChatContentDeltaEventDeltaMessage=void 0;var Ivr=Mvr($()),Avr=Mve();Hb.ChatContentDeltaEventDeltaMessage=Ivr.serialization.object({content:Avr.ChatContentDeltaEventDeltaMessageContent.optional()})});var Ave=b(Vb=>{"use strict";var Rvr=Vb&&Vb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dvr=Vb&&Vb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jvr=Vb&&Vb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rvr(t,e,r);return Dvr(t,e),t};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.ChatContentDeltaEventDelta=void 0;var Nvr=jvr($()),Lvr=Ive();Vb.ChatContentDeltaEventDelta=Nvr.serialization.object({message:Lvr.ChatContentDeltaEventDeltaMessage.optional()})});var Rve=b(Wb=>{"use strict";var Fvr=Wb&&Wb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kvr=Wb&&Wb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bvr=Wb&&Wb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fvr(t,e,r);return kvr(t,e),t};Object.defineProperty(Wb,"__esModule",{value:!0});Wb.ChatContentDeltaEvent=void 0;var Fpt=Bvr($()),$vr=Ave(),qvr=hp();Wb.ChatContentDeltaEvent=Fpt.serialization.object({index:Fpt.serialization.number().optional(),delta:$vr.ChatContentDeltaEventDelta.optional()}).extend(qvr.ChatStreamEventType)});var Dve=b(Jb=>{"use strict";var Uvr=Jb&&Jb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zvr=Jb&&Jb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hvr=Jb&&Jb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Uvr(t,e,r);return zvr(t,e),t};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.ChatContentEndEvent=void 0;var kpt=Hvr($()),Vvr=hp();Jb.ChatContentEndEvent=kpt.serialization.object({index:kpt.serialization.number().optional()}).extend(Vvr.ChatStreamEventType)});var Nve=b(Gb=>{"use strict";var Wvr=Gb&&Gb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jvr=Gb&&Gb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gvr=Gb&&Gb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Wvr(t,e,r);return Jvr(t,e),t};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.ChatToolPlanDeltaEventDelta=void 0;var jve=Gvr($());Gb.ChatToolPlanDeltaEventDelta=jve.serialization.object({toolPlan:jve.serialization.property("tool_plan",jve.serialization.string().optional())})});var Lve=b(Kb=>{"use strict";var Kvr=Kb&&Kb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yvr=Kb&&Kb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zvr=Kb&&Kb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Kvr(t,e,r);return Yvr(t,e),t};Object.defineProperty(Kb,"__esModule",{value:!0});Kb.ChatToolPlanDeltaEvent=void 0;var Xvr=Zvr($()),Qvr=Nve(),e0r=hp();Kb.ChatToolPlanDeltaEvent=Xvr.serialization.object({delta:Qvr.ChatToolPlanDeltaEventDelta.optional()}).extend(e0r.ChatStreamEventType)});var kve=b(Yb=>{"use strict";var t0r=Yb&&Yb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r0r=Yb&&Yb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n0r=Yb&&Yb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&t0r(t,e,r);return r0r(t,e),t};Object.defineProperty(Yb,"__esModule",{value:!0});Yb.ChatToolCallStartEventDeltaToolCallFunction=void 0;var Fve=n0r($());Yb.ChatToolCallStartEventDeltaToolCallFunction=Fve.serialization.object({name:Fve.serialization.string().optional(),arguments:Fve.serialization.string().optional()})});var $ve=b(Zb=>{"use strict";var o0r=Zb&&Zb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i0r=Zb&&Zb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a0r=Zb&&Zb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o0r(t,e,r);return i0r(t,e),t};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.ChatToolCallStartEventDeltaToolCall=void 0;var Bve=a0r($()),s0r=kve();Zb.ChatToolCallStartEventDeltaToolCall=Bve.serialization.object({id:Bve.serialization.string().optional(),type:Bve.serialization.stringLiteral("function").optional(),function:s0r.ChatToolCallStartEventDeltaToolCallFunction.optional()})});var qve=b(Xb=>{"use strict";var u0r=Xb&&Xb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),l0r=Xb&&Xb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c0r=Xb&&Xb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&u0r(t,e,r);return l0r(t,e),t};Object.defineProperty(Xb,"__esModule",{value:!0});Xb.ChatToolCallStartEventDelta=void 0;var Bpt=c0r($()),d0r=$ve();Xb.ChatToolCallStartEventDelta=Bpt.serialization.object({toolCall:Bpt.serialization.property("tool_call",d0r.ChatToolCallStartEventDeltaToolCall.optional())})});var Uve=b(Qb=>{"use strict";var f0r=Qb&&Qb.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p0r=Qb&&Qb.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h0r=Qb&&Qb.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f0r(t,e,r);return p0r(t,e),t};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.ChatToolCallStartEvent=void 0;var $pt=h0r($()),m0r=qve(),g0r=hp();Qb.ChatToolCallStartEvent=$pt.serialization.object({index:$pt.serialization.number().optional(),delta:m0r.ChatToolCallStartEventDelta.optional()}).extend(g0r.ChatStreamEventType)});var zve=b(e_=>{"use strict";var y0r=e_&&e_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b0r=e_&&e_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_0r=e_&&e_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&y0r(t,e,r);return b0r(t,e),t};Object.defineProperty(e_,"__esModule",{value:!0});e_.ChatToolCallDeltaEventDeltaToolCallFunction=void 0;var qpt=_0r($());e_.ChatToolCallDeltaEventDeltaToolCallFunction=qpt.serialization.object({arguments:qpt.serialization.string().optional()})});var Hve=b(t_=>{"use strict";var v0r=t_&&t_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),w0r=t_&&t_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S0r=t_&&t_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v0r(t,e,r);return w0r(t,e),t};Object.defineProperty(t_,"__esModule",{value:!0});t_.ChatToolCallDeltaEventDeltaToolCall=void 0;var x0r=S0r($()),C0r=zve();t_.ChatToolCallDeltaEventDeltaToolCall=x0r.serialization.object({function:C0r.ChatToolCallDeltaEventDeltaToolCallFunction.optional()})});var Vve=b(r_=>{"use strict";var O0r=r_&&r_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E0r=r_&&r_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),P0r=r_&&r_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&O0r(t,e,r);return E0r(t,e),t};Object.defineProperty(r_,"__esModule",{value:!0});r_.ChatToolCallDeltaEventDelta=void 0;var Upt=P0r($()),T0r=Hve();r_.ChatToolCallDeltaEventDelta=Upt.serialization.object({toolCall:Upt.serialization.property("tool_call",T0r.ChatToolCallDeltaEventDeltaToolCall.optional())})});var Wve=b(n_=>{"use strict";var M0r=n_&&n_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I0r=n_&&n_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),A0r=n_&&n_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M0r(t,e,r);return I0r(t,e),t};Object.defineProperty(n_,"__esModule",{value:!0});n_.ChatToolCallDeltaEvent=void 0;var zpt=A0r($()),R0r=Vve(),D0r=hp();n_.ChatToolCallDeltaEvent=zpt.serialization.object({index:zpt.serialization.number().optional(),delta:R0r.ChatToolCallDeltaEventDelta.optional()}).extend(D0r.ChatStreamEventType)});var Jve=b(o_=>{"use strict";var j0r=o_&&o_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N0r=o_&&o_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L0r=o_&&o_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j0r(t,e,r);return N0r(t,e),t};Object.defineProperty(o_,"__esModule",{value:!0});o_.ChatToolCallEndEvent=void 0;var Hpt=L0r($()),F0r=hp();o_.ChatToolCallEndEvent=Hpt.serialization.object({index:Hpt.serialization.number().optional()}).extend(F0r.ChatStreamEventType)});var Gve=b(i_=>{"use strict";var k0r=i_&&i_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B0r=i_&&i_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$0r=i_&&i_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k0r(t,e,r);return B0r(t,e),t};Object.defineProperty(i_,"__esModule",{value:!0});i_.ChatMessageEndEventDelta=void 0;var Vpt=$0r($()),q0r=$Y(),U0r=qY();i_.ChatMessageEndEventDelta=Vpt.serialization.object({finishReason:Vpt.serialization.property("finish_reason",q0r.ChatFinishReason.optional()),usage:U0r.Usage.optional()})});var Kve=b(a_=>{"use strict";var z0r=a_&&a_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H0r=a_&&a_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),V0r=a_&&a_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z0r(t,e,r);return H0r(t,e),t};Object.defineProperty(a_,"__esModule",{value:!0});a_.ChatMessageEndEvent=void 0;var Wpt=V0r($()),W0r=Gve(),J0r=hp();a_.ChatMessageEndEvent=Wpt.serialization.object({id:Wpt.serialization.string().optional(),delta:W0r.ChatMessageEndEventDelta.optional()}).extend(J0r.ChatStreamEventType)});var Yve=b(s_=>{"use strict";var G0r=s_&&s_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),K0r=s_&&s_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Y0r=s_&&s_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&G0r(t,e,r);return K0r(t,e),t};Object.defineProperty(s_,"__esModule",{value:!0});s_.CitationStartEventDeltaMessage=void 0;var Z0r=Y0r($()),X0r=P2();s_.CitationStartEventDeltaMessage=Z0r.serialization.object({citations:X0r.Citation.optional()})});var Zve=b(u_=>{"use strict";var Q0r=u_&&u_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ewr=u_&&u_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),twr=u_&&u_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Q0r(t,e,r);return ewr(t,e),t};Object.defineProperty(u_,"__esModule",{value:!0});u_.CitationStartEventDelta=void 0;var rwr=twr($()),nwr=Yve();u_.CitationStartEventDelta=rwr.serialization.object({message:nwr.CitationStartEventDeltaMessage.optional()})});var Xve=b(l_=>{"use strict";var owr=l_&&l_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iwr=l_&&l_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),awr=l_&&l_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&owr(t,e,r);return iwr(t,e),t};Object.defineProperty(l_,"__esModule",{value:!0});l_.CitationStartEvent=void 0;var Jpt=awr($()),swr=Zve(),uwr=hp();l_.CitationStartEvent=Jpt.serialization.object({index:Jpt.serialization.number().optional(),delta:swr.CitationStartEventDelta.optional()}).extend(uwr.ChatStreamEventType)});var Qve=b(c_=>{"use strict";var lwr=c_&&c_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cwr=c_&&c_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dwr=c_&&c_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lwr(t,e,r);return cwr(t,e),t};Object.defineProperty(c_,"__esModule",{value:!0});c_.CitationEndEvent=void 0;var Gpt=dwr($()),fwr=hp();c_.CitationEndEvent=Gpt.serialization.object({index:Gpt.serialization.number().optional()}).extend(fwr.ChatStreamEventType)});var Kpt=b(d_=>{"use strict";var pwr=d_&&d_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hwr=d_&&d_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mwr=d_&&d_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pwr(t,e,r);return hwr(t,e),t};Object.defineProperty(d_,"__esModule",{value:!0});d_.StreamedChatResponse2=void 0;var gwr=mwr($()),ywr=xve(),bwr=Tve(),_wr=Rve(),vwr=Dve(),wwr=Lve(),Swr=Uve(),xwr=Wve(),Cwr=Jve(),Owr=Xve(),Ewr=Qve(),Pwr=Kve();d_.StreamedChatResponse2=gwr.serialization.union("type",{"message-start":ywr.ChatMessageStartEvent,"content-start":bwr.ChatContentStartEvent,"content-delta":_wr.ChatContentDeltaEvent,"content-end":vwr.ChatContentEndEvent,"tool-plan-delta":wwr.ChatToolPlanDeltaEvent,"tool-call-start":Swr.ChatToolCallStartEvent,"tool-call-delta":xwr.ChatToolCallDeltaEvent,"tool-call-end":Cwr.ChatToolCallEndEvent,"citation-start":Owr.CitationStartEvent,"citation-end":Ewr.CitationEndEvent,"message-end":Pwr.ChatMessageEndEvent}).transform({transform:e=>e,untransform:e=>e})});var e0e=b(st=>{"use strict";var Twr=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yt=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Twr(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});yt(V_e(),st);yt(W_e(),st);yt(ML(),st);yt(J_e(),st);yt(K_e(),st);yt(Z_e(),st);yt(Q_e(),st);yt(LY(),st);yt(tve(),st);yt(rve(),st);yt(nve(),st);yt(P2(),st);yt(ove(),st);yt(ave(),st);yt(sve(),st);yt(uve(),st);yt(cve(),st);yt(dve(),st);yt(fve(),st);yt(pve(),st);yt(hve(),st);yt(mve(),st);yt(kY(),st);yt(gve(),st);yt(BY(),st);yt($Y(),st);yt(yve(),st);yt(bve(),st);yt(_ve(),st);yt(vve(),st);yt(qY(),st);yt(Rpt(),st);yt(hp(),st);yt(wve(),st);yt(Sve(),st);yt(xve(),st);yt(Ove(),st);yt(Eve(),st);yt(Pve(),st);yt(Tve(),st);yt(Mve(),st);yt(Ive(),st);yt(Ave(),st);yt(Rve(),st);yt(Dve(),st);yt(Nve(),st);yt(Lve(),st);yt(kve(),st);yt($ve(),st);yt(qve(),st);yt(Uve(),st);yt(zve(),st);yt(Hve(),st);yt(Vve(),st);yt(Wve(),st);yt(Jve(),st);yt(Gve(),st);yt(Kve(),st);yt(Kpt(),st)});var zY=b(f_=>{"use strict";var Mwr=f_&&f_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iwr=f_&&f_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Awr=f_&&f_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Mwr(t,e,r);return Iwr(t,e),t};Object.defineProperty(f_,"__esModule",{value:!0});f_.TextResponseFormat=void 0;var Rwr=Awr($());f_.TextResponseFormat=Rwr.serialization.object({})});var t0e=b(p_=>{"use strict";var Dwr=p_&&p_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jwr=p_&&p_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nwr=p_&&p_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Dwr(t,e,r);return jwr(t,e),t};Object.defineProperty(p_,"__esModule",{value:!0});p_.JsonResponseFormat2=void 0;var I2=Nwr($());p_.JsonResponseFormat2=I2.serialization.object({jsonSchema:I2.serialization.property("json_schema",I2.serialization.record(I2.serialization.string(),I2.serialization.unknown()).optional())})});var HY=b(h_=>{"use strict";var Lwr=h_&&h_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fwr=h_&&h_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kwr=h_&&h_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lwr(t,e,r);return Fwr(t,e),t};Object.defineProperty(h_,"__esModule",{value:!0});h_.ResponseFormat2=void 0;var Bwr=kwr($()),$wr=zY(),qwr=t0e();h_.ResponseFormat2=Bwr.serialization.union("type",{text:$wr.TextResponseFormat,json_object:qwr.JsonResponseFormat2}).transform({transform:e=>e,untransform:e=>e})});var Ypt=b(m_=>{"use strict";var Uwr=m_&&m_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zwr=m_&&m_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hwr=m_&&m_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Uwr(t,e,r);return zwr(t,e),t};Object.defineProperty(m_,"__esModule",{value:!0});m_.V2ChatStreamRequest=void 0;var cs=Hwr($()),Vwr=kY(),Wwr=BY(),Jwr=V_e(),Gwr=HY();m_.V2ChatStreamRequest=cs.serialization.object({model:cs.serialization.string(),messages:Vwr.ChatMessages,tools:cs.serialization.list(Wwr.Tool2).optional(),citationMode:cs.serialization.property("citation_mode",Jwr.V2ChatStreamRequestCitationMode.optional()),responseFormat:cs.serialization.property("response_format",Gwr.ResponseFormat2.optional()),maxTokens:cs.serialization.property("max_tokens",cs.serialization.number().optional()),stopSequences:cs.serialization.property("stop_sequences",cs.serialization.list(cs.serialization.string()).optional()),temperature:cs.serialization.number().optional(),seed:cs.serialization.number().optional(),frequencyPenalty:cs.serialization.property("frequency_penalty",cs.serialization.number().optional()),presencePenalty:cs.serialization.property("presence_penalty",cs.serialization.number().optional()),k:cs.serialization.number().optional(),p:cs.serialization.number().optional(),returnPrompt:cs.serialization.property("return_prompt",cs.serialization.boolean().optional())})});var Zpt=b(g_=>{"use strict";var Kwr=g_&&g_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ywr=g_&&g_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zwr=g_&&g_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Kwr(t,e,r);return Ywr(t,e),t};Object.defineProperty(g_,"__esModule",{value:!0});g_.V2ChatRequest=void 0;var ds=Zwr($()),Xwr=kY(),Qwr=BY(),eSr=W_e(),tSr=HY();g_.V2ChatRequest=ds.serialization.object({model:ds.serialization.string(),messages:Xwr.ChatMessages,tools:ds.serialization.list(Qwr.Tool2).optional(),citationMode:ds.serialization.property("citation_mode",eSr.V2ChatRequestCitationMode.optional()),responseFormat:ds.serialization.property("response_format",tSr.ResponseFormat2.optional()),maxTokens:ds.serialization.property("max_tokens",ds.serialization.number().optional()),stopSequences:ds.serialization.property("stop_sequences",ds.serialization.list(ds.serialization.string()).optional()),temperature:ds.serialization.number().optional(),seed:ds.serialization.number().optional(),frequencyPenalty:ds.serialization.property("frequency_penalty",ds.serialization.number().optional()),presencePenalty:ds.serialization.property("presence_penalty",ds.serialization.number().optional()),k:ds.serialization.number().optional(),p:ds.serialization.number().optional(),returnPrompt:ds.serialization.property("return_prompt",ds.serialization.boolean().optional())})});var r0e=b(DL=>{"use strict";Object.defineProperty(DL,"__esModule",{value:!0});DL.V2ChatRequest=DL.V2ChatStreamRequest=void 0;var rSr=Ypt();Object.defineProperty(DL,"V2ChatStreamRequest",{enumerable:!0,get:function(){return rSr.V2ChatStreamRequest}});var nSr=Zpt();Object.defineProperty(DL,"V2ChatRequest",{enumerable:!0,get:function(){return nSr.V2ChatRequest}})});var Xpt=b(IA=>{"use strict";var oSr=IA&&IA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iSr=IA&&IA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oSr(t,e,r)};Object.defineProperty(IA,"__esModule",{value:!0});iSr(r0e(),IA)});var eht=b(rP=>{"use strict";var aSr=rP&&rP.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qpt=rP&&rP.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aSr(t,e,r)};Object.defineProperty(rP,"__esModule",{value:!0});Qpt(e0e(),rP);Qpt(Xpt(),rP)});var n0e=b(y_=>{"use strict";var sSr=y_&&y_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uSr=y_&&y_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lSr=y_&&y_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sSr(t,e,r);return uSr(t,e),t};Object.defineProperty(y_,"__esModule",{value:!0});y_.CreateEmbedJobRequestTruncate=void 0;var cSr=lSr($());y_.CreateEmbedJobRequestTruncate=cSr.serialization.enum_(["START","END"])});var o0e=b(AA=>{"use strict";var dSr=AA&&AA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fSr=AA&&AA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dSr(t,e,r)};Object.defineProperty(AA,"__esModule",{value:!0});fSr(n0e(),AA)});var VY=b(b_=>{"use strict";var pSr=b_&&b_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hSr=b_&&b_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mSr=b_&&b_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pSr(t,e,r);return hSr(t,e),t};Object.defineProperty(b_,"__esModule",{value:!0});b_.EmbedInputType=void 0;var gSr=mSr($());b_.EmbedInputType=gSr.serialization.enum_(["search_document","search_query","classification","clustering"])});var WY=b(__=>{"use strict";var ySr=__&&__.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bSr=__&&__.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_Sr=__&&__.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ySr(t,e,r);return bSr(t,e),t};Object.defineProperty(__,"__esModule",{value:!0});__.EmbeddingType=void 0;var vSr=_Sr($());__.EmbeddingType=vSr.serialization.enum_(["float","int8","uint8","binary","ubinary"])});var tht=b(v_=>{"use strict";var wSr=v_&&v_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SSr=v_&&v_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xSr=v_&&v_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wSr(t,e,r);return SSr(t,e),t};Object.defineProperty(v_,"__esModule",{value:!0});v_.CreateEmbedJobRequest=void 0;var nP=xSr($()),CSr=VY(),OSr=WY(),ESr=n0e();v_.CreateEmbedJobRequest=nP.serialization.object({model:nP.serialization.string(),datasetId:nP.serialization.property("dataset_id",nP.serialization.string()),inputType:nP.serialization.property("input_type",CSr.EmbedInputType),name:nP.serialization.string().optional(),embeddingTypes:nP.serialization.property("embedding_types",nP.serialization.list(OSr.EmbeddingType).optional()),truncate:ESr.CreateEmbedJobRequestTruncate.optional()})});var i0e=b(JY=>{"use strict";Object.defineProperty(JY,"__esModule",{value:!0});JY.CreateEmbedJobRequest=void 0;var PSr=tht();Object.defineProperty(JY,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return PSr.CreateEmbedJobRequest}})});var rht=b(RA=>{"use strict";var TSr=RA&&RA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MSr=RA&&RA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TSr(t,e,r)};Object.defineProperty(RA,"__esModule",{value:!0});MSr(i0e(),RA)});var oht=b(oP=>{"use strict";var ISr=oP&&oP.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nht=oP&&oP.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ISr(t,e,r)};Object.defineProperty(oP,"__esModule",{value:!0});nht(o0e(),oP);nht(rht(),oP)});var a0e=b(w_=>{"use strict";var ASr=w_&&w_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RSr=w_&&w_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DSr=w_&&w_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ASr(t,e,r);return RSr(t,e),t};Object.defineProperty(w_,"__esModule",{value:!0});w_.DatasetType=void 0;var jSr=DSr($());w_.DatasetType=jSr.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input"])});var s0e=b(S_=>{"use strict";var NSr=S_&&S_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LSr=S_&&S_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FSr=S_&&S_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&NSr(t,e,r);return LSr(t,e),t};Object.defineProperty(S_,"__esModule",{value:!0});S_.DatasetValidationStatus=void 0;var kSr=FSr($());S_.DatasetValidationStatus=kSr.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"])});var u0e=b(x_=>{"use strict";var BSr=x_&&x_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$Sr=x_&&x_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qSr=x_&&x_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BSr(t,e,r);return $Sr(t,e),t};Object.defineProperty(x_,"__esModule",{value:!0});x_.DatasetPart=void 0;var mp=qSr($());x_.DatasetPart=mp.serialization.object({id:mp.serialization.string(),name:mp.serialization.string(),url:mp.serialization.string().optional(),index:mp.serialization.number().optional(),sizeBytes:mp.serialization.property("size_bytes",mp.serialization.number().optional()),numRows:mp.serialization.property("num_rows",mp.serialization.number().optional()),originalUrl:mp.serialization.property("original_url",mp.serialization.string().optional()),samples:mp.serialization.list(mp.serialization.string()).optional()})});var GY=b(C_=>{"use strict";var USr=C_&&C_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zSr=C_&&C_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HSr=C_&&C_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&USr(t,e,r);return zSr(t,e),t};Object.defineProperty(C_,"__esModule",{value:!0});C_.Dataset=void 0;var da=HSr($()),VSr=a0e(),WSr=s0e(),JSr=u0e();C_.Dataset=da.serialization.object({id:da.serialization.string(),name:da.serialization.string(),createdAt:da.serialization.property("created_at",da.serialization.date()),updatedAt:da.serialization.property("updated_at",da.serialization.date()),datasetType:da.serialization.property("dataset_type",VSr.DatasetType),validationStatus:da.serialization.property("validation_status",WSr.DatasetValidationStatus),validationError:da.serialization.property("validation_error",da.serialization.string().optional()),schema:da.serialization.string().optional(),requiredFields:da.serialization.property("required_fields",da.serialization.list(da.serialization.string()).optional()),preserveFields:da.serialization.property("preserve_fields",da.serialization.list(da.serialization.string()).optional()),datasetParts:da.serialization.property("dataset_parts",da.serialization.list(JSr.DatasetPart).optional()),validationWarnings:da.serialization.property("validation_warnings",da.serialization.list(da.serialization.string()).optional())})});var aht=b(O_=>{"use strict";var GSr=O_&&O_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KSr=O_&&O_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),YSr=O_&&O_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GSr(t,e,r);return KSr(t,e),t};Object.defineProperty(O_,"__esModule",{value:!0});O_.DatasetsListResponse=void 0;var iht=YSr($()),ZSr=GY();O_.DatasetsListResponse=iht.serialization.object({datasets:iht.serialization.list(ZSr.Dataset).optional()})});var sht=b(E_=>{"use strict";var XSr=E_&&E_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QSr=E_&&E_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),exr=E_&&E_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XSr(t,e,r);return QSr(t,e),t};Object.defineProperty(E_,"__esModule",{value:!0});E_.DatasetsCreateResponseDatasetPartsItem=void 0;var iP=exr($());E_.DatasetsCreateResponseDatasetPartsItem=iP.serialization.object({name:iP.serialization.string().optional(),numRows:iP.serialization.property("num_rows",iP.serialization.number().optional()),samples:iP.serialization.list(iP.serialization.string()).optional(),partKind:iP.serialization.property("part_kind",iP.serialization.string().optional())})});var lht=b(P_=>{"use strict";var txr=P_&&P_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rxr=P_&&P_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nxr=P_&&P_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&txr(t,e,r);return rxr(t,e),t};Object.defineProperty(P_,"__esModule",{value:!0});P_.DatasetsCreateResponse=void 0;var uht=nxr($());P_.DatasetsCreateResponse=uht.serialization.object({id:uht.serialization.string().optional()})});var cht=b(T_=>{"use strict";var oxr=T_&&T_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ixr=T_&&T_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),axr=T_&&T_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oxr(t,e,r);return ixr(t,e),t};Object.defineProperty(T_,"__esModule",{value:!0});T_.DatasetsGetUsageResponse=void 0;var l0e=axr($());T_.DatasetsGetUsageResponse=l0e.serialization.object({organizationUsage:l0e.serialization.property("organization_usage",l0e.serialization.number().optional())})});var dht=b(M_=>{"use strict";var sxr=M_&&M_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uxr=M_&&M_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lxr=M_&&M_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sxr(t,e,r);return uxr(t,e),t};Object.defineProperty(M_,"__esModule",{value:!0});M_.DatasetsGetResponse=void 0;var cxr=lxr($()),dxr=GY();M_.DatasetsGetResponse=cxr.serialization.object({dataset:dxr.Dataset})});var c0e=b(sg=>{"use strict";var fxr=sg&&sg.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),A2=sg&&sg.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fxr(t,e,r)};Object.defineProperty(sg,"__esModule",{value:!0});A2(aht(),sg);A2(sht(),sg);A2(lht(),sg);A2(cht(),sg);A2(dht(),sg)});var fht=b(I_=>{"use strict";var pxr=I_&&I_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hxr=I_&&I_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mxr=I_&&I_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pxr(t,e,r);return hxr(t,e),t};Object.defineProperty(I_,"__esModule",{value:!0});I_.Response=void 0;var d0e=mxr($());I_.Response=d0e.serialization.record(d0e.serialization.string(),d0e.serialization.unknown())});var pht=b(A_=>{"use strict";var gxr=A_&&A_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yxr=A_&&A_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bxr=A_&&A_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gxr(t,e,r);return yxr(t,e),t};Object.defineProperty(A_,"__esModule",{value:!0});A_.delete=void 0;A_.delete=bxr(fht())});var mht=b(aP=>{"use strict";var _xr=aP&&aP.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hht=aP&&aP.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_xr(t,e,r)};Object.defineProperty(aP,"__esModule",{value:!0});hht(c0e(),aP);hht(pht(),aP)});var f0e=b(R_=>{"use strict";var vxr=R_&&R_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wxr=R_&&R_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sxr=R_&&R_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vxr(t,e,r);return wxr(t,e),t};Object.defineProperty(R_,"__esModule",{value:!0});R_.BaseType=void 0;var xxr=Sxr($());R_.BaseType=xxr.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"])});var p0e=b(D_=>{"use strict";var Cxr=D_&&D_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Oxr=D_&&D_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Exr=D_&&D_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Cxr(t,e,r);return Oxr(t,e),t};Object.defineProperty(D_,"__esModule",{value:!0});D_.Strategy=void 0;var Pxr=Exr($());D_.Strategy=Pxr.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"])});var h0e=b(j_=>{"use strict";var Txr=j_&&j_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mxr=j_&&j_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ixr=j_&&j_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Txr(t,e,r);return Mxr(t,e),t};Object.defineProperty(j_,"__esModule",{value:!0});j_.BaseModel=void 0;var KY=Ixr($()),Axr=f0e(),Rxr=p0e();j_.BaseModel=KY.serialization.object({name:KY.serialization.string().optional(),version:KY.serialization.string().optional(),baseType:KY.serialization.property("base_type",Axr.BaseType),strategy:Rxr.Strategy.optional()})});var m0e=b(N_=>{"use strict";var Dxr=N_&&N_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jxr=N_&&N_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nxr=N_&&N_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Dxr(t,e,r);return jxr(t,e),t};Object.defineProperty(N_,"__esModule",{value:!0});N_.Hyperparameters=void 0;var ug=Nxr($());N_.Hyperparameters=ug.serialization.object({earlyStoppingPatience:ug.serialization.property("early_stopping_patience",ug.serialization.number().optional()),earlyStoppingThreshold:ug.serialization.property("early_stopping_threshold",ug.serialization.number().optional()),trainBatchSize:ug.serialization.property("train_batch_size",ug.serialization.number().optional()),trainEpochs:ug.serialization.property("train_epochs",ug.serialization.number().optional()),learningRate:ug.serialization.property("learning_rate",ug.serialization.number().optional())})});var g0e=b(L_=>{"use strict";var Lxr=L_&&L_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fxr=L_&&L_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kxr=L_&&L_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lxr(t,e,r);return Fxr(t,e),t};Object.defineProperty(L_,"__esModule",{value:!0});L_.WandbConfig=void 0;var R2=kxr($());L_.WandbConfig=R2.serialization.object({project:R2.serialization.string(),apiKey:R2.serialization.property("api_key",R2.serialization.string()),entity:R2.serialization.string().optional()})});var YY=b(F_=>{"use strict";var Bxr=F_&&F_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$xr=F_&&F_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qxr=F_&&F_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Bxr(t,e,r);return $xr(t,e),t};Object.defineProperty(F_,"__esModule",{value:!0});F_.Settings=void 0;var jL=qxr($()),Uxr=h0e(),zxr=m0e(),Hxr=g0e();F_.Settings=jL.serialization.object({baseModel:jL.serialization.property("base_model",Uxr.BaseModel),datasetId:jL.serialization.property("dataset_id",jL.serialization.string()),hyperparameters:zxr.Hyperparameters.optional(),multiLabel:jL.serialization.property("multi_label",jL.serialization.boolean().optional()),wandb:Hxr.WandbConfig.optional()})});var D2=b(k_=>{"use strict";var Vxr=k_&&k_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wxr=k_&&k_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jxr=k_&&k_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vxr(t,e,r);return Wxr(t,e),t};Object.defineProperty(k_,"__esModule",{value:!0});k_.Status=void 0;var Gxr=Jxr($());k_.Status=Gxr.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"])});var NL=b(B_=>{"use strict";var Kxr=B_&&B_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yxr=B_&&B_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zxr=B_&&B_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Kxr(t,e,r);return Yxr(t,e),t};Object.defineProperty(B_,"__esModule",{value:!0});B_.FinetunedModel=void 0;var Fd=Zxr($()),Xxr=YY(),Qxr=D2();B_.FinetunedModel=Fd.serialization.object({id:Fd.serialization.string().optional(),name:Fd.serialization.string(),creatorId:Fd.serialization.property("creator_id",Fd.serialization.string().optional()),organizationId:Fd.serialization.property("organization_id",Fd.serialization.string().optional()),settings:Xxr.Settings,status:Qxr.Status.optional(),createdAt:Fd.serialization.property("created_at",Fd.serialization.date().optional()),updatedAt:Fd.serialization.property("updated_at",Fd.serialization.date().optional()),completedAt:Fd.serialization.property("completed_at",Fd.serialization.date().optional()),lastUsed:Fd.serialization.property("last_used",Fd.serialization.date().optional())})});var ght=b($_=>{"use strict";var eCr=$_&&$_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tCr=$_&&$_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rCr=$_&&$_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eCr(t,e,r);return tCr(t,e),t};Object.defineProperty($_,"__esModule",{value:!0});$_.ListFinetunedModelsResponse=void 0;var DA=rCr($()),nCr=NL();$_.ListFinetunedModelsResponse=DA.serialization.object({finetunedModels:DA.serialization.property("finetuned_models",DA.serialization.list(nCr.FinetunedModel).optional()),nextPageToken:DA.serialization.property("next_page_token",DA.serialization.string().optional()),totalSize:DA.serialization.property("total_size",DA.serialization.number().optional())})});var bht=b(q_=>{"use strict";var oCr=q_&&q_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iCr=q_&&q_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aCr=q_&&q_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oCr(t,e,r);return iCr(t,e),t};Object.defineProperty(q_,"__esModule",{value:!0});q_.CreateFinetunedModelResponse=void 0;var yht=aCr($()),sCr=NL();q_.CreateFinetunedModelResponse=yht.serialization.object({finetunedModel:yht.serialization.property("finetuned_model",sCr.FinetunedModel.optional())})});var vht=b(U_=>{"use strict";var uCr=U_&&U_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lCr=U_&&U_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cCr=U_&&U_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uCr(t,e,r);return lCr(t,e),t};Object.defineProperty(U_,"__esModule",{value:!0});U_.GetFinetunedModelResponse=void 0;var _ht=cCr($()),dCr=NL();U_.GetFinetunedModelResponse=_ht.serialization.object({finetunedModel:_ht.serialization.property("finetuned_model",dCr.FinetunedModel.optional())})});var wht=b(z_=>{"use strict";var fCr=z_&&z_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pCr=z_&&z_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hCr=z_&&z_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fCr(t,e,r);return pCr(t,e),t};Object.defineProperty(z_,"__esModule",{value:!0});z_.DeleteFinetunedModelResponse=void 0;var y0e=hCr($());z_.DeleteFinetunedModelResponse=y0e.serialization.record(y0e.serialization.string(),y0e.serialization.unknown())});var xht=b(H_=>{"use strict";var mCr=H_&&H_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gCr=H_&&H_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yCr=H_&&H_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mCr(t,e,r);return gCr(t,e),t};Object.defineProperty(H_,"__esModule",{value:!0});H_.UpdateFinetunedModelResponse=void 0;var Sht=yCr($()),bCr=NL();H_.UpdateFinetunedModelResponse=Sht.serialization.object({finetunedModel:Sht.serialization.property("finetuned_model",bCr.FinetunedModel.optional())})});var b0e=b(V_=>{"use strict";var _Cr=V_&&V_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vCr=V_&&V_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wCr=V_&&V_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Cr(t,e,r);return vCr(t,e),t};Object.defineProperty(V_,"__esModule",{value:!0});V_.Event=void 0;var j2=wCr($()),SCr=D2();V_.Event=j2.serialization.object({userId:j2.serialization.property("user_id",j2.serialization.string().optional()),status:SCr.Status.optional(),createdAt:j2.serialization.property("created_at",j2.serialization.date().optional())})});var Cht=b(W_=>{"use strict";var xCr=W_&&W_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CCr=W_&&W_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OCr=W_&&W_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xCr(t,e,r);return CCr(t,e),t};Object.defineProperty(W_,"__esModule",{value:!0});W_.ListEventsResponse=void 0;var LL=OCr($()),ECr=b0e();W_.ListEventsResponse=LL.serialization.object({events:LL.serialization.list(ECr.Event).optional(),nextPageToken:LL.serialization.property("next_page_token",LL.serialization.string().optional()),totalSize:LL.serialization.property("total_size",LL.serialization.number().optional())})});var _0e=b(J_=>{"use strict";var PCr=J_&&J_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TCr=J_&&J_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MCr=J_&&J_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PCr(t,e,r);return TCr(t,e),t};Object.defineProperty(J_,"__esModule",{value:!0});J_.TrainingStepMetrics=void 0;var sP=MCr($());J_.TrainingStepMetrics=sP.serialization.object({createdAt:sP.serialization.property("created_at",sP.serialization.date().optional()),stepNumber:sP.serialization.property("step_number",sP.serialization.number().optional()),metrics:sP.serialization.record(sP.serialization.string(),sP.serialization.number()).optional()})});var Oht=b(G_=>{"use strict";var ICr=G_&&G_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ACr=G_&&G_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RCr=G_&&G_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ICr(t,e,r);return ACr(t,e),t};Object.defineProperty(G_,"__esModule",{value:!0});G_.ListTrainingStepMetricsResponse=void 0;var N2=RCr($()),DCr=_0e();G_.ListTrainingStepMetricsResponse=N2.serialization.object({stepMetrics:N2.serialization.property("step_metrics",N2.serialization.list(DCr.TrainingStepMetrics).optional()),nextPageToken:N2.serialization.property("next_page_token",N2.serialization.string().optional())})});var v0e=b(fa=>{"use strict";var jCr=fa&&fa.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ql=fa&&fa.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jCr(t,e,r)};Object.defineProperty(fa,"__esModule",{value:!0});Ql(f0e(),fa);Ql(p0e(),fa);Ql(h0e(),fa);Ql(m0e(),fa);Ql(g0e(),fa);Ql(YY(),fa);Ql(D2(),fa);Ql(NL(),fa);Ql(ght(),fa);Ql(bht(),fa);Ql(vht(),fa);Ql(wht(),fa);Ql(xht(),fa);Ql(b0e(),fa);Ql(Cht(),fa);Ql(_0e(),fa);Ql(Oht(),fa)});var Eht=b(jA=>{"use strict";var NCr=jA&&jA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LCr=jA&&jA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NCr(t,e,r)};Object.defineProperty(jA,"__esModule",{value:!0});LCr(v0e(),jA)});var Tht=b(gp=>{"use strict";var Pht=gp&&gp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FCr=gp&&gp.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kCr=gp&&gp.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pht(t,e,r);return FCr(t,e),t},BCr=gp&&gp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pht(t,e,r)};Object.defineProperty(gp,"__esModule",{value:!0});gp.finetuning=void 0;gp.finetuning=kCr(Eht());BCr(v0e(),gp)});var Mht=b(K_=>{"use strict";var $Cr=K_&&K_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qCr=K_&&K_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UCr=K_&&K_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Cr(t,e,r);return qCr(t,e),t};Object.defineProperty(K_,"__esModule",{value:!0});K_.FinetuningUpdateFinetunedModelRequest=void 0;var vf=UCr($()),zCr=YY(),HCr=D2();K_.FinetuningUpdateFinetunedModelRequest=vf.serialization.object({name:vf.serialization.string(),creatorId:vf.serialization.property("creator_id",vf.serialization.string().optional()),organizationId:vf.serialization.property("organization_id",vf.serialization.string().optional()),settings:zCr.Settings,status:HCr.Status.optional(),createdAt:vf.serialization.property("created_at",vf.serialization.date().optional()),updatedAt:vf.serialization.property("updated_at",vf.serialization.date().optional()),completedAt:vf.serialization.property("completed_at",vf.serialization.date().optional()),lastUsed:vf.serialization.property("last_used",vf.serialization.date().optional())})});var w0e=b(ZY=>{"use strict";Object.defineProperty(ZY,"__esModule",{value:!0});ZY.FinetuningUpdateFinetunedModelRequest=void 0;var VCr=Mht();Object.defineProperty(ZY,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return VCr.FinetuningUpdateFinetunedModelRequest}})});var Iht=b(NA=>{"use strict";var WCr=NA&&NA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JCr=NA&&NA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WCr(t,e,r)};Object.defineProperty(NA,"__esModule",{value:!0});JCr(w0e(),NA)});var Rht=b(uP=>{"use strict";var GCr=uP&&uP.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Aht=uP&&uP.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&GCr(t,e,r)};Object.defineProperty(uP,"__esModule",{value:!0});Aht(Tht(),uP);Aht(Iht(),uP)});var XY=b(Z_=>{"use strict";var KCr=Z_&&Z_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YCr=Z_&&Z_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ZCr=Z_&&Z_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KCr(t,e,r);return YCr(t,e),t};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.CreateConnectorOAuth=void 0;var Y_=ZCr($());Z_.CreateConnectorOAuth=Y_.serialization.object({clientId:Y_.serialization.property("client_id",Y_.serialization.string().optional()),clientSecret:Y_.serialization.property("client_secret",Y_.serialization.string().optional()),authorizeUrl:Y_.serialization.property("authorize_url",Y_.serialization.string().optional()),tokenUrl:Y_.serialization.property("token_url",Y_.serialization.string().optional()),scope:Y_.serialization.string().optional()})});var S0e=b(X_=>{"use strict";var XCr=X_&&X_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QCr=X_&&X_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eOr=X_&&X_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XCr(t,e,r);return QCr(t,e),t};Object.defineProperty(X_,"__esModule",{value:!0});X_.AuthTokenType=void 0;var tOr=eOr($());X_.AuthTokenType=tOr.serialization.enum_(["bearer","basic","noscheme"])});var QY=b(Q_=>{"use strict";var rOr=Q_&&Q_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nOr=Q_&&Q_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oOr=Q_&&Q_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rOr(t,e,r);return nOr(t,e),t};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.CreateConnectorServiceAuth=void 0;var Dht=oOr($()),iOr=S0e();Q_.CreateConnectorServiceAuth=Dht.serialization.object({type:iOr.AuthTokenType,token:Dht.serialization.string()})});var jht=b(tv=>{"use strict";var aOr=tv&&tv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sOr=tv&&tv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uOr=tv&&tv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aOr(t,e,r);return sOr(t,e),t};Object.defineProperty(tv,"__esModule",{value:!0});tv.CreateConnectorRequest=void 0;var ev=uOr($()),lOr=XY(),cOr=QY();tv.CreateConnectorRequest=ev.serialization.object({name:ev.serialization.string(),description:ev.serialization.string().optional(),url:ev.serialization.string(),excludes:ev.serialization.list(ev.serialization.string()).optional(),oauth:lOr.CreateConnectorOAuth.optional(),active:ev.serialization.boolean().optional(),continueOnFailure:ev.serialization.property("continue_on_failure",ev.serialization.boolean().optional()),serviceAuth:ev.serialization.property("service_auth",cOr.CreateConnectorServiceAuth.optional())})});var Nht=b(rv=>{"use strict";var dOr=rv&&rv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fOr=rv&&rv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pOr=rv&&rv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dOr(t,e,r);return fOr(t,e),t};Object.defineProperty(rv,"__esModule",{value:!0});rv.UpdateConnectorRequest=void 0;var Cx=pOr($()),hOr=XY(),mOr=QY();rv.UpdateConnectorRequest=Cx.serialization.object({name:Cx.serialization.string().optional(),url:Cx.serialization.string().optional(),excludes:Cx.serialization.list(Cx.serialization.string()).optional(),oauth:hOr.CreateConnectorOAuth.optional(),active:Cx.serialization.boolean().optional(),continueOnFailure:Cx.serialization.property("continue_on_failure",Cx.serialization.boolean().optional()),serviceAuth:Cx.serialization.property("service_auth",mOr.CreateConnectorServiceAuth.optional())})});var x0e=b(FL=>{"use strict";Object.defineProperty(FL,"__esModule",{value:!0});FL.UpdateConnectorRequest=FL.CreateConnectorRequest=void 0;var gOr=jht();Object.defineProperty(FL,"CreateConnectorRequest",{enumerable:!0,get:function(){return gOr.CreateConnectorRequest}});var yOr=Nht();Object.defineProperty(FL,"UpdateConnectorRequest",{enumerable:!0,get:function(){return yOr.UpdateConnectorRequest}})});var Lht=b(LA=>{"use strict";var bOr=LA&&LA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Or=LA&&LA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bOr(t,e,r)};Object.defineProperty(LA,"__esModule",{value:!0});_Or(x0e(),LA)});var Fht=b(FA=>{"use strict";var vOr=FA&&FA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wOr=FA&&FA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vOr(t,e,r)};Object.defineProperty(FA,"__esModule",{value:!0});wOr(Lht(),FA)});var Bht=b(Xo=>{"use strict";var kht=Xo&&Xo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SOr=Xo&&Xo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L2=Xo&&Xo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kht(t,e,r);return SOr(t,e),t},kA=Xo&&Xo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kht(t,e,r)};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.connectors=Xo.finetuning=Xo.datasets=Xo.embedJobs=Xo.v2=void 0;Xo.v2=L2(eht());kA(e0e(),Xo);Xo.embedJobs=L2(oht());kA(o0e(),Xo);Xo.datasets=L2(mht());kA(c0e(),Xo);Xo.finetuning=L2(Rht());kA(r0e(),Xo);kA(i0e(),Xo);Xo.connectors=L2(Fht());kA(x0e(),Xo);kA(w0e(),Xo)});var C0e=b(nv=>{"use strict";var xOr=nv&&nv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),COr=nv&&nv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OOr=nv&&nv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xOr(t,e,r);return COr(t,e),t};Object.defineProperty(nv,"__esModule",{value:!0});nv.ChatStreamRequestPromptTruncation=void 0;var EOr=OOr($());nv.ChatStreamRequestPromptTruncation=EOr.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"])});var O0e=b(ov=>{"use strict";var POr=ov&&ov.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TOr=ov&&ov.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MOr=ov&&ov.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&POr(t,e,r);return TOr(t,e),t};Object.defineProperty(ov,"__esModule",{value:!0});ov.ChatStreamRequestCitationQuality=void 0;var IOr=MOr($());ov.ChatStreamRequestCitationQuality=IOr.serialization.enum_(["fast","accurate","off"])});var qht=b(iv=>{"use strict";var AOr=iv&&iv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ROr=iv&&iv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DOr=iv&&iv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&AOr(t,e,r);return ROr(t,e),t};Object.defineProperty(iv,"__esModule",{value:!0});iv.ChatStreamRequestConnectorsSearchOptions=void 0;var $ht=DOr($());iv.ChatStreamRequestConnectorsSearchOptions=$ht.serialization.object({seed:$ht.serialization.number().optional()})});var E0e=b(av=>{"use strict";var jOr=av&&av.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NOr=av&&av.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LOr=av&&av.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jOr(t,e,r);return NOr(t,e),t};Object.defineProperty(av,"__esModule",{value:!0});av.ChatStreamRequestSafetyMode=void 0;var FOr=LOr($());av.ChatStreamRequestSafetyMode=FOr.serialization.enum_(["CONTEXTUAL","STRICT","NONE"])});var zht=b(sv=>{"use strict";var kOr=sv&&sv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BOr=sv&&sv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$Or=sv&&sv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kOr(t,e,r);return BOr(t,e),t};Object.defineProperty(sv,"__esModule",{value:!0});sv.UnprocessableEntityErrorBody=void 0;var Uht=$Or($());sv.UnprocessableEntityErrorBody=Uht.serialization.object({data:Uht.serialization.string().optional()})});var Vht=b(uv=>{"use strict";var qOr=uv&&uv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UOr=uv&&uv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zOr=uv&&uv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qOr(t,e,r);return UOr(t,e),t};Object.defineProperty(uv,"__esModule",{value:!0});uv.TooManyRequestsErrorBody=void 0;var Hht=zOr($());uv.TooManyRequestsErrorBody=Hht.serialization.object({data:Hht.serialization.string().optional()})});var Jht=b(lv=>{"use strict";var HOr=lv&&lv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VOr=lv&&lv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WOr=lv&&lv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&HOr(t,e,r);return VOr(t,e),t};Object.defineProperty(lv,"__esModule",{value:!0});lv.ClientClosedRequestErrorBody=void 0;var Wht=WOr($());lv.ClientClosedRequestErrorBody=Wht.serialization.object({data:Wht.serialization.string().optional()})});var Kht=b(cv=>{"use strict";var JOr=cv&&cv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GOr=cv&&cv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KOr=cv&&cv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JOr(t,e,r);return GOr(t,e),t};Object.defineProperty(cv,"__esModule",{value:!0});cv.NotImplementedErrorBody=void 0;var Ght=KOr($());cv.NotImplementedErrorBody=Ght.serialization.object({data:Ght.serialization.string().optional()})});var Zht=b(dv=>{"use strict";var YOr=dv&&dv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZOr=dv&&dv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XOr=dv&&dv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YOr(t,e,r);return ZOr(t,e),t};Object.defineProperty(dv,"__esModule",{value:!0});dv.GatewayTimeoutErrorBody=void 0;var Yht=XOr($());dv.GatewayTimeoutErrorBody=Yht.serialization.object({data:Yht.serialization.string().optional()})});var P0e=b(fv=>{"use strict";var QOr=fv&&fv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eEr=fv&&fv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tEr=fv&&fv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QOr(t,e,r);return eEr(t,e),t};Object.defineProperty(fv,"__esModule",{value:!0});fv.ChatRequestPromptTruncation=void 0;var rEr=tEr($());fv.ChatRequestPromptTruncation=rEr.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"])});var T0e=b(pv=>{"use strict";var nEr=pv&&pv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oEr=pv&&pv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),iEr=pv&&pv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nEr(t,e,r);return oEr(t,e),t};Object.defineProperty(pv,"__esModule",{value:!0});pv.ChatRequestCitationQuality=void 0;var aEr=iEr($());pv.ChatRequestCitationQuality=aEr.serialization.enum_(["fast","accurate","off"])});var Qht=b(hv=>{"use strict";var sEr=hv&&hv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uEr=hv&&hv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lEr=hv&&hv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sEr(t,e,r);return uEr(t,e),t};Object.defineProperty(hv,"__esModule",{value:!0});hv.ChatRequestConnectorsSearchOptions=void 0;var Xht=lEr($());hv.ChatRequestConnectorsSearchOptions=Xht.serialization.object({seed:Xht.serialization.number().optional()})});var M0e=b(mv=>{"use strict";var cEr=mv&&mv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dEr=mv&&mv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fEr=mv&&mv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cEr(t,e,r);return dEr(t,e),t};Object.defineProperty(mv,"__esModule",{value:!0});mv.ChatRequestSafetyMode=void 0;var pEr=fEr($());mv.ChatRequestSafetyMode=pEr.serialization.enum_(["CONTEXTUAL","STRICT","NONE"])});var I0e=b(gv=>{"use strict";var hEr=gv&&gv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mEr=gv&&gv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gEr=gv&&gv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hEr(t,e,r);return mEr(t,e),t};Object.defineProperty(gv,"__esModule",{value:!0});gv.GenerateStreamRequestTruncate=void 0;var yEr=gEr($());gv.GenerateStreamRequestTruncate=yEr.serialization.enum_(["NONE","START","END"])});var A0e=b(yv=>{"use strict";var bEr=yv&&yv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Er=yv&&yv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vEr=yv&&yv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bEr(t,e,r);return _Er(t,e),t};Object.defineProperty(yv,"__esModule",{value:!0});yv.GenerateStreamRequestReturnLikelihoods=void 0;var wEr=vEr($());yv.GenerateStreamRequestReturnLikelihoods=wEr.serialization.enum_(["GENERATION","ALL","NONE"])});var R0e=b(bv=>{"use strict";var SEr=bv&&bv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xEr=bv&&bv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CEr=bv&&bv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SEr(t,e,r);return xEr(t,e),t};Object.defineProperty(bv,"__esModule",{value:!0});bv.GenerateRequestTruncate=void 0;var OEr=CEr($());bv.GenerateRequestTruncate=OEr.serialization.enum_(["NONE","START","END"])});var D0e=b(_v=>{"use strict";var EEr=_v&&_v.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PEr=_v&&_v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TEr=_v&&_v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&EEr(t,e,r);return PEr(t,e),t};Object.defineProperty(_v,"__esModule",{value:!0});_v.GenerateRequestReturnLikelihoods=void 0;var MEr=TEr($());_v.GenerateRequestReturnLikelihoods=MEr.serialization.enum_(["GENERATION","ALL","NONE"])});var j0e=b(vv=>{"use strict";var IEr=vv&&vv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AEr=vv&&vv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),REr=vv&&vv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IEr(t,e,r);return AEr(t,e),t};Object.defineProperty(vv,"__esModule",{value:!0});vv.EmbedRequestTruncate=void 0;var DEr=REr($());vv.EmbedRequestTruncate=DEr.serialization.enum_(["NONE","START","END"])});var N0e=b(wv=>{"use strict";var jEr=wv&&wv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NEr=wv&&wv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LEr=wv&&wv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jEr(t,e,r);return NEr(t,e),t};Object.defineProperty(wv,"__esModule",{value:!0});wv.ApiMetaApiVersion=void 0;var kL=LEr($());wv.ApiMetaApiVersion=kL.serialization.object({version:kL.serialization.string(),isDeprecated:kL.serialization.property("is_deprecated",kL.serialization.boolean().optional()),isExperimental:kL.serialization.property("is_experimental",kL.serialization.boolean().optional())})});var L0e=b(Sv=>{"use strict";var FEr=Sv&&Sv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kEr=Sv&&Sv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BEr=Sv&&Sv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&FEr(t,e,r);return kEr(t,e),t};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.ApiMetaBilledUnits=void 0;var lP=BEr($());Sv.ApiMetaBilledUnits=lP.serialization.object({inputTokens:lP.serialization.property("input_tokens",lP.serialization.number().optional()),outputTokens:lP.serialization.property("output_tokens",lP.serialization.number().optional()),searchUnits:lP.serialization.property("search_units",lP.serialization.number().optional()),classifications:lP.serialization.number().optional()})});var F0e=b(xv=>{"use strict";var $Er=xv&&xv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qEr=xv&&xv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UEr=xv&&xv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Er(t,e,r);return qEr(t,e),t};Object.defineProperty(xv,"__esModule",{value:!0});xv.ApiMetaTokens=void 0;var F2=UEr($());xv.ApiMetaTokens=F2.serialization.object({inputTokens:F2.serialization.property("input_tokens",F2.serialization.number().optional()),outputTokens:F2.serialization.property("output_tokens",F2.serialization.number().optional())})});var yp=b(Cv=>{"use strict";var zEr=Cv&&Cv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HEr=Cv&&Cv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VEr=Cv&&Cv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zEr(t,e,r);return HEr(t,e),t};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.ApiMeta=void 0;var k2=VEr($()),WEr=N0e(),JEr=L0e(),GEr=F0e();Cv.ApiMeta=k2.serialization.object({apiVersion:k2.serialization.property("api_version",WEr.ApiMetaApiVersion.optional()),billedUnits:k2.serialization.property("billed_units",JEr.ApiMetaBilledUnits.optional()),tokens:GEr.ApiMetaTokens.optional(),warnings:k2.serialization.list(k2.serialization.string()).optional()})});var k0e=b(Ov=>{"use strict";var KEr=Ov&&Ov.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YEr=Ov&&Ov.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ZEr=Ov&&Ov.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KEr(t,e,r);return YEr(t,e),t};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.EmbedFloatsResponse=void 0;var BA=ZEr($()),XEr=yp();Ov.EmbedFloatsResponse=BA.serialization.object({id:BA.serialization.string(),embeddings:BA.serialization.list(BA.serialization.list(BA.serialization.number())),texts:BA.serialization.list(BA.serialization.string()),meta:XEr.ApiMeta.optional()})});var B0e=b(Ev=>{"use strict";var QEr=Ev&&Ev.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ePr=Ev&&Ev.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tPr=Ev&&Ev.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QEr(t,e,r);return ePr(t,e),t};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.EmbedByTypeResponseEmbeddings=void 0;var Xc=tPr($());Ev.EmbedByTypeResponseEmbeddings=Xc.serialization.object({float:Xc.serialization.list(Xc.serialization.list(Xc.serialization.number())).optional(),int8:Xc.serialization.list(Xc.serialization.list(Xc.serialization.number())).optional(),uint8:Xc.serialization.list(Xc.serialization.list(Xc.serialization.number())).optional(),binary:Xc.serialization.list(Xc.serialization.list(Xc.serialization.number())).optional(),ubinary:Xc.serialization.list(Xc.serialization.list(Xc.serialization.number())).optional()})});var $0e=b(Pv=>{"use strict";var rPr=Pv&&Pv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nPr=Pv&&Pv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oPr=Pv&&Pv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rPr(t,e,r);return nPr(t,e),t};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.EmbedByTypeResponse=void 0;var eZ=oPr($()),iPr=B0e(),aPr=yp();Pv.EmbedByTypeResponse=eZ.serialization.object({id:eZ.serialization.string(),embeddings:iPr.EmbedByTypeResponseEmbeddings,texts:eZ.serialization.list(eZ.serialization.string()),meta:aPr.ApiMeta.optional()})});var tmt=b(Tv=>{"use strict";var sPr=Tv&&Tv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uPr=Tv&&Tv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lPr=Tv&&Tv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sPr(t,e,r);return uPr(t,e),t};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.EmbedResponse=void 0;var emt=lPr($()),cPr=k0e(),dPr=$0e();Tv.EmbedResponse=emt.serialization.union(emt.serialization.discriminant("responseType","response_type"),{embeddings_floats:cPr.EmbedFloatsResponse,embeddings_by_type:dPr.EmbedByTypeResponse}).transform({transform:e=>e,untransform:e=>e})});var U0e=b(Mv=>{"use strict";var fPr=Mv&&Mv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pPr=Mv&&Mv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hPr=Mv&&Mv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fPr(t,e,r);return pPr(t,e),t};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.RerankDocument=void 0;var q0e=hPr($());Mv.RerankDocument=q0e.serialization.record(q0e.serialization.string(),q0e.serialization.string())});var z0e=b(Iv=>{"use strict";var mPr=Iv&&Iv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gPr=Iv&&Iv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yPr=Iv&&Iv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mPr(t,e,r);return gPr(t,e),t};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.RerankRequestDocumentsItem=void 0;var rmt=yPr($()),bPr=U0e();Iv.RerankRequestDocumentsItem=rmt.serialization.undiscriminatedUnion([rmt.serialization.string(),bPr.RerankDocument])});var H0e=b(Av=>{"use strict";var _Pr=Av&&Av.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vPr=Av&&Av.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wPr=Av&&Av.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Pr(t,e,r);return vPr(t,e),t};Object.defineProperty(Av,"__esModule",{value:!0});Av.RerankResponseResultsItemDocument=void 0;var nmt=wPr($());Av.RerankResponseResultsItemDocument=nmt.serialization.object({text:nmt.serialization.string()})});var V0e=b(Rv=>{"use strict";var SPr=Rv&&Rv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xPr=Rv&&Rv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CPr=Rv&&Rv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SPr(t,e,r);return xPr(t,e),t};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.RerankResponseResultsItem=void 0;var tZ=CPr($()),OPr=H0e();Rv.RerankResponseResultsItem=tZ.serialization.object({document:OPr.RerankResponseResultsItemDocument.optional(),index:tZ.serialization.number(),relevanceScore:tZ.serialization.property("relevance_score",tZ.serialization.number())})});var omt=b(Dv=>{"use strict";var EPr=Dv&&Dv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PPr=Dv&&Dv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TPr=Dv&&Dv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&EPr(t,e,r);return PPr(t,e),t};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.RerankResponse=void 0;var W0e=TPr($()),MPr=V0e(),IPr=yp();Dv.RerankResponse=W0e.serialization.object({id:W0e.serialization.string().optional(),results:W0e.serialization.list(MPr.RerankResponseResultsItem),meta:IPr.ApiMeta.optional()})});var J0e=b(jv=>{"use strict";var APr=jv&&jv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RPr=jv&&jv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DPr=jv&&jv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&APr(t,e,r);return RPr(t,e),t};Object.defineProperty(jv,"__esModule",{value:!0});jv.ClassifyRequestTruncate=void 0;var jPr=DPr($());jv.ClassifyRequestTruncate=jPr.serialization.enum_(["NONE","START","END"])});var G0e=b(Nv=>{"use strict";var NPr=Nv&&Nv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LPr=Nv&&Nv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FPr=Nv&&Nv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&NPr(t,e,r);return LPr(t,e),t};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.ClassifyResponseClassificationsItemLabelsValue=void 0;var imt=FPr($());Nv.ClassifyResponseClassificationsItemLabelsValue=imt.serialization.object({confidence:imt.serialization.number().optional()})});var K0e=b(Lv=>{"use strict";var kPr=Lv&&Lv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BPr=Lv&&Lv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$Pr=Lv&&Lv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kPr(t,e,r);return BPr(t,e),t};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ClassifyResponseClassificationsItemClassificationType=void 0;var qPr=$Pr($());Lv.ClassifyResponseClassificationsItemClassificationType=qPr.serialization.enum_(["single-label","multi-label"])});var Y0e=b(Fv=>{"use strict";var UPr=Fv&&Fv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zPr=Fv&&Fv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HPr=Fv&&Fv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&UPr(t,e,r);return zPr(t,e),t};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.ClassifyResponseClassificationsItem=void 0;var Lh=HPr($()),VPr=G0e(),WPr=K0e();Fv.ClassifyResponseClassificationsItem=Lh.serialization.object({id:Lh.serialization.string(),input:Lh.serialization.string().optional(),prediction:Lh.serialization.string().optional(),predictions:Lh.serialization.list(Lh.serialization.string()),confidence:Lh.serialization.number().optional(),confidences:Lh.serialization.list(Lh.serialization.number()),labels:Lh.serialization.record(Lh.serialization.string(),VPr.ClassifyResponseClassificationsItemLabelsValue),classificationType:Lh.serialization.property("classification_type",WPr.ClassifyResponseClassificationsItemClassificationType)})});var amt=b(kv=>{"use strict";var JPr=kv&&kv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GPr=kv&&kv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KPr=kv&&kv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JPr(t,e,r);return GPr(t,e),t};Object.defineProperty(kv,"__esModule",{value:!0});kv.ClassifyResponse=void 0;var Z0e=KPr($()),YPr=Y0e(),ZPr=yp();kv.ClassifyResponse=Z0e.serialization.object({id:Z0e.serialization.string(),classifications:Z0e.serialization.list(YPr.ClassifyResponseClassificationsItem),meta:ZPr.ApiMeta.optional()})});var X0e=b(Bv=>{"use strict";var XPr=Bv&&Bv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QPr=Bv&&Bv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eTr=Bv&&Bv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XPr(t,e,r);return QPr(t,e),t};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.SummarizeRequestLength=void 0;var tTr=eTr($());Bv.SummarizeRequestLength=tTr.serialization.enum_(["short","medium","long"])});var Q0e=b($v=>{"use strict";var rTr=$v&&$v.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nTr=$v&&$v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oTr=$v&&$v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rTr(t,e,r);return nTr(t,e),t};Object.defineProperty($v,"__esModule",{value:!0});$v.SummarizeRequestFormat=void 0;var iTr=oTr($());$v.SummarizeRequestFormat=iTr.serialization.enum_(["paragraph","bullets"])});var ewe=b(qv=>{"use strict";var aTr=qv&&qv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sTr=qv&&qv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uTr=qv&&qv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aTr(t,e,r);return sTr(t,e),t};Object.defineProperty(qv,"__esModule",{value:!0});qv.SummarizeRequestExtractiveness=void 0;var lTr=uTr($());qv.SummarizeRequestExtractiveness=lTr.serialization.enum_(["low","medium","high"])});var smt=b(Uv=>{"use strict";var cTr=Uv&&Uv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dTr=Uv&&Uv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fTr=Uv&&Uv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cTr(t,e,r);return dTr(t,e),t};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.SummarizeResponse=void 0;var twe=fTr($()),pTr=yp();Uv.SummarizeResponse=twe.serialization.object({id:twe.serialization.string().optional(),summary:twe.serialization.string().optional(),meta:pTr.ApiMeta.optional()})});var umt=b(zv=>{"use strict";var hTr=zv&&zv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mTr=zv&&zv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gTr=zv&&zv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hTr(t,e,r);return mTr(t,e),t};Object.defineProperty(zv,"__esModule",{value:!0});zv.TokenizeResponse=void 0;var BL=gTr($()),yTr=yp();zv.TokenizeResponse=BL.serialization.object({tokens:BL.serialization.list(BL.serialization.number()),tokenStrings:BL.serialization.property("token_strings",BL.serialization.list(BL.serialization.string())),meta:yTr.ApiMeta.optional()})});var cmt=b(Hv=>{"use strict";var bTr=Hv&&Hv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Tr=Hv&&Hv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vTr=Hv&&Hv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bTr(t,e,r);return _Tr(t,e),t};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.DetokenizeResponse=void 0;var lmt=vTr($()),wTr=yp();Hv.DetokenizeResponse=lmt.serialization.object({text:lmt.serialization.string(),meta:wTr.ApiMeta.optional()})});var dmt=b(Vv=>{"use strict";var STr=Vv&&Vv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xTr=Vv&&Vv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CTr=Vv&&Vv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&STr(t,e,r);return xTr(t,e),t};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.CheckApiKeyResponse=void 0;var $L=CTr($());Vv.CheckApiKeyResponse=$L.serialization.object({valid:$L.serialization.boolean(),organizationId:$L.serialization.property("organization_id",$L.serialization.string().optional()),ownerId:$L.serialization.property("owner_id",$L.serialization.string().optional())})});var qL=b(Wv=>{"use strict";var OTr=Wv&&Wv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ETr=Wv&&Wv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PTr=Wv&&Wv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OTr(t,e,r);return ETr(t,e),t};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ToolCall=void 0;var B2=PTr($());Wv.ToolCall=B2.serialization.object({name:B2.serialization.string(),parameters:B2.serialization.record(B2.serialization.string(),B2.serialization.unknown())})});var rwe=b(Jv=>{"use strict";var TTr=Jv&&Jv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MTr=Jv&&Jv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ITr=Jv&&Jv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TTr(t,e,r);return MTr(t,e),t};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ChatMessage=void 0;var rZ=ITr($()),ATr=qL();Jv.ChatMessage=rZ.serialization.object({message:rZ.serialization.string(),toolCalls:rZ.serialization.property("tool_calls",rZ.serialization.list(ATr.ToolCall).optional())})});var q2=b(Gv=>{"use strict";var RTr=Gv&&Gv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DTr=Gv&&Gv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jTr=Gv&&Gv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&RTr(t,e,r);return DTr(t,e),t};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.ToolResult=void 0;var $2=jTr($()),NTr=qL();Gv.ToolResult=$2.serialization.object({call:NTr.ToolCall,outputs:$2.serialization.list($2.serialization.record($2.serialization.string(),$2.serialization.unknown()))})});var owe=b(Kv=>{"use strict";var LTr=Kv&&Kv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FTr=Kv&&Kv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kTr=Kv&&Kv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LTr(t,e,r);return FTr(t,e),t};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.ToolMessage=void 0;var nwe=kTr($()),BTr=q2();Kv.ToolMessage=nwe.serialization.object({toolResults:nwe.serialization.property("tool_results",nwe.serialization.list(BTr.ToolResult).optional())})});var U2=b(Yv=>{"use strict";var $Tr=Yv&&Yv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qTr=Yv&&Yv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UTr=Yv&&Yv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Tr(t,e,r);return qTr(t,e),t};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.Message=void 0;var zTr=UTr($()),iwe=rwe(),HTr=owe();Yv.Message=zTr.serialization.union("role",{CHATBOT:iwe.ChatMessage,SYSTEM:iwe.ChatMessage,USER:iwe.ChatMessage,TOOL:HTr.ToolMessage}).transform({transform:e=>e,untransform:e=>e})});var nZ=b(Zv=>{"use strict";var VTr=Zv&&Zv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WTr=Zv&&Zv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JTr=Zv&&Zv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VTr(t,e,r);return WTr(t,e),t};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.ChatConnector=void 0;var Ox=JTr($());Zv.ChatConnector=Ox.serialization.object({id:Ox.serialization.string(),userAccessToken:Ox.serialization.property("user_access_token",Ox.serialization.string().optional()),continueOnFailure:Ox.serialization.property("continue_on_failure",Ox.serialization.boolean().optional()),options:Ox.serialization.record(Ox.serialization.string(),Ox.serialization.unknown()).optional()})});var awe=b(Xv=>{"use strict";var GTr=Xv&&Xv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KTr=Xv&&Xv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),YTr=Xv&&Xv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GTr(t,e,r);return KTr(t,e),t};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.ToolParameterDefinitionsValue=void 0;var oZ=YTr($());Xv.ToolParameterDefinitionsValue=oZ.serialization.object({description:oZ.serialization.string().optional(),type:oZ.serialization.string(),required:oZ.serialization.boolean().optional()})});var iZ=b(Qv=>{"use strict";var ZTr=Qv&&Qv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),XTr=Qv&&Qv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QTr=Qv&&Qv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ZTr(t,e,r);return XTr(t,e),t};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Tool=void 0;var UL=QTr($()),eMr=awe();Qv.Tool=UL.serialization.object({name:UL.serialization.string(),description:UL.serialization.string(),parameterDefinitions:UL.serialization.property("parameter_definitions",UL.serialization.record(UL.serialization.string(),eMr.ToolParameterDefinitionsValue).optional())})});var swe=b(e0=>{"use strict";var tMr=e0&&e0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rMr=e0&&e0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nMr=e0&&e0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tMr(t,e,r);return rMr(t,e),t};Object.defineProperty(e0,"__esModule",{value:!0});e0.JsonResponseFormat=void 0;var aZ=nMr($());e0.JsonResponseFormat=aZ.serialization.object({schema:aZ.serialization.record(aZ.serialization.string(),aZ.serialization.unknown()).optional()})});var sZ=b(t0=>{"use strict";var oMr=t0&&t0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iMr=t0&&t0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aMr=t0&&t0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oMr(t,e,r);return iMr(t,e),t};Object.defineProperty(t0,"__esModule",{value:!0});t0.ResponseFormat=void 0;var sMr=aMr($()),uMr=zY(),lMr=swe();t0.ResponseFormat=sMr.serialization.union("type",{text:uMr.TextResponseFormat,json_object:lMr.JsonResponseFormat}).transform({transform:e=>e,untransform:e=>e})});var uZ=b(r0=>{"use strict";var cMr=r0&&r0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dMr=r0&&r0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fMr=r0&&r0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cMr(t,e,r);return dMr(t,e),t};Object.defineProperty(r0,"__esModule",{value:!0});r0.ChatCitation=void 0;var $A=fMr($());r0.ChatCitation=$A.serialization.object({start:$A.serialization.number(),end:$A.serialization.number(),text:$A.serialization.string(),documentIds:$A.serialization.property("document_ids",$A.serialization.list($A.serialization.string()))})});var z2=b(n0=>{"use strict";var pMr=n0&&n0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hMr=n0&&n0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mMr=n0&&n0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pMr(t,e,r);return hMr(t,e),t};Object.defineProperty(n0,"__esModule",{value:!0});n0.ChatSearchQuery=void 0;var lZ=mMr($());n0.ChatSearchQuery=lZ.serialization.object({text:lZ.serialization.string(),generationId:lZ.serialization.property("generation_id",lZ.serialization.string())})});var uwe=b(o0=>{"use strict";var gMr=o0&&o0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yMr=o0&&o0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bMr=o0&&o0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gMr(t,e,r);return yMr(t,e),t};Object.defineProperty(o0,"__esModule",{value:!0});o0.ChatSearchResultConnector=void 0;var fmt=bMr($());o0.ChatSearchResultConnector=fmt.serialization.object({id:fmt.serialization.string()})});var cZ=b(i0=>{"use strict";var _Mr=i0&&i0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vMr=i0&&i0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wMr=i0&&i0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Mr(t,e,r);return vMr(t,e),t};Object.defineProperty(i0,"__esModule",{value:!0});i0.ChatSearchResult=void 0;var Ex=wMr($()),SMr=z2(),xMr=uwe();i0.ChatSearchResult=Ex.serialization.object({searchQuery:Ex.serialization.property("search_query",SMr.ChatSearchQuery.optional()),connector:xMr.ChatSearchResultConnector,documentIds:Ex.serialization.property("document_ids",Ex.serialization.list(Ex.serialization.string())),errorMessage:Ex.serialization.property("error_message",Ex.serialization.string().optional()),continueOnFailure:Ex.serialization.property("continue_on_failure",Ex.serialization.boolean().optional())})});var zL=b(a0=>{"use strict";var CMr=a0&&a0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OMr=a0&&a0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EMr=a0&&a0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&CMr(t,e,r);return OMr(t,e),t};Object.defineProperty(a0,"__esModule",{value:!0});a0.FinishReason=void 0;var PMr=EMr($());a0.FinishReason=PMr.serialization.enum_(["COMPLETE","STOP_SEQUENCE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS"])});var lwe=b(s0=>{"use strict";var TMr=s0&&s0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MMr=s0&&s0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IMr=s0&&s0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TMr(t,e,r);return MMr(t,e),t};Object.defineProperty(s0,"__esModule",{value:!0});s0.NonStreamedChatResponse=void 0;var gl=IMr($()),AMr=uZ(),RMr=MA(),DMr=z2(),jMr=cZ(),NMr=zL(),LMr=qL(),FMr=U2(),kMr=yp();s0.NonStreamedChatResponse=gl.serialization.object({text:gl.serialization.string(),generationId:gl.serialization.property("generation_id",gl.serialization.string().optional()),citations:gl.serialization.list(AMr.ChatCitation).optional(),documents:gl.serialization.list(RMr.ChatDocument).optional(),isSearchRequired:gl.serialization.property("is_search_required",gl.serialization.boolean().optional()),searchQueries:gl.serialization.property("search_queries",gl.serialization.list(DMr.ChatSearchQuery).optional()),searchResults:gl.serialization.property("search_results",gl.serialization.list(jMr.ChatSearchResult).optional()),finishReason:gl.serialization.property("finish_reason",NMr.FinishReason.optional()),toolCalls:gl.serialization.property("tool_calls",gl.serialization.list(LMr.ToolCall).optional()),chatHistory:gl.serialization.property("chat_history",gl.serialization.list(FMr.Message).optional()),prompt:gl.serialization.string().optional(),meta:kMr.ApiMeta.optional()})});var l0=b(u0=>{"use strict";var BMr=u0&&u0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$Mr=u0&&u0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qMr=u0&&u0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BMr(t,e,r);return $Mr(t,e),t};Object.defineProperty(u0,"__esModule",{value:!0});u0.ChatStreamEvent=void 0;var UMr=qMr($());u0.ChatStreamEvent=UMr.serialization.object({})});var dwe=b(c0=>{"use strict";var zMr=c0&&c0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HMr=c0&&c0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VMr=c0&&c0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zMr(t,e,r);return HMr(t,e),t};Object.defineProperty(c0,"__esModule",{value:!0});c0.ChatStreamStartEvent=void 0;var cwe=VMr($()),WMr=l0();c0.ChatStreamStartEvent=cwe.serialization.object({generationId:cwe.serialization.property("generation_id",cwe.serialization.string())}).extend(WMr.ChatStreamEvent)});var pwe=b(d0=>{"use strict";var JMr=d0&&d0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GMr=d0&&d0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KMr=d0&&d0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JMr(t,e,r);return GMr(t,e),t};Object.defineProperty(d0,"__esModule",{value:!0});d0.ChatSearchQueriesGenerationEvent=void 0;var fwe=KMr($()),YMr=z2(),ZMr=l0();d0.ChatSearchQueriesGenerationEvent=fwe.serialization.object({searchQueries:fwe.serialization.property("search_queries",fwe.serialization.list(YMr.ChatSearchQuery))}).extend(ZMr.ChatStreamEvent)});var hwe=b(f0=>{"use strict";var XMr=f0&&f0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QMr=f0&&f0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eIr=f0&&f0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XMr(t,e,r);return QMr(t,e),t};Object.defineProperty(f0,"__esModule",{value:!0});f0.ChatSearchResultsEvent=void 0;var dZ=eIr($()),tIr=cZ(),rIr=MA(),nIr=l0();f0.ChatSearchResultsEvent=dZ.serialization.object({searchResults:dZ.serialization.property("search_results",dZ.serialization.list(tIr.ChatSearchResult).optional()),documents:dZ.serialization.list(rIr.ChatDocument).optional()}).extend(nIr.ChatStreamEvent)});var mwe=b(p0=>{"use strict";var oIr=p0&&p0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iIr=p0&&p0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aIr=p0&&p0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oIr(t,e,r);return iIr(t,e),t};Object.defineProperty(p0,"__esModule",{value:!0});p0.ChatTextGenerationEvent=void 0;var pmt=aIr($()),sIr=l0();p0.ChatTextGenerationEvent=pmt.serialization.object({text:pmt.serialization.string()}).extend(sIr.ChatStreamEvent)});var gwe=b(h0=>{"use strict";var uIr=h0&&h0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lIr=h0&&h0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cIr=h0&&h0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uIr(t,e,r);return lIr(t,e),t};Object.defineProperty(h0,"__esModule",{value:!0});h0.ChatCitationGenerationEvent=void 0;var hmt=cIr($()),dIr=uZ(),fIr=l0();h0.ChatCitationGenerationEvent=hmt.serialization.object({citations:hmt.serialization.list(dIr.ChatCitation)}).extend(fIr.ChatStreamEvent)});var ywe=b(m0=>{"use strict";var pIr=m0&&m0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hIr=m0&&m0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mIr=m0&&m0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pIr(t,e,r);return hIr(t,e),t};Object.defineProperty(m0,"__esModule",{value:!0});m0.ChatToolCallsGenerationEvent=void 0;var fZ=mIr($()),gIr=qL(),yIr=l0();m0.ChatToolCallsGenerationEvent=fZ.serialization.object({text:fZ.serialization.string().optional(),toolCalls:fZ.serialization.property("tool_calls",fZ.serialization.list(gIr.ToolCall))}).extend(yIr.ChatStreamEvent)});var bwe=b(g0=>{"use strict";var bIr=g0&&g0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Ir=g0&&g0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vIr=g0&&g0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bIr(t,e,r);return _Ir(t,e),t};Object.defineProperty(g0,"__esModule",{value:!0});g0.ChatStreamEndEventFinishReason=void 0;var wIr=vIr($());g0.ChatStreamEndEventFinishReason=wIr.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"])});var _we=b(y0=>{"use strict";var SIr=y0&&y0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xIr=y0&&y0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CIr=y0&&y0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SIr(t,e,r);return xIr(t,e),t};Object.defineProperty(y0,"__esModule",{value:!0});y0.ChatStreamEndEvent=void 0;var mmt=CIr($()),OIr=bwe(),EIr=lwe(),PIr=l0();y0.ChatStreamEndEvent=mmt.serialization.object({finishReason:mmt.serialization.property("finish_reason",OIr.ChatStreamEndEventFinishReason),response:EIr.NonStreamedChatResponse}).extend(PIr.ChatStreamEvent)});var vwe=b(b0=>{"use strict";var TIr=b0&&b0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MIr=b0&&b0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IIr=b0&&b0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TIr(t,e,r);return MIr(t,e),t};Object.defineProperty(b0,"__esModule",{value:!0});b0.ToolCallDelta=void 0;var H2=IIr($());b0.ToolCallDelta=H2.serialization.object({name:H2.serialization.string().optional(),index:H2.serialization.number().optional(),parameters:H2.serialization.string().optional(),text:H2.serialization.string().optional()})});var wwe=b(_0=>{"use strict";var AIr=_0&&_0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RIr=_0&&_0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DIr=_0&&_0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&AIr(t,e,r);return RIr(t,e),t};Object.defineProperty(_0,"__esModule",{value:!0});_0.ChatToolCallsChunkEvent=void 0;var gmt=DIr($()),jIr=vwe(),NIr=l0();_0.ChatToolCallsChunkEvent=gmt.serialization.object({toolCallDelta:gmt.serialization.property("tool_call_delta",jIr.ToolCallDelta)}).extend(NIr.ChatStreamEvent)});var bmt=b(v0=>{"use strict";var LIr=v0&&v0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FIr=v0&&v0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kIr=v0&&v0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LIr(t,e,r);return FIr(t,e),t};Object.defineProperty(v0,"__esModule",{value:!0});v0.StreamedChatResponse=void 0;var ymt=kIr($()),BIr=dwe(),$Ir=pwe(),qIr=hwe(),UIr=mwe(),zIr=gwe(),HIr=ywe(),VIr=_we(),WIr=wwe();v0.StreamedChatResponse=ymt.serialization.union(ymt.serialization.discriminant("eventType","event_type"),{"stream-start":BIr.ChatStreamStartEvent,"search-queries-generation":$Ir.ChatSearchQueriesGenerationEvent,"search-results":qIr.ChatSearchResultsEvent,"text-generation":UIr.ChatTextGenerationEvent,"citation-generation":zIr.ChatCitationGenerationEvent,"tool-calls-generation":HIr.ChatToolCallsGenerationEvent,"stream-end":VIr.ChatStreamEndEvent,"tool-calls-chunk":WIr.ChatToolCallsChunkEvent}).transform({transform:e=>e,untransform:e=>e})});var xwe=b(w0=>{"use strict";var JIr=w0&&w0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GIr=w0&&w0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KIr=w0&&w0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JIr(t,e,r);return GIr(t,e),t};Object.defineProperty(w0,"__esModule",{value:!0});w0.SingleGenerationTokenLikelihoodsItem=void 0;var Swe=KIr($());w0.SingleGenerationTokenLikelihoodsItem=Swe.serialization.object({token:Swe.serialization.string(),likelihood:Swe.serialization.number()})});var Cwe=b(S0=>{"use strict";var YIr=S0&&S0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZIr=S0&&S0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XIr=S0&&S0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YIr(t,e,r);return ZIr(t,e),t};Object.defineProperty(S0,"__esModule",{value:!0});S0.SingleGeneration=void 0;var qA=XIr($()),QIr=xwe();S0.SingleGeneration=qA.serialization.object({id:qA.serialization.string(),text:qA.serialization.string(),index:qA.serialization.number().optional(),likelihood:qA.serialization.number().optional(),tokenLikelihoods:qA.serialization.property("token_likelihoods",qA.serialization.list(QIr.SingleGenerationTokenLikelihoodsItem).optional())})});var _mt=b(x0=>{"use strict";var eAr=x0&&x0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tAr=x0&&x0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rAr=x0&&x0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eAr(t,e,r);return tAr(t,e),t};Object.defineProperty(x0,"__esModule",{value:!0});x0.Generation=void 0;var pZ=rAr($()),nAr=Cwe(),oAr=yp();x0.Generation=pZ.serialization.object({id:pZ.serialization.string(),prompt:pZ.serialization.string().optional(),generations:pZ.serialization.list(nAr.SingleGeneration),meta:oAr.ApiMeta.optional()})});var V2=b(C0=>{"use strict";var iAr=C0&&C0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aAr=C0&&C0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sAr=C0&&C0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iAr(t,e,r);return aAr(t,e),t};Object.defineProperty(C0,"__esModule",{value:!0});C0.GenerateStreamEvent=void 0;var uAr=sAr($());C0.GenerateStreamEvent=uAr.serialization.object({})});var Owe=b(O0=>{"use strict";var lAr=O0&&O0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cAr=O0&&O0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dAr=O0&&O0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lAr(t,e,r);return cAr(t,e),t};Object.defineProperty(O0,"__esModule",{value:!0});O0.GenerateStreamText=void 0;var W2=dAr($()),fAr=V2();O0.GenerateStreamText=W2.serialization.object({text:W2.serialization.string(),index:W2.serialization.number().optional(),isFinished:W2.serialization.property("is_finished",W2.serialization.boolean())}).extend(fAr.GenerateStreamEvent)});var Ewe=b(E0=>{"use strict";var pAr=E0&&E0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hAr=E0&&E0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mAr=E0&&E0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pAr(t,e,r);return hAr(t,e),t};Object.defineProperty(E0,"__esModule",{value:!0});E0.SingleGenerationInStream=void 0;var J2=mAr($()),gAr=zL();E0.SingleGenerationInStream=J2.serialization.object({id:J2.serialization.string(),text:J2.serialization.string(),index:J2.serialization.number().optional(),finishReason:J2.serialization.property("finish_reason",gAr.FinishReason)})});var Pwe=b(P0=>{"use strict";var yAr=P0&&P0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bAr=P0&&P0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_Ar=P0&&P0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yAr(t,e,r);return bAr(t,e),t};Object.defineProperty(P0,"__esModule",{value:!0});P0.GenerateStreamEndResponse=void 0;var hZ=_Ar($()),vAr=Ewe();P0.GenerateStreamEndResponse=hZ.serialization.object({id:hZ.serialization.string(),prompt:hZ.serialization.string().optional(),generations:hZ.serialization.list(vAr.SingleGenerationInStream).optional()})});var Twe=b(T0=>{"use strict";var wAr=T0&&T0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SAr=T0&&T0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xAr=T0&&T0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wAr(t,e,r);return SAr(t,e),t};Object.defineProperty(T0,"__esModule",{value:!0});T0.GenerateStreamEnd=void 0;var mZ=xAr($()),CAr=zL(),OAr=Pwe(),EAr=V2();T0.GenerateStreamEnd=mZ.serialization.object({isFinished:mZ.serialization.property("is_finished",mZ.serialization.boolean()),finishReason:mZ.serialization.property("finish_reason",CAr.FinishReason.optional()),response:OAr.GenerateStreamEndResponse}).extend(EAr.GenerateStreamEvent)});var Mwe=b(M0=>{"use strict";var PAr=M0&&M0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TAr=M0&&M0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MAr=M0&&M0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PAr(t,e,r);return TAr(t,e),t};Object.defineProperty(M0,"__esModule",{value:!0});M0.GenerateStreamError=void 0;var HL=MAr($()),IAr=zL(),AAr=V2();M0.GenerateStreamError=HL.serialization.object({index:HL.serialization.number().optional(),isFinished:HL.serialization.property("is_finished",HL.serialization.boolean()),finishReason:HL.serialization.property("finish_reason",IAr.FinishReason),err:HL.serialization.string()}).extend(AAr.GenerateStreamEvent)});var wmt=b(I0=>{"use strict";var RAr=I0&&I0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DAr=I0&&I0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jAr=I0&&I0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&RAr(t,e,r);return DAr(t,e),t};Object.defineProperty(I0,"__esModule",{value:!0});I0.GenerateStreamedResponse=void 0;var vmt=jAr($()),NAr=Owe(),LAr=Twe(),FAr=Mwe();I0.GenerateStreamedResponse=vmt.serialization.union(vmt.serialization.discriminant("eventType","event_type"),{"text-generation":NAr.GenerateStreamText,"stream-end":LAr.GenerateStreamEnd,"stream-error":FAr.GenerateStreamError}).transform({transform:e=>e,untransform:e=>e})});var Iwe=b(A0=>{"use strict";var kAr=A0&&A0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BAr=A0&&A0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$Ar=A0&&A0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kAr(t,e,r);return BAr(t,e),t};Object.defineProperty(A0,"__esModule",{value:!0});A0.EmbedJobStatus=void 0;var qAr=$Ar($());A0.EmbedJobStatus=qAr.serialization.enum_(["processing","complete","cancelling","cancelled","failed"])});var Awe=b(R0=>{"use strict";var UAr=R0&&R0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zAr=R0&&R0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HAr=R0&&R0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&UAr(t,e,r);return zAr(t,e),t};Object.defineProperty(R0,"__esModule",{value:!0});R0.EmbedJobTruncate=void 0;var VAr=HAr($());R0.EmbedJobTruncate=VAr.serialization.enum_(["START","END"])});var Rwe=b(D0=>{"use strict";var WAr=D0&&D0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JAr=D0&&D0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GAr=D0&&D0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&WAr(t,e,r);return JAr(t,e),t};Object.defineProperty(D0,"__esModule",{value:!0});D0.EmbedJob=void 0;var lg=GAr($()),KAr=Iwe(),YAr=Awe(),ZAr=yp();D0.EmbedJob=lg.serialization.object({jobId:lg.serialization.property("job_id",lg.serialization.string()),name:lg.serialization.string().optional(),status:KAr.EmbedJobStatus,createdAt:lg.serialization.property("created_at",lg.serialization.date()),inputDatasetId:lg.serialization.property("input_dataset_id",lg.serialization.string()),outputDatasetId:lg.serialization.property("output_dataset_id",lg.serialization.string().optional()),model:lg.serialization.string(),truncate:YAr.EmbedJobTruncate,meta:ZAr.ApiMeta.optional()})});var Smt=b(j0=>{"use strict";var XAr=j0&&j0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QAr=j0&&j0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eRr=j0&&j0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XAr(t,e,r);return QAr(t,e),t};Object.defineProperty(j0,"__esModule",{value:!0});j0.ListEmbedJobResponse=void 0;var Dwe=eRr($()),tRr=Rwe();j0.ListEmbedJobResponse=Dwe.serialization.object({embedJobs:Dwe.serialization.property("embed_jobs",Dwe.serialization.list(tRr.EmbedJob).optional())})});var xmt=b(N0=>{"use strict";var rRr=N0&&N0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nRr=N0&&N0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oRr=N0&&N0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rRr(t,e,r);return nRr(t,e),t};Object.defineProperty(N0,"__esModule",{value:!0});N0.CreateEmbedJobResponse=void 0;var jwe=oRr($()),iRr=yp();N0.CreateEmbedJobResponse=jwe.serialization.object({jobId:jwe.serialization.property("job_id",jwe.serialization.string()),meta:iRr.ApiMeta.optional()})});var Lwe=b(L0=>{"use strict";var aRr=L0&&L0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sRr=L0&&L0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uRr=L0&&L0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aRr(t,e,r);return sRr(t,e),t};Object.defineProperty(L0,"__esModule",{value:!0});L0.ClassifyExample=void 0;var Nwe=uRr($());L0.ClassifyExample=Nwe.serialization.object({text:Nwe.serialization.string().optional(),label:Nwe.serialization.string().optional()})});var Cmt=b(F0=>{"use strict";var lRr=F0&&F0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cRr=F0&&F0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dRr=F0&&F0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lRr(t,e,r);return cRr(t,e),t};Object.defineProperty(F0,"__esModule",{value:!0});F0.ParseInfo=void 0;var Fwe=dRr($());F0.ParseInfo=Fwe.serialization.object({separator:Fwe.serialization.string().optional(),delimiter:Fwe.serialization.string().optional()})});var Omt=b(k0=>{"use strict";var fRr=k0&&k0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pRr=k0&&k0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hRr=k0&&k0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fRr(t,e,r);return pRr(t,e),t};Object.defineProperty(k0,"__esModule",{value:!0});k0.RerankerDataMetrics=void 0;var bp=hRr($());k0.RerankerDataMetrics=bp.serialization.object({numTrainQueries:bp.serialization.property("num_train_queries",bp.serialization.number().optional()),numTrainRelevantPassages:bp.serialization.property("num_train_relevant_passages",bp.serialization.number().optional()),numTrainHardNegatives:bp.serialization.property("num_train_hard_negatives",bp.serialization.number().optional()),numEvalQueries:bp.serialization.property("num_eval_queries",bp.serialization.number().optional()),numEvalRelevantPassages:bp.serialization.property("num_eval_relevant_passages",bp.serialization.number().optional()),numEvalHardNegatives:bp.serialization.property("num_eval_hard_negatives",bp.serialization.number().optional())})});var Emt=b(B0=>{"use strict";var mRr=B0&&B0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gRr=B0&&B0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yRr=B0&&B0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mRr(t,e,r);return gRr(t,e),t};Object.defineProperty(B0,"__esModule",{value:!0});B0.ChatDataMetrics=void 0;var VL=yRr($());B0.ChatDataMetrics=VL.serialization.object({numTrainTurns:VL.serialization.property("num_train_turns",VL.serialization.number().optional()),numEvalTurns:VL.serialization.property("num_eval_turns",VL.serialization.number().optional()),preamble:VL.serialization.string().optional()})});var kwe=b($0=>{"use strict";var bRr=$0&&$0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_Rr=$0&&$0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vRr=$0&&$0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bRr(t,e,r);return _Rr(t,e),t};Object.defineProperty($0,"__esModule",{value:!0});$0.LabelMetric=void 0;var WL=vRr($());$0.LabelMetric=WL.serialization.object({totalExamples:WL.serialization.property("total_examples",WL.serialization.number().optional()),label:WL.serialization.string().optional(),samples:WL.serialization.list(WL.serialization.string()).optional()})});var Pmt=b(q0=>{"use strict";var wRr=q0&&q0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SRr=q0&&q0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xRr=q0&&q0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wRr(t,e,r);return SRr(t,e),t};Object.defineProperty(q0,"__esModule",{value:!0});q0.ClassifyDataMetrics=void 0;var Bwe=xRr($()),CRr=kwe();q0.ClassifyDataMetrics=Bwe.serialization.object({labelMetrics:Bwe.serialization.property("label_metrics",Bwe.serialization.list(CRr.LabelMetric).optional())})});var $we=b(U0=>{"use strict";var ORr=U0&&U0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ERr=U0&&U0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PRr=U0&&U0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ORr(t,e,r);return ERr(t,e),t};Object.defineProperty(U0,"__esModule",{value:!0});U0.FinetuneDatasetMetrics=void 0;var _p=PRr($());U0.FinetuneDatasetMetrics=_p.serialization.object({trainableTokenCount:_p.serialization.property("trainable_token_count",_p.serialization.number().optional()),totalExamples:_p.serialization.property("total_examples",_p.serialization.number().optional()),trainExamples:_p.serialization.property("train_examples",_p.serialization.number().optional()),trainSizeBytes:_p.serialization.property("train_size_bytes",_p.serialization.number().optional()),evalExamples:_p.serialization.property("eval_examples",_p.serialization.number().optional()),evalSizeBytes:_p.serialization.property("eval_size_bytes",_p.serialization.number().optional())})});var Uwe=b(z0=>{"use strict";var TRr=z0&&z0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MRr=z0&&z0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IRr=z0&&z0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TRr(t,e,r);return MRr(t,e),t};Object.defineProperty(z0,"__esModule",{value:!0});z0.MetricsEmbedDataFieldsItem=void 0;var qwe=IRr($());z0.MetricsEmbedDataFieldsItem=qwe.serialization.object({name:qwe.serialization.string().optional(),count:qwe.serialization.number().optional()})});var zwe=b(H0=>{"use strict";var ARr=H0&&H0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RRr=H0&&H0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DRr=H0&&H0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ARr(t,e,r);return RRr(t,e),t};Object.defineProperty(H0,"__esModule",{value:!0});H0.MetricsEmbedData=void 0;var Tmt=DRr($()),jRr=Uwe();H0.MetricsEmbedData=Tmt.serialization.object({fields:Tmt.serialization.list(jRr.MetricsEmbedDataFieldsItem).optional()})});var Mmt=b(V0=>{"use strict";var NRr=V0&&V0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LRr=V0&&V0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FRr=V0&&V0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&NRr(t,e,r);return LRr(t,e),t};Object.defineProperty(V0,"__esModule",{value:!0});V0.Metrics=void 0;var Hwe=FRr($()),kRr=$we(),BRr=zwe();V0.Metrics=Hwe.serialization.object({finetuneDatasetMetrics:Hwe.serialization.property("finetune_dataset_metrics",kRr.FinetuneDatasetMetrics.optional()),embedData:Hwe.serialization.property("embed_data",BRr.MetricsEmbedData.optional())})});var Vwe=b(J0=>{"use strict";var $Rr=J0&&J0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qRr=J0&&J0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),URr=J0&&J0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Rr(t,e,r);return qRr(t,e),t};Object.defineProperty(J0,"__esModule",{value:!0});J0.ConnectorOAuth=void 0;var W0=URr($());J0.ConnectorOAuth=W0.serialization.object({clientId:W0.serialization.property("client_id",W0.serialization.string().optional()),clientSecret:W0.serialization.property("client_secret",W0.serialization.string().optional()),authorizeUrl:W0.serialization.property("authorize_url",W0.serialization.string()),tokenUrl:W0.serialization.property("token_url",W0.serialization.string()),scope:W0.serialization.string().optional()})});var Wwe=b(G0=>{"use strict";var zRr=G0&&G0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HRr=G0&&G0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VRr=G0&&G0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zRr(t,e,r);return HRr(t,e),t};Object.defineProperty(G0,"__esModule",{value:!0});G0.ConnectorAuthStatus=void 0;var WRr=VRr($());G0.ConnectorAuthStatus=WRr.serialization.enum_(["valid","expired"])});var JL=b(K0=>{"use strict";var JRr=K0&&K0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GRr=K0&&K0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KRr=K0&&K0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JRr(t,e,r);return GRr(t,e),t};Object.defineProperty(K0,"__esModule",{value:!0});K0.Connector=void 0;var Vu=KRr($()),YRr=Vwe(),ZRr=Wwe();K0.Connector=Vu.serialization.object({id:Vu.serialization.string(),organizationId:Vu.serialization.property("organization_id",Vu.serialization.string().optional()),name:Vu.serialization.string(),description:Vu.serialization.string().optional(),url:Vu.serialization.string().optional(),createdAt:Vu.serialization.property("created_at",Vu.serialization.date()),updatedAt:Vu.serialization.property("updated_at",Vu.serialization.date()),excludes:Vu.serialization.list(Vu.serialization.string()).optional(),authType:Vu.serialization.property("auth_type",Vu.serialization.string().optional()),oauth:YRr.ConnectorOAuth.optional(),authStatus:Vu.serialization.property("auth_status",ZRr.ConnectorAuthStatus.optional()),active:Vu.serialization.boolean().optional(),continueOnFailure:Vu.serialization.property("continue_on_failure",Vu.serialization.boolean().optional())})});var Imt=b(Y0=>{"use strict";var XRr=Y0&&Y0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QRr=Y0&&Y0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e1r=Y0&&Y0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XRr(t,e,r);return QRr(t,e),t};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.ListConnectorsResponse=void 0;var gZ=e1r($()),t1r=JL();Y0.ListConnectorsResponse=gZ.serialization.object({connectors:gZ.serialization.list(t1r.Connector),totalCount:gZ.serialization.property("total_count",gZ.serialization.number().optional())})});var Amt=b(Z0=>{"use strict";var r1r=Z0&&Z0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n1r=Z0&&Z0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o1r=Z0&&Z0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r1r(t,e,r);return n1r(t,e),t};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.CreateConnectorResponse=void 0;var i1r=o1r($()),a1r=JL();Z0.CreateConnectorResponse=i1r.serialization.object({connector:a1r.Connector})});var Rmt=b(X0=>{"use strict";var s1r=X0&&X0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u1r=X0&&X0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l1r=X0&&X0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&s1r(t,e,r);return u1r(t,e),t};Object.defineProperty(X0,"__esModule",{value:!0});X0.GetConnectorResponse=void 0;var c1r=l1r($()),d1r=JL();X0.GetConnectorResponse=c1r.serialization.object({connector:d1r.Connector})});var Dmt=b(Q0=>{"use strict";var f1r=Q0&&Q0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p1r=Q0&&Q0.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h1r=Q0&&Q0.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f1r(t,e,r);return p1r(t,e),t};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.DeleteConnectorResponse=void 0;var Jwe=h1r($());Q0.DeleteConnectorResponse=Jwe.serialization.record(Jwe.serialization.string(),Jwe.serialization.unknown())});var jmt=b(ew=>{"use strict";var m1r=ew&&ew.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g1r=ew&&ew.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y1r=ew&&ew.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m1r(t,e,r);return g1r(t,e),t};Object.defineProperty(ew,"__esModule",{value:!0});ew.UpdateConnectorResponse=void 0;var b1r=y1r($()),_1r=JL();ew.UpdateConnectorResponse=b1r.serialization.object({connector:_1r.Connector})});var Nmt=b(tw=>{"use strict";var v1r=tw&&tw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),w1r=tw&&tw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S1r=tw&&tw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v1r(t,e,r);return w1r(t,e),t};Object.defineProperty(tw,"__esModule",{value:!0});tw.OAuthAuthorizeResponse=void 0;var Gwe=S1r($());tw.OAuthAuthorizeResponse=Gwe.serialization.object({redirectUrl:Gwe.serialization.property("redirect_url",Gwe.serialization.string().optional())})});var Kwe=b(rw=>{"use strict";var x1r=rw&&rw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),C1r=rw&&rw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O1r=rw&&rw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&x1r(t,e,r);return C1r(t,e),t};Object.defineProperty(rw,"__esModule",{value:!0});rw.CompatibleEndpoint=void 0;var E1r=O1r($());rw.CompatibleEndpoint=E1r.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"])});var Ywe=b(ow=>{"use strict";var P1r=ow&&ow.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T1r=ow&&ow.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M1r=ow&&ow.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&P1r(t,e,r);return T1r(t,e),t};Object.defineProperty(ow,"__esModule",{value:!0});ow.GetModelResponse=void 0;var nw=M1r($()),Lmt=Kwe();ow.GetModelResponse=nw.serialization.object({name:nw.serialization.string().optional(),endpoints:nw.serialization.list(Lmt.CompatibleEndpoint).optional(),finetuned:nw.serialization.boolean().optional(),contextLength:nw.serialization.property("context_length",nw.serialization.number().optional()),tokenizerUrl:nw.serialization.property("tokenizer_url",nw.serialization.string().optional()),defaultEndpoints:nw.serialization.property("default_endpoints",nw.serialization.list(Lmt.CompatibleEndpoint).optional())})});var Fmt=b(iw=>{"use strict";var I1r=iw&&iw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),A1r=iw&&iw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),R1r=iw&&iw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I1r(t,e,r);return A1r(t,e),t};Object.defineProperty(iw,"__esModule",{value:!0});iw.ListModelsResponse=void 0;var yZ=R1r($()),D1r=Ywe();iw.ListModelsResponse=yZ.serialization.object({models:yZ.serialization.list(D1r.GetModelResponse),nextPageToken:yZ.serialization.property("next_page_token",yZ.serialization.string().optional())})});var kmt=b(oe=>{"use strict";var j1r=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fe=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&j1r(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});fe(C0e(),oe);fe(O0e(),oe);fe(qht(),oe);fe(E0e(),oe);fe(zht(),oe);fe(Vht(),oe);fe(Jht(),oe);fe(Kht(),oe);fe(Zht(),oe);fe(P0e(),oe);fe(T0e(),oe);fe(Qht(),oe);fe(M0e(),oe);fe(I0e(),oe);fe(A0e(),oe);fe(R0e(),oe);fe(D0e(),oe);fe(j0e(),oe);fe(tmt(),oe);fe(z0e(),oe);fe(H0e(),oe);fe(V0e(),oe);fe(omt(),oe);fe(J0e(),oe);fe(G0e(),oe);fe(K0e(),oe);fe(Y0e(),oe);fe(amt(),oe);fe(X0e(),oe);fe(Q0e(),oe);fe(ewe(),oe);fe(smt(),oe);fe(umt(),oe);fe(cmt(),oe);fe(dmt(),oe);fe(qL(),oe);fe(rwe(),oe);fe(q2(),oe);fe(owe(),oe);fe(U2(),oe);fe(nZ(),oe);fe(MA(),oe);fe(awe(),oe);fe(iZ(),oe);fe(zY(),oe);fe(swe(),oe);fe(sZ(),oe);fe(uZ(),oe);fe(z2(),oe);fe(uwe(),oe);fe(cZ(),oe);fe(zL(),oe);fe(N0e(),oe);fe(L0e(),oe);fe(F0e(),oe);fe(yp(),oe);fe(lwe(),oe);fe(l0(),oe);fe(dwe(),oe);fe(pwe(),oe);fe(hwe(),oe);fe(mwe(),oe);fe(gwe(),oe);fe(ywe(),oe);fe(bwe(),oe);fe(_we(),oe);fe(vwe(),oe);fe(wwe(),oe);fe(bmt(),oe);fe(t0e(),oe);fe(HY(),oe);fe(Yve(),oe);fe(Zve(),oe);fe(Xve(),oe);fe(Qve(),oe);fe(xwe(),oe);fe(Cwe(),oe);fe(_mt(),oe);fe(V2(),oe);fe(Owe(),oe);fe(Ewe(),oe);fe(Pwe(),oe);fe(Twe(),oe);fe(Mwe(),oe);fe(wmt(),oe);fe(VY(),oe);fe(WY(),oe);fe(k0e(),oe);fe(B0e(),oe);fe($0e(),oe);fe(Iwe(),oe);fe(Awe(),oe);fe(Rwe(),oe);fe(Smt(),oe);fe(xmt(),oe);fe(U0e(),oe);fe(Lwe(),oe);fe(s0e(),oe);fe(a0e(),oe);fe(u0e(),oe);fe(Cmt(),oe);fe(Omt(),oe);fe(Emt(),oe);fe(kwe(),oe);fe(Pmt(),oe);fe($we(),oe);fe(Uwe(),oe);fe(zwe(),oe);fe(Mmt(),oe);fe(GY(),oe);fe(Vwe(),oe);fe(Wwe(),oe);fe(JL(),oe);fe(Imt(),oe);fe(XY(),oe);fe(S0e(),oe);fe(QY(),oe);fe(Amt(),oe);fe(Rmt(),oe);fe(Dmt(),oe);fe(jmt(),oe);fe(Nmt(),oe);fe(Kwe(),oe);fe(Ywe(),oe);fe(Fmt(),oe)});var Bmt=b(aw=>{"use strict";var N1r=aw&&aw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L1r=aw&&aw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),F1r=aw&&aw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&N1r(t,e,r);return L1r(t,e),t};Object.defineProperty(aw,"__esModule",{value:!0});aw.ChatStreamRequest=void 0;var Lr=F1r($()),k1r=U2(),B1r=C0e(),$1r=nZ(),q1r=MA(),U1r=O0e(),z1r=iZ(),H1r=q2(),V1r=sZ(),W1r=E0e();aw.ChatStreamRequest=Lr.serialization.object({message:Lr.serialization.string(),model:Lr.serialization.string().optional(),preamble:Lr.serialization.string().optional(),chatHistory:Lr.serialization.property("chat_history",Lr.serialization.list(k1r.Message).optional()),conversationId:Lr.serialization.property("conversation_id",Lr.serialization.string().optional()),promptTruncation:Lr.serialization.property("prompt_truncation",B1r.ChatStreamRequestPromptTruncation.optional()),connectors:Lr.serialization.list($1r.ChatConnector).optional(),searchQueriesOnly:Lr.serialization.property("search_queries_only",Lr.serialization.boolean().optional()),documents:Lr.serialization.list(q1r.ChatDocument).optional(),citationQuality:Lr.serialization.property("citation_quality",U1r.ChatStreamRequestCitationQuality.optional()),temperature:Lr.serialization.number().optional(),maxTokens:Lr.serialization.property("max_tokens",Lr.serialization.number().optional()),maxInputTokens:Lr.serialization.property("max_input_tokens",Lr.serialization.number().optional()),k:Lr.serialization.number().optional(),p:Lr.serialization.number().optional(),seed:Lr.serialization.number().optional(),stopSequences:Lr.serialization.property("stop_sequences",Lr.serialization.list(Lr.serialization.string()).optional()),frequencyPenalty:Lr.serialization.property("frequency_penalty",Lr.serialization.number().optional()),presencePenalty:Lr.serialization.property("presence_penalty",Lr.serialization.number().optional()),rawPrompting:Lr.serialization.property("raw_prompting",Lr.serialization.boolean().optional()),returnPrompt:Lr.serialization.property("return_prompt",Lr.serialization.boolean().optional()),tools:Lr.serialization.list(z1r.Tool).optional(),toolResults:Lr.serialization.property("tool_results",Lr.serialization.list(H1r.ToolResult).optional()),forceSingleStep:Lr.serialization.property("force_single_step",Lr.serialization.boolean().optional()),responseFormat:Lr.serialization.property("response_format",V1r.ResponseFormat.optional()),safetyMode:Lr.serialization.property("safety_mode",W1r.ChatStreamRequestSafetyMode.optional())})});var $mt=b(sw=>{"use strict";var J1r=sw&&sw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G1r=sw&&sw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K1r=sw&&sw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J1r(t,e,r);return G1r(t,e),t};Object.defineProperty(sw,"__esModule",{value:!0});sw.ChatRequest=void 0;var Fr=K1r($()),Y1r=U2(),Z1r=P0e(),X1r=nZ(),Q1r=MA(),eDr=T0e(),tDr=iZ(),rDr=q2(),nDr=sZ(),oDr=M0e();sw.ChatRequest=Fr.serialization.object({message:Fr.serialization.string(),model:Fr.serialization.string().optional(),preamble:Fr.serialization.string().optional(),chatHistory:Fr.serialization.property("chat_history",Fr.serialization.list(Y1r.Message).optional()),conversationId:Fr.serialization.property("conversation_id",Fr.serialization.string().optional()),promptTruncation:Fr.serialization.property("prompt_truncation",Z1r.ChatRequestPromptTruncation.optional()),connectors:Fr.serialization.list(X1r.ChatConnector).optional(),searchQueriesOnly:Fr.serialization.property("search_queries_only",Fr.serialization.boolean().optional()),documents:Fr.serialization.list(Q1r.ChatDocument).optional(),citationQuality:Fr.serialization.property("citation_quality",eDr.ChatRequestCitationQuality.optional()),temperature:Fr.serialization.number().optional(),maxTokens:Fr.serialization.property("max_tokens",Fr.serialization.number().optional()),maxInputTokens:Fr.serialization.property("max_input_tokens",Fr.serialization.number().optional()),k:Fr.serialization.number().optional(),p:Fr.serialization.number().optional(),seed:Fr.serialization.number().optional(),stopSequences:Fr.serialization.property("stop_sequences",Fr.serialization.list(Fr.serialization.string()).optional()),frequencyPenalty:Fr.serialization.property("frequency_penalty",Fr.serialization.number().optional()),presencePenalty:Fr.serialization.property("presence_penalty",Fr.serialization.number().optional()),rawPrompting:Fr.serialization.property("raw_prompting",Fr.serialization.boolean().optional()),returnPrompt:Fr.serialization.property("return_prompt",Fr.serialization.boolean().optional()),tools:Fr.serialization.list(tDr.Tool).optional(),toolResults:Fr.serialization.property("tool_results",Fr.serialization.list(rDr.ToolResult).optional()),forceSingleStep:Fr.serialization.property("force_single_step",Fr.serialization.boolean().optional()),responseFormat:Fr.serialization.property("response_format",nDr.ResponseFormat.optional()),safetyMode:Fr.serialization.property("safety_mode",oDr.ChatRequestSafetyMode.optional())})});var qmt=b(uw=>{"use strict";var iDr=uw&&uw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aDr=uw&&uw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sDr=uw&&uw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iDr(t,e,r);return aDr(t,e),t};Object.defineProperty(uw,"__esModule",{value:!0});uw.GenerateStreamRequest=void 0;var Ci=sDr($()),uDr=I0e(),lDr=A0e();uw.GenerateStreamRequest=Ci.serialization.object({prompt:Ci.serialization.string(),model:Ci.serialization.string().optional(),numGenerations:Ci.serialization.property("num_generations",Ci.serialization.number().optional()),maxTokens:Ci.serialization.property("max_tokens",Ci.serialization.number().optional()),truncate:uDr.GenerateStreamRequestTruncate.optional(),temperature:Ci.serialization.number().optional(),seed:Ci.serialization.number().optional(),preset:Ci.serialization.string().optional(),endSequences:Ci.serialization.property("end_sequences",Ci.serialization.list(Ci.serialization.string()).optional()),stopSequences:Ci.serialization.property("stop_sequences",Ci.serialization.list(Ci.serialization.string()).optional()),k:Ci.serialization.number().optional(),p:Ci.serialization.number().optional(),frequencyPenalty:Ci.serialization.property("frequency_penalty",Ci.serialization.number().optional()),presencePenalty:Ci.serialization.property("presence_penalty",Ci.serialization.number().optional()),returnLikelihoods:Ci.serialization.property("return_likelihoods",lDr.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:Ci.serialization.property("raw_prompting",Ci.serialization.boolean().optional())})});var Umt=b(lw=>{"use strict";var cDr=lw&&lw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dDr=lw&&lw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fDr=lw&&lw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cDr(t,e,r);return dDr(t,e),t};Object.defineProperty(lw,"__esModule",{value:!0});lw.GenerateRequest=void 0;var Oi=fDr($()),pDr=R0e(),hDr=D0e();lw.GenerateRequest=Oi.serialization.object({prompt:Oi.serialization.string(),model:Oi.serialization.string().optional(),numGenerations:Oi.serialization.property("num_generations",Oi.serialization.number().optional()),maxTokens:Oi.serialization.property("max_tokens",Oi.serialization.number().optional()),truncate:pDr.GenerateRequestTruncate.optional(),temperature:Oi.serialization.number().optional(),seed:Oi.serialization.number().optional(),preset:Oi.serialization.string().optional(),endSequences:Oi.serialization.property("end_sequences",Oi.serialization.list(Oi.serialization.string()).optional()),stopSequences:Oi.serialization.property("stop_sequences",Oi.serialization.list(Oi.serialization.string()).optional()),k:Oi.serialization.number().optional(),p:Oi.serialization.number().optional(),frequencyPenalty:Oi.serialization.property("frequency_penalty",Oi.serialization.number().optional()),presencePenalty:Oi.serialization.property("presence_penalty",Oi.serialization.number().optional()),returnLikelihoods:Oi.serialization.property("return_likelihoods",hDr.GenerateRequestReturnLikelihoods.optional()),rawPrompting:Oi.serialization.property("raw_prompting",Oi.serialization.boolean().optional())})});var zmt=b(cw=>{"use strict";var mDr=cw&&cw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gDr=cw&&cw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yDr=cw&&cw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mDr(t,e,r);return gDr(t,e),t};Object.defineProperty(cw,"__esModule",{value:!0});cw.EmbedRequest=void 0;var UA=yDr($()),bDr=VY(),_Dr=WY(),vDr=j0e();cw.EmbedRequest=UA.serialization.object({texts:UA.serialization.list(UA.serialization.string()),model:UA.serialization.string().optional(),inputType:UA.serialization.property("input_type",bDr.EmbedInputType.optional()),embeddingTypes:UA.serialization.property("embedding_types",UA.serialization.list(_Dr.EmbeddingType).optional()),truncate:vDr.EmbedRequestTruncate.optional()})});var Hmt=b(dw=>{"use strict";var wDr=dw&&dw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SDr=dw&&dw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xDr=dw&&dw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wDr(t,e,r);return SDr(t,e),t};Object.defineProperty(dw,"__esModule",{value:!0});dw.RerankRequest=void 0;var vp=xDr($()),CDr=z0e();dw.RerankRequest=vp.serialization.object({model:vp.serialization.string().optional(),query:vp.serialization.string(),documents:vp.serialization.list(CDr.RerankRequestDocumentsItem),topN:vp.serialization.property("top_n",vp.serialization.number().optional()),rankFields:vp.serialization.property("rank_fields",vp.serialization.list(vp.serialization.string()).optional()),returnDocuments:vp.serialization.property("return_documents",vp.serialization.boolean().optional()),maxChunksPerDoc:vp.serialization.property("max_chunks_per_doc",vp.serialization.number().optional())})});var Vmt=b(fw=>{"use strict";var ODr=fw&&fw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EDr=fw&&fw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PDr=fw&&fw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ODr(t,e,r);return EDr(t,e),t};Object.defineProperty(fw,"__esModule",{value:!0});fw.ClassifyRequest=void 0;var GL=PDr($()),TDr=Lwe(),MDr=J0e();fw.ClassifyRequest=GL.serialization.object({inputs:GL.serialization.list(GL.serialization.string()),examples:GL.serialization.list(TDr.ClassifyExample).optional(),model:GL.serialization.string().optional(),preset:GL.serialization.string().optional(),truncate:MDr.ClassifyRequestTruncate.optional()})});var Wmt=b(pw=>{"use strict";var IDr=pw&&pw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ADr=pw&&pw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RDr=pw&&pw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IDr(t,e,r);return ADr(t,e),t};Object.defineProperty(pw,"__esModule",{value:!0});pw.SummarizeRequest=void 0;var KL=RDr($()),DDr=X0e(),jDr=Q0e(),NDr=ewe();pw.SummarizeRequest=KL.serialization.object({text:KL.serialization.string(),length:DDr.SummarizeRequestLength.optional(),format:jDr.SummarizeRequestFormat.optional(),model:KL.serialization.string().optional(),extractiveness:NDr.SummarizeRequestExtractiveness.optional(),temperature:KL.serialization.number().optional(),additionalCommand:KL.serialization.property("additional_command",KL.serialization.string().optional())})});var Jmt=b(hw=>{"use strict";var LDr=hw&&hw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FDr=hw&&hw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kDr=hw&&hw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LDr(t,e,r);return FDr(t,e),t};Object.defineProperty(hw,"__esModule",{value:!0});hw.TokenizeRequest=void 0;var Zwe=kDr($());hw.TokenizeRequest=Zwe.serialization.object({text:Zwe.serialization.string(),model:Zwe.serialization.string()})});var Gmt=b(mw=>{"use strict";var BDr=mw&&mw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$Dr=mw&&mw.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qDr=mw&&mw.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BDr(t,e,r);return $Dr(t,e),t};Object.defineProperty(mw,"__esModule",{value:!0});mw.DetokenizeRequest=void 0;var bZ=qDr($());mw.DetokenizeRequest=bZ.serialization.object({tokens:bZ.serialization.list(bZ.serialization.number()),model:bZ.serialization.string()})});var Kmt=b(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.DetokenizeRequest=Aa.TokenizeRequest=Aa.SummarizeRequest=Aa.ClassifyRequest=Aa.RerankRequest=Aa.EmbedRequest=Aa.GenerateRequest=Aa.GenerateStreamRequest=Aa.ChatRequest=Aa.ChatStreamRequest=void 0;var UDr=Bmt();Object.defineProperty(Aa,"ChatStreamRequest",{enumerable:!0,get:function(){return UDr.ChatStreamRequest}});var zDr=$mt();Object.defineProperty(Aa,"ChatRequest",{enumerable:!0,get:function(){return zDr.ChatRequest}});var HDr=qmt();Object.defineProperty(Aa,"GenerateStreamRequest",{enumerable:!0,get:function(){return HDr.GenerateStreamRequest}});var VDr=Umt();Object.defineProperty(Aa,"GenerateRequest",{enumerable:!0,get:function(){return VDr.GenerateRequest}});var WDr=zmt();Object.defineProperty(Aa,"EmbedRequest",{enumerable:!0,get:function(){return WDr.EmbedRequest}});var JDr=Hmt();Object.defineProperty(Aa,"RerankRequest",{enumerable:!0,get:function(){return JDr.RerankRequest}});var GDr=Vmt();Object.defineProperty(Aa,"ClassifyRequest",{enumerable:!0,get:function(){return GDr.ClassifyRequest}});var KDr=Wmt();Object.defineProperty(Aa,"SummarizeRequest",{enumerable:!0,get:function(){return KDr.SummarizeRequest}});var YDr=Jmt();Object.defineProperty(Aa,"TokenizeRequest",{enumerable:!0,get:function(){return YDr.TokenizeRequest}});var ZDr=Gmt();Object.defineProperty(Aa,"DetokenizeRequest",{enumerable:!0,get:function(){return ZDr.DetokenizeRequest}})});var Ymt=b(zA=>{"use strict";var XDr=zA&&zA.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QDr=zA&&zA.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XDr(t,e,r)};Object.defineProperty(zA,"__esModule",{value:!0});QDr(Kmt(),zA)});var Tx=b(Px=>{"use strict";var ejr=Px&&Px.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xwe=Px&&Px.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ejr(t,e,r)};Object.defineProperty(Px,"__esModule",{value:!0});Xwe(Bht(),Px);Xwe(kmt(),Px);Xwe(Ymt(),Px)});var Qwe=b(_o=>{"use strict";var tjr=_o&&_o.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rjr=_o&&_o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),njr=_o&&_o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tjr(t,e,r);return rjr(t,e),t},_Z=_o&&_o.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},ojr=_o&&_o.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}};Object.defineProperty(_o,"__esModule",{value:!0});_o.fetchOverride=_o.parseAWSEvent=_o.getEndpointFromUrl=_o.getAuthHeaders=_o.getUrl=_o.mapResponseFromBedrock=void 0;var ijr=Lfe(),ajr=(Urt(),il(qrt)),sjr=Got(),ujr=lat(),ljr=e2(),cjr=$(),djr=h_e(),fjr=Ppt(),G2=njr(Tx()),pjr=(e,t)=>_Z(void 0,void 0,void 0,function*(){let r=Object.assign({},process.env);try{return e(),yield t()}finally{process.env=r}}),hjr={chat:G2.StreamedChatResponse,generate:G2.GenerateStreamedResponse},mjr={chat:G2.NonStreamedChatResponse,embed:G2.EmbedResponse,generate:G2.Generation},gjr=(e,t,r)=>_Z(void 0,void 0,void 0,function*(){let n=e?hjr[t]:mjr[t],o={unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]},i=yield n.parseOrThrow(r,o);return n.jsonOrThrow(i,o)});_o.mapResponseFromBedrock=gjr;var yjr=(e,t,r,n)=>{let o={bedrock:n?"invoke-with-response-stream":"invoke",sagemaker:n?"invocations-response-stream":"invocations"}[e];return{bedrock:`https://${e}-runtime.${t}.amazonaws.com/model/${r}/${o}`,sagemaker:`https://runtime.sagemaker.${t}.amazonaws.com/endpoints/${r}/${o}`}[e]};_o.getUrl=yjr;var bjr=(e,t,r,n,o,i)=>_Z(void 0,void 0,void 0,function*(){let a=(0,ajr.fromNodeProviderChain)(),s=yield pjr(()=>{i.awsAccessKey&&(process.env.AWS_ACCESS_KEY_ID=i.awsAccessKey),i.awsSecretKey&&(process.env.AWS_SECRET_ACCESS_KEY=i.awsSecretKey),i.awsSessionToken&&(process.env.AWS_SESSION_TOKEN=i.awsSessionToken)},()=>a()),u=new ujr.SignatureV4({service:o,region:i.awsRegion,credentials:s,sha256:ijr.Sha256});delete r.connection,r.host=e.hostname;let l=new sjr.HttpRequest({method:t.toUpperCase(),protocol:e.protocol,path:e.pathname,headers:r,body:n});return(yield u.sign(l)).headers});_o.getAuthHeaders=bjr;var _jr=(e,t,r,n)=>{if(t&&e.includes(t))return"chat";if(r&&e.includes(r))return"embed";if(n&&e.includes(n))return"generate";throw new Error(`Unknown endpoint in url: ${e}`)};_o.getEndpointFromUrl=_jr;var vjr=e=>{let t=/{[^\}]*}/,r=e.match(t);if(r?.[0]){let n=JSON.parse(r[0]);if(n.bytes){let o=Buffer.from(n.bytes,"base64").toString("utf-8"),i=JSON.parse(o);if(i.event_type)return i}}};_o.parseAWSEvent=vjr;var wjr=(e,{awsRegion:t,awsAccessKey:r,awsSecretKey:n,awsSessionToken:o})=>i=>_Z(void 0,void 0,void 0,function*(){var a,s;let u=i.url.split("/").pop(),l=i.body;console.assert(l.model,"model is required");let c=!!l.stream,d=(0,_o.getUrl)(e,t,l.model,c);delete l.stream,delete l.model,delete i.headers.Authorization,i.headers.Host=new URL(d).hostname;let f=yield(0,_o.getAuthHeaders)(new URL(d),i.method,i.headers,JSON.stringify(l),e,{awsRegion:t,awsAccessKey:r,awsSecretKey:n,awsSessionToken:o});i.url=d,i.headers=f;let p=yield(0,cjr.fetcher)(i);if(!p.ok)return p;try{if(c){let _=(0,djr.readableStreamAsyncIterable)(p.body),g=new fjr.LineDecoder,v=new ljr.PassThrough;try{for(var h=ojr(_),m;m=yield h.next(),!m.done;){let S=m.value;for(let x of g.decode(S)){let O=(0,_o.parseAWSEvent)(x);if(O){let T=yield(0,_o.mapResponseFromBedrock)(c,u,O);v.push(JSON.stringify(T)+`
`)}}}}catch(S){a={error:S}}finally{try{m&&!m.done&&(s=h.return)&&(yield s.call(h))}finally{if(a)throw a.error}}for(let S of g.flush()){let x=(0,_o.parseAWSEvent)(S);if(x){let O=yield(0,_o.mapResponseFromBedrock)(c,u,x);v.push(JSON.stringify(O)+`
`)}}return v.end(),{ok:!0,body:v}}else{let _=yield p.body;return{ok:!0,body:yield(0,_o.mapResponseFromBedrock)(c,u,_)}}}catch(_){throw _}});_o.fetchOverride=wjr});var Mx=b(vZ=>{"use strict";Object.defineProperty(vZ,"__esModule",{value:!0});vZ.CohereEnvironment=void 0;vZ.CohereEnvironment={Production:"https://api.cohere.com"}});var cP=b((Zmt,wZ)=>{(function(e,t,r){typeof wZ<"u"&&wZ.exports?wZ.exports=r():typeof define=="function"&&define.amd?define(r):t[e]=r()})("urljoin",Zmt,function(){function e(t){var r=[];if(t.length===0)return"";if(typeof t[0]!="string")throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var o=0;o<t.length;o++){var i=t[o];if(typeof i!="string")throw new TypeError("Url must be a string. Received "+i);i!==""&&(o>0&&(i=i.replace(/^[\/]+/,"")),o<t.length-1?i=i.replace(/[\/]+$/,""):i=i.replace(/[\/]+$/,"/"),r.push(i))}var a=r.join("/");a=a.replace(/\/(\?|&|#[^!])/g,"$1");var s=a.split("?");return a=s.shift()+(s.length>0?"?":"")+s.join("&"),a}return function(){var t;return typeof arguments[0]=="object"?t=arguments[0]:t=[].slice.call(arguments),e(t)}})});var tSe=b(xf=>{"use strict";var Sjr=xf&&xf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xjr=xf&&xf.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K2=xf&&xf.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Sjr(t,e,r);return xjr(t,e),t},SZ=xf&&xf.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Cjr=xf&&xf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});xf.V2=void 0;var Xmt=K2(Mx()),wf=K2($()),Ra=K2(QS()),Sf=K2(Tx()),Qmt=Cjr(cP()),Ix=K2(Wa()),eSe=class{constructor(t={}){this._options=t}chatStream(t,r){var n,o;return SZ(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:wf.fetcher)({url:(0,Qmt.default)((o=yield wf.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Xmt.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield wf.Supplier.get(this._options.clientName))!=null?yield wf.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":wf.RUNTIME.type,"X-Fern-Runtime-Version":wf.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},Sf.V2ChatStreamRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new wf.Stream({stream:i.body,parse:a=>SZ(this,void 0,void 0,function*(){return Sf.StreamedChatResponse2.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"sse",streamTerminator:"[DONE]"}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Ra.BadRequestError(i.error.body);case 401:throw new Ra.UnauthorizedError(i.error.body);case 403:throw new Ra.ForbiddenError(i.error.body);case 404:throw new Ra.NotFoundError(i.error.body);case 422:throw new Ra.UnprocessableEntityError(Sf.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Ra.TooManyRequestsError(Sf.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Ra.ClientClosedRequestError(Sf.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Ra.InternalServerError(i.error.body);case 501:throw new Ra.NotImplementedError(Sf.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Ra.ServiceUnavailableError(i.error.body);case 504:throw new Ra.GatewayTimeoutError(Sf.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ix.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ix.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ix.CohereTimeoutError;case"unknown":throw new Ix.CohereError({message:i.error.errorMessage})}})}chat(t,r){var n,o;return SZ(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:wf.fetcher)({url:(0,Qmt.default)((o=yield wf.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Xmt.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield wf.Supplier.get(this._options.clientName))!=null?yield wf.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":wf.RUNTIME.type,"X-Fern-Runtime-Version":wf.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},Sf.V2ChatRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Sf.NonStreamedChatResponse2.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Ra.BadRequestError(i.error.body);case 401:throw new Ra.UnauthorizedError(i.error.body);case 403:throw new Ra.ForbiddenError(i.error.body);case 404:throw new Ra.NotFoundError(i.error.body);case 422:throw new Ra.UnprocessableEntityError(Sf.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Ra.TooManyRequestsError(Sf.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Ra.ClientClosedRequestError(Sf.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Ra.InternalServerError(i.error.body);case 501:throw new Ra.NotImplementedError(Sf.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Ra.ServiceUnavailableError(i.error.body);case 504:throw new Ra.GatewayTimeoutError(Sf.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ix.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ix.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ix.CohereTimeoutError;case"unknown":throw new Ix.CohereError({message:i.error.errorMessage})}})}_getAuthorizationHeader(){var t;return SZ(this,void 0,void 0,function*(){let r=(t=yield wf.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Ix.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};xf.V2=eSe});var egt=b(Cf=>{"use strict";var Ojr=Cf&&Cf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ejr=Cf&&Cf.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Z2=Cf&&Cf.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ojr(t,e,r);return Ejr(t,e),t},Y2=Cf&&Cf.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Pjr=Cf&&Cf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.EmbedJobs=void 0;var xZ=Z2(Mx()),Ei=Z2($()),ir=Z2(QS()),CZ=Pjr(cP()),Hi=Z2(Tx()),ec=Z2(Wa()),rSe=class{constructor(t={}){this._options=t}list(t){var r,n;return Y2(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:Ei.fetcher)({url:(0,CZ.default)((n=yield Ei.Supplier.get(this._options.environment))!==null&&n!==void 0?n:xZ.CohereEnvironment.Production,"v1/embed-jobs"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:t?.timeoutInSeconds!=null?t.timeoutInSeconds*1e3:3e5,maxRetries:t?.maxRetries,abortSignal:t?.abortSignal});if(o.ok)return Hi.ListEmbedJobResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new ir.BadRequestError(o.error.body);case 401:throw new ir.UnauthorizedError(o.error.body);case 403:throw new ir.ForbiddenError(o.error.body);case 404:throw new ir.NotFoundError(o.error.body);case 422:throw new ir.UnprocessableEntityError(Hi.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new ir.TooManyRequestsError(Hi.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new ir.ClientClosedRequestError(Hi.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new ir.InternalServerError(o.error.body);case 501:throw new ir.NotImplementedError(Hi.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new ir.ServiceUnavailableError(o.error.body);case 504:throw new ir.GatewayTimeoutError(Hi.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ec.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new ec.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new ec.CohereTimeoutError;case"unknown":throw new ec.CohereError({message:o.error.errorMessage})}})}create(t,r){var n,o;return Y2(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,CZ.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xZ.CohereEnvironment.Production,"v1/embed-jobs"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",body:Hi.CreateEmbedJobRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Hi.CreateEmbedJobResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ir.BadRequestError(i.error.body);case 401:throw new ir.UnauthorizedError(i.error.body);case 403:throw new ir.ForbiddenError(i.error.body);case 404:throw new ir.NotFoundError(i.error.body);case 422:throw new ir.UnprocessableEntityError(Hi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new ir.TooManyRequestsError(Hi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new ir.ClientClosedRequestError(Hi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new ir.InternalServerError(i.error.body);case 501:throw new ir.NotImplementedError(Hi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new ir.ServiceUnavailableError(i.error.body);case 504:throw new ir.GatewayTimeoutError(Hi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ec.CohereTimeoutError;case"unknown":throw new ec.CohereError({message:i.error.errorMessage})}})}get(t,r){var n,o;return Y2(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,CZ.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xZ.CohereEnvironment.Production,`v1/embed-jobs/${encodeURIComponent(t)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Hi.EmbedJob.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ir.BadRequestError(i.error.body);case 401:throw new ir.UnauthorizedError(i.error.body);case 403:throw new ir.ForbiddenError(i.error.body);case 404:throw new ir.NotFoundError(i.error.body);case 422:throw new ir.UnprocessableEntityError(Hi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new ir.TooManyRequestsError(Hi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new ir.ClientClosedRequestError(Hi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new ir.InternalServerError(i.error.body);case 501:throw new ir.NotImplementedError(Hi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new ir.ServiceUnavailableError(i.error.body);case 504:throw new ir.GatewayTimeoutError(Hi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ec.CohereTimeoutError;case"unknown":throw new ec.CohereError({message:i.error.errorMessage})}})}cancel(t,r){var n,o;return Y2(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,CZ.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xZ.CohereEnvironment.Production,`v1/embed-jobs/${encodeURIComponent(t)}/cancel`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(!i.ok){if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ir.BadRequestError(i.error.body);case 401:throw new ir.UnauthorizedError(i.error.body);case 403:throw new ir.ForbiddenError(i.error.body);case 404:throw new ir.NotFoundError(i.error.body);case 422:throw new ir.UnprocessableEntityError(Hi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new ir.TooManyRequestsError(Hi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new ir.ClientClosedRequestError(Hi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new ir.InternalServerError(i.error.body);case 501:throw new ir.NotImplementedError(Hi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new ir.ServiceUnavailableError(i.error.body);case 504:throw new ir.GatewayTimeoutError(Hi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ec.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ec.CohereTimeoutError;case"unknown":throw new ec.CohereError({message:i.error.errorMessage})}}})}_getAuthorizationHeader(){var t;return Y2(this,void 0,void 0,function*(){let r=(t=yield Ei.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new ec.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Cf.EmbedJobs=rSe});var tgt=b(Of=>{"use strict";var Tjr=Of&&Of.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mjr=Of&&Of.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e4=Of&&Of.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Tjr(t,e,r);return Mjr(t,e),t},YL=Of&&Of.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Ijr=Of&&Of.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});Of.Datasets=void 0;var X2=e4(Mx()),zn=e4($()),Mt=e4(QS()),Q2=Ijr(cP()),To=e4(Tx()),Za=e4(Wa()),nSe=class{constructor(t={}){this._options=t}list(t={},r){var n,o;return YL(this,void 0,void 0,function*(){let{datasetType:i,before:a,after:s,limit:u,offset:l,validationStatus:c}=t,d={};i!=null&&(d.datasetType=i),a!=null&&(d.before=a.toISOString()),s!=null&&(d.after=s.toISOString()),u!=null&&(d.limit=u.toString()),l!=null&&(d.offset=l.toString()),c!=null&&(d.validationStatus=c);let f=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,Q2.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:X2.CohereEnvironment.Production,"v1/datasets"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",queryParameters:d,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(f.ok)return To.DatasetsListResponse.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(f.error.reason==="status-code")switch(f.error.statusCode){case 400:throw new Mt.BadRequestError(f.error.body);case 401:throw new Mt.UnauthorizedError(f.error.body);case 403:throw new Mt.ForbiddenError(f.error.body);case 404:throw new Mt.NotFoundError(f.error.body);case 422:throw new Mt.UnprocessableEntityError(To.UnprocessableEntityErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Mt.TooManyRequestsError(To.TooManyRequestsErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Mt.ClientClosedRequestError(To.ClientClosedRequestErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Mt.InternalServerError(f.error.body);case 501:throw new Mt.NotImplementedError(To.NotImplementedErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Mt.ServiceUnavailableError(f.error.body);case 504:throw new Mt.GatewayTimeoutError(To.GatewayTimeoutErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Za.CohereError({statusCode:f.error.statusCode,body:f.error.body})}switch(f.error.reason){case"non-json":throw new Za.CohereError({statusCode:f.error.statusCode,body:f.error.rawBody});case"timeout":throw new Za.CohereTimeoutError;case"unknown":throw new Za.CohereError({message:f.error.errorMessage})}})}create(t,r,n,o){var i,a;return YL(this,void 0,void 0,function*(){let s={};s.name=n.name,s.type=n.type,n.keepOriginalFile!=null&&(s.keep_original_file=n.keepOriginalFile.toString()),n.skipMalformedInput!=null&&(s.skip_malformed_input=n.skipMalformedInput.toString()),n.keepFields!=null&&(Array.isArray(n.keepFields)?s.keep_fields=n.keepFields.map(d=>d):s.keep_fields=n.keepFields),n.optionalFields!=null&&(Array.isArray(n.optionalFields)?s.optional_fields=n.optionalFields.map(d=>d):s.optional_fields=n.optionalFields),n.textSeparator!=null&&(s.text_separator=n.textSeparator),n.csvDelimiter!=null&&(s.csv_delimiter=n.csvDelimiter),n.dryRun!=null&&(s.dry_run=n.dryRun.toString());let u=yield zn.newFormData();yield u.appendFile("data",t,t?.name),r!=null&&(yield u.appendFile("eval_data",r,r?.name));let l=yield u.getRequest(),c=yield((i=this._options.fetcher)!==null&&i!==void 0?i:zn.fetcher)({url:(0,Q2.default)((a=yield zn.Supplier.get(this._options.environment))!==null&&a!==void 0?a:X2.CohereEnvironment.Production,"v1/datasets"),method:"POST",headers:Object.assign({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},l.headers),queryParameters:s,requestType:"file",duplex:l.duplex,body:l.body,timeoutMs:o?.timeoutInSeconds!=null?o.timeoutInSeconds*1e3:3e5,maxRetries:o?.maxRetries,abortSignal:o?.abortSignal});if(c.ok)return To.DatasetsCreateResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new Mt.BadRequestError(c.error.body);case 401:throw new Mt.UnauthorizedError(c.error.body);case 403:throw new Mt.ForbiddenError(c.error.body);case 404:throw new Mt.NotFoundError(c.error.body);case 422:throw new Mt.UnprocessableEntityError(To.UnprocessableEntityErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Mt.TooManyRequestsError(To.TooManyRequestsErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Mt.ClientClosedRequestError(To.ClientClosedRequestErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Mt.InternalServerError(c.error.body);case 501:throw new Mt.NotImplementedError(To.NotImplementedErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Mt.ServiceUnavailableError(c.error.body);case 504:throw new Mt.GatewayTimeoutError(To.GatewayTimeoutErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Za.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Za.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Za.CohereTimeoutError;case"unknown":throw new Za.CohereError({message:c.error.errorMessage})}})}getUsage(t){var r,n;return YL(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:zn.fetcher)({url:(0,Q2.default)((n=yield zn.Supplier.get(this._options.environment))!==null&&n!==void 0?n:X2.CohereEnvironment.Production,"v1/datasets/usage"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:t?.timeoutInSeconds!=null?t.timeoutInSeconds*1e3:3e5,maxRetries:t?.maxRetries,abortSignal:t?.abortSignal});if(o.ok)return To.DatasetsGetUsageResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new Mt.BadRequestError(o.error.body);case 401:throw new Mt.UnauthorizedError(o.error.body);case 403:throw new Mt.ForbiddenError(o.error.body);case 404:throw new Mt.NotFoundError(o.error.body);case 422:throw new Mt.UnprocessableEntityError(To.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Mt.TooManyRequestsError(To.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Mt.ClientClosedRequestError(To.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Mt.InternalServerError(o.error.body);case 501:throw new Mt.NotImplementedError(To.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Mt.ServiceUnavailableError(o.error.body);case 504:throw new Mt.GatewayTimeoutError(To.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Za.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new Za.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new Za.CohereTimeoutError;case"unknown":throw new Za.CohereError({message:o.error.errorMessage})}})}get(t,r){var n,o;return YL(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,Q2.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:X2.CohereEnvironment.Production,`v1/datasets/${encodeURIComponent(t)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return To.DatasetsGetResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Mt.BadRequestError(i.error.body);case 401:throw new Mt.UnauthorizedError(i.error.body);case 403:throw new Mt.ForbiddenError(i.error.body);case 404:throw new Mt.NotFoundError(i.error.body);case 422:throw new Mt.UnprocessableEntityError(To.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Mt.TooManyRequestsError(To.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Mt.ClientClosedRequestError(To.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Mt.InternalServerError(i.error.body);case 501:throw new Mt.NotImplementedError(To.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Mt.ServiceUnavailableError(i.error.body);case 504:throw new Mt.GatewayTimeoutError(To.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Za.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Za.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Za.CohereTimeoutError;case"unknown":throw new Za.CohereError({message:i.error.errorMessage})}})}delete(t,r){var n,o;return YL(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,Q2.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:X2.CohereEnvironment.Production,`v1/datasets/${encodeURIComponent(t)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return To.datasets.delete.Response.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Mt.BadRequestError(i.error.body);case 401:throw new Mt.UnauthorizedError(i.error.body);case 403:throw new Mt.ForbiddenError(i.error.body);case 404:throw new Mt.NotFoundError(i.error.body);case 422:throw new Mt.UnprocessableEntityError(To.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Mt.TooManyRequestsError(To.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Mt.ClientClosedRequestError(To.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Mt.InternalServerError(i.error.body);case 501:throw new Mt.NotImplementedError(To.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Mt.ServiceUnavailableError(i.error.body);case 504:throw new Mt.GatewayTimeoutError(To.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Za.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Za.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Za.CohereTimeoutError;case"unknown":throw new Za.CohereError({message:i.error.errorMessage})}})}_getAuthorizationHeader(){var t;return YL(this,void 0,void 0,function*(){let r=(t=yield zn.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Za.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Of.Datasets=nSe});var rgt=b(Ef=>{"use strict";var Ajr=Ef&&Ef.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rjr=Ef&&Ef.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t4=Ef&&Ef.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ajr(t,e,r);return Rjr(t,e),t},HA=Ef&&Ef.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Djr=Ef&&Ef.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.Connectors=void 0;var ZL=t4(Mx()),tn=t4($()),it=t4(QS()),XL=Djr(cP()),Gr=t4(Tx()),Pi=t4(Wa()),oSe=class{constructor(t={}){this._options=t}list(t={},r){var n,o;return HA(this,void 0,void 0,function*(){let{limit:i,offset:a}=t,s={};i!=null&&(s.limit=i.toString()),a!=null&&(s.offset=a.toString());let u=yield((n=this._options.fetcher)!==null&&n!==void 0?n:tn.fetcher)({url:(0,XL.default)((o=yield tn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ZL.CohereEnvironment.Production,"v1/connectors"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",queryParameters:s,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(u.ok)return Gr.ListConnectorsResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new it.BadRequestError(u.error.body);case 401:throw new it.UnauthorizedError(u.error.body);case 403:throw new it.ForbiddenError(u.error.body);case 404:throw new it.NotFoundError(u.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(u.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(u.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:u.error.errorMessage})}})}create(t,r){var n,o;return HA(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:tn.fetcher)({url:(0,XL.default)((o=yield tn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ZL.CohereEnvironment.Production,"v1/connectors"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",requestType:"json",body:Gr.CreateConnectorRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Gr.CreateConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}get(t,r){var n,o;return HA(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:tn.fetcher)({url:(0,XL.default)((o=yield tn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ZL.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(t)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Gr.GetConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}delete(t,r){var n,o;return HA(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:tn.fetcher)({url:(0,XL.default)((o=yield tn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ZL.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(t)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Gr.DeleteConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}update(t,r={},n){var o,i;return HA(this,void 0,void 0,function*(){let a=yield((o=this._options.fetcher)!==null&&o!==void 0?o:tn.fetcher)({url:(0,XL.default)((i=yield tn.Supplier.get(this._options.environment))!==null&&i!==void 0?i:ZL.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(t)}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",requestType:"json",body:Gr.UpdateConnectorRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(a.ok)return Gr.UpdateConnectorResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new it.BadRequestError(a.error.body);case 401:throw new it.UnauthorizedError(a.error.body);case 403:throw new it.ForbiddenError(a.error.body);case 404:throw new it.NotFoundError(a.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(a.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(a.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Pi.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:a.error.errorMessage})}})}oAuthAuthorize(t,r={},n){var o,i;return HA(this,void 0,void 0,function*(){let{afterTokenRedirect:a}=r,s={};a!=null&&(s.after_token_redirect=a);let u=yield((o=this._options.fetcher)!==null&&o!==void 0?o:tn.fetcher)({url:(0,XL.default)((i=yield tn.Supplier.get(this._options.environment))!==null&&i!==void 0?i:ZL.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(t)}/oauth/authorize`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield tn.Supplier.get(this._options.clientName))!=null?yield tn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":tn.RUNTIME.type,"X-Fern-Runtime-Version":tn.RUNTIME.version},contentType:"application/json",queryParameters:s,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(u.ok)return Gr.OAuthAuthorizeResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new it.BadRequestError(u.error.body);case 401:throw new it.UnauthorizedError(u.error.body);case 403:throw new it.ForbiddenError(u.error.body);case 404:throw new it.NotFoundError(u.error.body);case 422:throw new it.UnprocessableEntityError(Gr.UnprocessableEntityErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Gr.TooManyRequestsErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Gr.ClientClosedRequestErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(u.error.body);case 501:throw new it.NotImplementedError(Gr.NotImplementedErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(u.error.body);case 504:throw new it.GatewayTimeoutError(Gr.GatewayTimeoutErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:u.error.errorMessage})}})}_getAuthorizationHeader(){var t;return HA(this,void 0,void 0,function*(){let r=(t=yield tn.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Pi.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Ef.Connectors=oSe});var igt=b(Pf=>{"use strict";var jjr=Pf&&Pf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Njr=Pf&&Pf.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r4=Pf&&Pf.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jjr(t,e,r);return Njr(t,e),t},iSe=Pf&&Pf.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Ljr=Pf&&Pf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.Models=void 0;var ngt=r4(Mx()),wp=r4($()),Da=r4(QS()),ogt=Ljr(cP()),Fh=r4(Tx()),Ax=r4(Wa()),aSe=class{constructor(t={}){this._options=t}get(t,r){var n,o;return iSe(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:wp.fetcher)({url:(0,ogt.default)((o=yield wp.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ngt.CohereEnvironment.Production,`v1/models/${encodeURIComponent(t)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield wp.Supplier.get(this._options.clientName))!=null?yield wp.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":wp.RUNTIME.type,"X-Fern-Runtime-Version":wp.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Fh.GetModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Da.BadRequestError(i.error.body);case 401:throw new Da.UnauthorizedError(i.error.body);case 403:throw new Da.ForbiddenError(i.error.body);case 404:throw new Da.NotFoundError(i.error.body);case 422:throw new Da.UnprocessableEntityError(Fh.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Da.TooManyRequestsError(Fh.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Da.ClientClosedRequestError(Fh.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Da.InternalServerError(i.error.body);case 501:throw new Da.NotImplementedError(Fh.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Da.ServiceUnavailableError(i.error.body);case 504:throw new Da.GatewayTimeoutError(Fh.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ax.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ax.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ax.CohereTimeoutError;case"unknown":throw new Ax.CohereError({message:i.error.errorMessage})}})}list(t={},r){var n,o;return iSe(this,void 0,void 0,function*(){let{pageSize:i,pageToken:a,endpoint:s,defaultOnly:u}=t,l={};i!=null&&(l.page_size=i.toString()),a!=null&&(l.page_token=a),s!=null&&(l.endpoint=s),u!=null&&(l.default_only=u.toString());let c=yield((n=this._options.fetcher)!==null&&n!==void 0?n:wp.fetcher)({url:(0,ogt.default)((o=yield wp.Supplier.get(this._options.environment))!==null&&o!==void 0?o:ngt.CohereEnvironment.Production,"v1/models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield wp.Supplier.get(this._options.clientName))!=null?yield wp.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":wp.RUNTIME.type,"X-Fern-Runtime-Version":wp.RUNTIME.version},contentType:"application/json",queryParameters:l,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(c.ok)return Fh.ListModelsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new Da.BadRequestError(c.error.body);case 401:throw new Da.UnauthorizedError(c.error.body);case 403:throw new Da.ForbiddenError(c.error.body);case 404:throw new Da.NotFoundError(c.error.body);case 422:throw new Da.UnprocessableEntityError(Fh.UnprocessableEntityErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Da.TooManyRequestsError(Fh.TooManyRequestsErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Da.ClientClosedRequestError(Fh.ClientClosedRequestErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Da.InternalServerError(c.error.body);case 501:throw new Da.NotImplementedError(Fh.NotImplementedErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Da.ServiceUnavailableError(c.error.body);case 504:throw new Da.GatewayTimeoutError(Fh.GatewayTimeoutErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ax.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Ax.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Ax.CohereTimeoutError;case"unknown":throw new Ax.CohereError({message:c.error.errorMessage})}})}_getAuthorizationHeader(){var t;return iSe(this,void 0,void 0,function*(){let r=(t=yield wp.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Ax.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Pf.Models=aSe});var agt=b(Tf=>{"use strict";var Fjr=Tf&&Tf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kjr=Tf&&Tf.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n4=Tf&&Tf.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fjr(t,e,r);return kjr(t,e),t},dP=Tf&&Tf.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Bjr=Tf&&Tf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.Finetuning=void 0;var VA=n4(Mx()),fr=n4($()),_r=n4(QS()),WA=Bjr(cP()),Rx=n4(Tx()),Lo=n4(Wa()),sSe=class{constructor(t={}){this._options=t}listFinetunedModels(t={},r){var n,o;return dP(this,void 0,void 0,function*(){let{pageSize:i,pageToken:a,orderBy:s}=t,u={};i!=null&&(u.page_size=i.toString()),a!=null&&(u.page_token=a),s!=null&&(u.order_by=s);let l=yield((n=this._options.fetcher)!==null&&n!==void 0?n:fr.fetcher)({url:(0,WA.default)((o=yield fr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:VA.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",queryParameters:u,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(l.ok)return Rx.finetuning.ListFinetunedModelsResponse.parseOrThrow(l.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(l.error.reason==="status-code")switch(l.error.statusCode){case 400:throw new _r.BadRequestError(l.error.body);case 401:throw new _r.UnauthorizedError(l.error.body);case 403:throw new _r.ForbiddenError(l.error.body);case 404:throw new _r.NotFoundError(l.error.body);case 500:throw new _r.InternalServerError(l.error.body);case 503:throw new _r.ServiceUnavailableError(l.error.body);default:throw new Lo.CohereError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Lo.CohereError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:l.error.errorMessage})}})}createFinetunedModel(t,r){var n,o;return dP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:fr.fetcher)({url:(0,WA.default)((o=yield fr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:VA.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",requestType:"json",body:Rx.finetuning.FinetunedModel.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Rx.finetuning.CreateFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:i.error.errorMessage})}})}getFinetunedModel(t,r){var n,o;return dP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:fr.fetcher)({url:(0,WA.default)((o=yield fr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:VA.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(t)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Rx.finetuning.GetFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:i.error.errorMessage})}})}deleteFinetunedModel(t,r){var n,o;return dP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:fr.fetcher)({url:(0,WA.default)((o=yield fr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:VA.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(t)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Rx.finetuning.DeleteFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Lo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:i.error.errorMessage})}})}updateFinetunedModel(t,r,n){var o,i;return dP(this,void 0,void 0,function*(){let a=yield((o=this._options.fetcher)!==null&&o!==void 0?o:fr.fetcher)({url:(0,WA.default)((i=yield fr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:VA.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(t)}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",requestType:"json",body:Rx.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(a.ok)return Rx.finetuning.UpdateFinetunedModelResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new _r.BadRequestError(a.error.body);case 401:throw new _r.UnauthorizedError(a.error.body);case 403:throw new _r.ForbiddenError(a.error.body);case 404:throw new _r.NotFoundError(a.error.body);case 500:throw new _r.InternalServerError(a.error.body);case 503:throw new _r.ServiceUnavailableError(a.error.body);default:throw new Lo.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Lo.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:a.error.errorMessage})}})}listEvents(t,r={},n){var o,i;return dP(this,void 0,void 0,function*(){let{pageSize:a,pageToken:s,orderBy:u}=r,l={};a!=null&&(l.page_size=a.toString()),s!=null&&(l.page_token=s),u!=null&&(l.order_by=u);let c=yield((o=this._options.fetcher)!==null&&o!==void 0?o:fr.fetcher)({url:(0,WA.default)((i=yield fr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:VA.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(t)}/events`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",queryParameters:l,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(c.ok)return Rx.finetuning.ListEventsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new _r.BadRequestError(c.error.body);case 401:throw new _r.UnauthorizedError(c.error.body);case 403:throw new _r.ForbiddenError(c.error.body);case 404:throw new _r.NotFoundError(c.error.body);case 500:throw new _r.InternalServerError(c.error.body);case 503:throw new _r.ServiceUnavailableError(c.error.body);default:throw new Lo.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Lo.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:c.error.errorMessage})}})}listTrainingStepMetrics(t,r={},n){var o,i;return dP(this,void 0,void 0,function*(){let{pageSize:a,pageToken:s}=r,u={};a!=null&&(u.page_size=a.toString()),s!=null&&(u.page_token=s);let l=yield((o=this._options.fetcher)!==null&&o!==void 0?o:fr.fetcher)({url:(0,WA.default)((i=yield fr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:VA.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(t)}/training-step-metrics`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield fr.Supplier.get(this._options.clientName))!=null?yield fr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":fr.RUNTIME.type,"X-Fern-Runtime-Version":fr.RUNTIME.version},contentType:"application/json",queryParameters:u,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(l.ok)return Rx.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(l.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(l.error.reason==="status-code")switch(l.error.statusCode){case 400:throw new _r.BadRequestError(l.error.body);case 401:throw new _r.UnauthorizedError(l.error.body);case 403:throw new _r.ForbiddenError(l.error.body);case 404:throw new _r.NotFoundError(l.error.body);case 500:throw new _r.InternalServerError(l.error.body);case 503:throw new _r.ServiceUnavailableError(l.error.body);default:throw new Lo.CohereError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Lo.CohereError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Lo.CohereTimeoutError;case"unknown":throw new Lo.CohereError({message:l.error.errorMessage})}})}_getAuthorizationHeader(){var t;return dP(this,void 0,void 0,function*(){let r=(t=yield fr.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Lo.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Tf.Finetuning=sSe});var OZ=b(If=>{"use strict";var $jr=If&&If.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qjr=If&&If.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o4=If&&If.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$jr(t,e,r);return qjr(t,e),t},Mf=If&&If.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},Ujr=If&&If.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});If.CohereClient=void 0;var cg=o4(Mx()),et=o4($()),he=o4(QS()),ze=o4(Tx()),dg=Ujr(cP()),nr=o4(Wa()),zjr=tSe(),Hjr=egt(),Vjr=tgt(),Wjr=rgt(),Jjr=igt(),Gjr=agt(),uSe=class{constructor(t={}){this._options=t}chatStream(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.ChatStreamRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new et.Stream({stream:i.body,parse:a=>Mf(this,void 0,void 0,function*(){return ze.StreamedChatResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}chat(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.ChatRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.NonStreamedChatResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}generateStream(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.GenerateStreamRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new et.Stream({stream:i.body,parse:a=>Mf(this,void 0,void 0,function*(){return ze.GenerateStreamedResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}generate(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.GenerateRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.Generation.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}embed(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/embed"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.EmbedRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.EmbedResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}rerank(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/rerank"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.RerankRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.RerankResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}classify(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/classify"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.ClassifyRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.ClassifyResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}summarize(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/summarize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.SummarizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.SummarizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}tokenize(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/tokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.TokenizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.TokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}detokenize(t,r){var n,o;return Mf(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:et.fetcher)({url:(0,dg.default)((o=yield et.Supplier.get(this._options.environment))!==null&&o!==void 0?o:cg.CohereEnvironment.Production,"v1/detokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.DetokenizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.DetokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new he.BadRequestError(i.error.body);case 401:throw new he.UnauthorizedError(i.error.body);case 403:throw new he.ForbiddenError(i.error.body);case 404:throw new he.NotFoundError(i.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(i.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(i.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new nr.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:i.error.errorMessage})}})}checkApiKey(t){var r,n;return Mf(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:et.fetcher)({url:(0,dg.default)((n=yield et.Supplier.get(this._options.environment))!==null&&n!==void 0?n:cg.CohereEnvironment.Production,"v1/check-api-key"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield et.Supplier.get(this._options.clientName))!=null?yield et.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":et.RUNTIME.type,"X-Fern-Runtime-Version":et.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:t?.timeoutInSeconds!=null?t.timeoutInSeconds*1e3:3e5,maxRetries:t?.maxRetries,abortSignal:t?.abortSignal});if(o.ok)return ze.CheckApiKeyResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new he.BadRequestError(o.error.body);case 401:throw new he.UnauthorizedError(o.error.body);case 403:throw new he.ForbiddenError(o.error.body);case 404:throw new he.NotFoundError(o.error.body);case 422:throw new he.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new he.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new he.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new he.InternalServerError(o.error.body);case 501:throw new he.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new he.ServiceUnavailableError(o.error.body);case 504:throw new he.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new nr.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new nr.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new nr.CohereTimeoutError;case"unknown":throw new nr.CohereError({message:o.error.errorMessage})}})}get v2(){var t;return(t=this._v2)!==null&&t!==void 0?t:this._v2=new zjr.V2(this._options)}get embedJobs(){var t;return(t=this._embedJobs)!==null&&t!==void 0?t:this._embedJobs=new Hjr.EmbedJobs(this._options)}get datasets(){var t;return(t=this._datasets)!==null&&t!==void 0?t:this._datasets=new Vjr.Datasets(this._options)}get connectors(){var t;return(t=this._connectors)!==null&&t!==void 0?t:this._connectors=new Wjr.Connectors(this._options)}get models(){var t;return(t=this._models)!==null&&t!==void 0?t:this._models=new Jjr.Models(this._options)}get finetuning(){var t;return(t=this._finetuning)!==null&&t!==void 0?t:this._finetuning=new Gjr.Finetuning(this._options)}_getAuthorizationHeader(){var t;return Mf(this,void 0,void 0,function*(){let r=(t=yield et.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new nr.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};If.CohereClient=uSe});var cSe=b(EZ=>{"use strict";Object.defineProperty(EZ,"__esModule",{value:!0});EZ.AwsClient=void 0;var Kjr=OZ(),lSe=class extends Kjr.CohereClient{constructor(t){t.token="n/a",super(t)}};EZ.AwsClient=lSe});var sgt=b(PZ=>{"use strict";Object.defineProperty(PZ,"__esModule",{value:!0});PZ.BedrockClient=void 0;var Yjr=Qwe(),Zjr=cSe(),dSe=class extends Zjr.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,Yjr.fetchOverride)("bedrock",t)}))}};PZ.BedrockClient=dSe});var ugt=b(TZ=>{"use strict";Object.defineProperty(TZ,"__esModule",{value:!0});TZ.CohereClientV2=void 0;var Xjr=tSe(),Qjr=OZ(),fSe=class{constructor(t){this._options=t,this.client=new Qjr.CohereClient(this._options),this.clientV2=new Xjr.V2(this._options),this.chat=this.clientV2.chat.bind(this.clientV2),this.chatStream=this.clientV2.chatStream.bind(this.clientV2),this.generateStream=this.client.generateStream.bind(this.clientV2),this.generate=this.client.generate.bind(this.clientV2),this.embed=this.client.embed.bind(this.clientV2),this.rerank=this.client.rerank.bind(this.clientV2),this.classify=this.client.classify.bind(this.clientV2),this.summarize=this.client.summarize.bind(this.clientV2),this.tokenize=this.client.tokenize.bind(this.clientV2),this.detokenize=this.client.detokenize.bind(this.clientV2),this.checkApiKey=this.client.checkApiKey.bind(this.clientV2),this.embedJobs=this.client.embedJobs,this.datasets=this.client.datasets,this.connectors=this.client.connectors,this.models=this.client.models,this.finetuning=this.client.finetuning}};TZ.CohereClientV2=fSe});var lgt=b(MZ=>{"use strict";Object.defineProperty(MZ,"__esModule",{value:!0});MZ.CustomClient=void 0;var eNr=OZ(),pSe=class extends eNr.CohereClient{constructor(t={}){var r,n;try{let o=/\/v1\/?$/,i=(r=t.environment)===null||r===void 0?void 0:r.toString().replace(o,"");i!==((n=t.environment)===null||n===void 0?void 0:n.toString())&&(t.environment=i)}catch{}super(t),this._options=t}};MZ.CustomClient=pSe});var cgt=b(IZ=>{"use strict";Object.defineProperty(IZ,"__esModule",{value:!0});IZ.SagemakerClient=void 0;var tNr=cSe(),rNr=Qwe(),hSe=class extends tNr.AwsClient{constructor(t){super(Object.assign(Object.assign({},t),{fetcher:(0,rNr.fetchOverride)("sagemaker",t)}))}};IZ.SagemakerClient=hSe});var i4=b(Vi=>{"use strict";var nNr=Vi&&Vi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oNr=Vi&&Vi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),iNr=Vi&&Vi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nNr(t,e,r);return oNr(t,e),t};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.SagemakerClient=Vi.CohereTimeoutError=Vi.CohereError=Vi.CohereEnvironment=Vi.CohereClient=Vi.CohereClientV2=Vi.BedrockClient=Vi.Cohere=void 0;Vi.Cohere=iNr(QS());var aNr=sgt();Object.defineProperty(Vi,"BedrockClient",{enumerable:!0,get:function(){return aNr.BedrockClient}});var sNr=ugt();Object.defineProperty(Vi,"CohereClientV2",{enumerable:!0,get:function(){return sNr.CohereClientV2}});var uNr=lgt();Object.defineProperty(Vi,"CohereClient",{enumerable:!0,get:function(){return uNr.CustomClient}});var lNr=Mx();Object.defineProperty(Vi,"CohereEnvironment",{enumerable:!0,get:function(){return lNr.CohereEnvironment}});var dgt=Wa();Object.defineProperty(Vi,"CohereError",{enumerable:!0,get:function(){return dgt.CohereError}});Object.defineProperty(Vi,"CohereTimeoutError",{enumerable:!0,get:function(){return dgt.CohereTimeoutError}});var cNr=cgt();Object.defineProperty(Vi,"SagemakerClient",{enumerable:!0,get:function(){return cNr.SagemakerClient}})});function pg(e){e?(yl[0]=yl[16]=yl[1]=yl[2]=yl[3]=yl[4]=yl[5]=yl[6]=yl[7]=yl[8]=yl[9]=yl[10]=yl[11]=yl[12]=yl[13]=yl[14]=yl[15]=0,this.blocks=yl):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var dNr,kr,fNr,fg,yl,mSe,fgt=C(()=>{"use strict";dNr=typeof window=="object"?window:{},kr="0123456789abcdef".split(""),fNr=[-2147483648,8388608,32768,128],fg=[24,16,8,0],yl=[];pg.prototype.update=function(e){if(!this.finalized){var t=typeof e!="string";t&&e.constructor===dNr.ArrayBuffer&&(e=new Uint8Array(e));for(var r,n=0,o,i=e.length||0,a=this.blocks;n<i;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(o=this.start;n<i&&o<64;++n)a[o>>2]|=e[n]<<fg[o++&3];else for(o=this.start;n<i&&o<64;++n)r=e.charCodeAt(n),r<128?a[o>>2]|=r<<fg[o++&3]:r<2048?(a[o>>2]|=(192|r>>6)<<fg[o++&3],a[o>>2]|=(128|r&63)<<fg[o++&3]):r<55296||r>=57344?(a[o>>2]|=(224|r>>12)<<fg[o++&3],a[o>>2]|=(128|r>>6&63)<<fg[o++&3],a[o>>2]|=(128|r&63)<<fg[o++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++n)&1023),a[o>>2]|=(240|r>>18)<<fg[o++&3],a[o>>2]|=(128|r>>12&63)<<fg[o++&3],a[o>>2]|=(128|r>>6&63)<<fg[o++&3],a[o>>2]|=(128|r&63)<<fg[o++&3]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};pg.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=fNr[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};pg.prototype.hash=function(){var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4,i,a,s,u=this.blocks;for(a=16;a<80;++a)s=u[a-3]^u[a-8]^u[a-14]^u[a-16],u[a]=s<<1|s>>>31;for(a=0;a<20;a+=5)i=t&r|~t&n,s=e<<5|e>>>27,o=s+i+o+1518500249+u[a]<<0,t=t<<30|t>>>2,i=e&t|~e&r,s=o<<5|o>>>27,n=s+i+n+1518500249+u[a+1]<<0,e=e<<30|e>>>2,i=o&e|~o&t,s=n<<5|n>>>27,r=s+i+r+1518500249+u[a+2]<<0,o=o<<30|o>>>2,i=n&o|~n&e,s=r<<5|r>>>27,t=s+i+t+1518500249+u[a+3]<<0,n=n<<30|n>>>2,i=r&n|~r&o,s=t<<5|t>>>27,e=s+i+e+1518500249+u[a+4]<<0,r=r<<30|r>>>2;for(;a<40;a+=5)i=t^r^n,s=e<<5|e>>>27,o=s+i+o+1859775393+u[a]<<0,t=t<<30|t>>>2,i=e^t^r,s=o<<5|o>>>27,n=s+i+n+1859775393+u[a+1]<<0,e=e<<30|e>>>2,i=o^e^t,s=n<<5|n>>>27,r=s+i+r+1859775393+u[a+2]<<0,o=o<<30|o>>>2,i=n^o^e,s=r<<5|r>>>27,t=s+i+t+1859775393+u[a+3]<<0,n=n<<30|n>>>2,i=r^n^o,s=t<<5|t>>>27,e=s+i+e+1859775393+u[a+4]<<0,r=r<<30|r>>>2;for(;a<60;a+=5)i=t&r|t&n|r&n,s=e<<5|e>>>27,o=s+i+o-1894007588+u[a]<<0,t=t<<30|t>>>2,i=e&t|e&r|t&r,s=o<<5|o>>>27,n=s+i+n-1894007588+u[a+1]<<0,e=e<<30|e>>>2,i=o&e|o&t|e&t,s=n<<5|n>>>27,r=s+i+r-1894007588+u[a+2]<<0,o=o<<30|o>>>2,i=n&o|n&e|o&e,s=r<<5|r>>>27,t=s+i+t-1894007588+u[a+3]<<0,n=n<<30|n>>>2,i=r&n|r&o|n&o,s=t<<5|t>>>27,e=s+i+e-1894007588+u[a+4]<<0,r=r<<30|r>>>2;for(;a<80;a+=5)i=t^r^n,s=e<<5|e>>>27,o=s+i+o-899497514+u[a]<<0,t=t<<30|t>>>2,i=e^t^r,s=o<<5|o>>>27,n=s+i+n-899497514+u[a+1]<<0,e=e<<30|e>>>2,i=o^e^t,s=n<<5|n>>>27,r=s+i+r-899497514+u[a+2]<<0,o=o<<30|o>>>2,i=n^o^e,s=r<<5|r>>>27,t=s+i+t-899497514+u[a+3]<<0,n=n<<30|n>>>2,i=r^n^o,s=t<<5|t>>>27,e=s+i+e-899497514+u[a+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+o<<0};pg.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4;return kr[e>>28&15]+kr[e>>24&15]+kr[e>>20&15]+kr[e>>16&15]+kr[e>>12&15]+kr[e>>8&15]+kr[e>>4&15]+kr[e&15]+kr[t>>28&15]+kr[t>>24&15]+kr[t>>20&15]+kr[t>>16&15]+kr[t>>12&15]+kr[t>>8&15]+kr[t>>4&15]+kr[t&15]+kr[r>>28&15]+kr[r>>24&15]+kr[r>>20&15]+kr[r>>16&15]+kr[r>>12&15]+kr[r>>8&15]+kr[r>>4&15]+kr[r&15]+kr[n>>28&15]+kr[n>>24&15]+kr[n>>20&15]+kr[n>>16&15]+kr[n>>12&15]+kr[n>>8&15]+kr[n>>4&15]+kr[n&15]+kr[o>>28&15]+kr[o>>24&15]+kr[o>>20&15]+kr[o>>16&15]+kr[o>>12&15]+kr[o>>8&15]+kr[o>>4&15]+kr[o&15]};pg.prototype.toString=pg.prototype.hex;pg.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,o=this.h4;return[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255]};pg.prototype.array=pg.prototype.digest;pg.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};mSe=e=>new pg(!0).update(e).hex()});var pgt=C(()=>{fgt()});var hgt,gSe,pNr,AZ,mgt=C(()=>{pgt();gO();hgt=(...e)=>mSe(e.join("_")),gSe=class{},pNr=new Map,AZ=class e extends gSe{constructor(t){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=t??new Map}lookup(t,r){return Promise.resolve(this.cache.get(hgt(t,r))??null)}async update(t,r,n){this.cache.set(hgt(t,r),n)}static global(){return new e(pNr)}}});function yNr(e,t){let r=Array.from({length:e.length},(n,o)=>({start:o,end:o+1}));for(;r.length>1;){let n=null;for(let o=0;o<r.length-1;o++){let i=e.slice(r[o].start,r[o+1].end),a=t.get(i.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,o])}if(n!=null){let o=n[1];r[o]={start:r[o].start,end:r[o+1].end},r.splice(o+1,1)}else break}return r}function bNr(e,t){return e.length===1?[t.get(e.join(","))]:yNr(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}function _Nr(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function bSe(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":return"o200k_base";default:throw new Error("Unknown model")}}var ggt,hNr,mNr,gNr,ySe,RZ,ygt=C(()=>{ggt=B(lle(),1),hNr=Object.defineProperty,mNr=(e,t,r)=>t in e?hNr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gNr=(e,t,r)=>(mNr(e,typeof t!="symbol"?t+"":t,r),r);ySe=class{constructor(e,t){Nl(this,"specialTokens");Nl(this,"inverseSpecialTokens");Nl(this,"patStr");Nl(this,"textEncoder",new TextEncoder);Nl(this,"textDecoder",new TextDecoder("utf-8"));Nl(this,"rankMap",new Map);Nl(this,"textMap",new Map);this.patStr=e.pat_str;let r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((n,o)=>{let[i,a,...s]=o.split(" "),u=Number.parseInt(a,10);return s.forEach((l,c)=>n[l]=u+c),n},{});for(let[n,o]of Object.entries(r)){let i=ggt.default.toByteArray(n);this.rankMap.set(i.join(","),o),this.textMap.set(o,i)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[o,i])=>(n[i]=this.textEncoder.encode(o),n),{})}encode(e,t=[],r="all"){let n=new RegExp(this.patStr,"ug"),o=ySe.specialTokenRegex(Object.keys(this.specialTokens)),i=[],a=new Set(t==="all"?Object.keys(this.specialTokens):t),s=new Set(r==="all"?Object.keys(this.specialTokens).filter(l=>!a.has(l)):r);if(s.size>0){let l=ySe.specialTokenRegex([...s]),c=e.match(l);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let u=0;for(;;){let l=null,c=u;for(;o.lastIndex=c,l=o.exec(e),!(l==null||a.has(l[0]));)c=l.index+1;let d=l?.index??e.length;for(let p of e.substring(u,d).matchAll(n)){let h=this.textEncoder.encode(p[0]),m=this.rankMap.get(h.join(","));if(m!=null){i.push(m);continue}i.push(...bNr(h,this.rankMap))}if(l==null)break;let f=this.specialTokens[l[0]];i.push(f),u=l.index+l[0].length}return i}decode(e){let t=[],r=0;for(let i=0;i<e.length;++i){let a=e[i],s=this.textMap.get(a)??this.inverseSpecialTokens[a];s!=null&&(t.push(s),r+=s.length)}let n=new Uint8Array(r),o=0;for(let i of t)n.set(i,o),o+=i.length;return this.textDecoder.decode(n)}},RZ=ySe;gNr(RZ,"specialTokenRegex",e=>new RegExp(e.map(t=>_Nr(t)).join("|"),"g"))});var bgt=C(()=>{ygt()});async function _gt(e){return e in DZ||(DZ[e]=vNr.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(t=>t.json()).then(t=>new RZ(t)).catch(t=>{throw delete DZ[e],t})),await DZ[e]}async function vgt(e){return _gt(bSe(e))}var DZ,vNr,_Se=C(()=>{bgt();kD();DZ={},vNr=new Qf({})});function gw(e){return typeof e!="object"||!e?!1:!!("type"in e&&e.type==="function"&&"function"in e&&typeof e.function=="object"&&e.function&&"name"in e.function&&"parameters"in e.function)}var wNr,SNr,QL,eF,a4=C(()=>{mgt();rq();gO();kD();_Se();sf();wNr=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e;SNr=()=>!1,QL=class extends nn{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(t){super(t),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=t.verbose??SNr(),this.callbacks=t.callbacks,this.tags=t.tags??[],this.metadata=t.metadata??{}}},eF=class extends QL{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:t,callbackManager:r,...n}){let{cache:o,...i}=n;super({callbacks:t??r,...i}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof o=="object"?this.cache=o:o?this.cache=AZ.global():this.cache=void 0,this.caller=new Qf(n??{})}async getNumTokens(t){if(typeof t!="string")return 0;let r=Math.ceil(t.length/4);if(!this._encoding)try{this._encoding=await vgt("modelName"in this?wNr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{r=this._encoding.encode(t).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return r}static _convertInputToPromptValue(t){return typeof t=="string"?new qD(t):Array.isArray(t)?new UD(t.map(Nm)):t}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:t,...r}){let n={...this._identifyingParams(),...r,_type:this._llmType(),_model:this._modelType()};return Object.entries(n).filter(([a,s])=>s!==void 0).map(([a,s])=>`${a}:${JSON.stringify(s)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(t){throw new Error("Use .toJSON() instead")}}});var Dx=C(()=>{a4()});var kh=C(()=>{FD()});var H_t=b(()=>{});var un=b((BX,V_t)=>{(function(e,t){typeof BX=="object"?V_t.exports=BX=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(BX,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof window<"u"&&window.crypto&&(n=window.crypto),!n&&typeof require=="function")try{n=H_t()}catch{}var o=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function g(){}return function(v){var S;return g.prototype=v,S=new g,g.prototype=null,S}}(),a={},s=a.lib={},u=s.Base=function(){return{extend:function(g){var v=i(this);return g&&v.mixIn(g),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var v in g)g.hasOwnProperty(v)&&(this[v]=g[v]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=s.WordArray=u.extend({init:function(g,v){g=this.words=g||[],v!=r?this.sigBytes=v:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var v=this.words,S=g.words,x=this.sigBytes,O=g.sigBytes;if(this.clamp(),x%4)for(var T=0;T<O;T++){var E=S[T>>>2]>>>24-T%4*8&255;v[x+T>>>2]|=E<<24-(x+T)%4*8}else for(var M=0;M<O;M+=4)v[x+M>>>2]=S[M>>>2];return this.sigBytes+=O,this},clamp:function(){var g=this.words,v=this.sigBytes;g[v>>>2]&=4294967295<<32-v%4*8,g.length=t.ceil(v/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var v=[],S=0;S<g;S+=4)v.push(o());return new l.init(v,g)}}),c=a.enc={},d=c.Hex={stringify:function(g){for(var v=g.words,S=g.sigBytes,x=[],O=0;O<S;O++){var T=v[O>>>2]>>>24-O%4*8&255;x.push((T>>>4).toString(16)),x.push((T&15).toString(16))}return x.join("")},parse:function(g){for(var v=g.length,S=[],x=0;x<v;x+=2)S[x>>>3]|=parseInt(g.substr(x,2),16)<<24-x%8*4;return new l.init(S,v/2)}},f=c.Latin1={stringify:function(g){for(var v=g.words,S=g.sigBytes,x=[],O=0;O<S;O++){var T=v[O>>>2]>>>24-O%4*8&255;x.push(String.fromCharCode(T))}return x.join("")},parse:function(g){for(var v=g.length,S=[],x=0;x<v;x++)S[x>>>2]|=(g.charCodeAt(x)&255)<<24-x%4*8;return new l.init(S,v)}},p=c.Utf8={stringify:function(g){try{return decodeURIComponent(escape(f.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return f.parse(unescape(encodeURIComponent(g)))}},h=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=p.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var v,S=this._data,x=S.words,O=S.sigBytes,T=this.blockSize,E=T*4,M=O/E;g?M=t.ceil(M):M=t.max((M|0)-this._minBufferSize,0);var A=M*T,j=t.min(A*4,O);if(A){for(var N=0;N<A;N+=T)this._doProcessBlock(x,N);v=x.splice(0,A),S.sigBytes-=j}return new l.init(v,j)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),m=s.Hasher=h.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var v=this._doFinalize();return v},blockSize:512/32,_createHelper:function(g){return function(v,S){return new g.init(S).finalize(v)}},_createHmacHelper:function(g){return function(v,S){return new _.HMAC.init(g,S).finalize(v)}}}),_=a.algo={};return a}(Math);return e})});var F4=b(($X,W_t)=>{(function(e,t){typeof $X=="object"?W_t.exports=$X=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($X,function(e){return function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,a=r.x64={},s=a.Word=o.extend({init:function(l,c){this.high=l,this.low=c}}),u=a.WordArray=o.extend({init:function(l,c){l=this.words=l||[],c!=t?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,d=[],f=0;f<c;f++){var p=l[f];d.push(p.high),d.push(p.low)}return i.create(d,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),c=l.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return l}})}(),e})});var G_t=b((qX,J_t)=>{(function(e,t){typeof qX=="object"?J_t.exports=qX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qX,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,o=n.init,i=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var s=a.byteLength,u=[],l=0;l<s;l++)u[l>>>2]|=a[l]<<24-l%4*8;o.call(this,u,s)}else o.apply(this,arguments)};i.prototype=n}}(),e.lib.WordArray})});var Y_t=b((UX,K_t)=>{(function(e,t){typeof UX=="object"?K_t.exports=UX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(UX,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,i=o.Utf16=o.Utf16BE={stringify:function(s){for(var u=s.words,l=s.sigBytes,c=[],d=0;d<l;d+=2){var f=u[d>>>2]>>>16-d%4*8&65535;c.push(String.fromCharCode(f))}return c.join("")},parse:function(s){for(var u=s.length,l=[],c=0;c<u;c++)l[c>>>1]|=s.charCodeAt(c)<<16-c%2*16;return n.create(l,u*2)}};o.Utf16LE={stringify:function(s){for(var u=s.words,l=s.sigBytes,c=[],d=0;d<l;d+=2){var f=a(u[d>>>2]>>>16-d%4*8&65535);c.push(String.fromCharCode(f))}return c.join("")},parse:function(s){for(var u=s.length,l=[],c=0;c<u;c++)l[c>>>1]|=a(s.charCodeAt(c)<<16-c%2*16);return n.create(l,u*2)}};function a(s){return s<<8&4278255360|s>>>8&16711935}}(),e.enc.Utf16})});var OP=b((zX,Z_t)=>{(function(e,t){typeof zX=="object"?Z_t.exports=zX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zX,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,i=o.Base64={stringify:function(s){var u=s.words,l=s.sigBytes,c=this._map;s.clamp();for(var d=[],f=0;f<l;f+=3)for(var p=u[f>>>2]>>>24-f%4*8&255,h=u[f+1>>>2]>>>24-(f+1)%4*8&255,m=u[f+2>>>2]>>>24-(f+2)%4*8&255,_=p<<16|h<<8|m,g=0;g<4&&f+g*.75<l;g++)d.push(c.charAt(_>>>6*(3-g)&63));var v=c.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(s){var u=s.length,l=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var d=0;d<l.length;d++)c[l.charCodeAt(d)]=d}var f=l.charAt(64);if(f){var p=s.indexOf(f);p!==-1&&(u=p)}return a(s,u,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(s,u,l){for(var c=[],d=0,f=0;f<u;f++)if(f%4){var p=l[s.charCodeAt(f-1)]<<f%4*2,h=l[s.charCodeAt(f)]>>>6-f%4*2,m=p|h;c[d>>>2]|=m<<24-d%4*8,d++}return n.create(c,d)}}(),e.enc.Base64})});var Q_t=b((HX,X_t)=>{(function(e,t){typeof HX=="object"?X_t.exports=HX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(HX,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.enc,i=o.Base64url={stringify:function(s,u){u===void 0&&(u=!0);var l=s.words,c=s.sigBytes,d=u?this._safe_map:this._map;s.clamp();for(var f=[],p=0;p<c;p+=3)for(var h=l[p>>>2]>>>24-p%4*8&255,m=l[p+1>>>2]>>>24-(p+1)%4*8&255,_=l[p+2>>>2]>>>24-(p+2)%4*8&255,g=h<<16|m<<8|_,v=0;v<4&&p+v*.75<c;v++)f.push(d.charAt(g>>>6*(3-v)&63));var S=d.charAt(64);if(S)for(;f.length%4;)f.push(S);return f.join("")},parse:function(s,u){u===void 0&&(u=!0);var l=s.length,c=u?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var p=c.charAt(64);if(p){var h=s.indexOf(p);h!==-1&&(l=h)}return a(s,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(s,u,l){for(var c=[],d=0,f=0;f<u;f++)if(f%4){var p=l[s.charCodeAt(f-1)]<<f%4*2,h=l[s.charCodeAt(f)]>>>6-f%4*2,m=p|h;c[d>>>2]|=m<<24-d%4*8,d++}return n.create(c,d)}}(),e.enc.Base64url})});var EP=b((VX,evt)=>{(function(e,t){typeof VX=="object"?evt.exports=VX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(VX,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[];(function(){for(var p=0;p<64;p++)s[p]=t.abs(t.sin(p+1))*4294967296|0})();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,h){for(var m=0;m<16;m++){var _=h+m,g=p[_];p[_]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var v=this._hash.words,S=p[h+0],x=p[h+1],O=p[h+2],T=p[h+3],E=p[h+4],M=p[h+5],A=p[h+6],j=p[h+7],N=p[h+8],F=p[h+9],k=p[h+10],L=p[h+11],q=p[h+12],U=p[h+13],G=p[h+14],V=p[h+15],D=v[0],z=v[1],W=v[2],J=v[3];D=l(D,z,W,J,S,7,s[0]),J=l(J,D,z,W,x,12,s[1]),W=l(W,J,D,z,O,17,s[2]),z=l(z,W,J,D,T,22,s[3]),D=l(D,z,W,J,E,7,s[4]),J=l(J,D,z,W,M,12,s[5]),W=l(W,J,D,z,A,17,s[6]),z=l(z,W,J,D,j,22,s[7]),D=l(D,z,W,J,N,7,s[8]),J=l(J,D,z,W,F,12,s[9]),W=l(W,J,D,z,k,17,s[10]),z=l(z,W,J,D,L,22,s[11]),D=l(D,z,W,J,q,7,s[12]),J=l(J,D,z,W,U,12,s[13]),W=l(W,J,D,z,G,17,s[14]),z=l(z,W,J,D,V,22,s[15]),D=c(D,z,W,J,x,5,s[16]),J=c(J,D,z,W,A,9,s[17]),W=c(W,J,D,z,L,14,s[18]),z=c(z,W,J,D,S,20,s[19]),D=c(D,z,W,J,M,5,s[20]),J=c(J,D,z,W,k,9,s[21]),W=c(W,J,D,z,V,14,s[22]),z=c(z,W,J,D,E,20,s[23]),D=c(D,z,W,J,F,5,s[24]),J=c(J,D,z,W,G,9,s[25]),W=c(W,J,D,z,T,14,s[26]),z=c(z,W,J,D,N,20,s[27]),D=c(D,z,W,J,U,5,s[28]),J=c(J,D,z,W,O,9,s[29]),W=c(W,J,D,z,j,14,s[30]),z=c(z,W,J,D,q,20,s[31]),D=d(D,z,W,J,M,4,s[32]),J=d(J,D,z,W,N,11,s[33]),W=d(W,J,D,z,L,16,s[34]),z=d(z,W,J,D,G,23,s[35]),D=d(D,z,W,J,x,4,s[36]),J=d(J,D,z,W,E,11,s[37]),W=d(W,J,D,z,j,16,s[38]),z=d(z,W,J,D,k,23,s[39]),D=d(D,z,W,J,U,4,s[40]),J=d(J,D,z,W,S,11,s[41]),W=d(W,J,D,z,T,16,s[42]),z=d(z,W,J,D,A,23,s[43]),D=d(D,z,W,J,F,4,s[44]),J=d(J,D,z,W,q,11,s[45]),W=d(W,J,D,z,V,16,s[46]),z=d(z,W,J,D,O,23,s[47]),D=f(D,z,W,J,S,6,s[48]),J=f(J,D,z,W,j,10,s[49]),W=f(W,J,D,z,G,15,s[50]),z=f(z,W,J,D,M,21,s[51]),D=f(D,z,W,J,q,6,s[52]),J=f(J,D,z,W,T,10,s[53]),W=f(W,J,D,z,k,15,s[54]),z=f(z,W,J,D,x,21,s[55]),D=f(D,z,W,J,N,6,s[56]),J=f(J,D,z,W,V,10,s[57]),W=f(W,J,D,z,A,15,s[58]),z=f(z,W,J,D,U,21,s[59]),D=f(D,z,W,J,E,6,s[60]),J=f(J,D,z,W,L,10,s[61]),W=f(W,J,D,z,O,15,s[62]),z=f(z,W,J,D,F,21,s[63]),v[0]=v[0]+D|0,v[1]=v[1]+z|0,v[2]=v[2]+W|0,v[3]=v[3]+J|0},_doFinalize:function(){var p=this._data,h=p.words,m=this._nDataBytes*8,_=p.sigBytes*8;h[_>>>5]|=128<<24-_%32;var g=t.floor(m/4294967296),v=m;h[(_+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,h[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,p.sigBytes=(h.length+1)*4,this._process();for(var S=this._hash,x=S.words,O=0;O<4;O++){var T=x[O];x[O]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return S},clone:function(){var p=i.clone.call(this);return p._hash=this._hash.clone(),p}});function l(p,h,m,_,g,v,S){var x=p+(h&m|~h&_)+g+S;return(x<<v|x>>>32-v)+h}function c(p,h,m,_,g,v,S){var x=p+(h&_|m&~_)+g+S;return(x<<v|x>>>32-v)+h}function d(p,h,m,_,g,v,S){var x=p+(h^m^_)+g+S;return(x<<v|x>>>32-v)+h}function f(p,h,m,_,g,v,S){var x=p+(m^(h|~_))+g+S;return(x<<v|x>>>32-v)+h}r.MD5=i._createHelper(u),r.HmacMD5=i._createHmacHelper(u)}(Math),e.MD5})});var sCe=b((WX,tvt)=>{(function(e,t){typeof WX=="object"?tvt.exports=WX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(WX,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.Hasher,i=t.algo,a=[],s=i.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,l){for(var c=this._hash.words,d=c[0],f=c[1],p=c[2],h=c[3],m=c[4],_=0;_<80;_++){if(_<16)a[_]=u[l+_]|0;else{var g=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=g<<1|g>>>31}var v=(d<<5|d>>>27)+m+a[_];_<20?v+=(f&p|~f&h)+1518500249:_<40?v+=(f^p^h)+1859775393:_<60?v+=(f&p|f&h|p&h)-1894007588:v+=(f^p^h)-899497514,m=h,h=p,p=f<<30|f>>>2,f=d,d=v}c[0]=c[0]+d|0,c[1]=c[1]+f|0,c[2]=c[2]+p|0,c[3]=c[3]+h|0,c[4]=c[4]+m|0},_doFinalize:function(){var u=this._data,l=u.words,c=this._nDataBytes*8,d=u.sigBytes*8;return l[d>>>5]|=128<<24-d%32,l[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),l[(d+64>>>9<<4)+15]=c,u.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});t.SHA1=o._createHelper(s),t.HmacSHA1=o._createHmacHelper(s)}(),e.SHA1})});var GX=b((JX,rvt)=>{(function(e,t){typeof JX=="object"?rvt.exports=JX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(JX,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[],u=[];(function(){function d(m){for(var _=t.sqrt(m),g=2;g<=_;g++)if(!(m%g))return!1;return!0}function f(m){return(m-(m|0))*4294967296|0}for(var p=2,h=0;h<64;)d(p)&&(h<8&&(s[h]=f(t.pow(p,1/2))),u[h]=f(t.pow(p,1/3)),h++),p++})();var l=[],c=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(d,f){for(var p=this._hash.words,h=p[0],m=p[1],_=p[2],g=p[3],v=p[4],S=p[5],x=p[6],O=p[7],T=0;T<64;T++){if(T<16)l[T]=d[f+T]|0;else{var E=l[T-15],M=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,A=l[T-2],j=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;l[T]=M+l[T-7]+j+l[T-16]}var N=v&S^~v&x,F=h&m^h&_^m&_,k=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),L=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),q=O+L+N+u[T]+l[T],U=k+F;O=x,x=S,S=v,v=g+q|0,g=_,_=m,m=h,h=q+U|0}p[0]=p[0]+h|0,p[1]=p[1]+m|0,p[2]=p[2]+_|0,p[3]=p[3]+g|0,p[4]=p[4]+v|0,p[5]=p[5]+S|0,p[6]=p[6]+x|0,p[7]=p[7]+O|0},_doFinalize:function(){var d=this._data,f=d.words,p=this._nDataBytes*8,h=d.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=t.floor(p/4294967296),f[(h+64>>>9<<4)+15]=p,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=i.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=i._createHelper(c),r.HmacSHA256=i._createHmacHelper(c)}(Math),e.SHA256})});var ovt=b((KX,nvt)=>{(function(e,t,r){typeof KX=="object"?nvt.exports=KX=t(un(),GX()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(KX,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=t.algo,i=o.SHA256,a=o.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=i._doFinalize.call(this);return s.sigBytes-=4,s}});t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a)}(),e.SHA224})});var uCe=b((YX,ivt)=>{(function(e,t,r){typeof YX=="object"?ivt.exports=YX=t(un(),F4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(YX,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,o=t.x64,i=o.Word,a=o.WordArray,s=t.algo;function u(){return i.create.apply(i,arguments)}var l=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],c=[];(function(){for(var f=0;f<80;f++)c[f]=u()})();var d=s.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(f,p){for(var h=this._hash.words,m=h[0],_=h[1],g=h[2],v=h[3],S=h[4],x=h[5],O=h[6],T=h[7],E=m.high,M=m.low,A=_.high,j=_.low,N=g.high,F=g.low,k=v.high,L=v.low,q=S.high,U=S.low,G=x.high,V=x.low,D=O.high,z=O.low,W=T.high,J=T.low,te=E,Ae=M,Z=A,Q=j,ue=N,Me=F,ht=k,we=L,ie=q,ee=U,ge=G,Ue=V,ct=D,Je=z,sr=W,Xr=J,ur=0;ur<80;ur++){var Bt,Bo,Xi=c[ur];if(ur<16)Bo=Xi.high=f[p+ur*2]|0,Bt=Xi.low=f[p+ur*2+1]|0;else{var jo=c[ur-15],Ie=jo.high,Ze=jo.low,lr=(Ie>>>1|Ze<<31)^(Ie>>>8|Ze<<24)^Ie>>>7,Xe=(Ze>>>1|Ie<<31)^(Ze>>>8|Ie<<24)^(Ze>>>7|Ie<<25),Bn=c[ur-2],Qi=Bn.high,ol=Bn.low,Pc=(Qi>>>19|ol<<13)^(Qi<<3|ol>>>29)^Qi>>>6,Pm=(ol>>>19|Qi<<13)^(ol<<3|Qi>>>29)^(ol>>>6|Qi<<26),Tm=c[ur-7],Oa=Tm.high,Wp=Tm.low,Gf=c[ur-16],Jp=Gf.high,hn=Gf.low;Bt=Xe+Wp,Bo=lr+Oa+(Bt>>>0<Xe>>>0?1:0),Bt=Bt+Pm,Bo=Bo+Pc+(Bt>>>0<Pm>>>0?1:0),Bt=Bt+hn,Bo=Bo+Jp+(Bt>>>0<hn>>>0?1:0),Xi.high=Bo,Xi.low=Bt}var nO=ie&ge^~ie&ct,cM=ee&Ue^~ee&Je,oO=te&Z^te&ue^Z&ue,Ea=Ae&Q^Ae&Me^Q&Me,rs=(te>>>28|Ae<<4)^(te<<30|Ae>>>2)^(te<<25|Ae>>>7),ea=(Ae>>>28|te<<4)^(Ae<<30|te>>>2)^(Ae<<25|te>>>7),pd=(ie>>>14|ee<<18)^(ie>>>18|ee<<14)^(ie<<23|ee>>>9),Tc=(ee>>>14|ie<<18)^(ee>>>18|ie<<14)^(ee<<23|ie>>>9),Ba=l[ur],Gd=Ba.high,hd=Ba.low,rn=Xr+Tc,je=sr+pd+(rn>>>0<Xr>>>0?1:0),rn=rn+cM,je=je+nO+(rn>>>0<cM>>>0?1:0),rn=rn+hd,je=je+Gd+(rn>>>0<hd>>>0?1:0),rn=rn+Bt,je=je+Bo+(rn>>>0<Bt>>>0?1:0),md=ea+Ea,Kf=rs+oO+(md>>>0<ea>>>0?1:0);sr=ct,Xr=Je,ct=ge,Je=Ue,ge=ie,Ue=ee,ee=we+rn|0,ie=ht+je+(ee>>>0<we>>>0?1:0)|0,ht=ue,we=Me,ue=Z,Me=Q,Z=te,Q=Ae,Ae=rn+md|0,te=je+Kf+(Ae>>>0<rn>>>0?1:0)|0}M=m.low=M+Ae,m.high=E+te+(M>>>0<Ae>>>0?1:0),j=_.low=j+Q,_.high=A+Z+(j>>>0<Q>>>0?1:0),F=g.low=F+Me,g.high=N+ue+(F>>>0<Me>>>0?1:0),L=v.low=L+we,v.high=k+ht+(L>>>0<we>>>0?1:0),U=S.low=U+ee,S.high=q+ie+(U>>>0<ee>>>0?1:0),V=x.low=V+Ue,x.high=G+ge+(V>>>0<Ue>>>0?1:0),z=O.low=z+Je,O.high=D+ct+(z>>>0<Je>>>0?1:0),J=T.low=J+Xr,T.high=W+sr+(J>>>0<Xr>>>0?1:0)},_doFinalize:function(){var f=this._data,p=f.words,h=this._nDataBytes*8,m=f.sigBytes*8;p[m>>>5]|=128<<24-m%32,p[(m+128>>>10<<5)+30]=Math.floor(h/4294967296),p[(m+128>>>10<<5)+31]=h,f.sigBytes=p.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var f=n.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var svt=b((ZX,avt)=>{(function(e,t,r){typeof ZX=="object"?avt.exports=ZX=t(un(),F4(),uCe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(ZX,function(e){return function(){var t=e,r=t.x64,n=r.Word,o=r.WordArray,i=t.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=16,u}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),e.SHA384})});var lvt=b((XX,uvt)=>{(function(e,t,r){typeof XX=="object"?uvt.exports=XX=t(un(),F4()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(XX,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.x64,s=a.Word,u=r.algo,l=[],c=[],d=[];(function(){for(var h=1,m=0,_=0;_<24;_++){l[h+5*m]=(_+1)*(_+2)/2%64;var g=m%5,v=(2*h+3*m)%5;h=g,m=v}for(var h=0;h<5;h++)for(var m=0;m<5;m++)c[h+5*m]=m+(2*h+3*m)%5*5;for(var S=1,x=0;x<24;x++){for(var O=0,T=0,E=0;E<7;E++){if(S&1){var M=(1<<E)-1;M<32?T^=1<<M:O^=1<<M-32}S&128?S=S<<1^113:S<<=1}d[x]=s.create(O,T)}})();var f=[];(function(){for(var h=0;h<25;h++)f[h]=s.create()})();var p=u.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var h=this._state=[],m=0;m<25;m++)h[m]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(h,m){for(var _=this._state,g=this.blockSize/2,v=0;v<g;v++){var S=h[m+2*v],x=h[m+2*v+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360;var O=_[v];O.high^=x,O.low^=S}for(var T=0;T<24;T++){for(var E=0;E<5;E++){for(var M=0,A=0,j=0;j<5;j++){var O=_[E+5*j];M^=O.high,A^=O.low}var N=f[E];N.high=M,N.low=A}for(var E=0;E<5;E++)for(var F=f[(E+4)%5],k=f[(E+1)%5],L=k.high,q=k.low,M=F.high^(L<<1|q>>>31),A=F.low^(q<<1|L>>>31),j=0;j<5;j++){var O=_[E+5*j];O.high^=M,O.low^=A}for(var U=1;U<25;U++){var M,A,O=_[U],G=O.high,V=O.low,D=l[U];D<32?(M=G<<D|V>>>32-D,A=V<<D|G>>>32-D):(M=V<<D-32|G>>>64-D,A=G<<D-32|V>>>64-D);var z=f[c[U]];z.high=M,z.low=A}var W=f[0],J=_[0];W.high=J.high,W.low=J.low;for(var E=0;E<5;E++)for(var j=0;j<5;j++){var U=E+5*j,O=_[U],te=f[U],Ae=f[(E+1)%5+5*j],Z=f[(E+2)%5+5*j];O.high=te.high^~Ae.high&Z.high,O.low=te.low^~Ae.low&Z.low}var O=_[0],Q=d[T];O.high^=Q.high,O.low^=Q.low}},_doFinalize:function(){var h=this._data,m=h.words,_=this._nDataBytes*8,g=h.sigBytes*8,v=this.blockSize*32;m[g>>>5]|=1<<24-g%32,m[(t.ceil((g+1)/v)*v>>>5)-1]|=128,h.sigBytes=m.length*4,this._process();for(var S=this._state,x=this.cfg.outputLength/8,O=x/8,T=[],E=0;E<O;E++){var M=S[E],A=M.high,j=M.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,T.push(j),T.push(A)}return new o.init(T,x)},clone:function(){for(var h=i.clone.call(this),m=h._state=this._state.slice(0),_=0;_<25;_++)m[_]=m[_].clone();return h}});r.SHA3=i._createHelper(p),r.HmacSHA3=i._createHmacHelper(p)}(Math),e.SHA3})});var dvt=b((QX,cvt)=>{(function(e,t){typeof QX=="object"?cvt.exports=QX=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(QX,function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,O){for(var T=0;T<16;T++){var E=O+T,M=x[E];x[E]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var A=this._hash.words,j=d.words,N=f.words,F=s.words,k=u.words,L=l.words,q=c.words,U,G,V,D,z,W,J,te,Ae,Z;W=U=A[0],J=G=A[1],te=V=A[2],Ae=D=A[3],Z=z=A[4];for(var Q,T=0;T<80;T+=1)Q=U+x[O+F[T]]|0,T<16?Q+=h(G,V,D)+j[0]:T<32?Q+=m(G,V,D)+j[1]:T<48?Q+=_(G,V,D)+j[2]:T<64?Q+=g(G,V,D)+j[3]:Q+=v(G,V,D)+j[4],Q=Q|0,Q=S(Q,L[T]),Q=Q+z|0,U=z,z=D,D=S(V,10),V=G,G=Q,Q=W+x[O+k[T]]|0,T<16?Q+=v(J,te,Ae)+N[0]:T<32?Q+=g(J,te,Ae)+N[1]:T<48?Q+=_(J,te,Ae)+N[2]:T<64?Q+=m(J,te,Ae)+N[3]:Q+=h(J,te,Ae)+N[4],Q=Q|0,Q=S(Q,q[T]),Q=Q+Z|0,W=Z,Z=Ae,Ae=S(te,10),te=J,J=Q;Q=A[1]+V+Ae|0,A[1]=A[2]+D+Z|0,A[2]=A[3]+z+W|0,A[3]=A[4]+U+J|0,A[4]=A[0]+G+te|0,A[0]=Q},_doFinalize:function(){var x=this._data,O=x.words,T=this._nDataBytes*8,E=x.sigBytes*8;O[E>>>5]|=128<<24-E%32,O[(E+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,x.sigBytes=(O.length+1)*4,this._process();for(var M=this._hash,A=M.words,j=0;j<5;j++){var N=A[j];A[j]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return M},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x}});function h(x,O,T){return x^O^T}function m(x,O,T){return x&O|~x&T}function _(x,O,T){return(x|~O)^T}function g(x,O,T){return x&T|O&~T}function v(x,O,T){return x^(O|~T)}function S(x,O){return x<<O|x>>>32-O}r.RIPEMD160=i._createHelper(p),r.HmacRIPEMD160=i._createHmacHelper(p)}(Math),e.RIPEMD160})});var tQ=b((eQ,fvt)=>{(function(e,t){typeof eQ=="object"?fvt.exports=eQ=t(un()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(eQ,function(e){(function(){var t=e,r=t.lib,n=r.Base,o=t.enc,i=o.Utf8,a=t.algo,s=a.HMAC=n.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=i.parse(l));var c=u.blockSize,d=c*4;l.sigBytes>d&&(l=u.finalize(l)),l.clamp();for(var f=this._oKey=l.clone(),p=this._iKey=l.clone(),h=f.words,m=p.words,_=0;_<c;_++)h[_]^=1549556828,m[_]^=909522486;f.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,c=l.finalize(u);l.reset();var d=l.finalize(this._oKey.clone().concat(c));return d}})})()})});var hvt=b((rQ,pvt)=>{(function(e,t,r){typeof rQ=="object"?pvt.exports=rQ=t(un(),GX(),tQ()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(rQ,function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.SHA256,s=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var d=this.cfg,f=s.create(d.hasher,l),p=o.create(),h=o.create([1]),m=p.words,_=h.words,g=d.keySize,v=d.iterations;m.length<g;){var S=f.update(c).finalize(h);f.reset();for(var x=S.words,O=x.length,T=S,E=1;E<v;E++){T=f.finalize(T),f.reset();for(var M=T.words,A=0;A<O;A++)x[A]^=M[A]}p.concat(S),_[0]++}return p.sigBytes=g*4,p}});t.PBKDF2=function(l,c,d){return u.create(d).compute(l,c)}}(),e.PBKDF2})});var qx=b((nQ,mvt)=>{(function(e,t,r){typeof nQ=="object"?mvt.exports=nQ=t(un(),sCe(),tQ()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(nQ,function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,l){for(var c,d=this.cfg,f=d.hasher.create(),p=o.create(),h=p.words,m=d.keySize,_=d.iterations;h.length<m;){c&&f.update(c),c=f.update(u).finalize(l),f.reset();for(var g=1;g<_;g++)c=f.finalize(c),f.reset();p.concat(c)}return p.sigBytes=m*4,p}});t.EvpKDF=function(u,l,c){return s.create(c).compute(u,l)}}(),e.EvpKDF})});var Ku=b((oQ,gvt)=>{(function(e,t,r){typeof oQ=="object"?gvt.exports=oQ=t(un(),qx()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(oQ,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc,u=s.Utf8,l=s.Base64,c=r.algo,d=c.EvpKDF,f=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(N,F){return this.create(this._ENC_XFORM_MODE,N,F)},createDecryptor:function(N,F){return this.create(this._DEC_XFORM_MODE,N,F)},init:function(N,F,k){this.cfg=this.cfg.extend(k),this._xformMode=N,this._key=F,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(N){return this._append(N),this._process()},finalize:function(N){N&&this._append(N);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function N(F){return typeof F=="string"?j:E}return function(F){return{encrypt:function(k,L,q){return N(L).encrypt(F,k,L,q)},decrypt:function(k,L,q){return N(L).decrypt(F,k,L,q)}}}}()}),p=n.StreamCipher=f.extend({_doFinalize:function(){var N=this._process(!0);return N},blockSize:1}),h=r.mode={},m=n.BlockCipherMode=o.extend({createEncryptor:function(N,F){return this.Encryptor.create(N,F)},createDecryptor:function(N,F){return this.Decryptor.create(N,F)},init:function(N,F){this._cipher=N,this._iv=F}}),_=h.CBC=function(){var N=m.extend();N.Encryptor=N.extend({processBlock:function(k,L){var q=this._cipher,U=q.blockSize;F.call(this,k,L,U),q.encryptBlock(k,L),this._prevBlock=k.slice(L,L+U)}}),N.Decryptor=N.extend({processBlock:function(k,L){var q=this._cipher,U=q.blockSize,G=k.slice(L,L+U);q.decryptBlock(k,L),F.call(this,k,L,U),this._prevBlock=G}});function F(k,L,q){var U,G=this._iv;G?(U=G,this._iv=t):U=this._prevBlock;for(var V=0;V<q;V++)k[L+V]^=U[V]}return N}(),g=r.pad={},v=g.Pkcs7={pad:function(N,F){for(var k=F*4,L=k-N.sigBytes%k,q=L<<24|L<<16|L<<8|L,U=[],G=0;G<L;G+=4)U.push(q);var V=i.create(U,L);N.concat(V)},unpad:function(N){var F=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=F}},S=n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:_,padding:v}),reset:function(){var N;f.reset.call(this);var F=this.cfg,k=F.iv,L=F.mode;this._xformMode==this._ENC_XFORM_MODE?N=L.createEncryptor:(N=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==N?this._mode.init(this,k&&k.words):(this._mode=N.call(L,this,k&&k.words),this._mode.__creator=N)},_doProcessBlock:function(N,F){this._mode.processBlock(N,F)},_doFinalize:function(){var N,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),N=this._process(!0)):(N=this._process(!0),F.unpad(N)),N},blockSize:128/32}),x=n.CipherParams=o.extend({init:function(N){this.mixIn(N)},toString:function(N){return(N||this.formatter).stringify(this)}}),O=r.format={},T=O.OpenSSL={stringify:function(N){var F,k=N.ciphertext,L=N.salt;return L?F=i.create([1398893684,1701076831]).concat(L).concat(k):F=k,F.toString(l)},parse:function(N){var F,k=l.parse(N),L=k.words;return L[0]==1398893684&&L[1]==1701076831&&(F=i.create(L.slice(2,4)),L.splice(0,4),k.sigBytes-=16),x.create({ciphertext:k,salt:F})}},E=n.SerializableCipher=o.extend({cfg:o.extend({format:T}),encrypt:function(N,F,k,L){L=this.cfg.extend(L);var q=N.createEncryptor(k,L),U=q.finalize(F),G=q.cfg;return x.create({ciphertext:U,key:k,iv:G.iv,algorithm:N,mode:G.mode,padding:G.padding,blockSize:N.blockSize,formatter:L.format})},decrypt:function(N,F,k,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var q=N.createDecryptor(k,L).finalize(F.ciphertext);return q},_parse:function(N,F){return typeof N=="string"?F.parse(N,this):N}}),M=r.kdf={},A=M.OpenSSL={execute:function(N,F,k,L,q){if(L||(L=i.random(64/8)),q)var U=d.create({keySize:F+k,hasher:q}).compute(N,L);else var U=d.create({keySize:F+k}).compute(N,L);var G=i.create(U.words.slice(F),k*4);return U.sigBytes=F*4,x.create({key:U,iv:G,salt:L})}},j=n.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:A}),encrypt:function(N,F,k,L){L=this.cfg.extend(L);var q=L.kdf.execute(k,N.keySize,N.ivSize,L.salt,L.hasher);L.iv=q.iv;var U=E.encrypt.call(this,N,F,q.key,L);return U.mixIn(q),U},decrypt:function(N,F,k,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var q=L.kdf.execute(k,N.keySize,N.ivSize,F.salt,L.hasher);L.iv=q.iv;var U=E.decrypt.call(this,N,F,q.key,L);return U}})}()})});var bvt=b((iQ,yvt)=>{(function(e,t,r){typeof iQ=="object"?yvt.exports=iQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(iQ,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize;r.call(this,n,o,a,i),this._prevBlock=n.slice(o,o+a)}}),t.Decryptor=t.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=n.slice(o,o+a);r.call(this,n,o,a,i),this._prevBlock=s}});function r(n,o,i,a){var s,u=this._iv;u?(s=u.slice(0),this._iv=void 0):s=this._prevBlock,a.encryptBlock(s,0);for(var l=0;l<i;l++)n[o+l]^=s[l]}return t}(),e.mode.CFB})});var vvt=b((aQ,_vt)=>{(function(e,t,r){typeof aQ=="object"?_vt.exports=aQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(aQ,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=this._iv,u=this._counter;s&&(u=this._counter=s.slice(0),this._iv=void 0);var l=u.slice(0);i.encryptBlock(l,0),u[a-1]=u[a-1]+1|0;for(var c=0;c<a;c++)n[o+c]^=l[c]}});return t.Decryptor=r,t}(),e.mode.CTR})});var Svt=b((sQ,wvt)=>{(function(e,t,r){typeof sQ=="object"?wvt.exports=sQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(sQ,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(i){if((i>>24&255)===255){var a=i>>16&255,s=i>>8&255,u=i&255;a===255?(a=0,s===255?(s=0,u===255?u=0:++u):++s):++a,i=0,i+=a<<16,i+=s<<8,i+=u}else i+=1<<24;return i}function n(i){return(i[0]=r(i[0]))===0&&(i[1]=r(i[1])),i}var o=t.Encryptor=t.extend({processBlock:function(i,a){var s=this._cipher,u=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0),n(c);var d=c.slice(0);s.encryptBlock(d,0);for(var f=0;f<u;f++)i[a+f]^=d[f]}});return t.Decryptor=o,t}(),e.mode.CTRGladman})});var Cvt=b((uQ,xvt)=>{(function(e,t,r){typeof uQ=="object"?xvt.exports=uQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(uQ,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=this._iv,u=this._keystream;s&&(u=this._keystream=s.slice(0),this._iv=void 0),i.encryptBlock(u,0);for(var l=0;l<a;l++)n[o+l]^=u[l]}});return t.Decryptor=r,t}(),e.mode.OFB})});var Evt=b((lQ,Ovt)=>{(function(e,t,r){typeof lQ=="object"?Ovt.exports=lQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(lQ,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var Tvt=b((cQ,Pvt)=>{(function(e,t,r){typeof cQ=="object"?Pvt.exports=cQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(cQ,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,o=r*4,i=o-n%o,a=n+i-1;t.clamp(),t.words[a>>>2]|=i<<24-a%4*8,t.sigBytes+=i},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var Ivt=b((dQ,Mvt)=>{(function(e,t,r){typeof dQ=="object"?Mvt.exports=dQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(dQ,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,o=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var Rvt=b((fQ,Avt)=>{(function(e,t,r){typeof fQ=="object"?Avt.exports=fQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(fQ,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var jvt=b((pQ,Dvt)=>{(function(e,t,r){typeof pQ=="object"?Dvt.exports=pQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(pQ,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var Lvt=b((hQ,Nvt)=>{(function(e,t,r){typeof hQ=="object"?Nvt.exports=hQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(hQ,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var kvt=b((mQ,Fvt)=>{(function(e,t,r){typeof mQ=="object"?Fvt.exports=mQ=t(un(),Ku()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(mQ,function(e){return function(t){var r=e,n=r.lib,o=n.CipherParams,i=r.enc,a=i.Hex,s=r.format,u=s.Hex={stringify:function(l){return l.ciphertext.toString(a)},parse:function(l){var c=a.parse(l);return o.create({ciphertext:c})}}}(),e.format.Hex})});var $vt=b((gQ,Bvt)=>{(function(e,t,r){typeof gQ=="object"?Bvt.exports=gQ=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(gQ,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,o=t.algo,i=[],a=[],s=[],u=[],l=[],c=[],d=[],f=[],p=[],h=[];(function(){for(var g=[],v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(var S=0,x=0,v=0;v<256;v++){var O=x^x<<1^x<<2^x<<3^x<<4;O=O>>>8^O&255^99,i[S]=O,a[O]=S;var T=g[S],E=g[T],M=g[E],A=g[O]*257^O*16843008;s[S]=A<<24|A>>>8,u[S]=A<<16|A>>>16,l[S]=A<<8|A>>>24,c[S]=A;var A=M*16843009^E*65537^T*257^S*16843008;d[O]=A<<24|A>>>8,f[O]=A<<16|A>>>16,p[O]=A<<8|A>>>24,h[O]=A,S?(S=T^g[g[g[M^T]]],x^=g[g[x]]):S=x=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=n.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,S=v.words,x=v.sigBytes/4,O=this._nRounds=x+6,T=(O+1)*4,E=this._keySchedule=[],M=0;M<T;M++)M<x?E[M]=S[M]:(g=E[M-1],M%x?x>6&&M%x==4&&(g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255]):(g=g<<8|g>>>24,g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255],g^=m[M/x|0]<<24),E[M]=E[M-x]^g);for(var A=this._invKeySchedule=[],j=0;j<T;j++){var M=T-j;if(j%4)var g=E[M];else var g=E[M-4];j<4||M<=4?A[j]=g:A[j]=d[i[g>>>24]]^f[i[g>>>16&255]]^p[i[g>>>8&255]]^h[i[g&255]]}}},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._keySchedule,s,u,l,c,i)},decryptBlock:function(g,v){var S=g[v+1];g[v+1]=g[v+3],g[v+3]=S,this._doCryptBlock(g,v,this._invKeySchedule,d,f,p,h,a);var S=g[v+1];g[v+1]=g[v+3],g[v+3]=S},_doCryptBlock:function(g,v,S,x,O,T,E,M){for(var A=this._nRounds,j=g[v]^S[0],N=g[v+1]^S[1],F=g[v+2]^S[2],k=g[v+3]^S[3],L=4,q=1;q<A;q++){var U=x[j>>>24]^O[N>>>16&255]^T[F>>>8&255]^E[k&255]^S[L++],G=x[N>>>24]^O[F>>>16&255]^T[k>>>8&255]^E[j&255]^S[L++],V=x[F>>>24]^O[k>>>16&255]^T[j>>>8&255]^E[N&255]^S[L++],D=x[k>>>24]^O[j>>>16&255]^T[N>>>8&255]^E[F&255]^S[L++];j=U,N=G,F=V,k=D}var U=(M[j>>>24]<<24|M[N>>>16&255]<<16|M[F>>>8&255]<<8|M[k&255])^S[L++],G=(M[N>>>24]<<24|M[F>>>16&255]<<16|M[k>>>8&255]<<8|M[j&255])^S[L++],V=(M[F>>>24]<<24|M[k>>>16&255]<<16|M[j>>>8&255]<<8|M[N&255])^S[L++],D=(M[k>>>24]<<24|M[j>>>16&255]<<16|M[N>>>8&255]<<8|M[F&255])^S[L++];g[v]=U,g[v+1]=G,g[v+2]=V,g[v+3]=D},keySize:256/32});t.AES=n._createHelper(_)}(),e.AES})});var Uvt=b((yQ,qvt)=>{(function(e,t,r){typeof yQ=="object"?qvt.exports=yQ=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(yQ,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=o.extend({_doReset:function(){for(var m=this._key,_=m.words,g=[],v=0;v<56;v++){var S=a[v]-1;g[v]=_[S>>>5]>>>31-S%32&1}for(var x=this._subKeys=[],O=0;O<16;O++){for(var T=x[O]=[],E=u[O],v=0;v<24;v++)T[v/6|0]|=g[(s[v]-1+E)%28]<<31-v%6,T[4+(v/6|0)]|=g[28+(s[v+24]-1+E)%28]<<31-v%6;T[0]=T[0]<<1|T[0]>>>31;for(var v=1;v<7;v++)T[v]=T[v]>>>(v-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var M=this._invSubKeys=[],v=0;v<16;v++)M[v]=x[15-v]},encryptBlock:function(m,_){this._doCryptBlock(m,_,this._subKeys)},decryptBlock:function(m,_){this._doCryptBlock(m,_,this._invSubKeys)},_doCryptBlock:function(m,_,g){this._lBlock=m[_],this._rBlock=m[_+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var v=0;v<16;v++){for(var S=g[v],x=this._lBlock,O=this._rBlock,T=0,E=0;E<8;E++)T|=l[E][((O^S[E])&c[E])>>>0];this._lBlock=O,this._rBlock=x^T}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),m[_]=this._lBlock,m[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(m,_){var g=(this._lBlock>>>m^this._rBlock)&_;this._rBlock^=g,this._lBlock^=g<<m}function p(m,_){var g=(this._rBlock>>>m^this._lBlock)&_;this._lBlock^=g,this._rBlock^=g<<m}t.DES=o._createHelper(d);var h=i.TripleDES=o.extend({_doReset:function(){var m=this._key,_=m.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),S=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(n.create(g)),this._des2=d.createEncryptor(n.create(v)),this._des3=d.createEncryptor(n.create(S))},encryptBlock:function(m,_){this._des1.encryptBlock(m,_),this._des2.decryptBlock(m,_),this._des3.encryptBlock(m,_)},decryptBlock:function(m,_){this._des3.decryptBlock(m,_),this._des2.encryptBlock(m,_),this._des1.decryptBlock(m,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=o._createHelper(h)}(),e.TripleDES})});var Hvt=b((bQ,zvt)=>{(function(e,t,r){typeof bQ=="object"?zvt.exports=bQ=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(bQ,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,i=o.RC4=n.extend({_doReset:function(){for(var u=this._key,l=u.words,c=u.sigBytes,d=this._S=[],f=0;f<256;f++)d[f]=f;for(var f=0,p=0;f<256;f++){var h=f%c,m=l[h>>>2]>>>24-h%4*8&255;p=(p+d[f]+m)%256;var _=d[f];d[f]=d[p],d[p]=_}this._i=this._j=0},_doProcessBlock:function(u,l){u[l]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var u=this._S,l=this._i,c=this._j,d=0,f=0;f<4;f++){l=(l+1)%256,c=(c+u[l])%256;var p=u[l];u[l]=u[c],u[c]=p,d|=u[(u[l]+u[c])%256]<<24-f*8}return this._i=l,this._j=c,d}t.RC4=n._createHelper(i);var s=o.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)a.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4})});var Wvt=b((_Q,Vvt)=>{(function(e,t,r){typeof _Q=="object"?Vvt.exports=_Q=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(_Q,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,i=[],a=[],s=[],u=o.Rabbit=n.extend({_doReset:function(){for(var c=this._key.words,d=this.cfg.iv,f=0;f<4;f++)c[f]=(c[f]<<8|c[f]>>>24)&16711935|(c[f]<<24|c[f]>>>8)&4278255360;var p=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],h=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var f=0;f<4;f++)l.call(this);for(var f=0;f<8;f++)h[f]^=p[f+4&7];if(d){var m=d.words,_=m[0],g=m[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x=v>>>16|S&4294901760,O=S<<16|v&65535;h[0]^=v,h[1]^=x,h[2]^=S,h[3]^=O,h[4]^=v,h[5]^=x,h[6]^=S,h[7]^=O;for(var f=0;f<4;f++)l.call(this)}},_doProcessBlock:function(c,d){var f=this._X;l.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)i[p]=(i[p]<<8|i[p]>>>24)&16711935|(i[p]<<24|i[p]>>>8)&4278255360,c[d+p]^=i[p]},blockSize:128/32,ivSize:64/32});function l(){for(var c=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var p=c[f]+d[f],h=p&65535,m=p>>>16,_=((h*h>>>17)+h*m>>>15)+m*m,g=((p&4294901760)*p|0)+((p&65535)*p|0);s[f]=_^g}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(u)}(),e.Rabbit})});var Gvt=b((vQ,Jvt)=>{(function(e,t,r){typeof vQ=="object"?Jvt.exports=vQ=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(vQ,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,o=t.algo,i=[],a=[],s=[],u=o.RabbitLegacy=n.extend({_doReset:function(){var c=this._key.words,d=this.cfg.iv,f=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],p=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var h=0;h<4;h++)l.call(this);for(var h=0;h<8;h++)p[h]^=f[h+4&7];if(d){var m=d.words,_=m[0],g=m[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x=v>>>16|S&4294901760,O=S<<16|v&65535;p[0]^=v,p[1]^=x,p[2]^=S,p[3]^=O,p[4]^=v,p[5]^=x,p[6]^=S,p[7]^=O;for(var h=0;h<4;h++)l.call(this)}},_doProcessBlock:function(c,d){var f=this._X;l.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)i[p]=(i[p]<<8|i[p]>>>24)&16711935|(i[p]<<24|i[p]>>>8)&4278255360,c[d+p]^=i[p]},blockSize:128/32,ivSize:64/32});function l(){for(var c=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var p=c[f]+d[f],h=p&65535,m=p>>>16,_=((h*h>>>17)+h*m>>>15)+m*m,g=((p&4294901760)*p|0)+((p&65535)*p|0);s[f]=_^g}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(u)}(),e.RabbitLegacy})});var Yvt=b((wQ,Kvt)=>{(function(e,t,r){typeof wQ=="object"?Kvt.exports=wQ=t(un(),OP(),EP(),qx(),Ku()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(wQ,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,o=t.algo;let i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function l(h,m){let _=m>>24&255,g=m>>16&255,v=m>>8&255,S=m&255,x=h.sbox[0][_]+h.sbox[1][g];return x=x^h.sbox[2][v],x=x+h.sbox[3][S],x}function c(h,m,_){let g=m,v=_,S;for(let x=0;x<i;++x)g=g^h.pbox[x],v=l(h,g)^v,S=g,g=v,v=S;return S=g,g=v,v=S,v=v^h.pbox[i],g=g^h.pbox[i+1],{left:g,right:v}}function d(h,m,_){let g=m,v=_,S;for(let x=i+1;x>1;--x)g=g^h.pbox[x],v=l(h,g)^v,S=g,g=v,v=S;return S=g,g=v,v=S,v=v^h.pbox[1],g=g^h.pbox[0],{left:g,right:v}}function f(h,m,_){for(let O=0;O<4;O++){h.sbox[O]=[];for(let T=0;T<256;T++)h.sbox[O][T]=s[O][T]}let g=0;for(let O=0;O<i+2;O++)h.pbox[O]=a[O]^m[g],g++,g>=_&&(g=0);let v=0,S=0,x=0;for(let O=0;O<i+2;O+=2)x=c(h,v,S),v=x.left,S=x.right,h.pbox[O]=v,h.pbox[O+1]=S;for(let O=0;O<4;O++)for(let T=0;T<256;T+=2)x=c(h,v,S),v=x.left,S=x.right,h.sbox[O][T]=v,h.sbox[O][T+1]=S;return!0}var p=o.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var h=this._keyPriorReset=this._key,m=h.words,_=h.sigBytes/4;f(u,m,_)}},encryptBlock:function(h,m){var _=c(u,h[m],h[m+1]);h[m]=_.left,h[m+1]=_.right},decryptBlock:function(h,m){var _=d(u,h[m],h[m+1]);h[m]=_.left,h[m+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var xQ=b((SQ,Zvt)=>{(function(e,t,r){typeof SQ=="object"?Zvt.exports=SQ=t(un(),F4(),G_t(),Y_t(),OP(),Q_t(),EP(),sCe(),GX(),ovt(),uCe(),svt(),lvt(),dvt(),tQ(),hvt(),qx(),Ku(),bvt(),vvt(),Svt(),Cvt(),Evt(),Tvt(),Ivt(),Rvt(),jvt(),Lvt(),kvt(),$vt(),Uvt(),Hvt(),Wvt(),Gvt(),Yvt()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(SQ,function(e){return e})});var zx,n0t=C(()=>{zx=class{constructor(t){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=t.pageContent!==void 0?t.pageContent.toString():"",this.metadata=t.metadata??{},this.id=t.id}}});var Hn=b(rOe=>{"use strict";Object.defineProperty(rOe,"__esModule",{value:!0});rOe.pathToFunc=Cqr;var xqr=Object.prototype.hasOwnProperty;function Cqr(e,t){let r=/\{([a-zA-Z0-9_]+?)\}/g;return function(o={}){return e.replace(r,function(i,a){if(!xqr.call(o,a))throw new Error(`Parameter '${a}' is required`);let s=o[a];if(typeof s!="string"&&typeof s!="number")throw new Error(`Parameter '${a}' must be a string or number`);return t?.charEncoding==="percent"?encodeURIComponent(`${s}`):`${s}`})}}});var mee=b(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.SDK_METADATA=Vh.ServerList=Vh.ServerEu=void 0;Vh.serverURLFromOptions=Eqr;var Oqr=Hn();Vh.ServerEu="eu";Vh.ServerList={[Vh.ServerEu]:"https://api.mistral.ai"};function Eqr(e){let t=e.serverURL,r={};if(!t){let o=e.server??Vh.ServerEu;t=Vh.ServerList[o]||""}let n=(0,Oqr.pathToFunc)(t)(r);return new URL(n)}Vh.SDK_METADATA={language:"typescript",openapiDocVersion:"0.0.2",sdkVersion:"1.5.0",genVersion:"2.497.0",userAgent:"speakeasy-sdk/typescript 1.5.0 2.497.0 0.0.2 @mistralai/mistralai"}});var oOe=b(nOe=>{"use strict";Object.defineProperty(nOe,"__esModule",{value:!0});nOe.readableStreamToArrayBuffer=Pqr;async function Pqr(e){let t=e.getReader(),r=[],n=0,o=!1;for(;!o;){let{value:s,done:u}=await t.read();u?o=!0:(r.push(s),n+=s.length)}let i=new Uint8Array(n),a=0;for(let s of r)i.set(s,a),a+=s.length;return i.buffer}});var nwt=b(gee=>{"use strict";Object.defineProperty(gee,"__esModule",{value:!0});gee.CustomUserAgentHook=void 0;var Tqr=mee(),iOe=class{beforeRequest(t,r){let o=`mistral-client-typescript/${Tqr.SDK_METADATA.sdkVersion}`;return r.headers.set("user-agent",o),r.headers.get("user-agent")||r.headers.set("x-mistral-user-agent",o),r}};gee.CustomUserAgentHook=iOe});var iwt=b(yee=>{"use strict";Object.defineProperty(yee,"__esModule",{value:!0});yee.DeprecationWarningHook=void 0;var owt="x-model-deprecation-timestamp",aOe=class{afterSuccess(t,r){return r.headers.has(owt)&&r.clone().json().then(n=>{let o=n.model;console.warn(`WARNING: The model ${o} is deprecated and will be removed on ${r.headers.get(owt)}. Please refer to https://docs.mistral.ai/getting-started/models/#api-versioning for more information.`)}),r}};yee.DeprecationWarningHook=aOe});var awt=b(sOe=>{"use strict";Object.defineProperty(sOe,"__esModule",{value:!0});sOe.initHooks=Aqr;var Mqr=nwt(),Iqr=iwt();function Aqr(e){let t=new Mqr.CustomUserAgentHook;e.registerBeforeRequestHook(t);let r=new Iqr.DeprecationWarningHook;e.registerAfterSuccessHook(r)}});var swt=b(bee=>{"use strict";Object.defineProperty(bee,"__esModule",{value:!0});bee.SDKHooks=void 0;var Rqr=awt(),uOe=class{constructor(){this.sdkInitHooks=[],this.beforeCreateRequestHooks=[],this.beforeRequestHooks=[],this.afterSuccessHooks=[],this.afterErrorHooks=[];let t=[];for(let r of t)"sdkInit"in r&&this.registerSDKInitHook(r),"beforeCreateRequest"in r&&this.registerBeforeCreateRequestHook(r),"beforeRequest"in r&&this.registerBeforeRequestHook(r),"afterSuccess"in r&&this.registerAfterSuccessHook(r),"afterError"in r&&this.registerAfterErrorHook(r);(0,Rqr.initHooks)(this)}registerSDKInitHook(t){this.sdkInitHooks.push(t)}registerBeforeCreateRequestHook(t){this.beforeCreateRequestHooks.push(t)}registerBeforeRequestHook(t){this.beforeRequestHooks.push(t)}registerAfterSuccessHook(t){this.afterSuccessHooks.push(t)}registerAfterErrorHook(t){this.afterErrorHooks.push(t)}sdkInit(t){return this.sdkInitHooks.reduce((r,n)=>n.sdkInit(r),t)}beforeCreateRequest(t,r){let n=r;for(let o of this.beforeCreateRequestHooks)n=o.beforeCreateRequest(t,n);return n}async beforeRequest(t,r){let n=r;for(let o of this.beforeRequestHooks)n=await o.beforeRequest(t,n);return n}async afterSuccess(t,r){let n=r;for(let o of this.afterSuccessHooks)n=await o.afterSuccess(t,n);return n}async afterError(t,r,n){let o=r,i=n;for(let a of this.afterErrorHooks){let s=await a.afterError(t,o,i);o=s.response,i=s.error}return{response:o,error:i}}};bee.SDKHooks=uOe});var hOe=b(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.ConnectionError=Nf.RequestTimeoutError=Nf.RequestAbortedError=Nf.InvalidRequestError=Nf.UnexpectedClientError=Nf.HTTPClientError=void 0;var $P=class extends Error{constructor(t,r){let n=t;r?.cause&&(n+=`: ${r.cause}`),super(n,r),this.name="HTTPClientError",typeof this.cause>"u"&&(this.cause=r?.cause)}};Nf.HTTPClientError=$P;var lOe=class extends $P{constructor(){super(...arguments),this.name="UnexpectedClientError"}};Nf.UnexpectedClientError=lOe;var cOe=class extends $P{constructor(){super(...arguments),this.name="InvalidRequestError"}};Nf.InvalidRequestError=cOe;var dOe=class extends $P{constructor(){super(...arguments),this.name="RequestAbortedError"}};Nf.RequestAbortedError=dOe;var fOe=class extends $P{constructor(){super(...arguments),this.name="RequestTimeoutError"}};Nf.RequestTimeoutError=fOe;var pOe=class extends $P{constructor(){super(...arguments),this.name="ConnectionError"}};Nf.ConnectionError=pOe});var Wh=b(Sk=>{"use strict";Object.defineProperty(Sk,"__esModule",{value:!0});Sk.OK=Dqr;Sk.ERR=jqr;Sk.unwrap=Nqr;Sk.unwrapAsync=Lqr;function Dqr(e){return{ok:!0,value:e}}function jqr(e){return{ok:!1,error:e}}function Nqr(e){if(!e.ok)throw e.error;return e.value}async function Lqr(e){let t=await e;if(!t.ok)throw t.error;return t.value}});var X4=b(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.getParsedType=li.ZodParsedType=li.objectUtil=li.util=void 0;var mOe;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{let i={};for(let a of o)i[a]=a;return i},e.getValidEnumValues=o=>{let i=e.objectKeys(o).filter(s=>typeof o[o[s]]!="number"),a={};for(let s of i)a[s]=o[s];return e.objectValues(a)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},e.find=(o,i)=>{for(let a of o)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(mOe||(li.util=mOe={}));var uwt;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(uwt||(li.objectUtil=uwt={}));li.ZodParsedType=mOe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var Fqr=e=>{switch(typeof e){case"undefined":return li.ZodParsedType.undefined;case"string":return li.ZodParsedType.string;case"number":return isNaN(e)?li.ZodParsedType.nan:li.ZodParsedType.number;case"boolean":return li.ZodParsedType.boolean;case"function":return li.ZodParsedType.function;case"bigint":return li.ZodParsedType.bigint;case"symbol":return li.ZodParsedType.symbol;case"object":return Array.isArray(e)?li.ZodParsedType.array:e===null?li.ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?li.ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?li.ZodParsedType.map:typeof Set<"u"&&e instanceof Set?li.ZodParsedType.set:typeof Date<"u"&&e instanceof Date?li.ZodParsedType.date:li.ZodParsedType.object;default:return li.ZodParsedType.unknown}};li.getParsedType=Fqr});var _ee=b(qP=>{"use strict";Object.defineProperty(qP,"__esModule",{value:!0});qP.ZodError=qP.quotelessJson=qP.ZodIssueCode=void 0;var lwt=X4();qP.ZodIssueCode=lwt.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var kqr=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");qP.quotelessJson=kqr;var Q4=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},o=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let s=n,u=0;for(;u<a.path.length;){let l=a.path[u];u===a.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(a))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lwt.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};qP.ZodError=Q4;Q4.create=e=>new Q4(e)});var yOe=b(gOe=>{"use strict";Object.defineProperty(gOe,"__esModule",{value:!0});var qR=X4(),rd=_ee(),Bqr=(e,t)=>{let r;switch(e.code){case rd.ZodIssueCode.invalid_type:e.received===qR.ZodParsedType.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case rd.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,qR.util.jsonStringifyReplacer)}`;break;case rd.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${qR.util.joinValues(e.keys,", ")}`;break;case rd.ZodIssueCode.invalid_union:r="Invalid input";break;case rd.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qR.util.joinValues(e.options)}`;break;case rd.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${qR.util.joinValues(e.options)}, received '${e.received}'`;break;case rd.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case rd.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case rd.ZodIssueCode.invalid_date:r="Invalid date";break;case rd.ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:qR.util.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case rd.ZodIssueCode.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case rd.ZodIssueCode.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case rd.ZodIssueCode.custom:r="Invalid input";break;case rd.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case rd.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case rd.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,qR.util.assertNever(e)}return{message:r}};gOe.default=Bqr});var vee=b(jw=>{"use strict";var $qr=jw&&jw.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jw,"__esModule",{value:!0});jw.getErrorMap=jw.setErrorMap=jw.defaultErrorMap=void 0;var cwt=$qr(yOe());jw.defaultErrorMap=cwt.default;var dwt=cwt.default;function qqr(e){dwt=e}jw.setErrorMap=qqr;function Uqr(){return dwt}jw.getErrorMap=Uqr});var _Oe=b(Mo=>{"use strict";var zqr=Mo&&Mo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isAsync=Mo.isValid=Mo.isDirty=Mo.isAborted=Mo.OK=Mo.DIRTY=Mo.INVALID=Mo.ParseStatus=Mo.addIssueToContext=Mo.EMPTY_PATH=Mo.makeIssue=void 0;var Hqr=vee(),fwt=zqr(yOe()),Vqr=e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,i=[...r,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(a,{data:t,defaultError:s}).message;return{...o,path:i,message:s}};Mo.makeIssue=Vqr;Mo.EMPTY_PATH=[];function Wqr(e,t){let r=(0,Hqr.getErrorMap)(),n=(0,Mo.makeIssue)({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===fwt.default?void 0:fwt.default].filter(o=>!!o)});e.common.issues.push(n)}Mo.addIssueToContext=Wqr;var bOe=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return Mo.INVALID;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let i=await o.key,a=await o.value;n.push({key:i,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return Mo.INVALID;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}};Mo.ParseStatus=bOe;Mo.INVALID=Object.freeze({status:"aborted"});var Jqr=e=>({status:"dirty",value:e});Mo.DIRTY=Jqr;var Gqr=e=>({status:"valid",value:e});Mo.OK=Gqr;var Kqr=e=>e.status==="aborted";Mo.isAborted=Kqr;var Yqr=e=>e.status==="dirty";Mo.isDirty=Yqr;var Zqr=e=>e.status==="valid";Mo.isValid=Zqr;var Xqr=e=>typeof Promise<"u"&&e instanceof Promise;Mo.isAsync=Xqr});var hwt=b(pwt=>{"use strict";Object.defineProperty(pwt,"__esModule",{value:!0})});var gwt=b(wee=>{"use strict";Object.defineProperty(wee,"__esModule",{value:!0});wee.errorUtil=void 0;var mwt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(mwt||(wee.errorUtil=mwt={}))});var Twt=b(K=>{"use strict";var xee=K&&K.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},bwt=K&&K.__classPrivateFieldSet||function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},e3,t3;Object.defineProperty(K,"__esModule",{value:!0});K.boolean=K.bigint=K.array=K.any=K.coerce=K.ZodFirstPartyTypeKind=K.late=K.ZodSchema=K.Schema=K.custom=K.ZodReadonly=K.ZodPipeline=K.ZodBranded=K.BRAND=K.ZodNaN=K.ZodCatch=K.ZodDefault=K.ZodNullable=K.ZodOptional=K.ZodTransformer=K.ZodEffects=K.ZodPromise=K.ZodNativeEnum=K.ZodEnum=K.ZodLiteral=K.ZodLazy=K.ZodFunction=K.ZodSet=K.ZodMap=K.ZodRecord=K.ZodTuple=K.ZodIntersection=K.ZodDiscriminatedUnion=K.ZodUnion=K.ZodObject=K.ZodArray=K.ZodVoid=K.ZodNever=K.ZodUnknown=K.ZodAny=K.ZodNull=K.ZodUndefined=K.ZodSymbol=K.ZodDate=K.ZodBoolean=K.ZodBigInt=K.ZodNumber=K.ZodString=K.datetimeRegex=K.ZodType=void 0;K.NEVER=K.void=K.unknown=K.union=K.undefined=K.tuple=K.transformer=K.symbol=K.string=K.strictObject=K.set=K.record=K.promise=K.preprocess=K.pipeline=K.ostring=K.optional=K.onumber=K.oboolean=K.object=K.number=K.nullable=K.null=K.never=K.nativeEnum=K.nan=K.map=K.literal=K.lazy=K.intersection=K.instanceof=K.function=K.enum=K.effect=K.discriminatedUnion=K.date=void 0;var See=vee(),_t=gwt(),X=_Oe(),$e=X4(),Re=_ee(),Gh=class{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ywt=(e,t)=>{if((0,X.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Re.ZodError(e.common.issues);return this._error=r,this._error}}};function vr(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(a,s)=>{var u,l;let{message:c}=e;return a.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:o}}var wr=class{get description(){return this._def.description}_getType(t){return(0,$e.getParsedType)(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:(0,$e.getParsedType)(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new X.ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:(0,$e.getParsedType)(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if((0,X.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:(0,$e.getParsedType)(t)},i=this._parseSync({data:t,path:o.path,parent:o});return ywt(o,i)}"~validate"(t){var r,n;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:(0,$e.getParsedType)(t)};if(!this["~standard"].async)try{let i=this._parseSync({data:t,path:[],parent:o});return(0,X.isValid)(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((n=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(i=>(0,X.isValid)(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:(0,$e.getParsedType)(t)},o=this._parse({data:t,path:n.path,parent:n}),i=await((0,X.isAsync)(o)?o:Promise.resolve(o));return ywt(n,i)}refine(t,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,i)=>{let a=t(o),s=()=>i.addIssue({code:Re.ZodIssueCode.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new Pp({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Jh.create(this,this._def)}nullable(){return Lw.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yx.create(this)}promise(){return HP.create(this,this._def)}or(t){return GR.create([this,t],this._def)}and(t){return KR.create(this,t,this._def)}transform(t){return new Pp({...vr(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new e1({...vr(this._def),innerType:this,defaultValue:r,typeName:Ut.ZodDefault})}brand(){return new r3({typeName:Ut.ZodBranded,type:this,...vr(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new t1({...vr(this._def),innerType:this,catchValue:r,typeName:Ut.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return n3.create(this,t)}readonly(){return r1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};K.ZodType=wr;K.Schema=wr;K.ZodSchema=wr;var Qqr=/^c[^\s-]{8,}$/i,eUr=/^[0-9a-z]+$/,tUr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rUr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nUr=/^[a-z0-9_-]{21}$/i,oUr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iUr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aUr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sUr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vOe,uUr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lUr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cUr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dUr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fUr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pUr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_wt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hUr=new RegExp(`^${_wt}$`);function vwt(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mUr(e){return new RegExp(`^${vwt(e)}$`)}function wwt(e){let t=`${_wt}T${vwt(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}K.datetimeRegex=wwt;function gUr(e,t){return!!((t==="v4"||!t)&&uUr.test(e)||(t==="v6"||!t)&&cUr.test(e))}function yUr(e,t){if(!oUr.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function bUr(e,t){return!!((t==="v4"||!t)&&lUr.test(e)||(t==="v6"||!t)&&dUr.test(e))}var UP=class e extends wr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$e.ZodParsedType.string){let i=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(i,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.string,received:i.parsedType}),X.INVALID}let n=new X.ParseStatus,o;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=t.data.length>i.value,s=t.data.length<i.value;(a||s)&&(o=this._getOrReturnCtx(t,o),a?(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")aUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"email",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vOe||(vOe=new RegExp(sUr,"u")),vOe.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"emoji",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")rUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"uuid",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")nUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"nanoid",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Qqr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"cuid",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")eUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"cuid2",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")tUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"ulid",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"url",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"regex",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?wwt(i).test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?hUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?mUr(i).test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?iUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"duration",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?gUr(t.data,i.version)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"ip",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?yUr(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"jwt",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?bUr(t.data,i.version)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"cidr",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?fUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"base64",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?pUr.test(t.data)||(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{validation:"base64url",code:Re.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):$e.util.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:Re.ZodIssueCode.invalid_string,..._t.errorUtil.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._t.errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._t.errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._t.errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._t.errorUtil.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._t.errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._t.errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._t.errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._t.errorUtil.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._t.errorUtil.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",..._t.errorUtil.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",..._t.errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._t.errorUtil.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",..._t.errorUtil.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,..._t.errorUtil.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,..._t.errorUtil.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",..._t.errorUtil.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,..._t.errorUtil.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,..._t.errorUtil.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,..._t.errorUtil.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,..._t.errorUtil.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,..._t.errorUtil.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,..._t.errorUtil.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,..._t.errorUtil.errToObj(r)})}nonempty(t){return this.min(1,_t.errorUtil.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};K.ZodString=UP;UP.create=e=>{var t;return new UP({checks:[],typeName:Ut.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...vr(e)})};function _Ur(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,i=parseInt(e.toFixed(o).replace(".","")),a=parseInt(t.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}var UR=class e extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$e.ZodParsedType.number){let i=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(i,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.number,received:i.parsedType}),X.INVALID}let n,o=new X.ParseStatus;for(let i of this._def.checks)i.kind==="int"?$e.util.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?_Ur(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.not_finite,message:i.message}),o.dirty()):$e.util.assertNever(i);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.errorUtil.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:_t.errorUtil.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_t.errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.errorUtil.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:_t.errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.errorUtil.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$e.util.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};K.ZodNumber=UR;UR.create=e=>new UR({checks:[],typeName:Ut.ZodNumber,coerce:e?.coerce||!1,...vr(e)});var zR=class e extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==$e.ZodParsedType.bigint)return this._getInvalidInput(t);let n,o=new X.ParseStatus;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):$e.util.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.bigint,received:r.parsedType}),X.INVALID}gte(t,r){return this.setLimit("min",t,!0,_t.errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.errorUtil.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:_t.errorUtil.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.errorUtil.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};K.ZodBigInt=zR;zR.create=e=>{var t;return new zR({checks:[],typeName:Ut.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...vr(e)})};var HR=class extends wr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$e.ZodParsedType.boolean){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.boolean,received:n.parsedType}),X.INVALID}return(0,X.OK)(t.data)}};K.ZodBoolean=HR;HR.create=e=>new HR({typeName:Ut.ZodBoolean,coerce:e?.coerce||!1,...vr(e)});var VR=class e extends wr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$e.ZodParsedType.date){let i=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(i,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.date,received:i.parsedType}),X.INVALID}if(isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(i,{code:Re.ZodIssueCode.invalid_date}),X.INVALID}let n=new X.ParseStatus,o;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),(0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):$e.util.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:_t.errorUtil.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:_t.errorUtil.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};K.ZodDate=VR;VR.create=e=>new VR({checks:[],coerce:e?.coerce||!1,typeName:Ut.ZodDate,...vr(e)});var Ck=class extends wr{_parse(t){if(this._getType(t)!==$e.ZodParsedType.symbol){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.symbol,received:n.parsedType}),X.INVALID}return(0,X.OK)(t.data)}};K.ZodSymbol=Ck;Ck.create=e=>new Ck({typeName:Ut.ZodSymbol,...vr(e)});var WR=class extends wr{_parse(t){if(this._getType(t)!==$e.ZodParsedType.undefined){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.undefined,received:n.parsedType}),X.INVALID}return(0,X.OK)(t.data)}};K.ZodUndefined=WR;WR.create=e=>new WR({typeName:Ut.ZodUndefined,...vr(e)});var JR=class extends wr{_parse(t){if(this._getType(t)!==$e.ZodParsedType.null){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.null,received:n.parsedType}),X.INVALID}return(0,X.OK)(t.data)}};K.ZodNull=JR;JR.create=e=>new JR({typeName:Ut.ZodNull,...vr(e)});var zP=class extends wr{constructor(){super(...arguments),this._any=!0}_parse(t){return(0,X.OK)(t.data)}};K.ZodAny=zP;zP.create=e=>new zP({typeName:Ut.ZodAny,...vr(e)});var Kx=class extends wr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return(0,X.OK)(t.data)}};K.ZodUnknown=Kx;Kx.create=e=>new Kx({typeName:Ut.ZodUnknown,...vr(e)});var Cg=class extends wr{_parse(t){let r=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.never,received:r.parsedType}),X.INVALID}};K.ZodNever=Cg;Cg.create=e=>new Cg({typeName:Ut.ZodNever,...vr(e)});var Ok=class extends wr{_parse(t){if(this._getType(t)!==$e.ZodParsedType.undefined){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.void,received:n.parsedType}),X.INVALID}return(0,X.OK)(t.data)}};K.ZodVoid=Ok;Ok.create=e=>new Ok({typeName:Ut.ZodVoid,...vr(e)});var Yx=class e extends wr{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==$e.ZodParsedType.array)return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.array,received:r.parsedType}),X.INVALID;if(o.exactLength!==null){let a=r.data.length>o.exactLength.value,s=r.data.length<o.exactLength.value;(a||s)&&((0,X.addIssueToContext)(r,{code:a?Re.ZodIssueCode.too_big:Re.ZodIssueCode.too_small,minimum:s?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&((0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&((0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>o.type._parseAsync(new Gh(r,a,r.path,s)))).then(a=>X.ParseStatus.mergeArray(n,a));let i=[...r.data].map((a,s)=>o.type._parseSync(new Gh(r,a,r.path,s)));return X.ParseStatus.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:_t.errorUtil.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:_t.errorUtil.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:_t.errorUtil.toString(r)}})}nonempty(t){return this.min(1,t)}};K.ZodArray=Yx;Yx.create=(e,t)=>new Yx({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...vr(t)});function xk(e){if(e instanceof Lf){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Jh.create(xk(n))}return new Lf({...e._def,shape:()=>t})}else return e instanceof Yx?new Yx({...e._def,type:xk(e.element)}):e instanceof Jh?Jh.create(xk(e.unwrap())):e instanceof Lw?Lw.create(xk(e.unwrap())):e instanceof Nw?Nw.create(e.items.map(t=>xk(t))):e}var Lf=class e extends wr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=$e.util.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==$e.ZodParsedType.object){let l=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(l,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.object,received:l.parsedType}),X.INVALID}let{status:n,ctx:o}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Cg&&this._def.unknownKeys==="strip"))for(let l in o.data)a.includes(l)||s.push(l);let u=[];for(let l of a){let c=i[l],d=o.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Gh(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof Cg){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(l==="strict")s.length>0&&((0,X.addIssueToContext)(o,{code:Re.ZodIssueCode.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=o.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Gh(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>X.ParseStatus.mergeObjectSync(n,l)):X.ParseStatus.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return _t.errorUtil.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i,a,s;let u=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=_t.errorUtil.errToObj(t).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ut.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return $e.util.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return $e.util.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return xk(this)}partial(t){let r={};return $e.util.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return $e.util.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Jh;)i=i._def.innerType;r[n]=i}}),new e({...this._def,shape:()=>r})}keyof(){return Swt($e.util.objectKeys(this.shape))}};K.ZodObject=Lf;Lf.create=(e,t)=>new Lf({shape:()=>e,unknownKeys:"strip",catchall:Cg.create(),typeName:Ut.ZodObject,...vr(t)});Lf.strictCreate=(e,t)=>new Lf({shape:()=>e,unknownKeys:"strict",catchall:Cg.create(),typeName:Ut.ZodObject,...vr(t)});Lf.lazycreate=(e,t)=>new Lf({shape:e,unknownKeys:"strip",catchall:Cg.create(),typeName:Ut.ZodObject,...vr(t)});var GR=class extends wr{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(s=>new Re.ZodError(s.ctx.common.issues));return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_union,unionErrors:a}),X.INVALID}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(o);{let i,a=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=a.map(u=>new Re.ZodError(u));return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_union,unionErrors:s}),X.INVALID}}get options(){return this._def.options}};K.ZodUnion=GR;GR.create=(e,t)=>new GR({options:e,typeName:Ut.ZodUnion,...vr(t)});var Gx=e=>e instanceof YR?Gx(e.schema):e instanceof Pp?Gx(e.innerType()):e instanceof ZR?[e.value]:e instanceof XR?e.options:e instanceof QR?$e.util.objectValues(e.enum):e instanceof e1?Gx(e._def.innerType):e instanceof WR?[void 0]:e instanceof JR?[null]:e instanceof Jh?[void 0,...Gx(e.unwrap())]:e instanceof Lw?[null,...Gx(e.unwrap())]:e instanceof r3||e instanceof r1?Gx(e.unwrap()):e instanceof t1?Gx(e._def.innerType):[],Cee=class e extends wr{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$e.ZodParsedType.object)return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.object,received:r.parsedType}),X.INVALID;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):((0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),X.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let i of r){let a=Gx(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of a){if(o.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);o.set(s,i)}}return new e({typeName:Ut.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...vr(n)})}};K.ZodDiscriminatedUnion=Cee;function wOe(e,t){let r=(0,$e.getParsedType)(e),n=(0,$e.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(r===$e.ZodParsedType.object&&n===$e.ZodParsedType.object){let o=$e.util.objectKeys(t),i=$e.util.objectKeys(e).filter(s=>o.indexOf(s)!==-1),a={...e,...t};for(let s of i){let u=wOe(e[s],t[s]);if(!u.valid)return{valid:!1};a[s]=u.data}return{valid:!0,data:a}}else if(r===$e.ZodParsedType.array&&n===$e.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let i=0;i<e.length;i++){let a=e[i],s=t[i],u=wOe(a,s);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return r===$e.ZodParsedType.date&&n===$e.ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var KR=class extends wr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=(i,a)=>{if((0,X.isAborted)(i)||(0,X.isAborted)(a))return X.INVALID;let s=wOe(i.value,a.value);return s.valid?(((0,X.isDirty)(i)||(0,X.isDirty)(a))&&r.dirty(),{status:r.value,value:s.data}):((0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_intersection_types}),X.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};K.ZodIntersection=KR;KR.create=(e,t,r)=>new KR({left:e,right:t,typeName:Ut.ZodIntersection,...vr(r)});var Nw=class e extends wr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.ZodParsedType.array)return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.array,received:n.parsedType}),X.INVALID;if(n.data.length<this._def.items.length)return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new Gh(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>X.ParseStatus.mergeArray(r,a)):X.ParseStatus.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};K.ZodTuple=Nw;Nw.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nw({items:e,typeName:Ut.ZodTuple,rest:null,...vr(t)})};var Oee=class e extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.ZodParsedType.object)return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.object,received:n.parsedType}),X.INVALID;let o=[],i=this._def.keyType,a=this._def.valueType;for(let s in n.data)o.push({key:i._parse(new Gh(n,s,n.path,s)),value:a._parse(new Gh(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?X.ParseStatus.mergeObjectAsync(r,o):X.ParseStatus.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof wr?new e({keyType:t,valueType:r,typeName:Ut.ZodRecord,...vr(n)}):new e({keyType:UP.create(),valueType:t,typeName:Ut.ZodRecord,...vr(r)})}};K.ZodRecord=Oee;var Ek=class extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.ZodParsedType.map)return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.map,received:n.parsedType}),X.INVALID;let o=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([s,u],l)=>({key:o._parse(new Gh(n,s,n.path,[l,"key"])),value:i._parse(new Gh(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of a){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return X.INVALID;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of a){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return X.INVALID;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};K.ZodMap=Ek;Ek.create=(e,t,r)=>new Ek({valueType:t,keyType:e,typeName:Ut.ZodMap,...vr(r)});var Pk=class e extends wr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.ZodParsedType.set)return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.set,received:n.parsedType}),X.INVALID;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&((0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&((0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function a(u){let l=new Set;for(let c of u){if(c.status==="aborted")return X.INVALID;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new Gh(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>a(u)):a(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:_t.errorUtil.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:_t.errorUtil.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};K.ZodSet=Pk;Pk.create=(e,t)=>new Pk({valueType:e,minSize:null,maxSize:null,typeName:Ut.ZodSet,...vr(t)});var Eee=class e extends wr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$e.ZodParsedType.function)return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.function,received:r.parsedType}),X.INVALID;function n(s,u){return(0,X.makeIssue)({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,See.getErrorMap)(),See.defaultErrorMap].filter(l=>!!l),issueData:{code:Re.ZodIssueCode.invalid_arguments,argumentsError:u}})}function o(s,u){return(0,X.makeIssue)({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,See.getErrorMap)(),See.defaultErrorMap].filter(l=>!!l),issueData:{code:Re.ZodIssueCode.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof HP){let s=this;return(0,X.OK)(async function(...u){let l=new Re.ZodError([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(a,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(o(d,p)),l})})}else{let s=this;return(0,X.OK)(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Re.ZodError([n(u,l.error)]);let c=Reflect.apply(a,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Re.ZodError([o(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Nw.create(t).rest(Kx.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Nw.create([]).rest(Kx.create()),returns:r||Kx.create(),typeName:Ut.ZodFunction,...vr(n)})}};K.ZodFunction=Eee;var YR=class extends wr{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};K.ZodLazy=YR;YR.create=(e,t)=>new YR({getter:e,typeName:Ut.ZodLazy,...vr(t)});var ZR=class extends wr{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(r,{received:r.data,code:Re.ZodIssueCode.invalid_literal,expected:this._def.value}),X.INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}};K.ZodLiteral=ZR;ZR.create=(e,t)=>new ZR({value:e,typeName:Ut.ZodLiteral,...vr(t)});function Swt(e,t){return new XR({values:e,typeName:Ut.ZodEnum,...vr(t)})}var XR=class e extends wr{constructor(){super(...arguments),e3.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return(0,X.addIssueToContext)(r,{expected:$e.util.joinValues(n),received:r.parsedType,code:Re.ZodIssueCode.invalid_type}),X.INVALID}if(xee(this,e3,"f")||bwt(this,e3,new Set(this._def.values),"f"),!xee(this,e3,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return(0,X.addIssueToContext)(r,{received:r.data,code:Re.ZodIssueCode.invalid_enum_value,options:n}),X.INVALID}return(0,X.OK)(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};K.ZodEnum=XR;e3=new WeakMap;XR.create=Swt;var QR=class extends wr{constructor(){super(...arguments),t3.set(this,void 0)}_parse(t){let r=$e.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==$e.ZodParsedType.string&&n.parsedType!==$e.ZodParsedType.number){let o=$e.util.objectValues(r);return(0,X.addIssueToContext)(n,{expected:$e.util.joinValues(o),received:n.parsedType,code:Re.ZodIssueCode.invalid_type}),X.INVALID}if(xee(this,t3,"f")||bwt(this,t3,new Set($e.util.getValidEnumValues(this._def.values)),"f"),!xee(this,t3,"f").has(t.data)){let o=$e.util.objectValues(r);return(0,X.addIssueToContext)(n,{received:n.data,code:Re.ZodIssueCode.invalid_enum_value,options:o}),X.INVALID}return(0,X.OK)(t.data)}get enum(){return this._def.values}};K.ZodNativeEnum=QR;t3=new WeakMap;QR.create=(e,t)=>new QR({values:e,typeName:Ut.ZodNativeEnum,...vr(t)});var HP=class extends wr{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$e.ZodParsedType.promise&&r.common.async===!1)return(0,X.addIssueToContext)(r,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.promise,received:r.parsedType}),X.INVALID;let n=r.parsedType===$e.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,X.OK)(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};K.ZodPromise=HP;HP.create=(e,t)=>new HP({type:e,typeName:Ut.ZodPromise,...vr(t)});var Pp=class extends wr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a=>{(0,X.addIssueToContext)(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let a=o.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async s=>{if(r.value==="aborted")return X.INVALID;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?X.INVALID:u.status==="dirty"||r.value==="dirty"?(0,X.DIRTY)(u.value):u});{if(r.value==="aborted")return X.INVALID;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?X.INVALID:s.status==="dirty"||r.value==="dirty"?(0,X.DIRTY)(s.value):s}}if(o.type==="refinement"){let a=s=>{let u=o.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?X.INVALID:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?X.INVALID:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,X.isValid)(a))return a;let s=o.transform(a.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>(0,X.isValid)(a)?Promise.resolve(o.transform(a.value,i)).then(s=>({status:r.value,value:s})):a);$e.util.assertNever(o)}};K.ZodEffects=Pp;K.ZodTransformer=Pp;Pp.create=(e,t,r)=>new Pp({schema:e,typeName:Ut.ZodEffects,effect:t,...vr(r)});Pp.createWithPreprocess=(e,t,r)=>new Pp({schema:t,effect:{type:"preprocess",transform:e},typeName:Ut.ZodEffects,...vr(r)});var Jh=class extends wr{_parse(t){return this._getType(t)===$e.ZodParsedType.undefined?(0,X.OK)(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};K.ZodOptional=Jh;Jh.create=(e,t)=>new Jh({innerType:e,typeName:Ut.ZodOptional,...vr(t)});var Lw=class extends wr{_parse(t){return this._getType(t)===$e.ZodParsedType.null?(0,X.OK)(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};K.ZodNullable=Lw;Lw.create=(e,t)=>new Lw({innerType:e,typeName:Ut.ZodNullable,...vr(t)});var e1=class extends wr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===$e.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};K.ZodDefault=e1;e1.create=(e,t)=>new e1({innerType:e,typeName:Ut.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vr(t)});var t1=class extends wr{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,X.isAsync)(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Re.ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Re.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};K.ZodCatch=t1;t1.create=(e,t)=>new t1({innerType:e,typeName:Ut.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vr(t)});var Tk=class extends wr{_parse(t){if(this._getType(t)!==$e.ZodParsedType.nan){let n=this._getOrReturnCtx(t);return(0,X.addIssueToContext)(n,{code:Re.ZodIssueCode.invalid_type,expected:$e.ZodParsedType.nan,received:n.parsedType}),X.INVALID}return{status:"valid",value:t.data}}};K.ZodNaN=Tk;Tk.create=e=>new Tk({typeName:Ut.ZodNaN,...vr(e)});K.BRAND=Symbol("zod_brand");var r3=class extends wr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};K.ZodBranded=r3;var n3=class e extends wr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?X.INVALID:i.status==="dirty"?(r.dirty(),(0,X.DIRTY)(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?X.INVALID:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:Ut.ZodPipeline})}};K.ZodPipeline=n3;var r1=class extends wr{_parse(t){let r=this._def.innerType._parse(t),n=o=>((0,X.isValid)(o)&&(o.value=Object.freeze(o.value)),o);return(0,X.isAsync)(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};K.ZodReadonly=r1;r1.create=(e,t)=>new r1({innerType:e,typeName:Ut.ZodReadonly,...vr(t)});function xwt(e,t={},r){return e?zP.create().superRefine((n,o)=>{var i,a;if(!e(n)){let s=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(a=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,l=typeof s=="string"?{message:s}:s;o.addIssue({code:"custom",...l,fatal:u})}}):zP.create()}K.custom=xwt;K.late={object:Lf.lazycreate};var Ut;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ut||(K.ZodFirstPartyTypeKind=Ut={}));var vUr=(e,t={message:`Input not instance of ${e.name}`})=>xwt(r=>r instanceof e,t);K.instanceof=vUr;var Cwt=UP.create;K.string=Cwt;var Owt=UR.create;K.number=Owt;var wUr=Tk.create;K.nan=wUr;var SUr=zR.create;K.bigint=SUr;var Ewt=HR.create;K.boolean=Ewt;var xUr=VR.create;K.date=xUr;var CUr=Ck.create;K.symbol=CUr;var OUr=WR.create;K.undefined=OUr;var EUr=JR.create;K.null=EUr;var PUr=zP.create;K.any=PUr;var TUr=Kx.create;K.unknown=TUr;var MUr=Cg.create;K.never=MUr;var IUr=Ok.create;K.void=IUr;var AUr=Yx.create;K.array=AUr;var RUr=Lf.create;K.object=RUr;var DUr=Lf.strictCreate;K.strictObject=DUr;var jUr=GR.create;K.union=jUr;var NUr=Cee.create;K.discriminatedUnion=NUr;var LUr=KR.create;K.intersection=LUr;var FUr=Nw.create;K.tuple=FUr;var kUr=Oee.create;K.record=kUr;var BUr=Ek.create;K.map=BUr;var $Ur=Pk.create;K.set=$Ur;var qUr=Eee.create;K.function=qUr;var UUr=YR.create;K.lazy=UUr;var zUr=ZR.create;K.literal=zUr;var HUr=XR.create;K.enum=HUr;var VUr=QR.create;K.nativeEnum=VUr;var WUr=HP.create;K.promise=WUr;var Pwt=Pp.create;K.effect=Pwt;K.transformer=Pwt;var JUr=Jh.create;K.optional=JUr;var GUr=Lw.create;K.nullable=GUr;var KUr=Pp.createWithPreprocess;K.preprocess=KUr;var YUr=n3.create;K.pipeline=YUr;var ZUr=()=>Cwt().optional();K.ostring=ZUr;var XUr=()=>Owt().optional();K.onumber=XUr;var QUr=()=>Ewt().optional();K.oboolean=QUr;K.coerce={string:e=>UP.create({...e,coerce:!0}),number:e=>UR.create({...e,coerce:!0}),boolean:e=>HR.create({...e,coerce:!0}),bigint:e=>zR.create({...e,coerce:!0}),date:e=>VR.create({...e,coerce:!0})};K.NEVER=X.INVALID});var SOe=b(Kh=>{"use strict";var ezr=Kh&&Kh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mk=Kh&&Kh.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ezr(t,e,r)};Object.defineProperty(Kh,"__esModule",{value:!0});Mk(vee(),Kh);Mk(_Oe(),Kh);Mk(hwt(),Kh);Mk(X4(),Kh);Mk(Twt(),Kh);Mk(_ee(),Kh)});var me=b(Ff=>{"use strict";var Mwt=Ff&&Ff.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tzr=Ff&&Ff.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rzr=Ff&&Ff.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Mwt(t,e,r);return tzr(t,e),t},nzr=Ff&&Ff.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mwt(t,e,r)};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.z=void 0;var Iwt=rzr(SOe());Ff.z=Iwt;nzr(SOe(),Ff);Ff.default=Iwt});var OOe=b(xl=>{"use strict";var ozr=xl&&xl.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),izr=xl&&xl.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),azr=xl&&xl.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ozr(t,e,r);return izr(t,e),t};Object.defineProperty(xl,"__esModule",{value:!0});xl.zodInbound=xl.zodOutbound=void 0;xl.bytesToBase64=Awt;xl.bytesFromBase64=xOe;xl.stringToBytes=COe;xl.stringFromBytes=Rwt;xl.stringToBase64=szr;xl.stringFromBase64=uzr;var Pee=azr(me());function Awt(e){return btoa(String.fromCodePoint(...e))}function xOe(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}function COe(e){return new TextEncoder().encode(e)}function Rwt(e){return new TextDecoder().decode(e)}function szr(e){return Awt(COe(e))}function uzr(e){return Rwt(xOe(e))}xl.zodOutbound=Pee.instanceof(Uint8Array).or(Pee.string().transform(COe));xl.zodInbound=Pee.instanceof(Uint8Array).or(Pee.string().transform(xOe))});var POe=b(EOe=>{"use strict";Object.defineProperty(EOe,"__esModule",{value:!0});EOe.isPlainObject=lzr;function lzr(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}});var vo=b(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.encodeDeepObjectQuery=On.encodePipeDelimitedQuery=On.encodeSpaceDelimitedQuery=On.encodeFormQuery=On.encodeJSONQuery=On.encodeSimple=On.encodePipeDelimited=On.encodeSpaceDelimited=On.encodeForm=On.EncodingError=void 0;On.encodeMatrix=czr;On.encodeLabel=dzr;On.encodeBodyForm=fzr;On.encodeDeepObject=jwt;On.encodeDeepObjectObject=MOe;On.encodeJSON=Nwt;On.queryJoin=Lwt;On.queryEncoder=Ak;On.appendForm=hzr;var Dwt=OOe(),Og=POe(),o3=class extends Error{constructor(t){super(t),this.name="EncodingError"}};On.EncodingError=o3;function czr(e,t,r){let n="",o=r?.explode?i3(e,t):[[e,t]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(Ik(s));return o.forEach(([s,u])=>{let l="",c=null;if(u==null||(Array.isArray(u)?c=a3(u,f=>`${a(f)}`)?.join(","):(0,Og.isPlainObject)(u)?c=Mee(Object.entries(u),([p,h])=>`,${i(p)},${a(h)}`)?.join("").slice(1):c=`${a(u)}`,c==null))return;let d=i(s);l=`${d}=${c}`,l===`${d}=`&&(l=l.slice(0,-1)),l&&(n+=`;${l}`)}),n}function dzr(e,t,r){let n="",o=r?.explode?i3(e,t):[[e,t]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(Ik(s));return o.forEach(([s,u])=>{let l="";u!=null&&(Array.isArray(u)?l=a3(u,c=>`${a(c)}`)?.join("."):(0,Og.isPlainObject)(u)?l=Mee(Object.entries(u),([d,f])=>`.${i(d)}.${a(f)}`)?.join("").slice(1):l=`${r?.explode&&(0,Og.isPlainObject)(t)?`${i(s)}=`:""}${a(u)}`,n+=l==null?"":`.${l}`)}),n}function TOe(e){return(t,r,n)=>{let o="",i=n?.explode?i3(t,r):[[t,r]];if(i.every(([l,c])=>c==null))return;let a=l=>n?.charEncoding==="percent"?encodeURIComponent(l):l,s=l=>a(Ik(l)),u=a(e);return i.forEach(([l,c])=>{let d="",f=null;c!=null&&(Array.isArray(c)?f=a3(c,p=>`${s(p)}`)?.join(u):(0,Og.isPlainObject)(c)?f=Mee(Object.entries(c),([p,h])=>`${a(p)}${u}${s(h)}`)?.join(u):f=`${s(c)}`,f!=null&&(d=`${a(l)}=${f}`,!(!d||d==="=")&&(o+=`&${d}`)))}),o.slice(1)}}On.encodeForm=TOe(",");On.encodeSpaceDelimited=TOe(" ");On.encodePipeDelimited=TOe("|");function fzr(e,t,r){let n="",o=r?.explode?i3(e,t):[[e,t]],i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(Ik(s));return o.forEach(([s,u])=>{let l="",c="";u!=null&&(Array.isArray(u)||(0,Og.isPlainObject)(u)?c=JSON.stringify(u,Tee):c=`${a(u)}`,l=`${i(s)}=${c}`,!(!l||l==="=")&&(n+=`&${l}`))}),n.slice(1)}function jwt(e,t,r){if(t!=null){if(!(0,Og.isPlainObject)(t))throw new o3(`Value of parameter '${e}' which uses deepObject encoding must be an object or null`);return MOe(e,t,r)}}function MOe(e,t,r){if(t==null)return;let n="",o=i=>r?.charEncoding==="percent"?encodeURIComponent(i):i;if(!(0,Og.isPlainObject)(t))throw new o3(`Expected parameter '${e}' to be an object.`);return Object.entries(t).forEach(([i,a])=>{if(a==null)return;let s=`${e}[${i}]`;if((0,Og.isPlainObject)(a)){let c=MOe(s,a,r);n+=c==null?"":`&${c}`;return}let u=Array.isArray(a)?a:[a],l=a3(u,c=>`${o(s)}=${o(Ik(c))}`)?.join("&");n+=l==null?"":`&${l}`}),n.slice(1)}function Nwt(e,t,r){if(typeof t>"u")return;let n=i=>r?.charEncoding==="percent"?encodeURIComponent(i):i,o=n(JSON.stringify(t,Tee));return r?.explode?o:`${n(e)}=${o}`}var pzr=(e,t,r)=>{let n="",o=r?.explode?i3(e,t):[[e,t]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(Ik(s));return o.forEach(([s,u])=>{let l="";u!=null&&(Array.isArray(u)?l=a3(u,c=>`${a(c)}`)?.join(","):(0,Og.isPlainObject)(u)?l=Mee(Object.entries(u),([d,f])=>`,${i(d)},${a(f)}`)?.join("").slice(1):l=`${r?.explode&&(0,Og.isPlainObject)(t)?`${s}=`:""}${a(u)}`,n+=l?`,${l}`:"")}),n.slice(1)};On.encodeSimple=pzr;function i3(e,t){return Array.isArray(t)?t.map(r=>[e,r]):(0,Og.isPlainObject)(t)?Object.entries(t??{}).map(([n,o])=>[n,o]):[[e,t]]}function Ik(e){return e==null?"":e instanceof Date?e.toISOString():e instanceof Uint8Array?(0,Dwt.bytesToBase64)(e):typeof e=="object"?JSON.stringify(e,Tee):`${e}`}function Tee(e,t){return t instanceof Uint8Array?(0,Dwt.bytesToBase64)(t):t}function a3(e,t){let r=e.reduce((n,o)=>{if(o==null)return n;let i=t(o);return i==null||n.push(i),n},[]);return r.length?r:null}function Mee(e,t){let r=[];for(let[n,o]of e){if(o==null)continue;let i=t([n,o]);i!=null&&r.push(i)}return r.length?r:null}function Lwt(...e){return e.filter(Boolean).join("&")}function Ak(e){return function(r,n){let o={...n,explode:n?.explode??!0,charEncoding:n?.charEncoding??"percent"},i=Object.entries(r).map(([a,s])=>e(a,s,o));return Lwt(...i)}}On.encodeJSONQuery=Ak(Nwt);On.encodeFormQuery=Ak(On.encodeForm);On.encodeSpaceDelimitedQuery=Ak(On.encodeSpaceDelimited);On.encodePipeDelimitedQuery=Ak(On.encodePipeDelimited);On.encodeDeepObjectQuery=Ak(jwt);function hzr(e,t,r,n){r!=null&&(r instanceof Blob&&n?e.append(t,r,n):r instanceof Blob?e.append(t,r):e.append(t,String(r)))}});var Fwt=b(IOe=>{"use strict";Object.defineProperty(IOe,"__esModule",{value:!0});IOe.dlv=mzr;function mzr(e,t,r,n,o){for(t=Array.isArray(t)?t:t.split("."),n=0;n<t.length;n++){let i=t[n];e=i!=null&&e?e[i]:o}return e===o?r:e}});var ROe=b(Tp=>{"use strict";var gzr=Tp&&Tp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yzr=Tp&&Tp.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bzr=Tp&&Tp.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gzr(t,e,r);return yzr(t,e),t};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.envSchema=void 0;Tp.env=_zr;Tp.resetEnv=vzr;var kwt=Fwt(),AOe=bzr(me());Tp.envSchema=AOe.object({MISTRAL_API_KEY:AOe.string().optional(),MISTRAL_DEBUG:AOe.coerce.boolean().optional()});var s3;function _zr(){return s3||(s3=Tp.envSchema.parse((0,kwt.dlv)(globalThis,"process.env")??(0,kwt.dlv)(globalThis,"Deno.env")??{}),s3)}function vzr(){s3=void 0}});var u3=b(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.HTTPClient=void 0;Fw.matchContentType=$wt;Fw.matchStatusCode=qwt;Fw.matchResponse=xzr;Fw.isConnectionError=Czr;Fw.isTimeoutError=Ozr;Fw.isAbortError=Ezr;var wzr=(e,t)=>t==null?fetch(e):fetch(e,t),DOe=class e{constructor(t={}){this.options=t,this.requestHooks=[],this.requestErrorHooks=[],this.responseHooks=[],this.fetcher=t.fetcher||wzr}async request(t){let r=t;for(let n of this.requestHooks){let o=await n(r);o&&(r=o)}try{let n=await this.fetcher(r);for(let o of this.responseHooks)await o(n,r);return n}catch(n){for(let o of this.requestErrorHooks)await o(n,r);throw n}}addHook(...t){if(t[0]==="beforeRequest")this.requestHooks.push(t[1]);else if(t[0]==="requestError")this.requestErrorHooks.push(t[1]);else if(t[0]==="response")this.responseHooks.push(t[1]);else throw new Error(`Invalid hook type: ${t[0]}`);return this}removeHook(...t){let r;if(t[0]==="beforeRequest")r=this.requestHooks;else if(t[0]==="requestError")r=this.requestErrorHooks;else if(t[0]==="response")r=this.responseHooks;else throw new Error(`Invalid hook type: ${t[0]}`);let n=r.findIndex(o=>o===t[1]);return n>=0&&r.splice(n,1),this}clone(){let t=new e(this.options);return t.requestHooks=this.requestHooks.slice(),t.requestErrorHooks=this.requestErrorHooks.slice(),t.responseHooks=this.responseHooks.slice(),t}};Fw.HTTPClient=DOe;var Bwt=/\s*;\s*/g;function $wt(e,t){if(t==="*")return!0;let r=e.headers.get("content-type")?.trim()||"application/octet-stream";r=r.toLowerCase();let n=t.toLowerCase().trim().split(Bwt),[o="",...i]=n;if(o.split("/").length!==2)return!1;let a=r.split(Bwt),[s="",...u]=a,[l="",c=""]=s.split("/");if(!l||!c||o!=="*/*"&&s!==o&&`${l}/*`!==o&&`*/${c}`!==o||u.length<i.length)return!1;let d=new Set(u);for(let f of i)if(!d.has(f))return!1;return!0}var Szr=new RegExp("^[0-9]xx$","i");function qwt(e,t){let r=`${e.status}`,n=Array.isArray(t)?t:[t];return n.length?n.some(o=>{let i=`${o}`;if(i==="default")return!0;if(!Szr.test(`${i}`))return i===r;let a=i.charAt(0);if(!a)throw new Error("Invalid status code range");let s=r.charAt(0);if(!s)throw new Error(`Invalid response status code: ${r}`);return s===a}):!1}function xzr(e,t,r){return qwt(e,t)&&$wt(e,r)}function Czr(e){if(typeof e!="object"||e==null)return!1;let t=e instanceof TypeError&&e.message.toLowerCase().startsWith("failed to fetch"),r=e instanceof TypeError&&e.message.toLowerCase().startsWith("fetch failed"),n="name"in e&&e.name==="ConnectionError",o="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnreset";return t||r||o||n}function Ozr(e){if(typeof e!="object"||e==null)return!1;let t="name"in e&&e.name==="TimeoutError",r="code"in e&&e.code===23,n="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnaborted";return t||r||n}function Ezr(e){if(typeof e!="object"||e==null)return!1;let t="name"in e&&e.name==="AbortError",r="code"in e&&e.code===20,n="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnaborted";return t||r||n}});var zwt=b(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.TemporaryError=o1.PermanentError=void 0;o1.retry=Tzr;var Uwt=u3(),Pzr={initialInterval:500,maxInterval:6e4,exponent:1.5,maxElapsedTime:36e5},l3=class e extends Error{constructor(t,r){let n=t;r?.cause&&(n+=`: ${r.cause}`),super(n,r),this.name="PermanentError",typeof this.cause>"u"&&(this.cause=r?.cause),Object.setPrototypeOf(this,e.prototype)}};o1.PermanentError=l3;var n1=class e extends Error{constructor(t,r){super(t),this.response=r,this.name="TemporaryError",Object.setPrototypeOf(this,e.prototype)}};o1.TemporaryError=n1;async function Tzr(e,t){switch(t.config.strategy){case"backoff":return Rzr(Mzr(e,{statusCodes:t.statusCodes,retryConnectionErrors:!!t.config.retryConnectionErrors}),t.config.backoff??Pzr);default:return await e()}}function Mzr(e,t){return async()=>{try{let r=await e();if(Azr(r,t.statusCodes))throw new n1("Response failed with retryable status code",r);return r}catch(r){throw r instanceof n1||t.retryConnectionErrors&&((0,Uwt.isTimeoutError)(r)||(0,Uwt.isConnectionError)(r))?r:new l3("Permanent error",{cause:r})}}}var Izr=new RegExp("^[0-9]xx$","i");function Azr(e,t){let r=`${e.status}`;return t.some(n=>{if(!Izr.test(n))return n===r;let o=n.charAt(0);if(!o)throw new Error("Invalid status code range");let i=r.charAt(0);if(!i)throw new Error(`Invalid response status code: ${r}`);return i===o})}async function Rzr(e,t){let{maxElapsedTime:r,initialInterval:n,exponent:o,maxInterval:i}=t,a=Date.now(),s=0;for(;;)try{return await e()}catch(u){if(u instanceof l3)throw u.cause;if(Date.now()-a>r){if(u instanceof n1)return u.response;throw u}let c=0;u instanceof n1&&(c=Dzr(u.response)),c<=0&&(c=n*Math.pow(s,o)+Math.random()*1e3);let d=Math.min(c,i);await jzr(d),s++}}function Dzr(e){let t=e.headers.get("retry-after")||"";if(!t)return 0;let r=Number(t);if(Number.isInteger(r))return r*1e3;let n=Date.parse(t);if(Number.isInteger(n)){let o=n-Date.now();return o>0?Math.ceil(o):0}return 0}async function jzr(e){return new Promise(t=>setTimeout(t,e))}});var Mp=b(WP=>{"use strict";var c3=WP&&WP.__classPrivateFieldSet||function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Yh=WP&&WP.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Aee,kw,Zx;Object.defineProperty(WP,"__esModule",{value:!0});WP.ClientSDK=void 0;var Hwt=swt(),Rk=hOe(),VP=Wh(),Nzr=OOe(),Vwt=mee(),Lzr=vo(),Fzr=ROe(),Xx=u3(),kzr=zwt(),Iee=typeof globalThis>"u"?null:globalThis,Bzr=typeof Iee=="object"&&Iee!=null&&"importScripts"in Iee&&typeof Iee.importScripts=="function",$zr=Bzr||typeof navigator<"u"&&"serviceWorker"in navigator||typeof window=="object"&&typeof window.document<"u",jOe=class{constructor(t={}){Aee.set(this,void 0),kw.set(this,void 0),Zx.set(this,void 0);let r=t;typeof r=="object"&&r!=null&&"hooks"in r&&r.hooks instanceof Hwt.SDKHooks?c3(this,kw,r.hooks,"f"):c3(this,kw,new Hwt.SDKHooks,"f"),this._options={...t,hooks:Yh(this,kw,"f")};let n=(0,Vwt.serverURLFromOptions)(t);n&&(n.pathname=n.pathname.replace(/\/+$/,"")+"/");let{baseURL:o,client:i}=Yh(this,kw,"f").sdkInit({baseURL:n,client:t.httpClient||new Xx.HTTPClient});this._baseURL=o,c3(this,Aee,i,"f"),c3(this,Zx,t.debugLogger,"f"),!Yh(this,Zx,"f")&&(0,Fzr.env)().MISTRAL_DEBUG&&c3(this,Zx,console,"f")}_createRequest(t,r,n){let{method:o,path:i,query:a,headers:s,security:u}=r,l=r.baseURL??this._baseURL;if(!l)return(0,VP.ERR)(new Rk.InvalidRequestError("No base URL provided for operation"));let c=new URL(l),d=new URL(i,c);i&&(c.pathname+=c.pathname.endsWith("/")?"":"/",c.pathname+=d.pathname.replace(/^\/+/,""));let f=a||"",p=[];for(let[T,E]of Object.entries(u?.queryParams||{})){let M=(0,Lzr.encodeForm)(T,E,{charEncoding:"percent"});typeof M<"u"&&p.push(M)}if(p.length&&(f+=`&${p.join("&")}`),f){let T=f.startsWith("&")?f.slice(1):f;c.search=`?${T}`}let h=new Headers(s),m=u?.basic.username,_=u?.basic.password;if(m!=null||_!=null){let T=(0,Nzr.stringToBase64)([m||"",_||""].join(":"));h.set("Authorization",`Basic ${T}`)}let g=new Headers(u?.headers||{});for(let[T,E]of g)h.set(T,E);let v=h.get("cookie")||"";for(let[T,E]of Object.entries(u?.cookies||{}))v+=`; ${T}=${E}`;v=v.startsWith("; ")?v.slice(2):v,h.set("cookie",v);let S=new Headers(n?.fetchOptions?.headers);for(let[T,E]of S)h.set(T,E);$zr||h.set(r.uaHeader??"user-agent",Vwt.SDK_METADATA.userAgent);let x=n?.fetchOptions;if(!x?.signal&&r.timeoutMs&&r.timeoutMs>0){let T=AbortSignal.timeout(r.timeoutMs);x?x.signal=T:x={signal:T}}r.body instanceof ReadableStream&&(x?x.duplex="half":x={duplex:"half"});let O;try{O=Yh(this,kw,"f").beforeCreateRequest(t,{url:c,options:{...x,body:r.body??null,headers:h,method:o}})}catch(T){return(0,VP.ERR)(new Rk.UnexpectedClientError("Create request hook failed to execute",{cause:T}))}return(0,VP.OK)(new Request(O.url,O.options))}async _do(t,r){let{context:n,errorCodes:o}=r;return(0,kzr.retry)(async()=>{let i=await Yh(this,kw,"f").beforeRequest(n,t.clone());await qzr(Yh(this,Zx,"f"),i).catch(s=>Yh(this,Zx,"f")?.log("Failed to log request:",s));let a=await Yh(this,Aee,"f").request(i);try{if((0,Xx.matchStatusCode)(a,o)){let s=await Yh(this,kw,"f").afterError(n,a,null);if(s.error)throw s.error;a=s.response||a}else a=await Yh(this,kw,"f").afterSuccess(n,a)}finally{await Uzr(Yh(this,Zx,"f"),a,i).catch(s=>Yh(this,Zx,"f")?.log("Failed to log response:",s))}return a},{config:r.retryConfig,statusCodes:r.retryCodes}).then(i=>(0,VP.OK)(i),i=>{switch(!0){case(0,Xx.isAbortError)(i):return(0,VP.ERR)(new Rk.RequestAbortedError("Request aborted by client",{cause:i}));case(0,Xx.isTimeoutError)(i):return(0,VP.ERR)(new Rk.RequestTimeoutError("Request timed out",{cause:i}));case(0,Xx.isConnectionError)(i):return(0,VP.ERR)(new Rk.ConnectionError("Unable to make request",{cause:i}));default:return(0,VP.ERR)(new Rk.UnexpectedClientError("Unexpected HTTP client error",{cause:i}))}})}};WP.ClientSDK=jOe;Aee=new WeakMap,kw=new WeakMap,Zx=new WeakMap;var Wwt=/^application\/(?:.{0,100}\+)?json/;async function qzr(e,t){if(!e)return;let r=t.headers.get("content-type"),n=r?.split(";")[0]||"";e.group(`> Request: ${t.method} ${t.url}`),e.group("Headers:");for(let[o,i]of t.headers.entries())e.log(`${o}: ${i}`);switch(e.groupEnd(),e.group("Body:"),!0){case Wwt.test(n):e.log(await t.clone().json());break;case n.startsWith("text/"):e.log(await t.clone().text());break;case n==="multipart/form-data":{let o=await t.clone().formData();for(let[i,a]of o){let s=a instanceof Blob?"<Blob>":a;e.log(`${i}: ${s}`)}break}default:e.log(`<${r}>`);break}e.groupEnd(),e.groupEnd()}async function Uzr(e,t,r){if(!e)return;let n=t.headers.get("content-type"),o=n?.split(";")[0]||"";e.group(`< Response: ${r.method} ${r.url}`),e.log("Status Code:",t.status,t.statusText),e.group("Headers:");for(let[i,a]of t.headers.entries())e.log(`${i}: ${a}`);switch(e.groupEnd(),e.group("Body:"),!0){case((0,Xx.matchContentType)(t,"application/json")||Wwt.test(o)):e.log(await t.clone().json());break;case(0,Xx.matchContentType)(t,"text/event-stream"):e.log(`<${n}>`);break;case(0,Xx.matchContentType)(t,"text/*"):e.log(await t.clone().text());break;case(0,Xx.matchContentType)(t,"multipart/form-data"):{let i=await t.clone().formData();for(let[a,s]of i){let u=s instanceof Blob?"<Blob>":s;e.log(`${a}: ${u}`)}break}default:e.log(`<${n}>`);break}e.groupEnd(),e.groupEnd()}});var LOe=b(Ree=>{"use strict";Object.defineProperty(Ree,"__esModule",{value:!0});Ree.SDKError=void 0;var NOe=class extends Error{constructor(t,r,n=""){let o=r.status,i=r.headers.get("content-type")||"",a=n.length>0?`
${n}`:"";super(`${t}: Status ${o} Content-Type ${i} Body ${a}`),this.rawResponse=r,this.body=n,this.statusCode=o,this.contentType=i,this.name="SDKError"}};Ree.SDKError=NOe});var h3=b(p3=>{"use strict";Object.defineProperty(p3,"__esModule",{value:!0});p3.EventStream=void 0;p3.discardSentinel=Vzr;var d3=10,f3=13,Jwt=new Set([d3,f3]),zzr=[new Uint8Array([f3,d3,f3,d3]),new Uint8Array([f3,f3]),new Uint8Array([d3,d3])],FOe=class{constructor(t){this.stream=t.stream,this.decoder=t.decoder}async*[Symbol.asyncIterator](){let t=this.stream.getReader(),r=new Uint8Array([]),n=0;try{for(;;){let{done:o,value:i}=await t.read();if(o)break;let a=new Uint8Array(r.length+i.length);a.set(r),a.set(i,r.length),r=a;for(let s=n;s<r.length;s++){let u=Gwt(r,s);if(u==null)continue;let l=r.slice(n,s);n=s+u.length;let c=kOe(l,this.decoder);c!=null&&(yield c)}n>0&&(r=r.slice(n),n=0)}if(r.length>0){let o=kOe(r,this.decoder);o!=null&&(yield o)}}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{t.releaseLock()}}};p3.EventStream=FOe;function Gwt(e,t){let r=e[t],n=e[t+1];if(r==null||n==null||!Jwt.has(r)||!Jwt.has(n))return null;for(let o of zzr){let i=Hzr(t,e,o);if(i!=null)return i}return null}function Hzr(e,t,r){if(r.length>t.length-e)return null;for(let n=0;n<r.length;n++)if(t[e+n]!==r[n])return null;return r}function kOe(e,t){if(!e.length)return null;let o=new TextDecoder().decode(e).split(/\r?\n|\r/g),i=!1,a={};for(let s of o){if(!s)continue;let u=s.indexOf(":");if(u===0)continue;let l=u>0?s.substring(0,u):"",c=u>0?s.substring(u+1):"";switch(c.charAt(0)===" "&&(c=c.substring(1)),l){case"event":{i=!0,a.event=c;break}case"data":{i=!0,a.data??(a.data=""),a.data+=c+`
`;break}case"id":{i=!0,a.id=c;break}case"retry":{let d=parseInt(c,10);Number.isNaN(d)||(i=!0,a.retry=d);break}}}return i?(a.data!=null&&(a.data=a.data.slice(0,-1)),t(a)):null}function Vzr(e,t){return new ReadableStream({async start(r){let n=new Uint8Array([]),o=0,i=!1,a=!1,s=e.getReader();try{for(;!i;){let u=await s.read(),l=u.value;if(i=i||u.done,a||typeof l>"u")continue;let c=new Uint8Array(n.length+l.length);c.set(n),c.set(l,n.length),n=c;for(let d=o;d<n.length;d++){let f=Gwt(n,d);if(f==null)continue;let p=o,h=n.slice(p,d);o=d+f.length,kOe(h,Wzr)?.data===t?(r.enqueue(n.slice(0,p)),a=!0):(r.enqueue(n.slice(0,o)),n=n.slice(o),o=0)}}}catch(u){r.error(u)}finally{r.close(),s.releaseLock()}}})}function Wzr(e){return e}});var qOe=b(Eg=>{"use strict";var Jzr=Eg&&Eg.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gzr=Eg&&Eg.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kzr=Eg&&Eg.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Jzr(t,e,r);return Gzr(t,e),t};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.SDKValidationError=void 0;Eg.formatZodError=$Oe;var Yzr=Kzr(me()),BOe=class extends Error{constructor(t,r,n){super(`${t}: ${r}`),this.name="SDKValidationError",this.cause=r,this.rawValue=n,this.rawMessage=t}pretty(){return this.cause instanceof Yzr.ZodError?`${this.rawMessage}
${$Oe(this.cause)}`:this.toString()}};Eg.SDKValidationError=BOe;function $Oe(e,t=0){let r="  ".repeat(t);r=t>0?`\u2502${r}`:r,r+=" ".repeat(t);let n="",o=s=>n+=`
${r}${s}`,i=e.issues.length,a=i===1?`${i} issue found`:`${i} issues found`;i&&o(`\u250C ${a}:`);for(let s of e.issues){let u=s.path.join(".");switch(u=u?`<root>.${u}`:"<root>",o(`\u2502 \u2022 [${u}]: ${s.message} (${s.code})`),s.code){case"invalid_literal":case"invalid_type":{o(`\u2502     Want: ${s.expected}`),o(`\u2502      Got: ${s.received}`);break}case"unrecognized_keys":{o(`\u2502     Keys: ${s.keys.join(", ")}`);break}case"invalid_enum_value":{o(`\u2502     Allowed: ${s.options.join(", ")}`),o(`\u2502         Got: ${s.received}`);break}case"invalid_union_discriminator":{o(`\u2502     Allowed: ${s.options.join(", ")}`);break}case"invalid_union":{let l=s.unionErrors.length;o(`\u2502   \u2716\uFE0E Attemped to deserialize into one of ${l} union members:`),s.unionErrors.forEach((c,d)=>{o(`\u2502   \u2716\uFE0E Member ${d+1} of ${l}`),o(`${$Oe(c,t+1)}`)})}}}return e.issues.length&&o("\u2514\u2500*"),n.slice(1)}});var ce=b(m3=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0});m3.parse=Xzr;m3.safeParse=Qzr;m3.collectExtraKeys=e2r;var Zzr=me(),Ywt=qOe(),Kwt=Wh();function Xzr(e,t,r){try{return t(e)}catch(n){throw n instanceof Zzr.ZodError?new Ywt.SDKValidationError(r,n,e):n}}function Qzr(e,t,r){try{return(0,Kwt.OK)(t(e))}catch(n){return(0,Kwt.ERR)(new Ywt.SDKValidationError(r,n,e))}}function e2r(e,t,r){return e.transform(n=>{let o={},{shape:i}=e;for(let[a]of Object.entries(n)){if(a in i)continue;let s=n[a];typeof s>"u"||(o[a]=s,delete n[a])}return r&&Object.keys(o).length===0?n:{...n,[t]:o}})}});var wo=b(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.jsonErr=n2r;Cl.json=o2r;Cl.textErr=i2r;Cl.text=a2r;Cl.bytesErr=s2r;Cl.bytes=u2r;Cl.streamErr=l2r;Cl.stream=c2r;Cl.sseErr=d2r;Cl.sse=f2r;Cl.nilErr=p2r;Cl.nil=h2r;Cl.fail=m2r;Cl.match=g2r;Cl.unpackHeaders=Dee;Cl.discardResponseBody=tSt;var Zwt=LOe(),t2r=h3(),Xwt=u3(),Qwt=POe(),eSt=ce(),r2r={json:"application/json",text:"text/plain",bytes:"application/octet-stream",stream:"application/octet-stream",sse:"text/event-stream",nil:"*",fail:"*"};function n2r(e,t,r){return{...r,err:!0,enc:"json",codes:e,schema:t}}function o2r(e,t,r){return{...r,enc:"json",codes:e,schema:t}}function i2r(e,t,r){return{...r,err:!0,enc:"text",codes:e,schema:t}}function a2r(e,t,r){return{...r,enc:"text",codes:e,schema:t}}function s2r(e,t,r){return{...r,err:!0,enc:"bytes",codes:e,schema:t}}function u2r(e,t,r){return{...r,enc:"bytes",codes:e,schema:t}}function l2r(e,t,r){return{...r,err:!0,enc:"stream",codes:e,schema:t}}function c2r(e,t,r){return{...r,enc:"stream",codes:e,schema:t}}function d2r(e,t,r){return{...r,err:!0,enc:"sse",codes:e,schema:t}}function f2r(e,t,r){return{...r,enc:"sse",codes:e,schema:t}}function p2r(e,t,r){return{...r,err:!0,enc:"nil",codes:e,schema:t}}function h2r(e,t,r){return{...r,enc:"nil",codes:e,schema:t}}function m2r(e){return{enc:"fail",codes:e}}function g2r(...e){return async function(r,n){let o,i;for(let l of e){let{codes:c}=l,d="ctype"in l?l.ctype:r2r[l.enc];if(d&&(0,Xwt.matchResponse)(r,c,d)){i=l;break}else if(!d&&(0,Xwt.matchStatusCode)(r,c)){i=l;break}}if(!i){let l=await r.text();return[{ok:!1,error:new Zwt.SDKError("Unexpected API response status or content-type",r,l)},l]}let a=i.enc;switch(a){case"json":o=await r.json();break;case"bytes":o=new Uint8Array(await r.arrayBuffer());break;case"stream":o=r.body;break;case"text":o=await r.text();break;case"sse":o=r.body&&i.sseSentinel?(0,t2r.discardSentinel)(r.body,i.sseSentinel):r.body;break;case"nil":o=await tSt(r);break;case"fail":o=await r.text();break;default:throw new Error(`Unsupported response type: ${a}`)}if(i.enc==="fail")return[{ok:!1,error:new Zwt.SDKError("API error occurred",r,typeof o=="string"?o:"")},o];let s=i.key||n?.resultKey,u;if("err"in i?u={...n?.extraFields,...i.hdrs?{Headers:Dee(r.headers)}:null,...(0,Qwt.isPlainObject)(o)?o:null}:s?u={...n?.extraFields,...i.hdrs?{Headers:Dee(r.headers)}:null,[s]:o}:i.hdrs?u={...n?.extraFields,...i.hdrs?{Headers:Dee(r.headers)}:null,...(0,Qwt.isPlainObject)(o)?o:null}:u=o,"err"in i){let l=(0,eSt.safeParse)(u,c=>i.schema.parse(c),"Response validation failed");return[l.ok?{ok:!1,error:l.value}:l,o]}else return[(0,eSt.safeParse)(u,l=>i.schema.parse(l),"Response validation failed"),o]}}var y2r=/, */;function Dee(e){let t={};for(let[r,n]of e.entries())t[r]=n.split(y2r);return t}async function tSt(e){let t=e.body?.getReader();if(t!=null)try{let r=!1;for(;!r;)r=(await t.read()).done}finally{t.releaseLock()}}});var Oe=b(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});i1.invariant=b2r;i1.remap=_2r;i1.combineSignals=v2r;i1.abortSignalAny=rSt;i1.compactMap=w2r;var UOe=class extends Error{constructor(t){super(t),this.name="InvariantError"}};function b2r(e,t){if(!e)throw new UOe(t)}function _2r(e,t){let r={};if(!Object.keys(t).length)return r=e,r;for(let[n,o]of Object.entries(e)){let i=t[n];i!==null&&(r[i??n]=o)}return r}function v2r(...e){let t=[];for(let r of e)r&&t.push(r);switch(t.length){case 0:case 1:return t[0]||null;default:return"any"in AbortSignal&&typeof AbortSignal.any=="function"?AbortSignal.any(t):rSt(t)}}function rSt(e){let t=new AbortController,r=t.signal;if(!e.length)return t.signal;if(e.length===1)return e[0]||t.signal;for(let a of e)if(a.aborted)return a;function n(){t.abort(this.reason),i()}let o=[];function i(){for(let a of o){let s=a.deref();s&&s.removeEventListener("abort",n)}}for(let a of e)o.push(new WeakRef(a)),a.addEventListener("abort",n);return r}function w2r(e){let t={};for(let[r,n]of Object.entries(e))typeof n<"u"&&(t[r]=n);return t}});var So=b(Qx=>{"use strict";Object.defineProperty(Qx,"__esModule",{value:!0});Qx.SecurityError=Qx.SecurityErrorCode=void 0;Qx.resolveSecurity=nSt;Qx.resolveGlobalSecurity=C2r;Qx.extractSecurity=O2r;var S2r=ROe(),Nee;(function(e){e.Incomplete="incomplete",e.UnrecognisedSecurityType="unrecognized_security_type"})(Nee||(Qx.SecurityErrorCode=Nee={}));var Lee=class e extends Error{constructor(t,r){super(r),this.code=t,this.name="SecurityError"}static incomplete(){return new e(Nee.Incomplete,"Security requirements not met in order to perform the operation")}static unrecognizedType(t){return new e(Nee.UnrecognisedSecurityType,`Unrecognised security type: ${t}`)}};Qx.SecurityError=Lee;function nSt(...e){let t={basic:{},headers:{},queryParams:{},cookies:{},oauth2:{type:"none"}},r=e.find(n=>n.every(o=>{if(o.value==null)return!1;if(o.type==="http:basic")return o.value.username!=null||o.value.password!=null;if(o.type==="http:custom")return null;if(o.type==="oauth2:password")return typeof o.value=="string"&&!!o.value;if(o.type==="oauth2:client_credentials")return o.value.clientID!=null||o.value.clientSecret!=null;if(typeof o.value=="string")return!!o.value;throw new Error(`Unrecognized security type: ${o.type} (value type: ${typeof o.value})`)}));return r==null?null:(r.forEach(n=>{if(n.value==null)return;let{type:o}=n;switch(o){case"apiKey:header":t.headers[n.fieldName]=n.value;break;case"apiKey:query":t.queryParams[n.fieldName]=n.value;break;case"apiKey:cookie":t.cookies[n.fieldName]=n.value;break;case"http:basic":x2r(t,n);break;case"http:custom":break;case"http:bearer":jee(t,n);break;case"oauth2":jee(t,n);break;case"oauth2:password":jee(t,n);break;case"oauth2:client_credentials":break;case"openIdConnect":jee(t,n);break;default:throw Lee.unrecognizedType(o)}}),t)}function x2r(e,t){t.value!=null&&(e.basic=t.value)}function jee(e,t){if(typeof t.value!="string"||!t.value)return;let r=t.value;r.slice(0,7).toLowerCase()!=="bearer "&&(r=`Bearer ${r}`),e.headers[t.fieldName]=r}function C2r(e){return nSt([{fieldName:"Authorization",type:"http:bearer",value:e?.apiKey??(0,S2r.env)().MISTRAL_API_KEY}])}async function O2r(e){if(e!=null)return typeof e=="function"?e():e}});var zOe=b(ms=>{"use strict";var E2r=ms&&ms.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P2r=ms&&ms.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),T2r=ms&&ms.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E2r(t,e,r);return P2r(t,e),t};Object.defineProperty(ms,"__esModule",{value:!0});ms.ImageURL$=ms.ImageURL$outboundSchema=ms.ImageURL$inboundSchema=void 0;ms.imageURLToJSON=I2r;ms.imageURLFromJSON=A2r;var JP=T2r(me()),M2r=ce();ms.ImageURL$inboundSchema=JP.object({url:JP.string(),detail:JP.nullable(JP.string()).optional()});ms.ImageURL$outboundSchema=JP.object({url:JP.string(),detail:JP.nullable(JP.string()).optional()});var oSt;(function(e){e.inboundSchema=ms.ImageURL$inboundSchema,e.outboundSchema=ms.ImageURL$outboundSchema})(oSt||(ms.ImageURL$=oSt={}));function I2r(e){return JSON.stringify(ms.ImageURL$outboundSchema.parse(e))}function A2r(e){return(0,M2r.safeParse)(e,t=>ms.ImageURL$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ImageURL' from JSON")}});var HOe=b(Yt=>{"use strict";var R2r=Yt&&Yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),D2r=Yt&&Yt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j2r=Yt&&Yt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R2r(t,e,r);return D2r(t,e),t};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ImageURLChunk$=Yt.ImageURLChunk$outboundSchema=Yt.ImageURLChunk$inboundSchema=Yt.ImageURLChunkType$=Yt.ImageURLChunkType$outboundSchema=Yt.ImageURLChunkType$inboundSchema=Yt.ImageURLChunkImageURL$=Yt.ImageURLChunkImageURL$outboundSchema=Yt.ImageURLChunkImageURL$inboundSchema=Yt.ImageURLChunkType=void 0;Yt.imageURLChunkImageURLToJSON=N2r;Yt.imageURLChunkImageURLFromJSON=L2r;Yt.imageURLChunkToJSON=F2r;Yt.imageURLChunkFromJSON=k2r;var Pg=j2r(me()),uSt=Oe(),lSt=ce(),Fee=zOe();Yt.ImageURLChunkType={ImageUrl:"image_url"};Yt.ImageURLChunkImageURL$inboundSchema=Pg.union([Fee.ImageURL$inboundSchema,Pg.string()]);Yt.ImageURLChunkImageURL$outboundSchema=Pg.union([Fee.ImageURL$outboundSchema,Pg.string()]);var iSt;(function(e){e.inboundSchema=Yt.ImageURLChunkImageURL$inboundSchema,e.outboundSchema=Yt.ImageURLChunkImageURL$outboundSchema})(iSt||(Yt.ImageURLChunkImageURL$=iSt={}));function N2r(e){return JSON.stringify(Yt.ImageURLChunkImageURL$outboundSchema.parse(e))}function L2r(e){return(0,lSt.safeParse)(e,t=>Yt.ImageURLChunkImageURL$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ImageURLChunkImageURL' from JSON")}Yt.ImageURLChunkType$inboundSchema=Pg.nativeEnum(Yt.ImageURLChunkType);Yt.ImageURLChunkType$outboundSchema=Yt.ImageURLChunkType$inboundSchema;var aSt;(function(e){e.inboundSchema=Yt.ImageURLChunkType$inboundSchema,e.outboundSchema=Yt.ImageURLChunkType$outboundSchema})(aSt||(Yt.ImageURLChunkType$=aSt={}));Yt.ImageURLChunk$inboundSchema=Pg.object({image_url:Pg.union([Fee.ImageURL$inboundSchema,Pg.string()]),type:Yt.ImageURLChunkType$inboundSchema.default("image_url")}).transform(e=>(0,uSt.remap)(e,{image_url:"imageUrl"}));Yt.ImageURLChunk$outboundSchema=Pg.object({imageUrl:Pg.union([Fee.ImageURL$outboundSchema,Pg.string()]),type:Yt.ImageURLChunkType$outboundSchema.default("image_url")}).transform(e=>(0,uSt.remap)(e,{imageUrl:"image_url"}));var sSt;(function(e){e.inboundSchema=Yt.ImageURLChunk$inboundSchema,e.outboundSchema=Yt.ImageURLChunk$outboundSchema})(sSt||(Yt.ImageURLChunk$=sSt={}));function F2r(e){return JSON.stringify(Yt.ImageURLChunk$outboundSchema.parse(e))}function k2r(e){return(0,lSt.safeParse)(e,t=>Yt.ImageURLChunk$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ImageURLChunk' from JSON")}});var VOe=b(En=>{"use strict";var B2r=En&&En.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$2r=En&&En.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),q2r=En&&En.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&B2r(t,e,r);return $2r(t,e),t};Object.defineProperty(En,"__esModule",{value:!0});En.ReferenceChunk$=En.ReferenceChunk$outboundSchema=En.ReferenceChunk$inboundSchema=En.ReferenceChunkType$=En.ReferenceChunkType$outboundSchema=En.ReferenceChunkType$inboundSchema=En.ReferenceChunkType=void 0;En.referenceChunkToJSON=z2r;En.referenceChunkFromJSON=H2r;var a1=q2r(me()),fSt=Oe(),U2r=ce();En.ReferenceChunkType={Reference:"reference"};En.ReferenceChunkType$inboundSchema=a1.nativeEnum(En.ReferenceChunkType);En.ReferenceChunkType$outboundSchema=En.ReferenceChunkType$inboundSchema;var cSt;(function(e){e.inboundSchema=En.ReferenceChunkType$inboundSchema,e.outboundSchema=En.ReferenceChunkType$outboundSchema})(cSt||(En.ReferenceChunkType$=cSt={}));En.ReferenceChunk$inboundSchema=a1.object({reference_ids:a1.array(a1.number().int()),type:En.ReferenceChunkType$inboundSchema.default("reference")}).transform(e=>(0,fSt.remap)(e,{reference_ids:"referenceIds"}));En.ReferenceChunk$outboundSchema=a1.object({referenceIds:a1.array(a1.number().int()),type:En.ReferenceChunkType$outboundSchema.default("reference")}).transform(e=>(0,fSt.remap)(e,{referenceIds:"reference_ids"}));var dSt;(function(e){e.inboundSchema=En.ReferenceChunk$inboundSchema,e.outboundSchema=En.ReferenceChunk$outboundSchema})(dSt||(En.ReferenceChunk$=dSt={}));function z2r(e){return JSON.stringify(En.ReferenceChunk$outboundSchema.parse(e))}function H2r(e){return(0,U2r.safeParse)(e,t=>En.ReferenceChunk$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ReferenceChunk' from JSON")}});var kee=b(Pn=>{"use strict";var V2r=Pn&&Pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W2r=Pn&&Pn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),J2r=Pn&&Pn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&V2r(t,e,r);return W2r(t,e),t};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.TextChunk$=Pn.TextChunk$outboundSchema=Pn.TextChunk$inboundSchema=Pn.TextChunkType$=Pn.TextChunkType$outboundSchema=Pn.TextChunkType$inboundSchema=Pn.TextChunkType=void 0;Pn.textChunkToJSON=K2r;Pn.textChunkFromJSON=Y2r;var g3=J2r(me()),G2r=ce();Pn.TextChunkType={Text:"text"};Pn.TextChunkType$inboundSchema=g3.nativeEnum(Pn.TextChunkType);Pn.TextChunkType$outboundSchema=Pn.TextChunkType$inboundSchema;var pSt;(function(e){e.inboundSchema=Pn.TextChunkType$inboundSchema,e.outboundSchema=Pn.TextChunkType$outboundSchema})(pSt||(Pn.TextChunkType$=pSt={}));Pn.TextChunk$inboundSchema=g3.object({text:g3.string(),type:Pn.TextChunkType$inboundSchema.default("text")});Pn.TextChunk$outboundSchema=g3.object({text:g3.string(),type:Pn.TextChunkType$outboundSchema.default("text")});var hSt;(function(e){e.inboundSchema=Pn.TextChunk$inboundSchema,e.outboundSchema=Pn.TextChunk$outboundSchema})(hSt||(Pn.TextChunk$=hSt={}));function K2r(e){return JSON.stringify(Pn.TextChunk$outboundSchema.parse(e))}function Y2r(e){return(0,G2r.safeParse)(e,t=>Pn.TextChunk$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'TextChunk' from JSON")}});var Dk=b(gs=>{"use strict";var Z2r=gs&&gs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),X2r=gs&&gs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q2r=gs&&gs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Z2r(t,e,r);return X2r(t,e),t};Object.defineProperty(gs,"__esModule",{value:!0});gs.ContentChunk$=gs.ContentChunk$outboundSchema=gs.ContentChunk$inboundSchema=void 0;gs.contentChunkToJSON=t4r;gs.contentChunkFromJSON=r4r;var kf=Q2r(me()),e4r=ce(),gSt=HOe(),ySt=VOe(),bSt=kee();gs.ContentChunk$inboundSchema=kf.union([gSt.ImageURLChunk$inboundSchema.and(kf.object({type:kf.literal("image_url")}).transform(e=>({type:e.type}))),bSt.TextChunk$inboundSchema.and(kf.object({type:kf.literal("text")}).transform(e=>({type:e.type}))),ySt.ReferenceChunk$inboundSchema.and(kf.object({type:kf.literal("reference")}).transform(e=>({type:e.type})))]);gs.ContentChunk$outboundSchema=kf.union([gSt.ImageURLChunk$outboundSchema.and(kf.object({type:kf.literal("image_url")}).transform(e=>({type:e.type}))),bSt.TextChunk$outboundSchema.and(kf.object({type:kf.literal("text")}).transform(e=>({type:e.type}))),ySt.ReferenceChunk$outboundSchema.and(kf.object({type:kf.literal("reference")}).transform(e=>({type:e.type})))]);var mSt;(function(e){e.inboundSchema=gs.ContentChunk$inboundSchema,e.outboundSchema=gs.ContentChunk$outboundSchema})(mSt||(gs.ContentChunk$=mSt={}));function t4r(e){return JSON.stringify(gs.ContentChunk$outboundSchema.parse(e))}function r4r(e){return(0,e4r.safeParse)(e,t=>gs.ContentChunk$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ContentChunk' from JSON")}});var WOe=b(Vn=>{"use strict";var n4r=Vn&&Vn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o4r=Vn&&Vn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i4r=Vn&&Vn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n4r(t,e,r);return o4r(t,e),t};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.FunctionCall$=Vn.FunctionCall$outboundSchema=Vn.FunctionCall$inboundSchema=Vn.Arguments$=Vn.Arguments$outboundSchema=Vn.Arguments$inboundSchema=void 0;Vn.argumentsToJSON=a4r;Vn.argumentsFromJSON=s4r;Vn.functionCallToJSON=u4r;Vn.functionCallFromJSON=l4r;var ys=i4r(me()),wSt=ce();Vn.Arguments$inboundSchema=ys.union([ys.record(ys.any()),ys.string()]);Vn.Arguments$outboundSchema=ys.union([ys.record(ys.any()),ys.string()]);var _St;(function(e){e.inboundSchema=Vn.Arguments$inboundSchema,e.outboundSchema=Vn.Arguments$outboundSchema})(_St||(Vn.Arguments$=_St={}));function a4r(e){return JSON.stringify(Vn.Arguments$outboundSchema.parse(e))}function s4r(e){return(0,wSt.safeParse)(e,t=>Vn.Arguments$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Arguments' from JSON")}Vn.FunctionCall$inboundSchema=ys.object({name:ys.string(),arguments:ys.union([ys.record(ys.any()),ys.string()])});Vn.FunctionCall$outboundSchema=ys.object({name:ys.string(),arguments:ys.union([ys.record(ys.any()),ys.string()])});var vSt;(function(e){e.inboundSchema=Vn.FunctionCall$inboundSchema,e.outboundSchema=Vn.FunctionCall$outboundSchema})(vSt||(Vn.FunctionCall$=vSt={}));function u4r(e){return JSON.stringify(Vn.FunctionCall$outboundSchema.parse(e))}function l4r(e){return(0,wSt.safeParse)(e,t=>Vn.FunctionCall$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FunctionCall' from JSON")}});var GP=b(JOe=>{"use strict";Object.defineProperty(JOe,"__esModule",{value:!0});JOe.catchUnrecognizedEnum=c4r;function c4r(e){return e}});var y3=b(bs=>{"use strict";var d4r=bs&&bs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f4r=bs&&bs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p4r=bs&&bs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d4r(t,e,r);return f4r(t,e),t};Object.defineProperty(bs,"__esModule",{value:!0});bs.ToolTypes$=bs.ToolTypes$outboundSchema=bs.ToolTypes$inboundSchema=bs.ToolTypes=void 0;var s1=p4r(me()),h4r=GP();bs.ToolTypes={Function:"function"};bs.ToolTypes$inboundSchema=s1.union([s1.nativeEnum(bs.ToolTypes),s1.string().transform(h4r.catchUnrecognizedEnum)]);bs.ToolTypes$outboundSchema=s1.union([s1.nativeEnum(bs.ToolTypes),s1.string().and(s1.custom())]);var SSt;(function(e){e.inboundSchema=bs.ToolTypes$inboundSchema,e.outboundSchema=bs.ToolTypes$outboundSchema})(SSt||(bs.ToolTypes$=SSt={}))});var Bee=b(_s=>{"use strict";var m4r=_s&&_s.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g4r=_s&&_s.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y4r=_s&&_s.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m4r(t,e,r);return g4r(t,e),t};Object.defineProperty(_s,"__esModule",{value:!0});_s.ToolCall$=_s.ToolCall$outboundSchema=_s.ToolCall$inboundSchema=void 0;_s.toolCallToJSON=_4r;_s.toolCallFromJSON=v4r;var jk=y4r(me()),b4r=ce(),CSt=WOe(),OSt=y3();_s.ToolCall$inboundSchema=jk.object({id:jk.string().default("null"),type:OSt.ToolTypes$inboundSchema.optional(),function:CSt.FunctionCall$inboundSchema,index:jk.number().int().default(0)});_s.ToolCall$outboundSchema=jk.object({id:jk.string().default("null"),type:OSt.ToolTypes$outboundSchema.optional(),function:CSt.FunctionCall$outboundSchema,index:jk.number().int().default(0)});var xSt;(function(e){e.inboundSchema=_s.ToolCall$inboundSchema,e.outboundSchema=_s.ToolCall$outboundSchema})(xSt||(_s.ToolCall$=xSt={}));function _4r(e){return JSON.stringify(_s.ToolCall$outboundSchema.parse(e))}function v4r(e){return(0,b4r.safeParse)(e,t=>_s.ToolCall$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ToolCall' from JSON")}});var KP=b(Zt=>{"use strict";var w4r=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S4r=Zt&&Zt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x4r=Zt&&Zt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&w4r(t,e,r);return S4r(t,e),t};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.AssistantMessage$=Zt.AssistantMessage$outboundSchema=Zt.AssistantMessage$inboundSchema=Zt.AssistantMessageRole$=Zt.AssistantMessageRole$outboundSchema=Zt.AssistantMessageRole$inboundSchema=Zt.AssistantMessageContent$=Zt.AssistantMessageContent$outboundSchema=Zt.AssistantMessageContent$inboundSchema=Zt.AssistantMessageRole=void 0;Zt.assistantMessageContentToJSON=C4r;Zt.assistantMessageContentFromJSON=O4r;Zt.assistantMessageToJSON=E4r;Zt.assistantMessageFromJSON=P4r;var ga=x4r(me()),MSt=Oe(),ISt=ce(),$ee=Dk(),ASt=Bee();Zt.AssistantMessageRole={Assistant:"assistant"};Zt.AssistantMessageContent$inboundSchema=ga.union([ga.string(),ga.array($ee.ContentChunk$inboundSchema)]);Zt.AssistantMessageContent$outboundSchema=ga.union([ga.string(),ga.array($ee.ContentChunk$outboundSchema)]);var ESt;(function(e){e.inboundSchema=Zt.AssistantMessageContent$inboundSchema,e.outboundSchema=Zt.AssistantMessageContent$outboundSchema})(ESt||(Zt.AssistantMessageContent$=ESt={}));function C4r(e){return JSON.stringify(Zt.AssistantMessageContent$outboundSchema.parse(e))}function O4r(e){return(0,ISt.safeParse)(e,t=>Zt.AssistantMessageContent$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AssistantMessageContent' from JSON")}Zt.AssistantMessageRole$inboundSchema=ga.nativeEnum(Zt.AssistantMessageRole);Zt.AssistantMessageRole$outboundSchema=Zt.AssistantMessageRole$inboundSchema;var PSt;(function(e){e.inboundSchema=Zt.AssistantMessageRole$inboundSchema,e.outboundSchema=Zt.AssistantMessageRole$outboundSchema})(PSt||(Zt.AssistantMessageRole$=PSt={}));Zt.AssistantMessage$inboundSchema=ga.object({content:ga.nullable(ga.union([ga.string(),ga.array($ee.ContentChunk$inboundSchema)])).optional(),tool_calls:ga.nullable(ga.array(ASt.ToolCall$inboundSchema)).optional(),prefix:ga.boolean().default(!1),role:Zt.AssistantMessageRole$inboundSchema.default("assistant")}).transform(e=>(0,MSt.remap)(e,{tool_calls:"toolCalls"}));Zt.AssistantMessage$outboundSchema=ga.object({content:ga.nullable(ga.union([ga.string(),ga.array($ee.ContentChunk$outboundSchema)])).optional(),toolCalls:ga.nullable(ga.array(ASt.ToolCall$outboundSchema)).optional(),prefix:ga.boolean().default(!1),role:Zt.AssistantMessageRole$outboundSchema.default("assistant")}).transform(e=>(0,MSt.remap)(e,{toolCalls:"tool_calls"}));var TSt;(function(e){e.inboundSchema=Zt.AssistantMessage$inboundSchema,e.outboundSchema=Zt.AssistantMessage$outboundSchema})(TSt||(Zt.AssistantMessage$=TSt={}));function E4r(e){return JSON.stringify(Zt.AssistantMessage$outboundSchema.parse(e))}function P4r(e){return(0,ISt.safeParse)(e,t=>Zt.AssistantMessage$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AssistantMessage' from JSON")}});var Nk=b(Wn=>{"use strict";var T4r=Wn&&Wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M4r=Wn&&Wn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I4r=Wn&&Wn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&T4r(t,e,r);return M4r(t,e),t};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Prediction$=Wn.Prediction$outboundSchema=Wn.Prediction$inboundSchema=Wn.PredictionType$=Wn.PredictionType$outboundSchema=Wn.PredictionType$inboundSchema=Wn.PredictionType=void 0;Wn.predictionToJSON=R4r;Wn.predictionFromJSON=D4r;var u1=I4r(me()),A4r=ce();Wn.PredictionType={Content:"content"};Wn.PredictionType$inboundSchema=u1.nativeEnum(Wn.PredictionType);Wn.PredictionType$outboundSchema=Wn.PredictionType$inboundSchema;var RSt;(function(e){e.inboundSchema=Wn.PredictionType$inboundSchema,e.outboundSchema=Wn.PredictionType$outboundSchema})(RSt||(Wn.PredictionType$=RSt={}));Wn.Prediction$inboundSchema=u1.object({type:u1.literal("content").default("content"),content:u1.string().default("")});Wn.Prediction$outboundSchema=u1.object({type:u1.literal("content").default("content"),content:u1.string().default("")});var DSt;(function(e){e.inboundSchema=Wn.Prediction$inboundSchema,e.outboundSchema=Wn.Prediction$outboundSchema})(DSt||(Wn.Prediction$=DSt={}));function R4r(e){return JSON.stringify(Wn.Prediction$outboundSchema.parse(e))}function D4r(e){return(0,A4r.safeParse)(e,t=>Wn.Prediction$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Prediction' from JSON")}});var GOe=b(vs=>{"use strict";var j4r=vs&&vs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N4r=vs&&vs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L4r=vs&&vs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j4r(t,e,r);return N4r(t,e),t};Object.defineProperty(vs,"__esModule",{value:!0});vs.JsonSchema$=vs.JsonSchema$outboundSchema=vs.JsonSchema$inboundSchema=void 0;vs.jsonSchemaToJSON=k4r;vs.jsonSchemaFromJSON=B4r;var Bf=L4r(me()),NSt=Oe(),F4r=ce();vs.JsonSchema$inboundSchema=Bf.object({name:Bf.string(),description:Bf.nullable(Bf.string()).optional(),schema:Bf.record(Bf.any()),strict:Bf.boolean().default(!1)}).transform(e=>(0,NSt.remap)(e,{schema:"schemaDefinition"}));vs.JsonSchema$outboundSchema=Bf.object({name:Bf.string(),description:Bf.nullable(Bf.string()).optional(),schemaDefinition:Bf.record(Bf.any()),strict:Bf.boolean().default(!1)}).transform(e=>(0,NSt.remap)(e,{schemaDefinition:"schema"}));var jSt;(function(e){e.inboundSchema=vs.JsonSchema$inboundSchema,e.outboundSchema=vs.JsonSchema$outboundSchema})(jSt||(vs.JsonSchema$=jSt={}));function k4r(e){return JSON.stringify(vs.JsonSchema$outboundSchema.parse(e))}function B4r(e){return(0,F4r.safeParse)(e,t=>vs.JsonSchema$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JsonSchema' from JSON")}});var KOe=b(ws=>{"use strict";var $4r=ws&&ws.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q4r=ws&&ws.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U4r=ws&&ws.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$4r(t,e,r);return q4r(t,e),t};Object.defineProperty(ws,"__esModule",{value:!0});ws.ResponseFormats$=ws.ResponseFormats$outboundSchema=ws.ResponseFormats$inboundSchema=ws.ResponseFormats=void 0;var z4r=U4r(me());ws.ResponseFormats={Text:"text",JsonObject:"json_object",JsonSchema:"json_schema"};ws.ResponseFormats$inboundSchema=z4r.nativeEnum(ws.ResponseFormats);ws.ResponseFormats$outboundSchema=ws.ResponseFormats$inboundSchema;var LSt;(function(e){e.inboundSchema=ws.ResponseFormats$inboundSchema,e.outboundSchema=ws.ResponseFormats$outboundSchema})(LSt||(ws.ResponseFormats$=LSt={}))});var Lk=b(Ss=>{"use strict";var H4r=Ss&&Ss.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V4r=Ss&&Ss.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),W4r=Ss&&Ss.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&H4r(t,e,r);return V4r(t,e),t};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.ResponseFormat$=Ss.ResponseFormat$outboundSchema=Ss.ResponseFormat$inboundSchema=void 0;Ss.responseFormatToJSON=G4r;Ss.responseFormatFromJSON=K4r;var qee=W4r(me()),kSt=Oe(),J4r=ce(),BSt=GOe(),$St=KOe();Ss.ResponseFormat$inboundSchema=qee.object({type:$St.ResponseFormats$inboundSchema.optional(),json_schema:qee.nullable(BSt.JsonSchema$inboundSchema).optional()}).transform(e=>(0,kSt.remap)(e,{json_schema:"jsonSchema"}));Ss.ResponseFormat$outboundSchema=qee.object({type:$St.ResponseFormats$outboundSchema.optional(),jsonSchema:qee.nullable(BSt.JsonSchema$outboundSchema).optional()}).transform(e=>(0,kSt.remap)(e,{jsonSchema:"json_schema"}));var FSt;(function(e){e.inboundSchema=Ss.ResponseFormat$inboundSchema,e.outboundSchema=Ss.ResponseFormat$outboundSchema})(FSt||(Ss.ResponseFormat$=FSt={}));function G4r(e){return JSON.stringify(Ss.ResponseFormat$outboundSchema.parse(e))}function K4r(e){return(0,J4r.safeParse)(e,t=>Ss.ResponseFormat$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ResponseFormat' from JSON")}});var l1=b(Xt=>{"use strict";var Y4r=Xt&&Xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z4r=Xt&&Xt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X4r=Xt&&Xt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y4r(t,e,r);return Z4r(t,e),t};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.SystemMessage$=Xt.SystemMessage$outboundSchema=Xt.SystemMessage$inboundSchema=Xt.Role$=Xt.Role$outboundSchema=Xt.Role$inboundSchema=Xt.SystemMessageContent$=Xt.SystemMessageContent$outboundSchema=Xt.SystemMessageContent$inboundSchema=Xt.Role=void 0;Xt.systemMessageContentToJSON=Q4r;Xt.systemMessageContentFromJSON=e3r;Xt.systemMessageToJSON=t3r;Xt.systemMessageFromJSON=r3r;var Bd=X4r(me()),HSt=ce(),Uee=kee();Xt.Role={System:"system"};Xt.SystemMessageContent$inboundSchema=Bd.union([Bd.string(),Bd.array(Uee.TextChunk$inboundSchema)]);Xt.SystemMessageContent$outboundSchema=Bd.union([Bd.string(),Bd.array(Uee.TextChunk$outboundSchema)]);var qSt;(function(e){e.inboundSchema=Xt.SystemMessageContent$inboundSchema,e.outboundSchema=Xt.SystemMessageContent$outboundSchema})(qSt||(Xt.SystemMessageContent$=qSt={}));function Q4r(e){return JSON.stringify(Xt.SystemMessageContent$outboundSchema.parse(e))}function e3r(e){return(0,HSt.safeParse)(e,t=>Xt.SystemMessageContent$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'SystemMessageContent' from JSON")}Xt.Role$inboundSchema=Bd.nativeEnum(Xt.Role);Xt.Role$outboundSchema=Xt.Role$inboundSchema;var USt;(function(e){e.inboundSchema=Xt.Role$inboundSchema,e.outboundSchema=Xt.Role$outboundSchema})(USt||(Xt.Role$=USt={}));Xt.SystemMessage$inboundSchema=Bd.object({content:Bd.union([Bd.string(),Bd.array(Uee.TextChunk$inboundSchema)]),role:Xt.Role$inboundSchema.default("system")});Xt.SystemMessage$outboundSchema=Bd.object({content:Bd.union([Bd.string(),Bd.array(Uee.TextChunk$outboundSchema)]),role:Xt.Role$outboundSchema.default("system")});var zSt;(function(e){e.inboundSchema=Xt.SystemMessage$inboundSchema,e.outboundSchema=Xt.SystemMessage$outboundSchema})(zSt||(Xt.SystemMessage$=zSt={}));function t3r(e){return JSON.stringify(Xt.SystemMessage$outboundSchema.parse(e))}function r3r(e){return(0,HSt.safeParse)(e,t=>Xt.SystemMessage$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'SystemMessage' from JSON")}});var YOe=b(xs=>{"use strict";var n3r=xs&&xs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o3r=xs&&xs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i3r=xs&&xs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n3r(t,e,r);return o3r(t,e),t};Object.defineProperty(xs,"__esModule",{value:!0});xs.FunctionT$=xs.FunctionT$outboundSchema=xs.FunctionT$inboundSchema=void 0;xs.functionToJSON=s3r;xs.functionFromJSON=u3r;var Zh=i3r(me()),a3r=ce();xs.FunctionT$inboundSchema=Zh.object({name:Zh.string(),description:Zh.string().default(""),strict:Zh.boolean().default(!1),parameters:Zh.record(Zh.any())});xs.FunctionT$outboundSchema=Zh.object({name:Zh.string(),description:Zh.string().default(""),strict:Zh.boolean().default(!1),parameters:Zh.record(Zh.any())});var VSt;(function(e){e.inboundSchema=xs.FunctionT$inboundSchema,e.outboundSchema=xs.FunctionT$outboundSchema})(VSt||(xs.FunctionT$=VSt={}));function s3r(e){return JSON.stringify(xs.FunctionT$outboundSchema.parse(e))}function u3r(e){return(0,a3r.safeParse)(e,t=>xs.FunctionT$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FunctionT' from JSON")}});var Fk=b(Cs=>{"use strict";var l3r=Cs&&Cs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c3r=Cs&&Cs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d3r=Cs&&Cs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&l3r(t,e,r);return c3r(t,e),t};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.Tool$=Cs.Tool$outboundSchema=Cs.Tool$inboundSchema=void 0;Cs.toolToJSON=p3r;Cs.toolFromJSON=h3r;var JSt=d3r(me()),f3r=ce(),GSt=YOe(),KSt=y3();Cs.Tool$inboundSchema=JSt.object({type:KSt.ToolTypes$inboundSchema.optional(),function:GSt.FunctionT$inboundSchema});Cs.Tool$outboundSchema=JSt.object({type:KSt.ToolTypes$outboundSchema.optional(),function:GSt.FunctionT$outboundSchema});var WSt;(function(e){e.inboundSchema=Cs.Tool$inboundSchema,e.outboundSchema=Cs.Tool$outboundSchema})(WSt||(Cs.Tool$=WSt={}));function p3r(e){return JSON.stringify(Cs.Tool$outboundSchema.parse(e))}function h3r(e){return(0,f3r.safeParse)(e,t=>Cs.Tool$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Tool' from JSON")}});var ZOe=b(Os=>{"use strict";var m3r=Os&&Os.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3r=Os&&Os.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y3r=Os&&Os.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m3r(t,e,r);return g3r(t,e),t};Object.defineProperty(Os,"__esModule",{value:!0});Os.FunctionName$=Os.FunctionName$outboundSchema=Os.FunctionName$inboundSchema=void 0;Os.functionNameToJSON=_3r;Os.functionNameFromJSON=v3r;var zee=y3r(me()),b3r=ce();Os.FunctionName$inboundSchema=zee.object({name:zee.string()});Os.FunctionName$outboundSchema=zee.object({name:zee.string()});var YSt;(function(e){e.inboundSchema=Os.FunctionName$inboundSchema,e.outboundSchema=Os.FunctionName$outboundSchema})(YSt||(Os.FunctionName$=YSt={}));function _3r(e){return JSON.stringify(Os.FunctionName$outboundSchema.parse(e))}function v3r(e){return(0,b3r.safeParse)(e,t=>Os.FunctionName$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FunctionName' from JSON")}});var kk=b(Es=>{"use strict";var w3r=Es&&Es.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S3r=Es&&Es.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x3r=Es&&Es.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&w3r(t,e,r);return S3r(t,e),t};Object.defineProperty(Es,"__esModule",{value:!0});Es.ToolChoice$=Es.ToolChoice$outboundSchema=Es.ToolChoice$inboundSchema=void 0;Es.toolChoiceToJSON=O3r;Es.toolChoiceFromJSON=E3r;var XSt=x3r(me()),C3r=ce(),QSt=ZOe(),ext=y3();Es.ToolChoice$inboundSchema=XSt.object({type:ext.ToolTypes$inboundSchema.optional(),function:QSt.FunctionName$inboundSchema});Es.ToolChoice$outboundSchema=XSt.object({type:ext.ToolTypes$outboundSchema.optional(),function:QSt.FunctionName$outboundSchema});var ZSt;(function(e){e.inboundSchema=Es.ToolChoice$inboundSchema,e.outboundSchema=Es.ToolChoice$outboundSchema})(ZSt||(Es.ToolChoice$=ZSt={}));function O3r(e){return JSON.stringify(Es.ToolChoice$outboundSchema.parse(e))}function E3r(e){return(0,C3r.safeParse)(e,t=>Es.ToolChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ToolChoice' from JSON")}});var Bk=b(Ps=>{"use strict";var P3r=Ps&&Ps.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T3r=Ps&&Ps.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M3r=Ps&&Ps.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&P3r(t,e,r);return T3r(t,e),t};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.ToolChoiceEnum$=Ps.ToolChoiceEnum$outboundSchema=Ps.ToolChoiceEnum$inboundSchema=Ps.ToolChoiceEnum=void 0;var I3r=M3r(me());Ps.ToolChoiceEnum={Auto:"auto",None:"none",Any:"any",Required:"required"};Ps.ToolChoiceEnum$inboundSchema=I3r.nativeEnum(Ps.ToolChoiceEnum);Ps.ToolChoiceEnum$outboundSchema=Ps.ToolChoiceEnum$inboundSchema;var txt;(function(e){e.inboundSchema=Ps.ToolChoiceEnum$inboundSchema,e.outboundSchema=Ps.ToolChoiceEnum$outboundSchema})(txt||(Ps.ToolChoiceEnum$=txt={}))});var c1=b(Qt=>{"use strict";var A3r=Qt&&Qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R3r=Qt&&Qt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),D3r=Qt&&Qt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&A3r(t,e,r);return R3r(t,e),t};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ToolMessage$=Qt.ToolMessage$outboundSchema=Qt.ToolMessage$inboundSchema=Qt.ToolMessageRole$=Qt.ToolMessageRole$outboundSchema=Qt.ToolMessageRole$inboundSchema=Qt.ToolMessageContent$=Qt.ToolMessageContent$outboundSchema=Qt.ToolMessageContent$inboundSchema=Qt.ToolMessageRole=void 0;Qt.toolMessageContentToJSON=j3r;Qt.toolMessageContentFromJSON=N3r;Qt.toolMessageToJSON=L3r;Qt.toolMessageFromJSON=F3r;var Ti=D3r(me()),ixt=Oe(),axt=ce(),Hee=Dk();Qt.ToolMessageRole={Tool:"tool"};Qt.ToolMessageContent$inboundSchema=Ti.union([Ti.string(),Ti.array(Hee.ContentChunk$inboundSchema)]);Qt.ToolMessageContent$outboundSchema=Ti.union([Ti.string(),Ti.array(Hee.ContentChunk$outboundSchema)]);var rxt;(function(e){e.inboundSchema=Qt.ToolMessageContent$inboundSchema,e.outboundSchema=Qt.ToolMessageContent$outboundSchema})(rxt||(Qt.ToolMessageContent$=rxt={}));function j3r(e){return JSON.stringify(Qt.ToolMessageContent$outboundSchema.parse(e))}function N3r(e){return(0,axt.safeParse)(e,t=>Qt.ToolMessageContent$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ToolMessageContent' from JSON")}Qt.ToolMessageRole$inboundSchema=Ti.nativeEnum(Qt.ToolMessageRole);Qt.ToolMessageRole$outboundSchema=Qt.ToolMessageRole$inboundSchema;var nxt;(function(e){e.inboundSchema=Qt.ToolMessageRole$inboundSchema,e.outboundSchema=Qt.ToolMessageRole$outboundSchema})(nxt||(Qt.ToolMessageRole$=nxt={}));Qt.ToolMessage$inboundSchema=Ti.object({content:Ti.nullable(Ti.union([Ti.string(),Ti.array(Hee.ContentChunk$inboundSchema)])),tool_call_id:Ti.nullable(Ti.string()).optional(),name:Ti.nullable(Ti.string()).optional(),role:Qt.ToolMessageRole$inboundSchema.default("tool")}).transform(e=>(0,ixt.remap)(e,{tool_call_id:"toolCallId"}));Qt.ToolMessage$outboundSchema=Ti.object({content:Ti.nullable(Ti.union([Ti.string(),Ti.array(Hee.ContentChunk$outboundSchema)])),toolCallId:Ti.nullable(Ti.string()).optional(),name:Ti.nullable(Ti.string()).optional(),role:Qt.ToolMessageRole$outboundSchema.default("tool")}).transform(e=>(0,ixt.remap)(e,{toolCallId:"tool_call_id"}));var oxt;(function(e){e.inboundSchema=Qt.ToolMessage$inboundSchema,e.outboundSchema=Qt.ToolMessage$outboundSchema})(oxt||(Qt.ToolMessage$=oxt={}));function L3r(e){return JSON.stringify(Qt.ToolMessage$outboundSchema.parse(e))}function F3r(e){return(0,axt.safeParse)(e,t=>Qt.ToolMessage$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ToolMessage' from JSON")}});var d1=b(er=>{"use strict";var k3r=er&&er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B3r=er&&er.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$3r=er&&er.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k3r(t,e,r);return B3r(t,e),t};Object.defineProperty(er,"__esModule",{value:!0});er.UserMessage$=er.UserMessage$outboundSchema=er.UserMessage$inboundSchema=er.UserMessageRole$=er.UserMessageRole$outboundSchema=er.UserMessageRole$inboundSchema=er.UserMessageContent$=er.UserMessageContent$outboundSchema=er.UserMessageContent$inboundSchema=er.UserMessageRole=void 0;er.userMessageContentToJSON=q3r;er.userMessageContentFromJSON=U3r;er.userMessageToJSON=z3r;er.userMessageFromJSON=H3r;var sc=$3r(me()),cxt=ce(),Vee=Dk();er.UserMessageRole={User:"user"};er.UserMessageContent$inboundSchema=sc.union([sc.string(),sc.array(Vee.ContentChunk$inboundSchema)]);er.UserMessageContent$outboundSchema=sc.union([sc.string(),sc.array(Vee.ContentChunk$outboundSchema)]);var sxt;(function(e){e.inboundSchema=er.UserMessageContent$inboundSchema,e.outboundSchema=er.UserMessageContent$outboundSchema})(sxt||(er.UserMessageContent$=sxt={}));function q3r(e){return JSON.stringify(er.UserMessageContent$outboundSchema.parse(e))}function U3r(e){return(0,cxt.safeParse)(e,t=>er.UserMessageContent$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UserMessageContent' from JSON")}er.UserMessageRole$inboundSchema=sc.nativeEnum(er.UserMessageRole);er.UserMessageRole$outboundSchema=er.UserMessageRole$inboundSchema;var uxt;(function(e){e.inboundSchema=er.UserMessageRole$inboundSchema,e.outboundSchema=er.UserMessageRole$outboundSchema})(uxt||(er.UserMessageRole$=uxt={}));er.UserMessage$inboundSchema=sc.object({content:sc.nullable(sc.union([sc.string(),sc.array(Vee.ContentChunk$inboundSchema)])),role:er.UserMessageRole$inboundSchema.default("user")});er.UserMessage$outboundSchema=sc.object({content:sc.nullable(sc.union([sc.string(),sc.array(Vee.ContentChunk$outboundSchema)])),role:er.UserMessageRole$outboundSchema.default("user")});var lxt;(function(e){e.inboundSchema=er.UserMessage$inboundSchema,e.outboundSchema=er.UserMessage$outboundSchema})(lxt||(er.UserMessage$=lxt={}));function z3r(e){return JSON.stringify(er.UserMessage$outboundSchema.parse(e))}function H3r(e){return(0,cxt.safeParse)(e,t=>er.UserMessage$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UserMessage' from JSON")}});var _xt=b(xt=>{"use strict";var V3r=xt&&xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W3r=xt&&xt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),J3r=xt&&xt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&V3r(t,e,r);return W3r(t,e),t};Object.defineProperty(xt,"__esModule",{value:!0});xt.AgentsCompletionRequest$=xt.AgentsCompletionRequest$outboundSchema=xt.AgentsCompletionRequest$inboundSchema=xt.AgentsCompletionRequestToolChoice$=xt.AgentsCompletionRequestToolChoice$outboundSchema=xt.AgentsCompletionRequestToolChoice$inboundSchema=xt.AgentsCompletionRequestMessages$=xt.AgentsCompletionRequestMessages$outboundSchema=xt.AgentsCompletionRequestMessages$inboundSchema=xt.AgentsCompletionRequestStop$=xt.AgentsCompletionRequestStop$outboundSchema=xt.AgentsCompletionRequestStop$inboundSchema=void 0;xt.agentsCompletionRequestStopToJSON=G3r;xt.agentsCompletionRequestStopFromJSON=K3r;xt.agentsCompletionRequestMessagesToJSON=Y3r;xt.agentsCompletionRequestMessagesFromJSON=Z3r;xt.agentsCompletionRequestToolChoiceToJSON=X3r;xt.agentsCompletionRequestToolChoiceFromJSON=Q3r;xt.agentsCompletionRequestToJSON=e8r;xt.agentsCompletionRequestFromJSON=t8r;var Le=J3r(me()),mxt=Oe(),Wee=ce(),Jee=KP(),gxt=Nk(),yxt=Lk(),Gee=l1(),bxt=Fk(),Kee=kk(),Yee=Bk(),Zee=c1(),Xee=d1();xt.AgentsCompletionRequestStop$inboundSchema=Le.union([Le.string(),Le.array(Le.string())]);xt.AgentsCompletionRequestStop$outboundSchema=Le.union([Le.string(),Le.array(Le.string())]);var dxt;(function(e){e.inboundSchema=xt.AgentsCompletionRequestStop$inboundSchema,e.outboundSchema=xt.AgentsCompletionRequestStop$outboundSchema})(dxt||(xt.AgentsCompletionRequestStop$=dxt={}));function G3r(e){return JSON.stringify(xt.AgentsCompletionRequestStop$outboundSchema.parse(e))}function K3r(e){return(0,Wee.safeParse)(e,t=>xt.AgentsCompletionRequestStop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionRequestStop' from JSON")}xt.AgentsCompletionRequestMessages$inboundSchema=Le.union([Gee.SystemMessage$inboundSchema.and(Le.object({role:Le.literal("system")}).transform(e=>({role:e.role}))),Xee.UserMessage$inboundSchema.and(Le.object({role:Le.literal("user")}).transform(e=>({role:e.role}))),Jee.AssistantMessage$inboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(e=>({role:e.role}))),Zee.ToolMessage$inboundSchema.and(Le.object({role:Le.literal("tool")}).transform(e=>({role:e.role})))]);xt.AgentsCompletionRequestMessages$outboundSchema=Le.union([Gee.SystemMessage$outboundSchema.and(Le.object({role:Le.literal("system")}).transform(e=>({role:e.role}))),Xee.UserMessage$outboundSchema.and(Le.object({role:Le.literal("user")}).transform(e=>({role:e.role}))),Jee.AssistantMessage$outboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(e=>({role:e.role}))),Zee.ToolMessage$outboundSchema.and(Le.object({role:Le.literal("tool")}).transform(e=>({role:e.role})))]);var fxt;(function(e){e.inboundSchema=xt.AgentsCompletionRequestMessages$inboundSchema,e.outboundSchema=xt.AgentsCompletionRequestMessages$outboundSchema})(fxt||(xt.AgentsCompletionRequestMessages$=fxt={}));function Y3r(e){return JSON.stringify(xt.AgentsCompletionRequestMessages$outboundSchema.parse(e))}function Z3r(e){return(0,Wee.safeParse)(e,t=>xt.AgentsCompletionRequestMessages$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionRequestMessages' from JSON")}xt.AgentsCompletionRequestToolChoice$inboundSchema=Le.union([Kee.ToolChoice$inboundSchema,Yee.ToolChoiceEnum$inboundSchema]);xt.AgentsCompletionRequestToolChoice$outboundSchema=Le.union([Kee.ToolChoice$outboundSchema,Yee.ToolChoiceEnum$outboundSchema]);var pxt;(function(e){e.inboundSchema=xt.AgentsCompletionRequestToolChoice$inboundSchema,e.outboundSchema=xt.AgentsCompletionRequestToolChoice$outboundSchema})(pxt||(xt.AgentsCompletionRequestToolChoice$=pxt={}));function X3r(e){return JSON.stringify(xt.AgentsCompletionRequestToolChoice$outboundSchema.parse(e))}function Q3r(e){return(0,Wee.safeParse)(e,t=>xt.AgentsCompletionRequestToolChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionRequestToolChoice' from JSON")}xt.AgentsCompletionRequest$inboundSchema=Le.object({max_tokens:Le.nullable(Le.number().int()).optional(),stream:Le.boolean().default(!1),stop:Le.union([Le.string(),Le.array(Le.string())]).optional(),random_seed:Le.nullable(Le.number().int()).optional(),messages:Le.array(Le.union([Gee.SystemMessage$inboundSchema.and(Le.object({role:Le.literal("system")}).transform(e=>({role:e.role}))),Xee.UserMessage$inboundSchema.and(Le.object({role:Le.literal("user")}).transform(e=>({role:e.role}))),Jee.AssistantMessage$inboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(e=>({role:e.role}))),Zee.ToolMessage$inboundSchema.and(Le.object({role:Le.literal("tool")}).transform(e=>({role:e.role})))])),response_format:yxt.ResponseFormat$inboundSchema.optional(),tools:Le.nullable(Le.array(bxt.Tool$inboundSchema)).optional(),tool_choice:Le.union([Kee.ToolChoice$inboundSchema,Yee.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Le.number().optional(),frequency_penalty:Le.number().optional(),n:Le.nullable(Le.number().int()).optional(),prediction:gxt.Prediction$inboundSchema.optional(),agent_id:Le.string()}).transform(e=>(0,mxt.remap)(e,{max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",agent_id:"agentId"}));xt.AgentsCompletionRequest$outboundSchema=Le.object({maxTokens:Le.nullable(Le.number().int()).optional(),stream:Le.boolean().default(!1),stop:Le.union([Le.string(),Le.array(Le.string())]).optional(),randomSeed:Le.nullable(Le.number().int()).optional(),messages:Le.array(Le.union([Gee.SystemMessage$outboundSchema.and(Le.object({role:Le.literal("system")}).transform(e=>({role:e.role}))),Xee.UserMessage$outboundSchema.and(Le.object({role:Le.literal("user")}).transform(e=>({role:e.role}))),Jee.AssistantMessage$outboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(e=>({role:e.role}))),Zee.ToolMessage$outboundSchema.and(Le.object({role:Le.literal("tool")}).transform(e=>({role:e.role})))])),responseFormat:yxt.ResponseFormat$outboundSchema.optional(),tools:Le.nullable(Le.array(bxt.Tool$outboundSchema)).optional(),toolChoice:Le.union([Kee.ToolChoice$outboundSchema,Yee.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Le.number().optional(),frequencyPenalty:Le.number().optional(),n:Le.nullable(Le.number().int()).optional(),prediction:gxt.Prediction$outboundSchema.optional(),agentId:Le.string()}).transform(e=>(0,mxt.remap)(e,{maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",agentId:"agent_id"}));var hxt;(function(e){e.inboundSchema=xt.AgentsCompletionRequest$inboundSchema,e.outboundSchema=xt.AgentsCompletionRequest$outboundSchema})(hxt||(xt.AgentsCompletionRequest$=hxt={}));function e8r(e){return JSON.stringify(xt.AgentsCompletionRequest$outboundSchema.parse(e))}function t8r(e){return(0,Wee.safeParse)(e,t=>xt.AgentsCompletionRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionRequest' from JSON")}});var Txt=b(Ct=>{"use strict";var r8r=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n8r=Ct&&Ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o8r=Ct&&Ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r8r(t,e,r);return n8r(t,e),t};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.AgentsCompletionStreamRequest$=Ct.AgentsCompletionStreamRequest$outboundSchema=Ct.AgentsCompletionStreamRequest$inboundSchema=Ct.AgentsCompletionStreamRequestToolChoice$=Ct.AgentsCompletionStreamRequestToolChoice$outboundSchema=Ct.AgentsCompletionStreamRequestToolChoice$inboundSchema=Ct.AgentsCompletionStreamRequestMessages$=Ct.AgentsCompletionStreamRequestMessages$outboundSchema=Ct.AgentsCompletionStreamRequestMessages$inboundSchema=Ct.AgentsCompletionStreamRequestStop$=Ct.AgentsCompletionStreamRequestStop$outboundSchema=Ct.AgentsCompletionStreamRequestStop$inboundSchema=void 0;Ct.agentsCompletionStreamRequestStopToJSON=i8r;Ct.agentsCompletionStreamRequestStopFromJSON=a8r;Ct.agentsCompletionStreamRequestMessagesToJSON=s8r;Ct.agentsCompletionStreamRequestMessagesFromJSON=u8r;Ct.agentsCompletionStreamRequestToolChoiceToJSON=l8r;Ct.agentsCompletionStreamRequestToolChoiceFromJSON=c8r;Ct.agentsCompletionStreamRequestToJSON=d8r;Ct.agentsCompletionStreamRequestFromJSON=f8r;var Fe=o8r(me()),Cxt=Oe(),Qee=ce(),ete=KP(),Oxt=Nk(),Ext=Lk(),tte=l1(),Pxt=Fk(),rte=kk(),nte=Bk(),ote=c1(),ite=d1();Ct.AgentsCompletionStreamRequestStop$inboundSchema=Fe.union([Fe.string(),Fe.array(Fe.string())]);Ct.AgentsCompletionStreamRequestStop$outboundSchema=Fe.union([Fe.string(),Fe.array(Fe.string())]);var vxt;(function(e){e.inboundSchema=Ct.AgentsCompletionStreamRequestStop$inboundSchema,e.outboundSchema=Ct.AgentsCompletionStreamRequestStop$outboundSchema})(vxt||(Ct.AgentsCompletionStreamRequestStop$=vxt={}));function i8r(e){return JSON.stringify(Ct.AgentsCompletionStreamRequestStop$outboundSchema.parse(e))}function a8r(e){return(0,Qee.safeParse)(e,t=>Ct.AgentsCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionStreamRequestStop' from JSON")}Ct.AgentsCompletionStreamRequestMessages$inboundSchema=Fe.union([tte.SystemMessage$inboundSchema.and(Fe.object({role:Fe.literal("system")}).transform(e=>({role:e.role}))),ite.UserMessage$inboundSchema.and(Fe.object({role:Fe.literal("user")}).transform(e=>({role:e.role}))),ete.AssistantMessage$inboundSchema.and(Fe.object({role:Fe.literal("assistant")}).transform(e=>({role:e.role}))),ote.ToolMessage$inboundSchema.and(Fe.object({role:Fe.literal("tool")}).transform(e=>({role:e.role})))]);Ct.AgentsCompletionStreamRequestMessages$outboundSchema=Fe.union([tte.SystemMessage$outboundSchema.and(Fe.object({role:Fe.literal("system")}).transform(e=>({role:e.role}))),ite.UserMessage$outboundSchema.and(Fe.object({role:Fe.literal("user")}).transform(e=>({role:e.role}))),ete.AssistantMessage$outboundSchema.and(Fe.object({role:Fe.literal("assistant")}).transform(e=>({role:e.role}))),ote.ToolMessage$outboundSchema.and(Fe.object({role:Fe.literal("tool")}).transform(e=>({role:e.role})))]);var wxt;(function(e){e.inboundSchema=Ct.AgentsCompletionStreamRequestMessages$inboundSchema,e.outboundSchema=Ct.AgentsCompletionStreamRequestMessages$outboundSchema})(wxt||(Ct.AgentsCompletionStreamRequestMessages$=wxt={}));function s8r(e){return JSON.stringify(Ct.AgentsCompletionStreamRequestMessages$outboundSchema.parse(e))}function u8r(e){return(0,Qee.safeParse)(e,t=>Ct.AgentsCompletionStreamRequestMessages$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionStreamRequestMessages' from JSON")}Ct.AgentsCompletionStreamRequestToolChoice$inboundSchema=Fe.union([rte.ToolChoice$inboundSchema,nte.ToolChoiceEnum$inboundSchema]);Ct.AgentsCompletionStreamRequestToolChoice$outboundSchema=Fe.union([rte.ToolChoice$outboundSchema,nte.ToolChoiceEnum$outboundSchema]);var Sxt;(function(e){e.inboundSchema=Ct.AgentsCompletionStreamRequestToolChoice$inboundSchema,e.outboundSchema=Ct.AgentsCompletionStreamRequestToolChoice$outboundSchema})(Sxt||(Ct.AgentsCompletionStreamRequestToolChoice$=Sxt={}));function l8r(e){return JSON.stringify(Ct.AgentsCompletionStreamRequestToolChoice$outboundSchema.parse(e))}function c8r(e){return(0,Qee.safeParse)(e,t=>Ct.AgentsCompletionStreamRequestToolChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionStreamRequestToolChoice' from JSON")}Ct.AgentsCompletionStreamRequest$inboundSchema=Fe.object({max_tokens:Fe.nullable(Fe.number().int()).optional(),stream:Fe.boolean().default(!0),stop:Fe.union([Fe.string(),Fe.array(Fe.string())]).optional(),random_seed:Fe.nullable(Fe.number().int()).optional(),messages:Fe.array(Fe.union([tte.SystemMessage$inboundSchema.and(Fe.object({role:Fe.literal("system")}).transform(e=>({role:e.role}))),ite.UserMessage$inboundSchema.and(Fe.object({role:Fe.literal("user")}).transform(e=>({role:e.role}))),ete.AssistantMessage$inboundSchema.and(Fe.object({role:Fe.literal("assistant")}).transform(e=>({role:e.role}))),ote.ToolMessage$inboundSchema.and(Fe.object({role:Fe.literal("tool")}).transform(e=>({role:e.role})))])),response_format:Ext.ResponseFormat$inboundSchema.optional(),tools:Fe.nullable(Fe.array(Pxt.Tool$inboundSchema)).optional(),tool_choice:Fe.union([rte.ToolChoice$inboundSchema,nte.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Fe.number().optional(),frequency_penalty:Fe.number().optional(),n:Fe.nullable(Fe.number().int()).optional(),prediction:Oxt.Prediction$inboundSchema.optional(),agent_id:Fe.string()}).transform(e=>(0,Cxt.remap)(e,{max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",agent_id:"agentId"}));Ct.AgentsCompletionStreamRequest$outboundSchema=Fe.object({maxTokens:Fe.nullable(Fe.number().int()).optional(),stream:Fe.boolean().default(!0),stop:Fe.union([Fe.string(),Fe.array(Fe.string())]).optional(),randomSeed:Fe.nullable(Fe.number().int()).optional(),messages:Fe.array(Fe.union([tte.SystemMessage$outboundSchema.and(Fe.object({role:Fe.literal("system")}).transform(e=>({role:e.role}))),ite.UserMessage$outboundSchema.and(Fe.object({role:Fe.literal("user")}).transform(e=>({role:e.role}))),ete.AssistantMessage$outboundSchema.and(Fe.object({role:Fe.literal("assistant")}).transform(e=>({role:e.role}))),ote.ToolMessage$outboundSchema.and(Fe.object({role:Fe.literal("tool")}).transform(e=>({role:e.role})))])),responseFormat:Ext.ResponseFormat$outboundSchema.optional(),tools:Fe.nullable(Fe.array(Pxt.Tool$outboundSchema)).optional(),toolChoice:Fe.union([rte.ToolChoice$outboundSchema,nte.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Fe.number().optional(),frequencyPenalty:Fe.number().optional(),n:Fe.nullable(Fe.number().int()).optional(),prediction:Oxt.Prediction$outboundSchema.optional(),agentId:Fe.string()}).transform(e=>(0,Cxt.remap)(e,{maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",agentId:"agent_id"}));var xxt;(function(e){e.inboundSchema=Ct.AgentsCompletionStreamRequest$inboundSchema,e.outboundSchema=Ct.AgentsCompletionStreamRequest$outboundSchema})(xxt||(Ct.AgentsCompletionStreamRequest$=xxt={}));function d8r(e){return JSON.stringify(Ct.AgentsCompletionStreamRequest$outboundSchema.parse(e))}function f8r(e){return(0,Qee.safeParse)(e,t=>Ct.AgentsCompletionStreamRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'AgentsCompletionStreamRequest' from JSON")}});var XOe=b(Ts=>{"use strict";var p8r=Ts&&Ts.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h8r=Ts&&Ts.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),m8r=Ts&&Ts.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p8r(t,e,r);return h8r(t,e),t};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ApiEndpoint$=Ts.ApiEndpoint$outboundSchema=Ts.ApiEndpoint$inboundSchema=Ts.ApiEndpoint=void 0;var f1=m8r(me()),g8r=GP();Ts.ApiEndpoint={RootV1ChatCompletions:"/v1/chat/completions",RootV1Embeddings:"/v1/embeddings",RootV1FimCompletions:"/v1/fim/completions",RootV1Moderations:"/v1/moderations",RootV1ChatModerations:"/v1/chat/moderations"};Ts.ApiEndpoint$inboundSchema=f1.union([f1.nativeEnum(Ts.ApiEndpoint),f1.string().transform(g8r.catchUnrecognizedEnum)]);Ts.ApiEndpoint$outboundSchema=f1.union([f1.nativeEnum(Ts.ApiEndpoint),f1.string().and(f1.custom())]);var Mxt;(function(e){e.inboundSchema=Ts.ApiEndpoint$inboundSchema,e.outboundSchema=Ts.ApiEndpoint$outboundSchema})(Mxt||(Ts.ApiEndpoint$=Mxt={}))});var Rxt=b(Jn=>{"use strict";var y8r=Jn&&Jn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b8r=Jn&&Jn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_8r=Jn&&Jn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&y8r(t,e,r);return b8r(t,e),t};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ArchiveFTModelOut$=Jn.ArchiveFTModelOut$outboundSchema=Jn.ArchiveFTModelOut$inboundSchema=Jn.ArchiveFTModelOutObject$=Jn.ArchiveFTModelOutObject$outboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema=Jn.ArchiveFTModelOutObject=void 0;Jn.archiveFTModelOutToJSON=w8r;Jn.archiveFTModelOutFromJSON=S8r;var eC=_8r(me()),v8r=ce();Jn.ArchiveFTModelOutObject={Model:"model"};Jn.ArchiveFTModelOutObject$inboundSchema=eC.nativeEnum(Jn.ArchiveFTModelOutObject);Jn.ArchiveFTModelOutObject$outboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema;var Ixt;(function(e){e.inboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema,e.outboundSchema=Jn.ArchiveFTModelOutObject$outboundSchema})(Ixt||(Jn.ArchiveFTModelOutObject$=Ixt={}));Jn.ArchiveFTModelOut$inboundSchema=eC.object({id:eC.string(),object:eC.literal("model").default("model"),archived:eC.boolean().default(!0)});Jn.ArchiveFTModelOut$outboundSchema=eC.object({id:eC.string(),object:eC.literal("model").default("model"),archived:eC.boolean().default(!0)});var Axt;(function(e){e.inboundSchema=Jn.ArchiveFTModelOut$inboundSchema,e.outboundSchema=Jn.ArchiveFTModelOut$outboundSchema})(Axt||(Jn.ArchiveFTModelOut$=Axt={}));function w8r(e){return JSON.stringify(Jn.ArchiveFTModelOut$outboundSchema.parse(e))}function S8r(e){return(0,v8r.safeParse)(e,t=>Jn.ArchiveFTModelOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ArchiveFTModelOut' from JSON")}});var ate=b(Ms=>{"use strict";var x8r=Ms&&Ms.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),C8r=Ms&&Ms.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O8r=Ms&&Ms.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&x8r(t,e,r);return C8r(t,e),t};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.ModelCapabilities$=Ms.ModelCapabilities$outboundSchema=Ms.ModelCapabilities$inboundSchema=void 0;Ms.modelCapabilitiesToJSON=P8r;Ms.modelCapabilitiesFromJSON=T8r;var Xh=O8r(me()),jxt=Oe(),E8r=ce();Ms.ModelCapabilities$inboundSchema=Xh.object({completion_chat:Xh.boolean().default(!0),completion_fim:Xh.boolean().default(!1),function_calling:Xh.boolean().default(!0),fine_tuning:Xh.boolean().default(!1),vision:Xh.boolean().default(!1)}).transform(e=>(0,jxt.remap)(e,{completion_chat:"completionChat",completion_fim:"completionFim",function_calling:"functionCalling",fine_tuning:"fineTuning"}));Ms.ModelCapabilities$outboundSchema=Xh.object({completionChat:Xh.boolean().default(!0),completionFim:Xh.boolean().default(!1),functionCalling:Xh.boolean().default(!0),fineTuning:Xh.boolean().default(!1),vision:Xh.boolean().default(!1)}).transform(e=>(0,jxt.remap)(e,{completionChat:"completion_chat",completionFim:"completion_fim",functionCalling:"function_calling",fineTuning:"fine_tuning"}));var Dxt;(function(e){e.inboundSchema=Ms.ModelCapabilities$inboundSchema,e.outboundSchema=Ms.ModelCapabilities$outboundSchema})(Dxt||(Ms.ModelCapabilities$=Dxt={}));function P8r(e){return JSON.stringify(Ms.ModelCapabilities$outboundSchema.parse(e))}function T8r(e){return(0,E8r.safeParse)(e,t=>Ms.ModelCapabilities$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ModelCapabilities' from JSON")}});var QOe=b(Gn=>{"use strict";var M8r=Gn&&Gn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I8r=Gn&&Gn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),A8r=Gn&&Gn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M8r(t,e,r);return I8r(t,e),t};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.BaseModelCard$=Gn.BaseModelCard$outboundSchema=Gn.BaseModelCard$inboundSchema=Gn.Type$=Gn.Type$outboundSchema=Gn.Type$inboundSchema=Gn.Type=void 0;Gn.baseModelCardToJSON=D8r;Gn.baseModelCardFromJSON=j8r;var _n=A8r(me()),Fxt=Oe(),R8r=ce(),kxt=ate();Gn.Type={Base:"base"};Gn.Type$inboundSchema=_n.nativeEnum(Gn.Type);Gn.Type$outboundSchema=Gn.Type$inboundSchema;var Nxt;(function(e){e.inboundSchema=Gn.Type$inboundSchema,e.outboundSchema=Gn.Type$outboundSchema})(Nxt||(Gn.Type$=Nxt={}));Gn.BaseModelCard$inboundSchema=_n.object({id:_n.string(),object:_n.string().default("model"),created:_n.number().int().optional(),owned_by:_n.string().default("mistralai"),capabilities:kxt.ModelCapabilities$inboundSchema,name:_n.nullable(_n.string()).optional(),description:_n.nullable(_n.string()).optional(),max_context_length:_n.number().int().default(32768),aliases:_n.array(_n.string()).optional(),deprecation:_n.nullable(_n.string().datetime({offset:!0}).transform(e=>new Date(e))).optional(),default_model_temperature:_n.nullable(_n.number()).optional(),type:_n.literal("base").default("base")}).transform(e=>(0,Fxt.remap)(e,{owned_by:"ownedBy",max_context_length:"maxContextLength",default_model_temperature:"defaultModelTemperature"}));Gn.BaseModelCard$outboundSchema=_n.object({id:_n.string(),object:_n.string().default("model"),created:_n.number().int().optional(),ownedBy:_n.string().default("mistralai"),capabilities:kxt.ModelCapabilities$outboundSchema,name:_n.nullable(_n.string()).optional(),description:_n.nullable(_n.string()).optional(),maxContextLength:_n.number().int().default(32768),aliases:_n.array(_n.string()).optional(),deprecation:_n.nullable(_n.date().transform(e=>e.toISOString())).optional(),defaultModelTemperature:_n.nullable(_n.number()).optional(),type:_n.literal("base").default("base")}).transform(e=>(0,Fxt.remap)(e,{ownedBy:"owned_by",maxContextLength:"max_context_length",defaultModelTemperature:"default_model_temperature"}));var Lxt;(function(e){e.inboundSchema=Gn.BaseModelCard$inboundSchema,e.outboundSchema=Gn.BaseModelCard$outboundSchema})(Lxt||(Gn.BaseModelCard$=Lxt={}));function D8r(e){return JSON.stringify(Gn.BaseModelCard$outboundSchema.parse(e))}function j8r(e){return(0,R8r.safeParse)(e,t=>Gn.BaseModelCard$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'BaseModelCard' from JSON")}});var eEe=b(Is=>{"use strict";var N8r=Is&&Is.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L8r=Is&&Is.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),F8r=Is&&Is.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&N8r(t,e,r);return L8r(t,e),t};Object.defineProperty(Is,"__esModule",{value:!0});Is.BatchError$=Is.BatchError$outboundSchema=Is.BatchError$inboundSchema=void 0;Is.batchErrorToJSON=B8r;Is.batchErrorFromJSON=$8r;var $k=F8r(me()),k8r=ce();Is.BatchError$inboundSchema=$k.object({message:$k.string(),count:$k.number().int().default(1)});Is.BatchError$outboundSchema=$k.object({message:$k.string(),count:$k.number().int().default(1)});var Bxt;(function(e){e.inboundSchema=Is.BatchError$inboundSchema,e.outboundSchema=Is.BatchError$outboundSchema})(Bxt||(Is.BatchError$=Bxt={}));function B8r(e){return JSON.stringify(Is.BatchError$outboundSchema.parse(e))}function $8r(e){return(0,k8r.safeParse)(e,t=>Is.BatchError$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'BatchError' from JSON")}});var zxt=b(As=>{"use strict";var q8r=As&&As.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U8r=As&&As.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),z8r=As&&As.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&q8r(t,e,r);return U8r(t,e),t};Object.defineProperty(As,"__esModule",{value:!0});As.BatchJobIn$=As.BatchJobIn$outboundSchema=As.BatchJobIn$inboundSchema=void 0;As.batchJobInToJSON=V8r;As.batchJobInFromJSON=W8r;var nd=z8r(me()),qxt=Oe(),H8r=ce(),Uxt=XOe();As.BatchJobIn$inboundSchema=nd.object({input_files:nd.array(nd.string()),endpoint:Uxt.ApiEndpoint$inboundSchema,model:nd.string(),metadata:nd.nullable(nd.record(nd.string())).optional(),timeout_hours:nd.number().int().default(24)}).transform(e=>(0,qxt.remap)(e,{input_files:"inputFiles",timeout_hours:"timeoutHours"}));As.BatchJobIn$outboundSchema=nd.object({inputFiles:nd.array(nd.string()),endpoint:Uxt.ApiEndpoint$outboundSchema,model:nd.string(),metadata:nd.nullable(nd.record(nd.string())).optional(),timeoutHours:nd.number().int().default(24)}).transform(e=>(0,qxt.remap)(e,{inputFiles:"input_files",timeoutHours:"timeout_hours"}));var $xt;(function(e){e.inboundSchema=As.BatchJobIn$inboundSchema,e.outboundSchema=As.BatchJobIn$outboundSchema})($xt||(As.BatchJobIn$=$xt={}));function V8r(e){return JSON.stringify(As.BatchJobIn$outboundSchema.parse(e))}function W8r(e){return(0,H8r.safeParse)(e,t=>As.BatchJobIn$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'BatchJobIn' from JSON")}});var tEe=b(Rs=>{"use strict";var J8r=Rs&&Rs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G8r=Rs&&Rs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K8r=Rs&&Rs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J8r(t,e,r);return G8r(t,e),t};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.BatchJobStatus$=Rs.BatchJobStatus$outboundSchema=Rs.BatchJobStatus$inboundSchema=Rs.BatchJobStatus=void 0;var Y8r=K8r(me());Rs.BatchJobStatus={Queued:"QUEUED",Running:"RUNNING",Success:"SUCCESS",Failed:"FAILED",TimeoutExceeded:"TIMEOUT_EXCEEDED",CancellationRequested:"CANCELLATION_REQUESTED",Cancelled:"CANCELLED"};Rs.BatchJobStatus$inboundSchema=Y8r.nativeEnum(Rs.BatchJobStatus);Rs.BatchJobStatus$outboundSchema=Rs.BatchJobStatus$inboundSchema;var Hxt;(function(e){e.inboundSchema=Rs.BatchJobStatus$inboundSchema,e.outboundSchema=Rs.BatchJobStatus$outboundSchema})(Hxt||(Rs.BatchJobStatus$=Hxt={}))});var rEe=b(Kn=>{"use strict";var Z8r=Kn&&Kn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),X8r=Kn&&Kn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q8r=Kn&&Kn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Z8r(t,e,r);return X8r(t,e),t};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.BatchJobOut$=Kn.BatchJobOut$outboundSchema=Kn.BatchJobOut$inboundSchema=Kn.BatchJobOutObject$=Kn.BatchJobOutObject$outboundSchema=Kn.BatchJobOutObject$inboundSchema=Kn.BatchJobOutObject=void 0;Kn.batchJobOutToJSON=tHr;Kn.batchJobOutFromJSON=rHr;var kt=Q8r(me()),Jxt=Oe(),eHr=ce(),Gxt=eEe(),Kxt=tEe();Kn.BatchJobOutObject={Batch:"batch"};Kn.BatchJobOutObject$inboundSchema=kt.nativeEnum(Kn.BatchJobOutObject);Kn.BatchJobOutObject$outboundSchema=Kn.BatchJobOutObject$inboundSchema;var Vxt;(function(e){e.inboundSchema=Kn.BatchJobOutObject$inboundSchema,e.outboundSchema=Kn.BatchJobOutObject$outboundSchema})(Vxt||(Kn.BatchJobOutObject$=Vxt={}));Kn.BatchJobOut$inboundSchema=kt.object({id:kt.string(),object:kt.literal("batch").default("batch"),input_files:kt.array(kt.string()),metadata:kt.nullable(kt.record(kt.any())).optional(),endpoint:kt.string(),model:kt.string(),output_file:kt.nullable(kt.string()).optional(),error_file:kt.nullable(kt.string()).optional(),errors:kt.array(Gxt.BatchError$inboundSchema),status:Kxt.BatchJobStatus$inboundSchema,created_at:kt.number().int(),total_requests:kt.number().int(),completed_requests:kt.number().int(),succeeded_requests:kt.number().int(),failed_requests:kt.number().int(),started_at:kt.nullable(kt.number().int()).optional(),completed_at:kt.nullable(kt.number().int()).optional()}).transform(e=>(0,Jxt.remap)(e,{input_files:"inputFiles",output_file:"outputFile",error_file:"errorFile",created_at:"createdAt",total_requests:"totalRequests",completed_requests:"completedRequests",succeeded_requests:"succeededRequests",failed_requests:"failedRequests",started_at:"startedAt",completed_at:"completedAt"}));Kn.BatchJobOut$outboundSchema=kt.object({id:kt.string(),object:kt.literal("batch").default("batch"),inputFiles:kt.array(kt.string()),metadata:kt.nullable(kt.record(kt.any())).optional(),endpoint:kt.string(),model:kt.string(),outputFile:kt.nullable(kt.string()).optional(),errorFile:kt.nullable(kt.string()).optional(),errors:kt.array(Gxt.BatchError$outboundSchema),status:Kxt.BatchJobStatus$outboundSchema,createdAt:kt.number().int(),totalRequests:kt.number().int(),completedRequests:kt.number().int(),succeededRequests:kt.number().int(),failedRequests:kt.number().int(),startedAt:kt.nullable(kt.number().int()).optional(),completedAt:kt.nullable(kt.number().int()).optional()}).transform(e=>(0,Jxt.remap)(e,{inputFiles:"input_files",outputFile:"output_file",errorFile:"error_file",createdAt:"created_at",totalRequests:"total_requests",completedRequests:"completed_requests",succeededRequests:"succeeded_requests",failedRequests:"failed_requests",startedAt:"started_at",completedAt:"completed_at"}));var Wxt;(function(e){e.inboundSchema=Kn.BatchJobOut$inboundSchema,e.outboundSchema=Kn.BatchJobOut$outboundSchema})(Wxt||(Kn.BatchJobOut$=Wxt={}));function tHr(e){return JSON.stringify(Kn.BatchJobOut$outboundSchema.parse(e))}function rHr(e){return(0,eHr.safeParse)(e,t=>Kn.BatchJobOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'BatchJobOut' from JSON")}});var Qxt=b(Yn=>{"use strict";var nHr=Yn&&Yn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oHr=Yn&&Yn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),iHr=Yn&&Yn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nHr(t,e,r);return oHr(t,e),t};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.BatchJobsOut$=Yn.BatchJobsOut$outboundSchema=Yn.BatchJobsOut$inboundSchema=Yn.BatchJobsOutObject$=Yn.BatchJobsOutObject$outboundSchema=Yn.BatchJobsOutObject$inboundSchema=Yn.BatchJobsOutObject=void 0;Yn.batchJobsOutToJSON=sHr;Yn.batchJobsOutFromJSON=uHr;var tC=iHr(me()),aHr=ce(),Xxt=rEe();Yn.BatchJobsOutObject={List:"list"};Yn.BatchJobsOutObject$inboundSchema=tC.nativeEnum(Yn.BatchJobsOutObject);Yn.BatchJobsOutObject$outboundSchema=Yn.BatchJobsOutObject$inboundSchema;var Yxt;(function(e){e.inboundSchema=Yn.BatchJobsOutObject$inboundSchema,e.outboundSchema=Yn.BatchJobsOutObject$outboundSchema})(Yxt||(Yn.BatchJobsOutObject$=Yxt={}));Yn.BatchJobsOut$inboundSchema=tC.object({data:tC.array(Xxt.BatchJobOut$inboundSchema).optional(),object:tC.literal("list").default("list"),total:tC.number().int()});Yn.BatchJobsOut$outboundSchema=tC.object({data:tC.array(Xxt.BatchJobOut$outboundSchema).optional(),object:tC.literal("list").default("list"),total:tC.number().int()});var Zxt;(function(e){e.inboundSchema=Yn.BatchJobsOut$inboundSchema,e.outboundSchema=Yn.BatchJobsOut$outboundSchema})(Zxt||(Yn.BatchJobsOut$=Zxt={}));function sHr(e){return JSON.stringify(Yn.BatchJobsOut$outboundSchema.parse(e))}function uHr(e){return(0,aHr.safeParse)(e,t=>Yn.BatchJobsOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'BatchJobsOut' from JSON")}});var iCt=b(Ot=>{"use strict";var lHr=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cHr=Ot&&Ot.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dHr=Ot&&Ot.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lHr(t,e,r);return cHr(t,e),t};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.ChatClassificationRequest$=Ot.ChatClassificationRequest$outboundSchema=Ot.ChatClassificationRequest$inboundSchema=Ot.ChatClassificationRequestInputs$=Ot.ChatClassificationRequestInputs$outboundSchema=Ot.ChatClassificationRequestInputs$inboundSchema=Ot.One$=Ot.One$outboundSchema=Ot.One$inboundSchema=Ot.Two$=Ot.Two$outboundSchema=Ot.Two$inboundSchema=void 0;Ot.twoToJSON=fHr;Ot.twoFromJSON=pHr;Ot.oneToJSON=hHr;Ot.oneFromJSON=mHr;Ot.chatClassificationRequestInputsToJSON=gHr;Ot.chatClassificationRequestInputsFromJSON=yHr;Ot.chatClassificationRequestToJSON=bHr;Ot.chatClassificationRequestFromJSON=_Hr;var se=dHr(me()),oCt=Oe(),ste=ce(),Qh=KP(),em=l1(),tm=c1(),rm=d1();Ot.Two$inboundSchema=se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))]);Ot.Two$outboundSchema=se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))]);var eCt;(function(e){e.inboundSchema=Ot.Two$inboundSchema,e.outboundSchema=Ot.Two$outboundSchema})(eCt||(Ot.Two$=eCt={}));function fHr(e){return JSON.stringify(Ot.Two$outboundSchema.parse(e))}function pHr(e){return(0,ste.safeParse)(e,t=>Ot.Two$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Two' from JSON")}Ot.One$inboundSchema=se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))]);Ot.One$outboundSchema=se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))]);var tCt;(function(e){e.inboundSchema=Ot.One$inboundSchema,e.outboundSchema=Ot.One$outboundSchema})(tCt||(Ot.One$=tCt={}));function hHr(e){return JSON.stringify(Ot.One$outboundSchema.parse(e))}function mHr(e){return(0,ste.safeParse)(e,t=>Ot.One$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'One' from JSON")}Ot.ChatClassificationRequestInputs$inboundSchema=se.union([se.array(se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])),se.array(se.array(se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])))]);Ot.ChatClassificationRequestInputs$outboundSchema=se.union([se.array(se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])),se.array(se.array(se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])))]);var rCt;(function(e){e.inboundSchema=Ot.ChatClassificationRequestInputs$inboundSchema,e.outboundSchema=Ot.ChatClassificationRequestInputs$outboundSchema})(rCt||(Ot.ChatClassificationRequestInputs$=rCt={}));function gHr(e){return JSON.stringify(Ot.ChatClassificationRequestInputs$outboundSchema.parse(e))}function yHr(e){return(0,ste.safeParse)(e,t=>Ot.ChatClassificationRequestInputs$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatClassificationRequestInputs' from JSON")}Ot.ChatClassificationRequest$inboundSchema=se.object({input:se.union([se.array(se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])),se.array(se.array(se.union([em.SystemMessage$inboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$inboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$inboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$inboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])))]),model:se.nullable(se.string())}).transform(e=>(0,oCt.remap)(e,{input:"inputs"}));Ot.ChatClassificationRequest$outboundSchema=se.object({inputs:se.union([se.array(se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])),se.array(se.array(se.union([em.SystemMessage$outboundSchema.and(se.object({role:se.literal("system")}).transform(e=>({role:e.role}))),rm.UserMessage$outboundSchema.and(se.object({role:se.literal("user")}).transform(e=>({role:e.role}))),Qh.AssistantMessage$outboundSchema.and(se.object({role:se.literal("assistant")}).transform(e=>({role:e.role}))),tm.ToolMessage$outboundSchema.and(se.object({role:se.literal("tool")}).transform(e=>({role:e.role})))])))]),model:se.nullable(se.string())}).transform(e=>(0,oCt.remap)(e,{inputs:"input"}));var nCt;(function(e){e.inboundSchema=Ot.ChatClassificationRequest$inboundSchema,e.outboundSchema=Ot.ChatClassificationRequest$outboundSchema})(nCt||(Ot.ChatClassificationRequest$=nCt={}));function bHr(e){return JSON.stringify(Ot.ChatClassificationRequest$outboundSchema.parse(e))}function _Hr(e){return(0,ste.safeParse)(e,t=>Ot.ChatClassificationRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatClassificationRequest' from JSON")}});var ute=b(Tn=>{"use strict";var vHr=Tn&&Tn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wHr=Tn&&Tn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),SHr=Tn&&Tn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vHr(t,e,r);return wHr(t,e),t};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ChatCompletionChoice$=Tn.ChatCompletionChoice$outboundSchema=Tn.ChatCompletionChoice$inboundSchema=Tn.FinishReason$=Tn.FinishReason$outboundSchema=Tn.FinishReason$inboundSchema=Tn.FinishReason=void 0;Tn.chatCompletionChoiceToJSON=OHr;Tn.chatCompletionChoiceFromJSON=EHr;var Tg=SHr(me()),uCt=Oe(),xHr=ce(),CHr=GP(),lCt=KP();Tn.FinishReason={Stop:"stop",Length:"length",ModelLength:"model_length",Error:"error",ToolCalls:"tool_calls"};Tn.FinishReason$inboundSchema=Tg.union([Tg.nativeEnum(Tn.FinishReason),Tg.string().transform(CHr.catchUnrecognizedEnum)]);Tn.FinishReason$outboundSchema=Tg.union([Tg.nativeEnum(Tn.FinishReason),Tg.string().and(Tg.custom())]);var aCt;(function(e){e.inboundSchema=Tn.FinishReason$inboundSchema,e.outboundSchema=Tn.FinishReason$outboundSchema})(aCt||(Tn.FinishReason$=aCt={}));Tn.ChatCompletionChoice$inboundSchema=Tg.object({index:Tg.number().int(),message:lCt.AssistantMessage$inboundSchema,finish_reason:Tn.FinishReason$inboundSchema}).transform(e=>(0,uCt.remap)(e,{finish_reason:"finishReason"}));Tn.ChatCompletionChoice$outboundSchema=Tg.object({index:Tg.number().int(),message:lCt.AssistantMessage$outboundSchema,finishReason:Tn.FinishReason$outboundSchema}).transform(e=>(0,uCt.remap)(e,{finishReason:"finish_reason"}));var sCt;(function(e){e.inboundSchema=Tn.ChatCompletionChoice$inboundSchema,e.outboundSchema=Tn.ChatCompletionChoice$outboundSchema})(sCt||(Tn.ChatCompletionChoice$=sCt={}));function OHr(e){return JSON.stringify(Tn.ChatCompletionChoice$outboundSchema.parse(e))}function EHr(e){return(0,xHr.safeParse)(e,t=>Tn.ChatCompletionChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionChoice' from JSON")}});var bCt=b(Et=>{"use strict";var PHr=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),THr=Et&&Et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MHr=Et&&Et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PHr(t,e,r);return THr(t,e),t};Object.defineProperty(Et,"__esModule",{value:!0});Et.ChatCompletionRequest$=Et.ChatCompletionRequest$outboundSchema=Et.ChatCompletionRequest$inboundSchema=Et.ChatCompletionRequestToolChoice$=Et.ChatCompletionRequestToolChoice$outboundSchema=Et.ChatCompletionRequestToolChoice$inboundSchema=Et.Messages$=Et.Messages$outboundSchema=Et.Messages$inboundSchema=Et.Stop$=Et.Stop$outboundSchema=Et.Stop$inboundSchema=void 0;Et.stopToJSON=IHr;Et.stopFromJSON=AHr;Et.messagesToJSON=RHr;Et.messagesFromJSON=DHr;Et.chatCompletionRequestToolChoiceToJSON=jHr;Et.chatCompletionRequestToolChoiceFromJSON=NHr;Et.chatCompletionRequestToJSON=LHr;Et.chatCompletionRequestFromJSON=FHr;var Se=MHr(me()),hCt=Oe(),lte=ce(),cte=KP(),mCt=Nk(),gCt=Lk(),dte=l1(),yCt=Fk(),fte=kk(),pte=Bk(),hte=c1(),mte=d1();Et.Stop$inboundSchema=Se.union([Se.string(),Se.array(Se.string())]);Et.Stop$outboundSchema=Se.union([Se.string(),Se.array(Se.string())]);var cCt;(function(e){e.inboundSchema=Et.Stop$inboundSchema,e.outboundSchema=Et.Stop$outboundSchema})(cCt||(Et.Stop$=cCt={}));function IHr(e){return JSON.stringify(Et.Stop$outboundSchema.parse(e))}function AHr(e){return(0,lte.safeParse)(e,t=>Et.Stop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Stop' from JSON")}Et.Messages$inboundSchema=Se.union([dte.SystemMessage$inboundSchema.and(Se.object({role:Se.literal("system")}).transform(e=>({role:e.role}))),mte.UserMessage$inboundSchema.and(Se.object({role:Se.literal("user")}).transform(e=>({role:e.role}))),cte.AssistantMessage$inboundSchema.and(Se.object({role:Se.literal("assistant")}).transform(e=>({role:e.role}))),hte.ToolMessage$inboundSchema.and(Se.object({role:Se.literal("tool")}).transform(e=>({role:e.role})))]);Et.Messages$outboundSchema=Se.union([dte.SystemMessage$outboundSchema.and(Se.object({role:Se.literal("system")}).transform(e=>({role:e.role}))),mte.UserMessage$outboundSchema.and(Se.object({role:Se.literal("user")}).transform(e=>({role:e.role}))),cte.AssistantMessage$outboundSchema.and(Se.object({role:Se.literal("assistant")}).transform(e=>({role:e.role}))),hte.ToolMessage$outboundSchema.and(Se.object({role:Se.literal("tool")}).transform(e=>({role:e.role})))]);var dCt;(function(e){e.inboundSchema=Et.Messages$inboundSchema,e.outboundSchema=Et.Messages$outboundSchema})(dCt||(Et.Messages$=dCt={}));function RHr(e){return JSON.stringify(Et.Messages$outboundSchema.parse(e))}function DHr(e){return(0,lte.safeParse)(e,t=>Et.Messages$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Messages' from JSON")}Et.ChatCompletionRequestToolChoice$inboundSchema=Se.union([fte.ToolChoice$inboundSchema,pte.ToolChoiceEnum$inboundSchema]);Et.ChatCompletionRequestToolChoice$outboundSchema=Se.union([fte.ToolChoice$outboundSchema,pte.ToolChoiceEnum$outboundSchema]);var fCt;(function(e){e.inboundSchema=Et.ChatCompletionRequestToolChoice$inboundSchema,e.outboundSchema=Et.ChatCompletionRequestToolChoice$outboundSchema})(fCt||(Et.ChatCompletionRequestToolChoice$=fCt={}));function jHr(e){return JSON.stringify(Et.ChatCompletionRequestToolChoice$outboundSchema.parse(e))}function NHr(e){return(0,lte.safeParse)(e,t=>Et.ChatCompletionRequestToolChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionRequestToolChoice' from JSON")}Et.ChatCompletionRequest$inboundSchema=Se.object({model:Se.nullable(Se.string()),temperature:Se.nullable(Se.number()).optional(),top_p:Se.number().optional(),max_tokens:Se.nullable(Se.number().int()).optional(),stream:Se.boolean().default(!1),stop:Se.union([Se.string(),Se.array(Se.string())]).optional(),random_seed:Se.nullable(Se.number().int()).optional(),messages:Se.array(Se.union([dte.SystemMessage$inboundSchema.and(Se.object({role:Se.literal("system")}).transform(e=>({role:e.role}))),mte.UserMessage$inboundSchema.and(Se.object({role:Se.literal("user")}).transform(e=>({role:e.role}))),cte.AssistantMessage$inboundSchema.and(Se.object({role:Se.literal("assistant")}).transform(e=>({role:e.role}))),hte.ToolMessage$inboundSchema.and(Se.object({role:Se.literal("tool")}).transform(e=>({role:e.role})))])),response_format:gCt.ResponseFormat$inboundSchema.optional(),tools:Se.nullable(Se.array(yCt.Tool$inboundSchema)).optional(),tool_choice:Se.union([fte.ToolChoice$inboundSchema,pte.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Se.number().optional(),frequency_penalty:Se.number().optional(),n:Se.nullable(Se.number().int()).optional(),prediction:mCt.Prediction$inboundSchema.optional(),safe_prompt:Se.boolean().optional()}).transform(e=>(0,hCt.remap)(e,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",safe_prompt:"safePrompt"}));Et.ChatCompletionRequest$outboundSchema=Se.object({model:Se.nullable(Se.string()),temperature:Se.nullable(Se.number()).optional(),topP:Se.number().optional(),maxTokens:Se.nullable(Se.number().int()).optional(),stream:Se.boolean().default(!1),stop:Se.union([Se.string(),Se.array(Se.string())]).optional(),randomSeed:Se.nullable(Se.number().int()).optional(),messages:Se.array(Se.union([dte.SystemMessage$outboundSchema.and(Se.object({role:Se.literal("system")}).transform(e=>({role:e.role}))),mte.UserMessage$outboundSchema.and(Se.object({role:Se.literal("user")}).transform(e=>({role:e.role}))),cte.AssistantMessage$outboundSchema.and(Se.object({role:Se.literal("assistant")}).transform(e=>({role:e.role}))),hte.ToolMessage$outboundSchema.and(Se.object({role:Se.literal("tool")}).transform(e=>({role:e.role})))])),responseFormat:gCt.ResponseFormat$outboundSchema.optional(),tools:Se.nullable(Se.array(yCt.Tool$outboundSchema)).optional(),toolChoice:Se.union([fte.ToolChoice$outboundSchema,pte.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Se.number().optional(),frequencyPenalty:Se.number().optional(),n:Se.nullable(Se.number().int()).optional(),prediction:mCt.Prediction$outboundSchema.optional(),safePrompt:Se.boolean().optional()}).transform(e=>(0,hCt.remap)(e,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",safePrompt:"safe_prompt"}));var pCt;(function(e){e.inboundSchema=Et.ChatCompletionRequest$inboundSchema,e.outboundSchema=Et.ChatCompletionRequest$outboundSchema})(pCt||(Et.ChatCompletionRequest$=pCt={}));function LHr(e){return JSON.stringify(Et.ChatCompletionRequest$outboundSchema.parse(e))}function FHr(e){return(0,lte.safeParse)(e,t=>Et.ChatCompletionRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionRequest' from JSON")}});var qk=b(Ds=>{"use strict";var kHr=Ds&&Ds.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BHr=Ds&&Ds.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$Hr=Ds&&Ds.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kHr(t,e,r);return BHr(t,e),t};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.UsageInfo$=Ds.UsageInfo$outboundSchema=Ds.UsageInfo$inboundSchema=void 0;Ds.usageInfoToJSON=UHr;Ds.usageInfoFromJSON=zHr;var YP=$Hr(me()),vCt=Oe(),qHr=ce();Ds.UsageInfo$inboundSchema=YP.object({prompt_tokens:YP.number().int(),completion_tokens:YP.number().int(),total_tokens:YP.number().int()}).transform(e=>(0,vCt.remap)(e,{prompt_tokens:"promptTokens",completion_tokens:"completionTokens",total_tokens:"totalTokens"}));Ds.UsageInfo$outboundSchema=YP.object({promptTokens:YP.number().int(),completionTokens:YP.number().int(),totalTokens:YP.number().int()}).transform(e=>(0,vCt.remap)(e,{promptTokens:"prompt_tokens",completionTokens:"completion_tokens",totalTokens:"total_tokens"}));var _Ct;(function(e){e.inboundSchema=Ds.UsageInfo$inboundSchema,e.outboundSchema=Ds.UsageInfo$outboundSchema})(_Ct||(Ds.UsageInfo$=_Ct={}));function UHr(e){return JSON.stringify(Ds.UsageInfo$outboundSchema.parse(e))}function zHr(e){return(0,qHr.safeParse)(e,t=>Ds.UsageInfo$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UsageInfo' from JSON")}});var CCt=b(js=>{"use strict";var HHr=js&&js.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VHr=js&&js.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WHr=js&&js.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&HHr(t,e,r);return VHr(t,e),t};Object.defineProperty(js,"__esModule",{value:!0});js.ChatCompletionResponse$=js.ChatCompletionResponse$outboundSchema=js.ChatCompletionResponse$inboundSchema=void 0;js.chatCompletionResponseToJSON=GHr;js.chatCompletionResponseFromJSON=KHr;var nm=WHr(me()),JHr=ce(),SCt=ute(),xCt=qk();js.ChatCompletionResponse$inboundSchema=nm.object({id:nm.string(),object:nm.string(),model:nm.string(),usage:xCt.UsageInfo$inboundSchema,created:nm.number().int().optional(),choices:nm.array(SCt.ChatCompletionChoice$inboundSchema).optional()});js.ChatCompletionResponse$outboundSchema=nm.object({id:nm.string(),object:nm.string(),model:nm.string(),usage:xCt.UsageInfo$outboundSchema,created:nm.number().int().optional(),choices:nm.array(SCt.ChatCompletionChoice$outboundSchema).optional()});var wCt;(function(e){e.inboundSchema=js.ChatCompletionResponse$inboundSchema,e.outboundSchema=js.ChatCompletionResponse$outboundSchema})(wCt||(js.ChatCompletionResponse$=wCt={}));function GHr(e){return JSON.stringify(js.ChatCompletionResponse$outboundSchema.parse(e))}function KHr(e){return(0,JHr.safeParse)(e,t=>js.ChatCompletionResponse$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionResponse' from JSON")}});var DCt=b(Pt=>{"use strict";var YHr=Pt&&Pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZHr=Pt&&Pt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XHr=Pt&&Pt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YHr(t,e,r);return ZHr(t,e),t};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ChatCompletionStreamRequest$=Pt.ChatCompletionStreamRequest$outboundSchema=Pt.ChatCompletionStreamRequest$inboundSchema=Pt.ChatCompletionStreamRequestToolChoice$=Pt.ChatCompletionStreamRequestToolChoice$outboundSchema=Pt.ChatCompletionStreamRequestToolChoice$inboundSchema=Pt.ChatCompletionStreamRequestMessages$=Pt.ChatCompletionStreamRequestMessages$outboundSchema=Pt.ChatCompletionStreamRequestMessages$inboundSchema=Pt.ChatCompletionStreamRequestStop$=Pt.ChatCompletionStreamRequestStop$outboundSchema=Pt.ChatCompletionStreamRequestStop$inboundSchema=void 0;Pt.chatCompletionStreamRequestStopToJSON=QHr;Pt.chatCompletionStreamRequestStopFromJSON=e6r;Pt.chatCompletionStreamRequestMessagesToJSON=t6r;Pt.chatCompletionStreamRequestMessagesFromJSON=r6r;Pt.chatCompletionStreamRequestToolChoiceToJSON=n6r;Pt.chatCompletionStreamRequestToolChoiceFromJSON=o6r;Pt.chatCompletionStreamRequestToJSON=i6r;Pt.chatCompletionStreamRequestFromJSON=a6r;var xe=XHr(me()),MCt=Oe(),gte=ce(),yte=KP(),ICt=Nk(),ACt=Lk(),bte=l1(),RCt=Fk(),_te=kk(),vte=Bk(),wte=c1(),Ste=d1();Pt.ChatCompletionStreamRequestStop$inboundSchema=xe.union([xe.string(),xe.array(xe.string())]);Pt.ChatCompletionStreamRequestStop$outboundSchema=xe.union([xe.string(),xe.array(xe.string())]);var OCt;(function(e){e.inboundSchema=Pt.ChatCompletionStreamRequestStop$inboundSchema,e.outboundSchema=Pt.ChatCompletionStreamRequestStop$outboundSchema})(OCt||(Pt.ChatCompletionStreamRequestStop$=OCt={}));function QHr(e){return JSON.stringify(Pt.ChatCompletionStreamRequestStop$outboundSchema.parse(e))}function e6r(e){return(0,gte.safeParse)(e,t=>Pt.ChatCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionStreamRequestStop' from JSON")}Pt.ChatCompletionStreamRequestMessages$inboundSchema=xe.union([bte.SystemMessage$inboundSchema.and(xe.object({role:xe.literal("system")}).transform(e=>({role:e.role}))),Ste.UserMessage$inboundSchema.and(xe.object({role:xe.literal("user")}).transform(e=>({role:e.role}))),yte.AssistantMessage$inboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(e=>({role:e.role}))),wte.ToolMessage$inboundSchema.and(xe.object({role:xe.literal("tool")}).transform(e=>({role:e.role})))]);Pt.ChatCompletionStreamRequestMessages$outboundSchema=xe.union([bte.SystemMessage$outboundSchema.and(xe.object({role:xe.literal("system")}).transform(e=>({role:e.role}))),Ste.UserMessage$outboundSchema.and(xe.object({role:xe.literal("user")}).transform(e=>({role:e.role}))),yte.AssistantMessage$outboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(e=>({role:e.role}))),wte.ToolMessage$outboundSchema.and(xe.object({role:xe.literal("tool")}).transform(e=>({role:e.role})))]);var ECt;(function(e){e.inboundSchema=Pt.ChatCompletionStreamRequestMessages$inboundSchema,e.outboundSchema=Pt.ChatCompletionStreamRequestMessages$outboundSchema})(ECt||(Pt.ChatCompletionStreamRequestMessages$=ECt={}));function t6r(e){return JSON.stringify(Pt.ChatCompletionStreamRequestMessages$outboundSchema.parse(e))}function r6r(e){return(0,gte.safeParse)(e,t=>Pt.ChatCompletionStreamRequestMessages$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionStreamRequestMessages' from JSON")}Pt.ChatCompletionStreamRequestToolChoice$inboundSchema=xe.union([_te.ToolChoice$inboundSchema,vte.ToolChoiceEnum$inboundSchema]);Pt.ChatCompletionStreamRequestToolChoice$outboundSchema=xe.union([_te.ToolChoice$outboundSchema,vte.ToolChoiceEnum$outboundSchema]);var PCt;(function(e){e.inboundSchema=Pt.ChatCompletionStreamRequestToolChoice$inboundSchema,e.outboundSchema=Pt.ChatCompletionStreamRequestToolChoice$outboundSchema})(PCt||(Pt.ChatCompletionStreamRequestToolChoice$=PCt={}));function n6r(e){return JSON.stringify(Pt.ChatCompletionStreamRequestToolChoice$outboundSchema.parse(e))}function o6r(e){return(0,gte.safeParse)(e,t=>Pt.ChatCompletionStreamRequestToolChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionStreamRequestToolChoice' from JSON")}Pt.ChatCompletionStreamRequest$inboundSchema=xe.object({model:xe.nullable(xe.string()),temperature:xe.nullable(xe.number()).optional(),top_p:xe.number().optional(),max_tokens:xe.nullable(xe.number().int()).optional(),stream:xe.boolean().default(!0),stop:xe.union([xe.string(),xe.array(xe.string())]).optional(),random_seed:xe.nullable(xe.number().int()).optional(),messages:xe.array(xe.union([bte.SystemMessage$inboundSchema.and(xe.object({role:xe.literal("system")}).transform(e=>({role:e.role}))),Ste.UserMessage$inboundSchema.and(xe.object({role:xe.literal("user")}).transform(e=>({role:e.role}))),yte.AssistantMessage$inboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(e=>({role:e.role}))),wte.ToolMessage$inboundSchema.and(xe.object({role:xe.literal("tool")}).transform(e=>({role:e.role})))])),response_format:ACt.ResponseFormat$inboundSchema.optional(),tools:xe.nullable(xe.array(RCt.Tool$inboundSchema)).optional(),tool_choice:xe.union([_te.ToolChoice$inboundSchema,vte.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:xe.number().optional(),frequency_penalty:xe.number().optional(),n:xe.nullable(xe.number().int()).optional(),prediction:ICt.Prediction$inboundSchema.optional(),safe_prompt:xe.boolean().optional()}).transform(e=>(0,MCt.remap)(e,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",safe_prompt:"safePrompt"}));Pt.ChatCompletionStreamRequest$outboundSchema=xe.object({model:xe.nullable(xe.string()),temperature:xe.nullable(xe.number()).optional(),topP:xe.number().optional(),maxTokens:xe.nullable(xe.number().int()).optional(),stream:xe.boolean().default(!0),stop:xe.union([xe.string(),xe.array(xe.string())]).optional(),randomSeed:xe.nullable(xe.number().int()).optional(),messages:xe.array(xe.union([bte.SystemMessage$outboundSchema.and(xe.object({role:xe.literal("system")}).transform(e=>({role:e.role}))),Ste.UserMessage$outboundSchema.and(xe.object({role:xe.literal("user")}).transform(e=>({role:e.role}))),yte.AssistantMessage$outboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(e=>({role:e.role}))),wte.ToolMessage$outboundSchema.and(xe.object({role:xe.literal("tool")}).transform(e=>({role:e.role})))])),responseFormat:ACt.ResponseFormat$outboundSchema.optional(),tools:xe.nullable(xe.array(RCt.Tool$outboundSchema)).optional(),toolChoice:xe.union([_te.ToolChoice$outboundSchema,vte.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:xe.number().optional(),frequencyPenalty:xe.number().optional(),n:xe.nullable(xe.number().int()).optional(),prediction:ICt.Prediction$outboundSchema.optional(),safePrompt:xe.boolean().optional()}).transform(e=>(0,MCt.remap)(e,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",safePrompt:"safe_prompt"}));var TCt;(function(e){e.inboundSchema=Pt.ChatCompletionStreamRequest$inboundSchema,e.outboundSchema=Pt.ChatCompletionStreamRequest$outboundSchema})(TCt||(Pt.ChatCompletionStreamRequest$=TCt={}));function i6r(e){return JSON.stringify(Pt.ChatCompletionStreamRequest$outboundSchema.parse(e))}function a6r(e){return(0,gte.safeParse)(e,t=>Pt.ChatCompletionStreamRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ChatCompletionStreamRequest' from JSON")}});var nEe=b(Ns=>{"use strict";var s6r=Ns&&Ns.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u6r=Ns&&Ns.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l6r=Ns&&Ns.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&s6r(t,e,r);return u6r(t,e),t};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.MetricOut$=Ns.MetricOut$outboundSchema=Ns.MetricOut$inboundSchema=void 0;Ns.metricOutToJSON=d6r;Ns.metricOutFromJSON=f6r;var $f=l6r(me()),NCt=Oe(),c6r=ce();Ns.MetricOut$inboundSchema=$f.object({train_loss:$f.nullable($f.number()).optional(),valid_loss:$f.nullable($f.number()).optional(),valid_mean_token_accuracy:$f.nullable($f.number()).optional()}).transform(e=>(0,NCt.remap)(e,{train_loss:"trainLoss",valid_loss:"validLoss",valid_mean_token_accuracy:"validMeanTokenAccuracy"}));Ns.MetricOut$outboundSchema=$f.object({trainLoss:$f.nullable($f.number()).optional(),validLoss:$f.nullable($f.number()).optional(),validMeanTokenAccuracy:$f.nullable($f.number()).optional()}).transform(e=>(0,NCt.remap)(e,{trainLoss:"train_loss",validLoss:"valid_loss",validMeanTokenAccuracy:"valid_mean_token_accuracy"}));var jCt;(function(e){e.inboundSchema=Ns.MetricOut$inboundSchema,e.outboundSchema=Ns.MetricOut$outboundSchema})(jCt||(Ns.MetricOut$=jCt={}));function d6r(e){return JSON.stringify(Ns.MetricOut$outboundSchema.parse(e))}function f6r(e){return(0,c6r.safeParse)(e,t=>Ns.MetricOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'MetricOut' from JSON")}});var oEe=b(Ls=>{"use strict";var p6r=Ls&&Ls.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h6r=Ls&&Ls.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),m6r=Ls&&Ls.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p6r(t,e,r);return h6r(t,e),t};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.CheckpointOut$=Ls.CheckpointOut$outboundSchema=Ls.CheckpointOut$inboundSchema=void 0;Ls.checkpointOutToJSON=y6r;Ls.checkpointOutFromJSON=b6r;var Uk=m6r(me()),FCt=Oe(),g6r=ce(),kCt=nEe();Ls.CheckpointOut$inboundSchema=Uk.object({metrics:kCt.MetricOut$inboundSchema,step_number:Uk.number().int(),created_at:Uk.number().int()}).transform(e=>(0,FCt.remap)(e,{step_number:"stepNumber",created_at:"createdAt"}));Ls.CheckpointOut$outboundSchema=Uk.object({metrics:kCt.MetricOut$outboundSchema,stepNumber:Uk.number().int(),createdAt:Uk.number().int()}).transform(e=>(0,FCt.remap)(e,{stepNumber:"step_number",createdAt:"created_at"}));var LCt;(function(e){e.inboundSchema=Ls.CheckpointOut$inboundSchema,e.outboundSchema=Ls.CheckpointOut$outboundSchema})(LCt||(Ls.CheckpointOut$=LCt={}));function y6r(e){return JSON.stringify(Ls.CheckpointOut$outboundSchema.parse(e))}function b6r(e){return(0,g6r.safeParse)(e,t=>Ls.CheckpointOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'CheckpointOut' from JSON")}});var iEe=b(Fs=>{"use strict";var _6r=Fs&&Fs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v6r=Fs&&Fs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),w6r=Fs&&Fs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_6r(t,e,r);return v6r(t,e),t};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ClassificationObject$=Fs.ClassificationObject$outboundSchema=Fs.ClassificationObject$inboundSchema=void 0;Fs.classificationObjectToJSON=x6r;Fs.classificationObjectFromJSON=C6r;var Bw=w6r(me()),$Ct=Oe(),S6r=ce();Fs.ClassificationObject$inboundSchema=Bw.object({categories:Bw.record(Bw.boolean()).optional(),category_scores:Bw.record(Bw.number()).optional()}).transform(e=>(0,$Ct.remap)(e,{category_scores:"categoryScores"}));Fs.ClassificationObject$outboundSchema=Bw.object({categories:Bw.record(Bw.boolean()).optional(),categoryScores:Bw.record(Bw.number()).optional()}).transform(e=>(0,$Ct.remap)(e,{categoryScores:"category_scores"}));var BCt;(function(e){e.inboundSchema=Fs.ClassificationObject$inboundSchema,e.outboundSchema=Fs.ClassificationObject$outboundSchema})(BCt||(Fs.ClassificationObject$=BCt={}));function x6r(e){return JSON.stringify(Fs.ClassificationObject$outboundSchema.parse(e))}function C6r(e){return(0,S6r.safeParse)(e,t=>Fs.ClassificationObject$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ClassificationObject' from JSON")}});var VCt=b(Zn=>{"use strict";var O6r=Zn&&Zn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E6r=Zn&&Zn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),P6r=Zn&&Zn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&O6r(t,e,r);return E6r(t,e),t};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.ClassificationRequest$=Zn.ClassificationRequest$outboundSchema=Zn.ClassificationRequest$inboundSchema=Zn.ClassificationRequestInputs$=Zn.ClassificationRequestInputs$outboundSchema=Zn.ClassificationRequestInputs$inboundSchema=void 0;Zn.classificationRequestInputsToJSON=T6r;Zn.classificationRequestInputsFromJSON=M6r;Zn.classificationRequestToJSON=I6r;Zn.classificationRequestFromJSON=A6r;var Na=P6r(me()),zCt=Oe(),HCt=ce();Zn.ClassificationRequestInputs$inboundSchema=Na.union([Na.string(),Na.array(Na.string())]);Zn.ClassificationRequestInputs$outboundSchema=Na.union([Na.string(),Na.array(Na.string())]);var qCt;(function(e){e.inboundSchema=Zn.ClassificationRequestInputs$inboundSchema,e.outboundSchema=Zn.ClassificationRequestInputs$outboundSchema})(qCt||(Zn.ClassificationRequestInputs$=qCt={}));function T6r(e){return JSON.stringify(Zn.ClassificationRequestInputs$outboundSchema.parse(e))}function M6r(e){return(0,HCt.safeParse)(e,t=>Zn.ClassificationRequestInputs$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ClassificationRequestInputs' from JSON")}Zn.ClassificationRequest$inboundSchema=Na.object({input:Na.union([Na.string(),Na.array(Na.string())]),model:Na.nullable(Na.string()).optional()}).transform(e=>(0,zCt.remap)(e,{input:"inputs"}));Zn.ClassificationRequest$outboundSchema=Na.object({inputs:Na.union([Na.string(),Na.array(Na.string())]),model:Na.nullable(Na.string()).optional()}).transform(e=>(0,zCt.remap)(e,{inputs:"input"}));var UCt;(function(e){e.inboundSchema=Zn.ClassificationRequest$inboundSchema,e.outboundSchema=Zn.ClassificationRequest$outboundSchema})(UCt||(Zn.ClassificationRequest$=UCt={}));function I6r(e){return JSON.stringify(Zn.ClassificationRequest$outboundSchema.parse(e))}function A6r(e){return(0,HCt.safeParse)(e,t=>Zn.ClassificationRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ClassificationRequest' from JSON")}});var GCt=b(ks=>{"use strict";var R6r=ks&&ks.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),D6r=ks&&ks.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j6r=ks&&ks.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R6r(t,e,r);return D6r(t,e),t};Object.defineProperty(ks,"__esModule",{value:!0});ks.ClassificationResponse$=ks.ClassificationResponse$outboundSchema=ks.ClassificationResponse$inboundSchema=void 0;ks.classificationResponseToJSON=L6r;ks.classificationResponseFromJSON=F6r;var ZP=j6r(me()),N6r=ce(),JCt=iEe();ks.ClassificationResponse$inboundSchema=ZP.object({id:ZP.string().optional(),model:ZP.string().optional(),results:ZP.array(JCt.ClassificationObject$inboundSchema).optional()});ks.ClassificationResponse$outboundSchema=ZP.object({id:ZP.string().optional(),model:ZP.string().optional(),results:ZP.array(JCt.ClassificationObject$outboundSchema).optional()});var WCt;(function(e){e.inboundSchema=ks.ClassificationResponse$inboundSchema,e.outboundSchema=ks.ClassificationResponse$outboundSchema})(WCt||(ks.ClassificationResponse$=WCt={}));function L6r(e){return JSON.stringify(ks.ClassificationResponse$outboundSchema.parse(e))}function F6r(e){return(0,N6r.safeParse)(e,t=>ks.ClassificationResponse$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ClassificationResponse' from JSON")}});var aEe=b(Xn=>{"use strict";var k6r=Xn&&Xn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B6r=Xn&&Xn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$6r=Xn&&Xn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k6r(t,e,r);return B6r(t,e),t};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.DeltaMessage$=Xn.DeltaMessage$outboundSchema=Xn.DeltaMessage$inboundSchema=Xn.Content$=Xn.Content$outboundSchema=Xn.Content$inboundSchema=void 0;Xn.contentToJSON=q6r;Xn.contentFromJSON=U6r;Xn.deltaMessageToJSON=z6r;Xn.deltaMessageFromJSON=H6r;var Wi=$6r(me()),ZCt=Oe(),XCt=ce(),xte=Dk(),QCt=Bee();Xn.Content$inboundSchema=Wi.union([Wi.string(),Wi.array(xte.ContentChunk$inboundSchema)]);Xn.Content$outboundSchema=Wi.union([Wi.string(),Wi.array(xte.ContentChunk$outboundSchema)]);var KCt;(function(e){e.inboundSchema=Xn.Content$inboundSchema,e.outboundSchema=Xn.Content$outboundSchema})(KCt||(Xn.Content$=KCt={}));function q6r(e){return JSON.stringify(Xn.Content$outboundSchema.parse(e))}function U6r(e){return(0,XCt.safeParse)(e,t=>Xn.Content$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Content' from JSON")}Xn.DeltaMessage$inboundSchema=Wi.object({role:Wi.nullable(Wi.string()).optional(),content:Wi.nullable(Wi.union([Wi.string(),Wi.array(xte.ContentChunk$inboundSchema)])).optional(),tool_calls:Wi.nullable(Wi.array(QCt.ToolCall$inboundSchema)).optional()}).transform(e=>(0,ZCt.remap)(e,{tool_calls:"toolCalls"}));Xn.DeltaMessage$outboundSchema=Wi.object({role:Wi.nullable(Wi.string()).optional(),content:Wi.nullable(Wi.union([Wi.string(),Wi.array(xte.ContentChunk$outboundSchema)])).optional(),toolCalls:Wi.nullable(Wi.array(QCt.ToolCall$outboundSchema)).optional()}).transform(e=>(0,ZCt.remap)(e,{toolCalls:"tool_calls"}));var YCt;(function(e){e.inboundSchema=Xn.DeltaMessage$inboundSchema,e.outboundSchema=Xn.DeltaMessage$outboundSchema})(YCt||(Xn.DeltaMessage$=YCt={}));function z6r(e){return JSON.stringify(Xn.DeltaMessage$outboundSchema.parse(e))}function H6r(e){return(0,XCt.safeParse)(e,t=>Xn.DeltaMessage$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DeltaMessage' from JSON")}});var sEe=b(Mn=>{"use strict";var V6r=Mn&&Mn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W6r=Mn&&Mn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),J6r=Mn&&Mn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&V6r(t,e,r);return W6r(t,e),t};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.CompletionResponseStreamChoice$=Mn.CompletionResponseStreamChoice$outboundSchema=Mn.CompletionResponseStreamChoice$inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$=Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason=void 0;Mn.completionResponseStreamChoiceToJSON=Y6r;Mn.completionResponseStreamChoiceFromJSON=Z6r;var Ip=J6r(me()),rOt=Oe(),G6r=ce(),K6r=GP(),nOt=aEe();Mn.CompletionResponseStreamChoiceFinishReason={Stop:"stop",Length:"length",Error:"error",ToolCalls:"tool_calls"};Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema=Ip.union([Ip.nativeEnum(Mn.CompletionResponseStreamChoiceFinishReason),Ip.string().transform(K6r.catchUnrecognizedEnum)]);Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema=Ip.union([Ip.nativeEnum(Mn.CompletionResponseStreamChoiceFinishReason),Ip.string().and(Ip.custom())]);var eOt;(function(e){e.inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema,e.outboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema})(eOt||(Mn.CompletionResponseStreamChoiceFinishReason$=eOt={}));Mn.CompletionResponseStreamChoice$inboundSchema=Ip.object({index:Ip.number().int(),delta:nOt.DeltaMessage$inboundSchema,finish_reason:Ip.nullable(Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema)}).transform(e=>(0,rOt.remap)(e,{finish_reason:"finishReason"}));Mn.CompletionResponseStreamChoice$outboundSchema=Ip.object({index:Ip.number().int(),delta:nOt.DeltaMessage$outboundSchema,finishReason:Ip.nullable(Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema)}).transform(e=>(0,rOt.remap)(e,{finishReason:"finish_reason"}));var tOt;(function(e){e.inboundSchema=Mn.CompletionResponseStreamChoice$inboundSchema,e.outboundSchema=Mn.CompletionResponseStreamChoice$outboundSchema})(tOt||(Mn.CompletionResponseStreamChoice$=tOt={}));function Y6r(e){return JSON.stringify(Mn.CompletionResponseStreamChoice$outboundSchema.parse(e))}function Z6r(e){return(0,G6r.safeParse)(e,t=>Mn.CompletionResponseStreamChoice$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'CompletionResponseStreamChoice' from JSON")}});var uEe=b(Bs=>{"use strict";var X6r=Bs&&Bs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q6r=Bs&&Bs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eVr=Bs&&Bs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&X6r(t,e,r);return Q6r(t,e),t};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.CompletionChunk$=Bs.CompletionChunk$outboundSchema=Bs.CompletionChunk$inboundSchema=void 0;Bs.completionChunkToJSON=rVr;Bs.completionChunkFromJSON=nVr;var om=eVr(me()),tVr=ce(),iOt=sEe(),aOt=qk();Bs.CompletionChunk$inboundSchema=om.object({id:om.string(),object:om.string().optional(),created:om.number().int().optional(),model:om.string(),usage:aOt.UsageInfo$inboundSchema.optional(),choices:om.array(iOt.CompletionResponseStreamChoice$inboundSchema)});Bs.CompletionChunk$outboundSchema=om.object({id:om.string(),object:om.string().optional(),created:om.number().int().optional(),model:om.string(),usage:aOt.UsageInfo$outboundSchema.optional(),choices:om.array(iOt.CompletionResponseStreamChoice$outboundSchema)});var oOt;(function(e){e.inboundSchema=Bs.CompletionChunk$inboundSchema,e.outboundSchema=Bs.CompletionChunk$outboundSchema})(oOt||(Bs.CompletionChunk$=oOt={}));function rVr(e){return JSON.stringify(Bs.CompletionChunk$outboundSchema.parse(e))}function nVr(e){return(0,tVr.safeParse)(e,t=>Bs.CompletionChunk$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'CompletionChunk' from JSON")}});var lOt=b($s=>{"use strict";var oVr=$s&&$s.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iVr=$s&&$s.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aVr=$s&&$s.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oVr(t,e,r);return iVr(t,e),t};Object.defineProperty($s,"__esModule",{value:!0});$s.CompletionEvent$=$s.CompletionEvent$outboundSchema=$s.CompletionEvent$inboundSchema=void 0;$s.completionEventToJSON=uVr;$s.completionEventFromJSON=lVr;var b3=aVr(me()),sVr=ce(),uOt=uEe();$s.CompletionEvent$inboundSchema=b3.object({data:b3.string().transform((e,t)=>{try{return JSON.parse(e)}catch(r){return t.addIssue({code:b3.ZodIssueCode.custom,message:`malformed json: ${r}`}),b3.NEVER}}).pipe(uOt.CompletionChunk$inboundSchema)});$s.CompletionEvent$outboundSchema=b3.object({data:uOt.CompletionChunk$outboundSchema});var sOt;(function(e){e.inboundSchema=$s.CompletionEvent$inboundSchema,e.outboundSchema=$s.CompletionEvent$outboundSchema})(sOt||($s.CompletionEvent$=sOt={}));function uVr(e){return JSON.stringify($s.CompletionEvent$outboundSchema.parse(e))}function lVr(e){return(0,sVr.safeParse)(e,t=>$s.CompletionEvent$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'CompletionEvent' from JSON")}});var dOt=b(qs=>{"use strict";var cVr=qs&&qs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dVr=qs&&qs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fVr=qs&&qs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cVr(t,e,r);return dVr(t,e),t};Object.defineProperty(qs,"__esModule",{value:!0});qs.DeleteFileOut$=qs.DeleteFileOut$outboundSchema=qs.DeleteFileOut$inboundSchema=void 0;qs.deleteFileOutToJSON=hVr;qs.deleteFileOutFromJSON=mVr;var XP=fVr(me()),pVr=ce();qs.DeleteFileOut$inboundSchema=XP.object({id:XP.string(),object:XP.string(),deleted:XP.boolean()});qs.DeleteFileOut$outboundSchema=XP.object({id:XP.string(),object:XP.string(),deleted:XP.boolean()});var cOt;(function(e){e.inboundSchema=qs.DeleteFileOut$inboundSchema,e.outboundSchema=qs.DeleteFileOut$outboundSchema})(cOt||(qs.DeleteFileOut$=cOt={}));function hVr(e){return JSON.stringify(qs.DeleteFileOut$outboundSchema.parse(e))}function mVr(e){return(0,pVr.safeParse)(e,t=>qs.DeleteFileOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DeleteFileOut' from JSON")}});var pOt=b(Us=>{"use strict";var gVr=Us&&Us.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yVr=Us&&Us.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bVr=Us&&Us.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gVr(t,e,r);return yVr(t,e),t};Object.defineProperty(Us,"__esModule",{value:!0});Us.DeleteModelOut$=Us.DeleteModelOut$outboundSchema=Us.DeleteModelOut$inboundSchema=void 0;Us.deleteModelOutToJSON=vVr;Us.deleteModelOutFromJSON=wVr;var QP=bVr(me()),_Vr=ce();Us.DeleteModelOut$inboundSchema=QP.object({id:QP.string(),object:QP.string().default("model"),deleted:QP.boolean().default(!0)});Us.DeleteModelOut$outboundSchema=QP.object({id:QP.string(),object:QP.string().default("model"),deleted:QP.boolean().default(!0)});var fOt;(function(e){e.inboundSchema=Us.DeleteModelOut$inboundSchema,e.outboundSchema=Us.DeleteModelOut$outboundSchema})(fOt||(Us.DeleteModelOut$=fOt={}));function vVr(e){return JSON.stringify(Us.DeleteModelOut$outboundSchema.parse(e))}function wVr(e){return(0,_Vr.safeParse)(e,t=>Us.DeleteModelOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DeleteModelOut' from JSON")}});var lEe=b(zs=>{"use strict";var SVr=zs&&zs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xVr=zs&&zs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CVr=zs&&zs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SVr(t,e,r);return xVr(t,e),t};Object.defineProperty(zs,"__esModule",{value:!0});zs.EventOut$=zs.EventOut$outboundSchema=zs.EventOut$inboundSchema=void 0;zs.eventOutToJSON=EVr;zs.eventOutFromJSON=PVr;var im=CVr(me()),mOt=Oe(),OVr=ce();zs.EventOut$inboundSchema=im.object({name:im.string(),data:im.nullable(im.record(im.any())).optional(),created_at:im.number().int()}).transform(e=>(0,mOt.remap)(e,{created_at:"createdAt"}));zs.EventOut$outboundSchema=im.object({name:im.string(),data:im.nullable(im.record(im.any())).optional(),createdAt:im.number().int()}).transform(e=>(0,mOt.remap)(e,{createdAt:"created_at"}));var hOt;(function(e){e.inboundSchema=zs.EventOut$inboundSchema,e.outboundSchema=zs.EventOut$outboundSchema})(hOt||(zs.EventOut$=hOt={}));function EVr(e){return JSON.stringify(zs.EventOut$outboundSchema.parse(e))}function PVr(e){return(0,OVr.safeParse)(e,t=>zs.EventOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'EventOut' from JSON")}});var Cte=b(Qn=>{"use strict";var TVr=Qn&&Qn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MVr=Qn&&Qn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IVr=Qn&&Qn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TVr(t,e,r);return MVr(t,e),t};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.GithubRepositoryOut$=Qn.GithubRepositoryOut$outboundSchema=Qn.GithubRepositoryOut$inboundSchema=Qn.GithubRepositoryOutType$=Qn.GithubRepositoryOutType$outboundSchema=Qn.GithubRepositoryOutType$inboundSchema=Qn.GithubRepositoryOutType=void 0;Qn.githubRepositoryOutToJSON=RVr;Qn.githubRepositoryOutFromJSON=DVr;var uc=IVr(me()),bOt=Oe(),AVr=ce();Qn.GithubRepositoryOutType={Github:"github"};Qn.GithubRepositoryOutType$inboundSchema=uc.nativeEnum(Qn.GithubRepositoryOutType);Qn.GithubRepositoryOutType$outboundSchema=Qn.GithubRepositoryOutType$inboundSchema;var gOt;(function(e){e.inboundSchema=Qn.GithubRepositoryOutType$inboundSchema,e.outboundSchema=Qn.GithubRepositoryOutType$outboundSchema})(gOt||(Qn.GithubRepositoryOutType$=gOt={}));Qn.GithubRepositoryOut$inboundSchema=uc.object({type:uc.literal("github").default("github"),name:uc.string(),owner:uc.string(),ref:uc.nullable(uc.string()).optional(),weight:uc.number().default(1),commit_id:uc.string()}).transform(e=>(0,bOt.remap)(e,{commit_id:"commitId"}));Qn.GithubRepositoryOut$outboundSchema=uc.object({type:uc.literal("github").default("github"),name:uc.string(),owner:uc.string(),ref:uc.nullable(uc.string()).optional(),weight:uc.number().default(1),commitId:uc.string()}).transform(e=>(0,bOt.remap)(e,{commitId:"commit_id"}));var yOt;(function(e){e.inboundSchema=Qn.GithubRepositoryOut$inboundSchema,e.outboundSchema=Qn.GithubRepositoryOut$outboundSchema})(yOt||(Qn.GithubRepositoryOut$=yOt={}));function RVr(e){return JSON.stringify(Qn.GithubRepositoryOut$outboundSchema.parse(e))}function DVr(e){return(0,AVr.safeParse)(e,t=>Qn.GithubRepositoryOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'GithubRepositoryOut' from JSON")}});var Ote=b(Hs=>{"use strict";var jVr=Hs&&Hs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NVr=Hs&&Hs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LVr=Hs&&Hs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jVr(t,e,r);return NVr(t,e),t};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.JobMetadataOut$=Hs.JobMetadataOut$outboundSchema=Hs.JobMetadataOut$inboundSchema=void 0;Hs.jobMetadataOutToJSON=kVr;Hs.jobMetadataOutFromJSON=BVr;var Io=LVr(me()),vOt=Oe(),FVr=ce();Hs.JobMetadataOut$inboundSchema=Io.object({expected_duration_seconds:Io.nullable(Io.number().int()).optional(),cost:Io.nullable(Io.number()).optional(),cost_currency:Io.nullable(Io.string()).optional(),train_tokens_per_step:Io.nullable(Io.number().int()).optional(),train_tokens:Io.nullable(Io.number().int()).optional(),data_tokens:Io.nullable(Io.number().int()).optional(),estimated_start_time:Io.nullable(Io.number().int()).optional()}).transform(e=>(0,vOt.remap)(e,{expected_duration_seconds:"expectedDurationSeconds",cost_currency:"costCurrency",train_tokens_per_step:"trainTokensPerStep",train_tokens:"trainTokens",data_tokens:"dataTokens",estimated_start_time:"estimatedStartTime"}));Hs.JobMetadataOut$outboundSchema=Io.object({expectedDurationSeconds:Io.nullable(Io.number().int()).optional(),cost:Io.nullable(Io.number()).optional(),costCurrency:Io.nullable(Io.string()).optional(),trainTokensPerStep:Io.nullable(Io.number().int()).optional(),trainTokens:Io.nullable(Io.number().int()).optional(),dataTokens:Io.nullable(Io.number().int()).optional(),estimatedStartTime:Io.nullable(Io.number().int()).optional()}).transform(e=>(0,vOt.remap)(e,{expectedDurationSeconds:"expected_duration_seconds",costCurrency:"cost_currency",trainTokensPerStep:"train_tokens_per_step",trainTokens:"train_tokens",dataTokens:"data_tokens",estimatedStartTime:"estimated_start_time"}));var _Ot;(function(e){e.inboundSchema=Hs.JobMetadataOut$inboundSchema,e.outboundSchema=Hs.JobMetadataOut$outboundSchema})(_Ot||(Hs.JobMetadataOut$=_Ot={}));function kVr(e){return JSON.stringify(Hs.JobMetadataOut$outboundSchema.parse(e))}function BVr(e){return(0,FVr.safeParse)(e,t=>Hs.JobMetadataOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobMetadataOut' from JSON")}});var Ete=b(Vs=>{"use strict";var $Vr=Vs&&Vs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qVr=Vs&&Vs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UVr=Vs&&Vs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Vr(t,e,r);return qVr(t,e),t};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.TrainingParameters$=Vs.TrainingParameters$outboundSchema=Vs.TrainingParameters$inboundSchema=void 0;Vs.trainingParametersToJSON=HVr;Vs.trainingParametersFromJSON=VVr;var Wo=UVr(me()),SOt=Oe(),zVr=ce();Vs.TrainingParameters$inboundSchema=Wo.object({training_steps:Wo.nullable(Wo.number().int()).optional(),learning_rate:Wo.number().default(1e-4),weight_decay:Wo.nullable(Wo.number()).optional(),warmup_fraction:Wo.nullable(Wo.number()).optional(),epochs:Wo.nullable(Wo.number()).optional(),fim_ratio:Wo.nullable(Wo.number()).optional(),seq_len:Wo.nullable(Wo.number().int()).optional()}).transform(e=>(0,SOt.remap)(e,{training_steps:"trainingSteps",learning_rate:"learningRate",weight_decay:"weightDecay",warmup_fraction:"warmupFraction",fim_ratio:"fimRatio",seq_len:"seqLen"}));Vs.TrainingParameters$outboundSchema=Wo.object({trainingSteps:Wo.nullable(Wo.number().int()).optional(),learningRate:Wo.number().default(1e-4),weightDecay:Wo.nullable(Wo.number()).optional(),warmupFraction:Wo.nullable(Wo.number()).optional(),epochs:Wo.nullable(Wo.number()).optional(),fimRatio:Wo.nullable(Wo.number()).optional(),seqLen:Wo.nullable(Wo.number().int()).optional()}).transform(e=>(0,SOt.remap)(e,{trainingSteps:"training_steps",learningRate:"learning_rate",weightDecay:"weight_decay",warmupFraction:"warmup_fraction",fimRatio:"fim_ratio",seqLen:"seq_len"}));var wOt;(function(e){e.inboundSchema=Vs.TrainingParameters$inboundSchema,e.outboundSchema=Vs.TrainingParameters$outboundSchema})(wOt||(Vs.TrainingParameters$=wOt={}));function HVr(e){return JSON.stringify(Vs.TrainingParameters$outboundSchema.parse(e))}function VVr(e){return(0,zVr.safeParse)(e,t=>Vs.TrainingParameters$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'TrainingParameters' from JSON")}});var Pte=b(eo=>{"use strict";var WVr=eo&&eo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JVr=eo&&eo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GVr=eo&&eo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&WVr(t,e,r);return JVr(t,e),t};Object.defineProperty(eo,"__esModule",{value:!0});eo.WandbIntegrationOut$=eo.WandbIntegrationOut$outboundSchema=eo.WandbIntegrationOut$inboundSchema=eo.WandbIntegrationOutType$=eo.WandbIntegrationOutType$outboundSchema=eo.WandbIntegrationOutType$inboundSchema=eo.WandbIntegrationOutType=void 0;eo.wandbIntegrationOutToJSON=YVr;eo.wandbIntegrationOutFromJSON=ZVr;var $d=GVr(me()),OOt=Oe(),KVr=ce();eo.WandbIntegrationOutType={Wandb:"wandb"};eo.WandbIntegrationOutType$inboundSchema=$d.nativeEnum(eo.WandbIntegrationOutType);eo.WandbIntegrationOutType$outboundSchema=eo.WandbIntegrationOutType$inboundSchema;var xOt;(function(e){e.inboundSchema=eo.WandbIntegrationOutType$inboundSchema,e.outboundSchema=eo.WandbIntegrationOutType$outboundSchema})(xOt||(eo.WandbIntegrationOutType$=xOt={}));eo.WandbIntegrationOut$inboundSchema=$d.object({type:$d.literal("wandb").default("wandb"),project:$d.string(),name:$d.nullable($d.string()).optional(),run_name:$d.nullable($d.string()).optional()}).transform(e=>(0,OOt.remap)(e,{run_name:"runName"}));eo.WandbIntegrationOut$outboundSchema=$d.object({type:$d.literal("wandb").default("wandb"),project:$d.string(),name:$d.nullable($d.string()).optional(),runName:$d.nullable($d.string()).optional()}).transform(e=>(0,OOt.remap)(e,{runName:"run_name"}));var COt;(function(e){e.inboundSchema=eo.WandbIntegrationOut$inboundSchema,e.outboundSchema=eo.WandbIntegrationOut$outboundSchema})(COt||(eo.WandbIntegrationOut$=COt={}));function YVr(e){return JSON.stringify(eo.WandbIntegrationOut$outboundSchema.parse(e))}function ZVr(e){return(0,KVr.safeParse)(e,t=>eo.WandbIntegrationOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'WandbIntegrationOut' from JSON")}});var LOt=b(Ke=>{"use strict";var XVr=Ke&&Ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QVr=Ke&&Ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e5r=Ke&&Ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XVr(t,e,r);return QVr(t,e),t};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.DetailedJobOut$=Ke.DetailedJobOut$outboundSchema=Ke.DetailedJobOut$inboundSchema=Ke.DetailedJobOutRepositories$=Ke.DetailedJobOutRepositories$outboundSchema=Ke.DetailedJobOutRepositories$inboundSchema=Ke.DetailedJobOutIntegrations$=Ke.DetailedJobOutIntegrations$outboundSchema=Ke.DetailedJobOutIntegrations$inboundSchema=Ke.DetailedJobOutObject$=Ke.DetailedJobOutObject$outboundSchema=Ke.DetailedJobOutObject$inboundSchema=Ke.DetailedJobOutStatus$=Ke.DetailedJobOutStatus$outboundSchema=Ke.DetailedJobOutStatus$inboundSchema=Ke.DetailedJobOutObject=Ke.DetailedJobOutStatus=void 0;Ke.detailedJobOutIntegrationsToJSON=t5r;Ke.detailedJobOutIntegrationsFromJSON=r5r;Ke.detailedJobOutRepositoriesToJSON=n5r;Ke.detailedJobOutRepositoriesFromJSON=o5r;Ke.detailedJobOutToJSON=i5r;Ke.detailedJobOutFromJSON=a5r;var jt=e5r(me()),AOt=Oe(),cEe=ce(),ROt=oEe(),DOt=lEe(),Tte=Cte(),jOt=Ote(),NOt=Ete(),Mte=Pte();Ke.DetailedJobOutStatus={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};Ke.DetailedJobOutObject={Job:"job"};Ke.DetailedJobOutStatus$inboundSchema=jt.nativeEnum(Ke.DetailedJobOutStatus);Ke.DetailedJobOutStatus$outboundSchema=Ke.DetailedJobOutStatus$inboundSchema;var EOt;(function(e){e.inboundSchema=Ke.DetailedJobOutStatus$inboundSchema,e.outboundSchema=Ke.DetailedJobOutStatus$outboundSchema})(EOt||(Ke.DetailedJobOutStatus$=EOt={}));Ke.DetailedJobOutObject$inboundSchema=jt.nativeEnum(Ke.DetailedJobOutObject);Ke.DetailedJobOutObject$outboundSchema=Ke.DetailedJobOutObject$inboundSchema;var POt;(function(e){e.inboundSchema=Ke.DetailedJobOutObject$inboundSchema,e.outboundSchema=Ke.DetailedJobOutObject$outboundSchema})(POt||(Ke.DetailedJobOutObject$=POt={}));Ke.DetailedJobOutIntegrations$inboundSchema=Mte.WandbIntegrationOut$inboundSchema;Ke.DetailedJobOutIntegrations$outboundSchema=Mte.WandbIntegrationOut$outboundSchema;var TOt;(function(e){e.inboundSchema=Ke.DetailedJobOutIntegrations$inboundSchema,e.outboundSchema=Ke.DetailedJobOutIntegrations$outboundSchema})(TOt||(Ke.DetailedJobOutIntegrations$=TOt={}));function t5r(e){return JSON.stringify(Ke.DetailedJobOutIntegrations$outboundSchema.parse(e))}function r5r(e){return(0,cEe.safeParse)(e,t=>Ke.DetailedJobOutIntegrations$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DetailedJobOutIntegrations' from JSON")}Ke.DetailedJobOutRepositories$inboundSchema=Tte.GithubRepositoryOut$inboundSchema;Ke.DetailedJobOutRepositories$outboundSchema=Tte.GithubRepositoryOut$outboundSchema;var MOt;(function(e){e.inboundSchema=Ke.DetailedJobOutRepositories$inboundSchema,e.outboundSchema=Ke.DetailedJobOutRepositories$outboundSchema})(MOt||(Ke.DetailedJobOutRepositories$=MOt={}));function n5r(e){return JSON.stringify(Ke.DetailedJobOutRepositories$outboundSchema.parse(e))}function o5r(e){return(0,cEe.safeParse)(e,t=>Ke.DetailedJobOutRepositories$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DetailedJobOutRepositories' from JSON")}Ke.DetailedJobOut$inboundSchema=jt.object({id:jt.string(),auto_start:jt.boolean(),hyperparameters:NOt.TrainingParameters$inboundSchema,model:jt.string(),status:Ke.DetailedJobOutStatus$inboundSchema,job_type:jt.string(),created_at:jt.number().int(),modified_at:jt.number().int(),training_files:jt.array(jt.string()),validation_files:jt.nullable(jt.array(jt.string())).optional(),object:jt.literal("job").default("job"),fine_tuned_model:jt.nullable(jt.string()).optional(),suffix:jt.nullable(jt.string()).optional(),integrations:jt.nullable(jt.array(Mte.WandbIntegrationOut$inboundSchema)).optional(),trained_tokens:jt.nullable(jt.number().int()).optional(),repositories:jt.array(Tte.GithubRepositoryOut$inboundSchema).optional(),metadata:jt.nullable(jOt.JobMetadataOut$inboundSchema).optional(),events:jt.array(DOt.EventOut$inboundSchema).optional(),checkpoints:jt.array(ROt.CheckpointOut$inboundSchema).optional()}).transform(e=>(0,AOt.remap)(e,{auto_start:"autoStart",job_type:"jobType",created_at:"createdAt",modified_at:"modifiedAt",training_files:"trainingFiles",validation_files:"validationFiles",fine_tuned_model:"fineTunedModel",trained_tokens:"trainedTokens"}));Ke.DetailedJobOut$outboundSchema=jt.object({id:jt.string(),autoStart:jt.boolean(),hyperparameters:NOt.TrainingParameters$outboundSchema,model:jt.string(),status:Ke.DetailedJobOutStatus$outboundSchema,jobType:jt.string(),createdAt:jt.number().int(),modifiedAt:jt.number().int(),trainingFiles:jt.array(jt.string()),validationFiles:jt.nullable(jt.array(jt.string())).optional(),object:jt.literal("job").default("job"),fineTunedModel:jt.nullable(jt.string()).optional(),suffix:jt.nullable(jt.string()).optional(),integrations:jt.nullable(jt.array(Mte.WandbIntegrationOut$outboundSchema)).optional(),trainedTokens:jt.nullable(jt.number().int()).optional(),repositories:jt.array(Tte.GithubRepositoryOut$outboundSchema).optional(),metadata:jt.nullable(jOt.JobMetadataOut$outboundSchema).optional(),events:jt.array(DOt.EventOut$outboundSchema).optional(),checkpoints:jt.array(ROt.CheckpointOut$outboundSchema).optional()}).transform(e=>(0,AOt.remap)(e,{autoStart:"auto_start",jobType:"job_type",createdAt:"created_at",modifiedAt:"modified_at",trainingFiles:"training_files",validationFiles:"validation_files",fineTunedModel:"fine_tuned_model",trainedTokens:"trained_tokens"}));var IOt;(function(e){e.inboundSchema=Ke.DetailedJobOut$inboundSchema,e.outboundSchema=Ke.DetailedJobOut$outboundSchema})(IOt||(Ke.DetailedJobOut$=IOt={}));function i5r(e){return JSON.stringify(Ke.DetailedJobOut$outboundSchema.parse(e))}function a5r(e){return(0,cEe.safeParse)(e,t=>Ke.DetailedJobOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DetailedJobOut' from JSON")}});var qOt=b(to=>{"use strict";var s5r=to&&to.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u5r=to&&to.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l5r=to&&to.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&s5r(t,e,r);return u5r(t,e),t};Object.defineProperty(to,"__esModule",{value:!0});to.EmbeddingRequest$=to.EmbeddingRequest$outboundSchema=to.EmbeddingRequest$inboundSchema=to.Inputs$=to.Inputs$outboundSchema=to.Inputs$inboundSchema=void 0;to.inputsToJSON=c5r;to.inputsFromJSON=d5r;to.embeddingRequestToJSON=f5r;to.embeddingRequestFromJSON=p5r;var Ji=l5r(me()),BOt=Oe(),$Ot=ce();to.Inputs$inboundSchema=Ji.union([Ji.string(),Ji.array(Ji.string())]);to.Inputs$outboundSchema=Ji.union([Ji.string(),Ji.array(Ji.string())]);var FOt;(function(e){e.inboundSchema=to.Inputs$inboundSchema,e.outboundSchema=to.Inputs$outboundSchema})(FOt||(to.Inputs$=FOt={}));function c5r(e){return JSON.stringify(to.Inputs$outboundSchema.parse(e))}function d5r(e){return(0,$Ot.safeParse)(e,t=>to.Inputs$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Inputs' from JSON")}to.EmbeddingRequest$inboundSchema=Ji.object({input:Ji.union([Ji.string(),Ji.array(Ji.string())]),model:Ji.string().default("mistral-embed"),encoding_format:Ji.nullable(Ji.string()).optional()}).transform(e=>(0,BOt.remap)(e,{input:"inputs",encoding_format:"encodingFormat"}));to.EmbeddingRequest$outboundSchema=Ji.object({inputs:Ji.union([Ji.string(),Ji.array(Ji.string())]),model:Ji.string().default("mistral-embed"),encodingFormat:Ji.nullable(Ji.string()).optional()}).transform(e=>(0,BOt.remap)(e,{inputs:"input",encodingFormat:"encoding_format"}));var kOt;(function(e){e.inboundSchema=to.EmbeddingRequest$inboundSchema,e.outboundSchema=to.EmbeddingRequest$outboundSchema})(kOt||(to.EmbeddingRequest$=kOt={}));function f5r(e){return JSON.stringify(to.EmbeddingRequest$outboundSchema.parse(e))}function p5r(e){return(0,$Ot.safeParse)(e,t=>to.EmbeddingRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'EmbeddingRequest' from JSON")}});var dEe=b(Ws=>{"use strict";var h5r=Ws&&Ws.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),m5r=Ws&&Ws.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g5r=Ws&&Ws.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&h5r(t,e,r);return m5r(t,e),t};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.EmbeddingResponseData$=Ws.EmbeddingResponseData$outboundSchema=Ws.EmbeddingResponseData$inboundSchema=void 0;Ws.embeddingResponseDataToJSON=b5r;Ws.embeddingResponseDataFromJSON=_5r;var $w=g5r(me()),y5r=ce();Ws.EmbeddingResponseData$inboundSchema=$w.object({object:$w.string().optional(),embedding:$w.array($w.number()).optional(),index:$w.number().int().optional()});Ws.EmbeddingResponseData$outboundSchema=$w.object({object:$w.string().optional(),embedding:$w.array($w.number()).optional(),index:$w.number().int().optional()});var UOt;(function(e){e.inboundSchema=Ws.EmbeddingResponseData$inboundSchema,e.outboundSchema=Ws.EmbeddingResponseData$outboundSchema})(UOt||(Ws.EmbeddingResponseData$=UOt={}));function b5r(e){return JSON.stringify(Ws.EmbeddingResponseData$outboundSchema.parse(e))}function _5r(e){return(0,y5r.safeParse)(e,t=>Ws.EmbeddingResponseData$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'EmbeddingResponseData' from JSON")}});var WOt=b(Js=>{"use strict";var v5r=Js&&Js.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),w5r=Js&&Js.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S5r=Js&&Js.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v5r(t,e,r);return w5r(t,e),t};Object.defineProperty(Js,"__esModule",{value:!0});Js.EmbeddingResponse$=Js.EmbeddingResponse$outboundSchema=Js.EmbeddingResponse$inboundSchema=void 0;Js.embeddingResponseToJSON=C5r;Js.embeddingResponseFromJSON=O5r;var qw=S5r(me()),x5r=ce(),HOt=dEe(),VOt=qk();Js.EmbeddingResponse$inboundSchema=qw.object({id:qw.string(),object:qw.string(),model:qw.string(),usage:VOt.UsageInfo$inboundSchema,data:qw.array(HOt.EmbeddingResponseData$inboundSchema)});Js.EmbeddingResponse$outboundSchema=qw.object({id:qw.string(),object:qw.string(),model:qw.string(),usage:VOt.UsageInfo$outboundSchema,data:qw.array(HOt.EmbeddingResponseData$outboundSchema)});var zOt;(function(e){e.inboundSchema=Js.EmbeddingResponse$inboundSchema,e.outboundSchema=Js.EmbeddingResponse$outboundSchema})(zOt||(Js.EmbeddingResponse$=zOt={}));function C5r(e){return JSON.stringify(Js.EmbeddingResponse$outboundSchema.parse(e))}function O5r(e){return(0,x5r.safeParse)(e,t=>Js.EmbeddingResponse$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'EmbeddingResponse' from JSON")}});var _3=b(Gs=>{"use strict";var E5r=Gs&&Gs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P5r=Gs&&Gs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),T5r=Gs&&Gs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E5r(t,e,r);return P5r(t,e),t};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.FilePurpose$=Gs.FilePurpose$outboundSchema=Gs.FilePurpose$inboundSchema=Gs.FilePurpose=void 0;var p1=T5r(me()),M5r=GP();Gs.FilePurpose={FineTune:"fine-tune",Batch:"batch"};Gs.FilePurpose$inboundSchema=p1.union([p1.nativeEnum(Gs.FilePurpose),p1.string().transform(M5r.catchUnrecognizedEnum)]);Gs.FilePurpose$outboundSchema=p1.union([p1.nativeEnum(Gs.FilePurpose),p1.string().and(p1.custom())]);var JOt;(function(e){e.inboundSchema=Gs.FilePurpose$inboundSchema,e.outboundSchema=Gs.FilePurpose$outboundSchema})(JOt||(Gs.FilePurpose$=JOt={}))});var v3=b(Ks=>{"use strict";var I5r=Ks&&Ks.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),A5r=Ks&&Ks.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),R5r=Ks&&Ks.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I5r(t,e,r);return A5r(t,e),t};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.SampleType$=Ks.SampleType$outboundSchema=Ks.SampleType$inboundSchema=Ks.SampleType=void 0;var h1=R5r(me()),D5r=GP();Ks.SampleType={Pretrain:"pretrain",Instruct:"instruct",BatchRequest:"batch_request",BatchResult:"batch_result",BatchError:"batch_error"};Ks.SampleType$inboundSchema=h1.union([h1.nativeEnum(Ks.SampleType),h1.string().transform(D5r.catchUnrecognizedEnum)]);Ks.SampleType$outboundSchema=h1.union([h1.nativeEnum(Ks.SampleType),h1.string().and(h1.custom())]);var GOt;(function(e){e.inboundSchema=Ks.SampleType$inboundSchema,e.outboundSchema=Ks.SampleType$outboundSchema})(GOt||(Ks.SampleType$=GOt={}))});var w3=b(Ys=>{"use strict";var j5r=Ys&&Ys.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N5r=Ys&&Ys.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L5r=Ys&&Ys.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j5r(t,e,r);return N5r(t,e),t};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.Source$=Ys.Source$outboundSchema=Ys.Source$inboundSchema=Ys.Source=void 0;var m1=L5r(me()),F5r=GP();Ys.Source={Upload:"upload",Repository:"repository",Mistral:"mistral"};Ys.Source$inboundSchema=m1.union([m1.nativeEnum(Ys.Source),m1.string().transform(F5r.catchUnrecognizedEnum)]);Ys.Source$outboundSchema=m1.union([m1.nativeEnum(Ys.Source),m1.string().and(m1.custom())]);var KOt;(function(e){e.inboundSchema=Ys.Source$inboundSchema,e.outboundSchema=Ys.Source$outboundSchema})(KOt||(Ys.Source$=KOt={}))});var fEe=b(Zs=>{"use strict";var k5r=Zs&&Zs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B5r=Zs&&Zs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$5r=Zs&&Zs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k5r(t,e,r);return B5r(t,e),t};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.FileSchema$=Zs.FileSchema$outboundSchema=Zs.FileSchema$inboundSchema=void 0;Zs.fileSchemaToJSON=U5r;Zs.fileSchemaFromJSON=z5r;var od=$5r(me()),ZOt=Oe(),q5r=ce(),XOt=_3(),QOt=v3(),eEt=w3();Zs.FileSchema$inboundSchema=od.object({id:od.string(),object:od.string(),bytes:od.number().int(),created_at:od.number().int(),filename:od.string(),purpose:XOt.FilePurpose$inboundSchema,sample_type:QOt.SampleType$inboundSchema,num_lines:od.nullable(od.number().int()).optional(),source:eEt.Source$inboundSchema}).transform(e=>(0,ZOt.remap)(e,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));Zs.FileSchema$outboundSchema=od.object({id:od.string(),object:od.string(),sizeBytes:od.number().int(),createdAt:od.number().int(),filename:od.string(),purpose:XOt.FilePurpose$outboundSchema,sampleType:QOt.SampleType$outboundSchema,numLines:od.nullable(od.number().int()).optional(),source:eEt.Source$outboundSchema}).transform(e=>(0,ZOt.remap)(e,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var YOt;(function(e){e.inboundSchema=Zs.FileSchema$inboundSchema,e.outboundSchema=Zs.FileSchema$outboundSchema})(YOt||(Zs.FileSchema$=YOt={}));function U5r(e){return JSON.stringify(Zs.FileSchema$outboundSchema.parse(e))}function z5r(e){return(0,q5r.safeParse)(e,t=>Zs.FileSchema$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FileSchema' from JSON")}});var rEt=b(Xs=>{"use strict";var H5r=Xs&&Xs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V5r=Xs&&Xs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),W5r=Xs&&Xs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&H5r(t,e,r);return V5r(t,e),t};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.FileSignedURL$=Xs.FileSignedURL$outboundSchema=Xs.FileSignedURL$inboundSchema=void 0;Xs.fileSignedURLToJSON=G5r;Xs.fileSignedURLFromJSON=K5r;var Ite=W5r(me()),J5r=ce();Xs.FileSignedURL$inboundSchema=Ite.object({url:Ite.string()});Xs.FileSignedURL$outboundSchema=Ite.object({url:Ite.string()});var tEt;(function(e){e.inboundSchema=Xs.FileSignedURL$inboundSchema,e.outboundSchema=Xs.FileSignedURL$outboundSchema})(tEt||(Xs.FileSignedURL$=tEt={}));function G5r(e){return JSON.stringify(Xs.FileSignedURL$outboundSchema.parse(e))}function K5r(e){return(0,J5r.safeParse)(e,t=>Xs.FileSignedURL$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FileSignedURL' from JSON")}});var sEt=b(ro=>{"use strict";var Y5r=ro&&ro.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z5r=ro&&ro.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X5r=ro&&ro.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y5r(t,e,r);return Z5r(t,e),t};Object.defineProperty(ro,"__esModule",{value:!0});ro.FIMCompletionRequest$=ro.FIMCompletionRequest$outboundSchema=ro.FIMCompletionRequest$inboundSchema=ro.FIMCompletionRequestStop$=ro.FIMCompletionRequestStop$outboundSchema=ro.FIMCompletionRequestStop$inboundSchema=void 0;ro.fimCompletionRequestStopToJSON=Q5r;ro.fimCompletionRequestStopFromJSON=e9r;ro.fimCompletionRequestToJSON=t9r;ro.fimCompletionRequestFromJSON=r9r;var zt=X5r(me()),iEt=Oe(),aEt=ce();ro.FIMCompletionRequestStop$inboundSchema=zt.union([zt.string(),zt.array(zt.string())]);ro.FIMCompletionRequestStop$outboundSchema=zt.union([zt.string(),zt.array(zt.string())]);var nEt;(function(e){e.inboundSchema=ro.FIMCompletionRequestStop$inboundSchema,e.outboundSchema=ro.FIMCompletionRequestStop$outboundSchema})(nEt||(ro.FIMCompletionRequestStop$=nEt={}));function Q5r(e){return JSON.stringify(ro.FIMCompletionRequestStop$outboundSchema.parse(e))}function e9r(e){return(0,aEt.safeParse)(e,t=>ro.FIMCompletionRequestStop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FIMCompletionRequestStop' from JSON")}ro.FIMCompletionRequest$inboundSchema=zt.object({model:zt.nullable(zt.string()),temperature:zt.nullable(zt.number()).optional(),top_p:zt.number().default(1),max_tokens:zt.nullable(zt.number().int()).optional(),stream:zt.boolean().default(!1),stop:zt.union([zt.string(),zt.array(zt.string())]).optional(),random_seed:zt.nullable(zt.number().int()).optional(),prompt:zt.string(),suffix:zt.nullable(zt.string()).optional(),min_tokens:zt.nullable(zt.number().int()).optional()}).transform(e=>(0,iEt.remap)(e,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",min_tokens:"minTokens"}));ro.FIMCompletionRequest$outboundSchema=zt.object({model:zt.nullable(zt.string()),temperature:zt.nullable(zt.number()).optional(),topP:zt.number().default(1),maxTokens:zt.nullable(zt.number().int()).optional(),stream:zt.boolean().default(!1),stop:zt.union([zt.string(),zt.array(zt.string())]).optional(),randomSeed:zt.nullable(zt.number().int()).optional(),prompt:zt.string(),suffix:zt.nullable(zt.string()).optional(),minTokens:zt.nullable(zt.number().int()).optional()}).transform(e=>(0,iEt.remap)(e,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",minTokens:"min_tokens"}));var oEt;(function(e){e.inboundSchema=ro.FIMCompletionRequest$inboundSchema,e.outboundSchema=ro.FIMCompletionRequest$outboundSchema})(oEt||(ro.FIMCompletionRequest$=oEt={}));function t9r(e){return JSON.stringify(ro.FIMCompletionRequest$outboundSchema.parse(e))}function r9r(e){return(0,aEt.safeParse)(e,t=>ro.FIMCompletionRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FIMCompletionRequest' from JSON")}});var dEt=b(Qs=>{"use strict";var n9r=Qs&&Qs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o9r=Qs&&Qs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i9r=Qs&&Qs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n9r(t,e,r);return o9r(t,e),t};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.FIMCompletionResponse$=Qs.FIMCompletionResponse$outboundSchema=Qs.FIMCompletionResponse$inboundSchema=void 0;Qs.fimCompletionResponseToJSON=s9r;Qs.fimCompletionResponseFromJSON=u9r;var am=i9r(me()),a9r=ce(),lEt=ute(),cEt=qk();Qs.FIMCompletionResponse$inboundSchema=am.object({id:am.string(),object:am.string(),model:am.string(),usage:cEt.UsageInfo$inboundSchema,created:am.number().int().optional(),choices:am.array(lEt.ChatCompletionChoice$inboundSchema).optional()});Qs.FIMCompletionResponse$outboundSchema=am.object({id:am.string(),object:am.string(),model:am.string(),usage:cEt.UsageInfo$outboundSchema,created:am.number().int().optional(),choices:am.array(lEt.ChatCompletionChoice$outboundSchema).optional()});var uEt;(function(e){e.inboundSchema=Qs.FIMCompletionResponse$inboundSchema,e.outboundSchema=Qs.FIMCompletionResponse$outboundSchema})(uEt||(Qs.FIMCompletionResponse$=uEt={}));function s9r(e){return JSON.stringify(Qs.FIMCompletionResponse$outboundSchema.parse(e))}function u9r(e){return(0,a9r.safeParse)(e,t=>Qs.FIMCompletionResponse$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FIMCompletionResponse' from JSON")}});var gEt=b(no=>{"use strict";var l9r=no&&no.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c9r=no&&no.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d9r=no&&no.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&l9r(t,e,r);return c9r(t,e),t};Object.defineProperty(no,"__esModule",{value:!0});no.FIMCompletionStreamRequest$=no.FIMCompletionStreamRequest$outboundSchema=no.FIMCompletionStreamRequest$inboundSchema=no.FIMCompletionStreamRequestStop$=no.FIMCompletionStreamRequestStop$outboundSchema=no.FIMCompletionStreamRequestStop$inboundSchema=void 0;no.fimCompletionStreamRequestStopToJSON=f9r;no.fimCompletionStreamRequestStopFromJSON=p9r;no.fimCompletionStreamRequestToJSON=h9r;no.fimCompletionStreamRequestFromJSON=m9r;var Ht=d9r(me()),hEt=Oe(),mEt=ce();no.FIMCompletionStreamRequestStop$inboundSchema=Ht.union([Ht.string(),Ht.array(Ht.string())]);no.FIMCompletionStreamRequestStop$outboundSchema=Ht.union([Ht.string(),Ht.array(Ht.string())]);var fEt;(function(e){e.inboundSchema=no.FIMCompletionStreamRequestStop$inboundSchema,e.outboundSchema=no.FIMCompletionStreamRequestStop$outboundSchema})(fEt||(no.FIMCompletionStreamRequestStop$=fEt={}));function f9r(e){return JSON.stringify(no.FIMCompletionStreamRequestStop$outboundSchema.parse(e))}function p9r(e){return(0,mEt.safeParse)(e,t=>no.FIMCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FIMCompletionStreamRequestStop' from JSON")}no.FIMCompletionStreamRequest$inboundSchema=Ht.object({model:Ht.nullable(Ht.string()),temperature:Ht.nullable(Ht.number()).optional(),top_p:Ht.number().default(1),max_tokens:Ht.nullable(Ht.number().int()).optional(),stream:Ht.boolean().default(!0),stop:Ht.union([Ht.string(),Ht.array(Ht.string())]).optional(),random_seed:Ht.nullable(Ht.number().int()).optional(),prompt:Ht.string(),suffix:Ht.nullable(Ht.string()).optional(),min_tokens:Ht.nullable(Ht.number().int()).optional()}).transform(e=>(0,hEt.remap)(e,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",min_tokens:"minTokens"}));no.FIMCompletionStreamRequest$outboundSchema=Ht.object({model:Ht.nullable(Ht.string()),temperature:Ht.nullable(Ht.number()).optional(),topP:Ht.number().default(1),maxTokens:Ht.nullable(Ht.number().int()).optional(),stream:Ht.boolean().default(!0),stop:Ht.union([Ht.string(),Ht.array(Ht.string())]).optional(),randomSeed:Ht.nullable(Ht.number().int()).optional(),prompt:Ht.string(),suffix:Ht.nullable(Ht.string()).optional(),minTokens:Ht.nullable(Ht.number().int()).optional()}).transform(e=>(0,hEt.remap)(e,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",minTokens:"min_tokens"}));var pEt;(function(e){e.inboundSchema=no.FIMCompletionStreamRequest$inboundSchema,e.outboundSchema=no.FIMCompletionStreamRequest$outboundSchema})(pEt||(no.FIMCompletionStreamRequest$=pEt={}));function h9r(e){return JSON.stringify(no.FIMCompletionStreamRequest$outboundSchema.parse(e))}function m9r(e){return(0,mEt.safeParse)(e,t=>no.FIMCompletionStreamRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FIMCompletionStreamRequest' from JSON")}});var pEe=b(eu=>{"use strict";var g9r=eu&&eu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y9r=eu&&eu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b9r=eu&&eu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&g9r(t,e,r);return y9r(t,e),t};Object.defineProperty(eu,"__esModule",{value:!0});eu.FTModelCapabilitiesOut$=eu.FTModelCapabilitiesOut$outboundSchema=eu.FTModelCapabilitiesOut$inboundSchema=void 0;eu.ftModelCapabilitiesOutToJSON=v9r;eu.ftModelCapabilitiesOutFromJSON=w9r;var Uw=b9r(me()),bEt=Oe(),_9r=ce();eu.FTModelCapabilitiesOut$inboundSchema=Uw.object({completion_chat:Uw.boolean().default(!0),completion_fim:Uw.boolean().default(!1),function_calling:Uw.boolean().default(!1),fine_tuning:Uw.boolean().default(!1)}).transform(e=>(0,bEt.remap)(e,{completion_chat:"completionChat",completion_fim:"completionFim",function_calling:"functionCalling",fine_tuning:"fineTuning"}));eu.FTModelCapabilitiesOut$outboundSchema=Uw.object({completionChat:Uw.boolean().default(!0),completionFim:Uw.boolean().default(!1),functionCalling:Uw.boolean().default(!1),fineTuning:Uw.boolean().default(!1)}).transform(e=>(0,bEt.remap)(e,{completionChat:"completion_chat",completionFim:"completion_fim",functionCalling:"function_calling",fineTuning:"fine_tuning"}));var yEt;(function(e){e.inboundSchema=eu.FTModelCapabilitiesOut$inboundSchema,e.outboundSchema=eu.FTModelCapabilitiesOut$outboundSchema})(yEt||(eu.FTModelCapabilitiesOut$=yEt={}));function v9r(e){return JSON.stringify(eu.FTModelCapabilitiesOut$outboundSchema.parse(e))}function w9r(e){return(0,_9r.safeParse)(e,t=>eu.FTModelCapabilitiesOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FTModelCapabilitiesOut' from JSON")}});var hEe=b(oo=>{"use strict";var S9r=oo&&oo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),x9r=oo&&oo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C9r=oo&&oo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&S9r(t,e,r);return x9r(t,e),t};Object.defineProperty(oo,"__esModule",{value:!0});oo.FTModelCard$=oo.FTModelCard$outboundSchema=oo.FTModelCard$inboundSchema=oo.FTModelCardType$=oo.FTModelCardType$outboundSchema=oo.FTModelCardType$inboundSchema=oo.FTModelCardType=void 0;oo.ftModelCardToJSON=E9r;oo.ftModelCardFromJSON=P9r;var Ir=C9r(me()),wEt=Oe(),O9r=ce(),SEt=ate();oo.FTModelCardType={FineTuned:"fine-tuned"};oo.FTModelCardType$inboundSchema=Ir.nativeEnum(oo.FTModelCardType);oo.FTModelCardType$outboundSchema=oo.FTModelCardType$inboundSchema;var _Et;(function(e){e.inboundSchema=oo.FTModelCardType$inboundSchema,e.outboundSchema=oo.FTModelCardType$outboundSchema})(_Et||(oo.FTModelCardType$=_Et={}));oo.FTModelCard$inboundSchema=Ir.object({id:Ir.string(),object:Ir.string().default("model"),created:Ir.number().int().optional(),owned_by:Ir.string().default("mistralai"),capabilities:SEt.ModelCapabilities$inboundSchema,name:Ir.nullable(Ir.string()).optional(),description:Ir.nullable(Ir.string()).optional(),max_context_length:Ir.number().int().default(32768),aliases:Ir.array(Ir.string()).optional(),deprecation:Ir.nullable(Ir.string().datetime({offset:!0}).transform(e=>new Date(e))).optional(),default_model_temperature:Ir.nullable(Ir.number()).optional(),type:Ir.literal("fine-tuned").default("fine-tuned"),job:Ir.string(),root:Ir.string(),archived:Ir.boolean().default(!1)}).transform(e=>(0,wEt.remap)(e,{owned_by:"ownedBy",max_context_length:"maxContextLength",default_model_temperature:"defaultModelTemperature"}));oo.FTModelCard$outboundSchema=Ir.object({id:Ir.string(),object:Ir.string().default("model"),created:Ir.number().int().optional(),ownedBy:Ir.string().default("mistralai"),capabilities:SEt.ModelCapabilities$outboundSchema,name:Ir.nullable(Ir.string()).optional(),description:Ir.nullable(Ir.string()).optional(),maxContextLength:Ir.number().int().default(32768),aliases:Ir.array(Ir.string()).optional(),deprecation:Ir.nullable(Ir.date().transform(e=>e.toISOString())).optional(),defaultModelTemperature:Ir.nullable(Ir.number()).optional(),type:Ir.literal("fine-tuned").default("fine-tuned"),job:Ir.string(),root:Ir.string(),archived:Ir.boolean().default(!1)}).transform(e=>(0,wEt.remap)(e,{ownedBy:"owned_by",maxContextLength:"max_context_length",defaultModelTemperature:"default_model_temperature"}));var vEt;(function(e){e.inboundSchema=oo.FTModelCard$inboundSchema,e.outboundSchema=oo.FTModelCard$outboundSchema})(vEt||(oo.FTModelCard$=vEt={}));function E9r(e){return JSON.stringify(oo.FTModelCard$outboundSchema.parse(e))}function P9r(e){return(0,O9r.safeParse)(e,t=>oo.FTModelCard$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FTModelCard' from JSON")}});var PEt=b(io=>{"use strict";var T9r=io&&io.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M9r=io&&io.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I9r=io&&io.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&T9r(t,e,r);return M9r(t,e),t};Object.defineProperty(io,"__esModule",{value:!0});io.FTModelOut$=io.FTModelOut$outboundSchema=io.FTModelOut$inboundSchema=io.FTModelOutObject$=io.FTModelOutObject$outboundSchema=io.FTModelOutObject$inboundSchema=io.FTModelOutObject=void 0;io.ftModelOutToJSON=R9r;io.ftModelOutFromJSON=D9r;var xo=I9r(me()),OEt=Oe(),A9r=ce(),EEt=pEe();io.FTModelOutObject={Model:"model"};io.FTModelOutObject$inboundSchema=xo.nativeEnum(io.FTModelOutObject);io.FTModelOutObject$outboundSchema=io.FTModelOutObject$inboundSchema;var xEt;(function(e){e.inboundSchema=io.FTModelOutObject$inboundSchema,e.outboundSchema=io.FTModelOutObject$outboundSchema})(xEt||(io.FTModelOutObject$=xEt={}));io.FTModelOut$inboundSchema=xo.object({id:xo.string(),object:xo.literal("model").default("model"),created:xo.number().int(),owned_by:xo.string(),root:xo.string(),archived:xo.boolean(),name:xo.nullable(xo.string()).optional(),description:xo.nullable(xo.string()).optional(),capabilities:EEt.FTModelCapabilitiesOut$inboundSchema,max_context_length:xo.number().int().default(32768),aliases:xo.array(xo.string()).optional(),job:xo.string()}).transform(e=>(0,OEt.remap)(e,{owned_by:"ownedBy",max_context_length:"maxContextLength"}));io.FTModelOut$outboundSchema=xo.object({id:xo.string(),object:xo.literal("model").default("model"),created:xo.number().int(),ownedBy:xo.string(),root:xo.string(),archived:xo.boolean(),name:xo.nullable(xo.string()).optional(),description:xo.nullable(xo.string()).optional(),capabilities:EEt.FTModelCapabilitiesOut$outboundSchema,maxContextLength:xo.number().int().default(32768),aliases:xo.array(xo.string()).optional(),job:xo.string()}).transform(e=>(0,OEt.remap)(e,{ownedBy:"owned_by",maxContextLength:"max_context_length"}));var CEt;(function(e){e.inboundSchema=io.FTModelOut$inboundSchema,e.outboundSchema=io.FTModelOut$outboundSchema})(CEt||(io.FTModelOut$=CEt={}));function R9r(e){return JSON.stringify(io.FTModelOut$outboundSchema.parse(e))}function D9r(e){return(0,A9r.safeParse)(e,t=>io.FTModelOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FTModelOut' from JSON")}});var mEe=b(ao=>{"use strict";var j9r=ao&&ao.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N9r=ao&&ao.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L9r=ao&&ao.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j9r(t,e,r);return N9r(t,e),t};Object.defineProperty(ao,"__esModule",{value:!0});ao.GithubRepositoryIn$=ao.GithubRepositoryIn$outboundSchema=ao.GithubRepositoryIn$inboundSchema=ao.GithubRepositoryInType$=ao.GithubRepositoryInType$outboundSchema=ao.GithubRepositoryInType$inboundSchema=ao.GithubRepositoryInType=void 0;ao.githubRepositoryInToJSON=k9r;ao.githubRepositoryInFromJSON=B9r;var lc=L9r(me()),F9r=ce();ao.GithubRepositoryInType={Github:"github"};ao.GithubRepositoryInType$inboundSchema=lc.nativeEnum(ao.GithubRepositoryInType);ao.GithubRepositoryInType$outboundSchema=ao.GithubRepositoryInType$inboundSchema;var TEt;(function(e){e.inboundSchema=ao.GithubRepositoryInType$inboundSchema,e.outboundSchema=ao.GithubRepositoryInType$outboundSchema})(TEt||(ao.GithubRepositoryInType$=TEt={}));ao.GithubRepositoryIn$inboundSchema=lc.object({type:lc.literal("github").default("github"),name:lc.string(),owner:lc.string(),ref:lc.nullable(lc.string()).optional(),weight:lc.number().default(1),token:lc.string()});ao.GithubRepositoryIn$outboundSchema=lc.object({type:lc.literal("github").default("github"),name:lc.string(),owner:lc.string(),ref:lc.nullable(lc.string()).optional(),weight:lc.number().default(1),token:lc.string()});var MEt;(function(e){e.inboundSchema=ao.GithubRepositoryIn$inboundSchema,e.outboundSchema=ao.GithubRepositoryIn$outboundSchema})(MEt||(ao.GithubRepositoryIn$=MEt={}));function k9r(e){return JSON.stringify(ao.GithubRepositoryIn$outboundSchema.parse(e))}function B9r(e){return(0,F9r.safeParse)(e,t=>ao.GithubRepositoryIn$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'GithubRepositoryIn' from JSON")}});var gEe=b(tu=>{"use strict";var $9r=tu&&tu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q9r=tu&&tu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U9r=tu&&tu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$9r(t,e,r);return q9r(t,e),t};Object.defineProperty(tu,"__esModule",{value:!0});tu.TrainingFile$=tu.TrainingFile$outboundSchema=tu.TrainingFile$inboundSchema=void 0;tu.trainingFileToJSON=H9r;tu.trainingFileFromJSON=V9r;var zk=U9r(me()),AEt=Oe(),z9r=ce();tu.TrainingFile$inboundSchema=zk.object({file_id:zk.string(),weight:zk.number().default(1)}).transform(e=>(0,AEt.remap)(e,{file_id:"fileId"}));tu.TrainingFile$outboundSchema=zk.object({fileId:zk.string(),weight:zk.number().default(1)}).transform(e=>(0,AEt.remap)(e,{fileId:"file_id"}));var IEt;(function(e){e.inboundSchema=tu.TrainingFile$inboundSchema,e.outboundSchema=tu.TrainingFile$outboundSchema})(IEt||(tu.TrainingFile$=IEt={}));function H9r(e){return JSON.stringify(tu.TrainingFile$outboundSchema.parse(e))}function V9r(e){return(0,z9r.safeParse)(e,t=>tu.TrainingFile$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'TrainingFile' from JSON")}});var yEe=b(ru=>{"use strict";var W9r=ru&&ru.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J9r=ru&&ru.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G9r=ru&&ru.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&W9r(t,e,r);return J9r(t,e),t};Object.defineProperty(ru,"__esModule",{value:!0});ru.TrainingParametersIn$=ru.TrainingParametersIn$outboundSchema=ru.TrainingParametersIn$inboundSchema=void 0;ru.trainingParametersInToJSON=Y9r;ru.trainingParametersInFromJSON=Z9r;var Jo=G9r(me()),DEt=Oe(),K9r=ce();ru.TrainingParametersIn$inboundSchema=Jo.object({training_steps:Jo.nullable(Jo.number().int()).optional(),learning_rate:Jo.number().default(1e-4),weight_decay:Jo.nullable(Jo.number()).optional(),warmup_fraction:Jo.nullable(Jo.number()).optional(),epochs:Jo.nullable(Jo.number()).optional(),fim_ratio:Jo.nullable(Jo.number()).optional(),seq_len:Jo.nullable(Jo.number().int()).optional()}).transform(e=>(0,DEt.remap)(e,{training_steps:"trainingSteps",learning_rate:"learningRate",weight_decay:"weightDecay",warmup_fraction:"warmupFraction",fim_ratio:"fimRatio",seq_len:"seqLen"}));ru.TrainingParametersIn$outboundSchema=Jo.object({trainingSteps:Jo.nullable(Jo.number().int()).optional(),learningRate:Jo.number().default(1e-4),weightDecay:Jo.nullable(Jo.number()).optional(),warmupFraction:Jo.nullable(Jo.number()).optional(),epochs:Jo.nullable(Jo.number()).optional(),fimRatio:Jo.nullable(Jo.number()).optional(),seqLen:Jo.nullable(Jo.number().int()).optional()}).transform(e=>(0,DEt.remap)(e,{trainingSteps:"training_steps",learningRate:"learning_rate",weightDecay:"weight_decay",warmupFraction:"warmup_fraction",fimRatio:"fim_ratio",seqLen:"seq_len"}));var REt;(function(e){e.inboundSchema=ru.TrainingParametersIn$inboundSchema,e.outboundSchema=ru.TrainingParametersIn$outboundSchema})(REt||(ru.TrainingParametersIn$=REt={}));function Y9r(e){return JSON.stringify(ru.TrainingParametersIn$outboundSchema.parse(e))}function Z9r(e){return(0,K9r.safeParse)(e,t=>ru.TrainingParametersIn$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'TrainingParametersIn' from JSON")}});var bEe=b(so=>{"use strict";var X9r=so&&so.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q9r=so&&so.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eWr=so&&so.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&X9r(t,e,r);return Q9r(t,e),t};Object.defineProperty(so,"__esModule",{value:!0});so.WandbIntegration$=so.WandbIntegration$outboundSchema=so.WandbIntegration$inboundSchema=so.WandbIntegrationType$=so.WandbIntegrationType$outboundSchema=so.WandbIntegrationType$inboundSchema=so.WandbIntegrationType=void 0;so.wandbIntegrationToJSON=rWr;so.wandbIntegrationFromJSON=nWr;var cc=eWr(me()),LEt=Oe(),tWr=ce();so.WandbIntegrationType={Wandb:"wandb"};so.WandbIntegrationType$inboundSchema=cc.nativeEnum(so.WandbIntegrationType);so.WandbIntegrationType$outboundSchema=so.WandbIntegrationType$inboundSchema;var jEt;(function(e){e.inboundSchema=so.WandbIntegrationType$inboundSchema,e.outboundSchema=so.WandbIntegrationType$outboundSchema})(jEt||(so.WandbIntegrationType$=jEt={}));so.WandbIntegration$inboundSchema=cc.object({type:cc.literal("wandb").default("wandb"),project:cc.string(),name:cc.nullable(cc.string()).optional(),api_key:cc.string(),run_name:cc.nullable(cc.string()).optional()}).transform(e=>(0,LEt.remap)(e,{api_key:"apiKey",run_name:"runName"}));so.WandbIntegration$outboundSchema=cc.object({type:cc.literal("wandb").default("wandb"),project:cc.string(),name:cc.nullable(cc.string()).optional(),apiKey:cc.string(),runName:cc.nullable(cc.string()).optional()}).transform(e=>(0,LEt.remap)(e,{apiKey:"api_key",runName:"run_name"}));var NEt;(function(e){e.inboundSchema=so.WandbIntegration$inboundSchema,e.outboundSchema=so.WandbIntegration$outboundSchema})(NEt||(so.WandbIntegration$=NEt={}));function rWr(e){return JSON.stringify(so.WandbIntegration$outboundSchema.parse(e))}function nWr(e){return(0,tWr.safeParse)(e,t=>so.WandbIntegration$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'WandbIntegration' from JSON")}});var zEt=b(ar=>{"use strict";var oWr=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iWr=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aWr=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oWr(t,e,r);return iWr(t,e),t};Object.defineProperty(ar,"__esModule",{value:!0});ar.JobIn$=ar.JobIn$outboundSchema=ar.JobIn$inboundSchema=ar.JobInRepositories$=ar.JobInRepositories$outboundSchema=ar.JobInRepositories$inboundSchema=ar.JobInIntegrations$=ar.JobInIntegrations$outboundSchema=ar.JobInIntegrations$inboundSchema=void 0;ar.jobInIntegrationsToJSON=sWr;ar.jobInIntegrationsFromJSON=uWr;ar.jobInRepositoriesToJSON=lWr;ar.jobInRepositoriesFromJSON=cWr;ar.jobInToJSON=dWr;ar.jobInFromJSON=fWr;var Gi=aWr(me()),$Et=Oe(),_Ee=ce(),Ate=mEe(),qEt=gEe(),UEt=yEe(),Rte=bEe();ar.JobInIntegrations$inboundSchema=Rte.WandbIntegration$inboundSchema;ar.JobInIntegrations$outboundSchema=Rte.WandbIntegration$outboundSchema;var FEt;(function(e){e.inboundSchema=ar.JobInIntegrations$inboundSchema,e.outboundSchema=ar.JobInIntegrations$outboundSchema})(FEt||(ar.JobInIntegrations$=FEt={}));function sWr(e){return JSON.stringify(ar.JobInIntegrations$outboundSchema.parse(e))}function uWr(e){return(0,_Ee.safeParse)(e,t=>ar.JobInIntegrations$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobInIntegrations' from JSON")}ar.JobInRepositories$inboundSchema=Ate.GithubRepositoryIn$inboundSchema;ar.JobInRepositories$outboundSchema=Ate.GithubRepositoryIn$outboundSchema;var kEt;(function(e){e.inboundSchema=ar.JobInRepositories$inboundSchema,e.outboundSchema=ar.JobInRepositories$outboundSchema})(kEt||(ar.JobInRepositories$=kEt={}));function lWr(e){return JSON.stringify(ar.JobInRepositories$outboundSchema.parse(e))}function cWr(e){return(0,_Ee.safeParse)(e,t=>ar.JobInRepositories$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobInRepositories' from JSON")}ar.JobIn$inboundSchema=Gi.object({model:Gi.string(),training_files:Gi.array(qEt.TrainingFile$inboundSchema).optional(),validation_files:Gi.nullable(Gi.array(Gi.string())).optional(),hyperparameters:UEt.TrainingParametersIn$inboundSchema,suffix:Gi.nullable(Gi.string()).optional(),integrations:Gi.nullable(Gi.array(Rte.WandbIntegration$inboundSchema)).optional(),repositories:Gi.array(Ate.GithubRepositoryIn$inboundSchema).optional(),auto_start:Gi.boolean().optional()}).transform(e=>(0,$Et.remap)(e,{training_files:"trainingFiles",validation_files:"validationFiles",auto_start:"autoStart"}));ar.JobIn$outboundSchema=Gi.object({model:Gi.string(),trainingFiles:Gi.array(qEt.TrainingFile$outboundSchema).optional(),validationFiles:Gi.nullable(Gi.array(Gi.string())).optional(),hyperparameters:UEt.TrainingParametersIn$outboundSchema,suffix:Gi.nullable(Gi.string()).optional(),integrations:Gi.nullable(Gi.array(Rte.WandbIntegration$outboundSchema)).optional(),repositories:Gi.array(Ate.GithubRepositoryIn$outboundSchema).optional(),autoStart:Gi.boolean().optional()}).transform(e=>(0,$Et.remap)(e,{trainingFiles:"training_files",validationFiles:"validation_files",autoStart:"auto_start"}));var BEt;(function(e){e.inboundSchema=ar.JobIn$inboundSchema,e.outboundSchema=ar.JobIn$outboundSchema})(BEt||(ar.JobIn$=BEt={}));function dWr(e){return JSON.stringify(ar.JobIn$outboundSchema.parse(e))}function fWr(e){return(0,_Ee.safeParse)(e,t=>ar.JobIn$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobIn' from JSON")}});var wEe=b(Ye=>{"use strict";var pWr=Ye&&Ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hWr=Ye&&Ye.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mWr=Ye&&Ye.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pWr(t,e,r);return hWr(t,e),t};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.JobOut$=Ye.JobOut$outboundSchema=Ye.JobOut$inboundSchema=Ye.Repositories$=Ye.Repositories$outboundSchema=Ye.Repositories$inboundSchema=Ye.Integrations$=Ye.Integrations$outboundSchema=Ye.Integrations$inboundSchema=Ye.ObjectT$=Ye.ObjectT$outboundSchema=Ye.ObjectT$inboundSchema=Ye.Status$=Ye.Status$outboundSchema=Ye.Status$inboundSchema=Ye.ObjectT=Ye.Status=void 0;Ye.integrationsToJSON=gWr;Ye.integrationsFromJSON=yWr;Ye.repositoriesToJSON=bWr;Ye.repositoriesFromJSON=_Wr;Ye.jobOutToJSON=vWr;Ye.jobOutFromJSON=wWr;var Vt=mWr(me()),KEt=Oe(),vEe=ce(),Dte=Cte(),YEt=Ote(),ZEt=Ete(),jte=Pte();Ye.Status={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};Ye.ObjectT={Job:"job"};Ye.Status$inboundSchema=Vt.nativeEnum(Ye.Status);Ye.Status$outboundSchema=Ye.Status$inboundSchema;var HEt;(function(e){e.inboundSchema=Ye.Status$inboundSchema,e.outboundSchema=Ye.Status$outboundSchema})(HEt||(Ye.Status$=HEt={}));Ye.ObjectT$inboundSchema=Vt.nativeEnum(Ye.ObjectT);Ye.ObjectT$outboundSchema=Ye.ObjectT$inboundSchema;var VEt;(function(e){e.inboundSchema=Ye.ObjectT$inboundSchema,e.outboundSchema=Ye.ObjectT$outboundSchema})(VEt||(Ye.ObjectT$=VEt={}));Ye.Integrations$inboundSchema=jte.WandbIntegrationOut$inboundSchema;Ye.Integrations$outboundSchema=jte.WandbIntegrationOut$outboundSchema;var WEt;(function(e){e.inboundSchema=Ye.Integrations$inboundSchema,e.outboundSchema=Ye.Integrations$outboundSchema})(WEt||(Ye.Integrations$=WEt={}));function gWr(e){return JSON.stringify(Ye.Integrations$outboundSchema.parse(e))}function yWr(e){return(0,vEe.safeParse)(e,t=>Ye.Integrations$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Integrations' from JSON")}Ye.Repositories$inboundSchema=Dte.GithubRepositoryOut$inboundSchema;Ye.Repositories$outboundSchema=Dte.GithubRepositoryOut$outboundSchema;var JEt;(function(e){e.inboundSchema=Ye.Repositories$inboundSchema,e.outboundSchema=Ye.Repositories$outboundSchema})(JEt||(Ye.Repositories$=JEt={}));function bWr(e){return JSON.stringify(Ye.Repositories$outboundSchema.parse(e))}function _Wr(e){return(0,vEe.safeParse)(e,t=>Ye.Repositories$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Repositories' from JSON")}Ye.JobOut$inboundSchema=Vt.object({id:Vt.string(),auto_start:Vt.boolean(),hyperparameters:ZEt.TrainingParameters$inboundSchema,model:Vt.string(),status:Ye.Status$inboundSchema,job_type:Vt.string(),created_at:Vt.number().int(),modified_at:Vt.number().int(),training_files:Vt.array(Vt.string()),validation_files:Vt.nullable(Vt.array(Vt.string())).optional(),object:Vt.literal("job").default("job"),fine_tuned_model:Vt.nullable(Vt.string()).optional(),suffix:Vt.nullable(Vt.string()).optional(),integrations:Vt.nullable(Vt.array(jte.WandbIntegrationOut$inboundSchema)).optional(),trained_tokens:Vt.nullable(Vt.number().int()).optional(),repositories:Vt.array(Dte.GithubRepositoryOut$inboundSchema).optional(),metadata:Vt.nullable(YEt.JobMetadataOut$inboundSchema).optional()}).transform(e=>(0,KEt.remap)(e,{auto_start:"autoStart",job_type:"jobType",created_at:"createdAt",modified_at:"modifiedAt",training_files:"trainingFiles",validation_files:"validationFiles",fine_tuned_model:"fineTunedModel",trained_tokens:"trainedTokens"}));Ye.JobOut$outboundSchema=Vt.object({id:Vt.string(),autoStart:Vt.boolean(),hyperparameters:ZEt.TrainingParameters$outboundSchema,model:Vt.string(),status:Ye.Status$outboundSchema,jobType:Vt.string(),createdAt:Vt.number().int(),modifiedAt:Vt.number().int(),trainingFiles:Vt.array(Vt.string()),validationFiles:Vt.nullable(Vt.array(Vt.string())).optional(),object:Vt.literal("job").default("job"),fineTunedModel:Vt.nullable(Vt.string()).optional(),suffix:Vt.nullable(Vt.string()).optional(),integrations:Vt.nullable(Vt.array(jte.WandbIntegrationOut$outboundSchema)).optional(),trainedTokens:Vt.nullable(Vt.number().int()).optional(),repositories:Vt.array(Dte.GithubRepositoryOut$outboundSchema).optional(),metadata:Vt.nullable(YEt.JobMetadataOut$outboundSchema).optional()}).transform(e=>(0,KEt.remap)(e,{autoStart:"auto_start",jobType:"job_type",createdAt:"created_at",modifiedAt:"modified_at",trainingFiles:"training_files",validationFiles:"validation_files",fineTunedModel:"fine_tuned_model",trainedTokens:"trained_tokens"}));var GEt;(function(e){e.inboundSchema=Ye.JobOut$inboundSchema,e.outboundSchema=Ye.JobOut$outboundSchema})(GEt||(Ye.JobOut$=GEt={}));function vWr(e){return JSON.stringify(Ye.JobOut$outboundSchema.parse(e))}function wWr(e){return(0,vEe.safeParse)(e,t=>Ye.JobOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobOut' from JSON")}});var tPt=b(uo=>{"use strict";var SWr=uo&&uo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xWr=uo&&uo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CWr=uo&&uo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SWr(t,e,r);return xWr(t,e),t};Object.defineProperty(uo,"__esModule",{value:!0});uo.JobsOut$=uo.JobsOut$outboundSchema=uo.JobsOut$inboundSchema=uo.JobsOutObject$=uo.JobsOutObject$outboundSchema=uo.JobsOutObject$inboundSchema=uo.JobsOutObject=void 0;uo.jobsOutToJSON=EWr;uo.jobsOutFromJSON=PWr;var rC=CWr(me()),OWr=ce(),ePt=wEe();uo.JobsOutObject={List:"list"};uo.JobsOutObject$inboundSchema=rC.nativeEnum(uo.JobsOutObject);uo.JobsOutObject$outboundSchema=uo.JobsOutObject$inboundSchema;var XEt;(function(e){e.inboundSchema=uo.JobsOutObject$inboundSchema,e.outboundSchema=uo.JobsOutObject$outboundSchema})(XEt||(uo.JobsOutObject$=XEt={}));uo.JobsOut$inboundSchema=rC.object({data:rC.array(ePt.JobOut$inboundSchema).optional(),object:rC.literal("list").default("list"),total:rC.number().int()});uo.JobsOut$outboundSchema=rC.object({data:rC.array(ePt.JobOut$outboundSchema).optional(),object:rC.literal("list").default("list"),total:rC.number().int()});var QEt;(function(e){e.inboundSchema=uo.JobsOut$inboundSchema,e.outboundSchema=uo.JobsOut$outboundSchema})(QEt||(uo.JobsOut$=QEt={}));function EWr(e){return JSON.stringify(uo.JobsOut$outboundSchema.parse(e))}function PWr(e){return(0,OWr.safeParse)(e,t=>uo.JobsOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsOut' from JSON")}});var iPt=b(lo=>{"use strict";var TWr=lo&&lo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MWr=lo&&lo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IWr=lo&&lo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&TWr(t,e,r);return MWr(t,e),t};Object.defineProperty(lo,"__esModule",{value:!0});lo.LegacyJobMetadataOut$=lo.LegacyJobMetadataOut$outboundSchema=lo.LegacyJobMetadataOut$inboundSchema=lo.LegacyJobMetadataOutObject$=lo.LegacyJobMetadataOutObject$outboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema=lo.LegacyJobMetadataOutObject=void 0;lo.legacyJobMetadataOutToJSON=RWr;lo.legacyJobMetadataOutFromJSON=DWr;var or=IWr(me()),oPt=Oe(),AWr=ce();lo.LegacyJobMetadataOutObject={JobMetadata:"job.metadata"};lo.LegacyJobMetadataOutObject$inboundSchema=or.nativeEnum(lo.LegacyJobMetadataOutObject);lo.LegacyJobMetadataOutObject$outboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema;var rPt;(function(e){e.inboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema,e.outboundSchema=lo.LegacyJobMetadataOutObject$outboundSchema})(rPt||(lo.LegacyJobMetadataOutObject$=rPt={}));lo.LegacyJobMetadataOut$inboundSchema=or.object({expected_duration_seconds:or.nullable(or.number().int()).optional(),cost:or.nullable(or.number()).optional(),cost_currency:or.nullable(or.string()).optional(),train_tokens_per_step:or.nullable(or.number().int()).optional(),train_tokens:or.nullable(or.number().int()).optional(),data_tokens:or.nullable(or.number().int()).optional(),estimated_start_time:or.nullable(or.number().int()).optional(),deprecated:or.boolean().default(!0),details:or.string(),epochs:or.nullable(or.number()).optional(),training_steps:or.nullable(or.number().int()).optional(),object:or.literal("job.metadata").default("job.metadata")}).transform(e=>(0,oPt.remap)(e,{expected_duration_seconds:"expectedDurationSeconds",cost_currency:"costCurrency",train_tokens_per_step:"trainTokensPerStep",train_tokens:"trainTokens",data_tokens:"dataTokens",estimated_start_time:"estimatedStartTime",training_steps:"trainingSteps"}));lo.LegacyJobMetadataOut$outboundSchema=or.object({expectedDurationSeconds:or.nullable(or.number().int()).optional(),cost:or.nullable(or.number()).optional(),costCurrency:or.nullable(or.string()).optional(),trainTokensPerStep:or.nullable(or.number().int()).optional(),trainTokens:or.nullable(or.number().int()).optional(),dataTokens:or.nullable(or.number().int()).optional(),estimatedStartTime:or.nullable(or.number().int()).optional(),deprecated:or.boolean().default(!0),details:or.string(),epochs:or.nullable(or.number()).optional(),trainingSteps:or.nullable(or.number().int()).optional(),object:or.literal("job.metadata").default("job.metadata")}).transform(e=>(0,oPt.remap)(e,{expectedDurationSeconds:"expected_duration_seconds",costCurrency:"cost_currency",trainTokensPerStep:"train_tokens_per_step",trainTokens:"train_tokens",dataTokens:"data_tokens",estimatedStartTime:"estimated_start_time",trainingSteps:"training_steps"}));var nPt;(function(e){e.inboundSchema=lo.LegacyJobMetadataOut$inboundSchema,e.outboundSchema=lo.LegacyJobMetadataOut$outboundSchema})(nPt||(lo.LegacyJobMetadataOut$=nPt={}));function RWr(e){return JSON.stringify(lo.LegacyJobMetadataOut$outboundSchema.parse(e))}function DWr(e){return(0,AWr.safeParse)(e,t=>lo.LegacyJobMetadataOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'LegacyJobMetadataOut' from JSON")}});var uPt=b(nu=>{"use strict";var jWr=nu&&nu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NWr=nu&&nu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LWr=nu&&nu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jWr(t,e,r);return NWr(t,e),t};Object.defineProperty(nu,"__esModule",{value:!0});nu.ListFilesOut$=nu.ListFilesOut$outboundSchema=nu.ListFilesOut$inboundSchema=void 0;nu.listFilesOutToJSON=kWr;nu.listFilesOutFromJSON=BWr;var eT=LWr(me()),FWr=ce(),sPt=fEe();nu.ListFilesOut$inboundSchema=eT.object({data:eT.array(sPt.FileSchema$inboundSchema),object:eT.string(),total:eT.number().int()});nu.ListFilesOut$outboundSchema=eT.object({data:eT.array(sPt.FileSchema$outboundSchema),object:eT.string(),total:eT.number().int()});var aPt;(function(e){e.inboundSchema=nu.ListFilesOut$inboundSchema,e.outboundSchema=nu.ListFilesOut$outboundSchema})(aPt||(nu.ListFilesOut$=aPt={}));function kWr(e){return JSON.stringify(nu.ListFilesOut$outboundSchema.parse(e))}function BWr(e){return(0,FWr.safeParse)(e,t=>nu.ListFilesOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ListFilesOut' from JSON")}});var fPt=b(co=>{"use strict";var $Wr=co&&co.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qWr=co&&co.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UWr=co&&co.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Wr(t,e,r);return qWr(t,e),t};Object.defineProperty(co,"__esModule",{value:!0});co.ModelList$=co.ModelList$outboundSchema=co.ModelList$inboundSchema=co.Data$=co.Data$outboundSchema=co.Data$inboundSchema=void 0;co.dataToJSON=zWr;co.dataFromJSON=HWr;co.modelListToJSON=VWr;co.modelListFromJSON=WWr;var ci=UWr(me()),dPt=ce(),Nte=QOe(),Lte=hEe();co.Data$inboundSchema=ci.union([Nte.BaseModelCard$inboundSchema.and(ci.object({type:ci.literal("base")}).transform(e=>({type:e.type}))),Lte.FTModelCard$inboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(e=>({type:e.type})))]);co.Data$outboundSchema=ci.union([Nte.BaseModelCard$outboundSchema.and(ci.object({type:ci.literal("base")}).transform(e=>({type:e.type}))),Lte.FTModelCard$outboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(e=>({type:e.type})))]);var lPt;(function(e){e.inboundSchema=co.Data$inboundSchema,e.outboundSchema=co.Data$outboundSchema})(lPt||(co.Data$=lPt={}));function zWr(e){return JSON.stringify(co.Data$outboundSchema.parse(e))}function HWr(e){return(0,dPt.safeParse)(e,t=>co.Data$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Data' from JSON")}co.ModelList$inboundSchema=ci.object({object:ci.string().default("list"),data:ci.array(ci.union([Nte.BaseModelCard$inboundSchema.and(ci.object({type:ci.literal("base")}).transform(e=>({type:e.type}))),Lte.FTModelCard$inboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(e=>({type:e.type})))])).optional()});co.ModelList$outboundSchema=ci.object({object:ci.string().default("list"),data:ci.array(ci.union([Nte.BaseModelCard$outboundSchema.and(ci.object({type:ci.literal("base")}).transform(e=>({type:e.type}))),Lte.FTModelCard$outboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(e=>({type:e.type})))])).optional()});var cPt;(function(e){e.inboundSchema=co.ModelList$inboundSchema,e.outboundSchema=co.ModelList$outboundSchema})(cPt||(co.ModelList$=cPt={}));function VWr(e){return JSON.stringify(co.ModelList$outboundSchema.parse(e))}function WWr(e){return(0,dPt.safeParse)(e,t=>co.ModelList$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ModelList' from JSON")}});var bPt=b(ou=>{"use strict";var JWr=ou&&ou.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GWr=ou&&ou.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KWr=ou&&ou.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JWr(t,e,r);return GWr(t,e),t};Object.defineProperty(ou,"__esModule",{value:!0});ou.RetrieveFileOut$=ou.RetrieveFileOut$outboundSchema=ou.RetrieveFileOut$inboundSchema=void 0;ou.retrieveFileOutToJSON=ZWr;ou.retrieveFileOutFromJSON=XWr;var Ol=KWr(me()),hPt=Oe(),YWr=ce(),mPt=_3(),gPt=v3(),yPt=w3();ou.RetrieveFileOut$inboundSchema=Ol.object({id:Ol.string(),object:Ol.string(),bytes:Ol.number().int(),created_at:Ol.number().int(),filename:Ol.string(),purpose:mPt.FilePurpose$inboundSchema,sample_type:gPt.SampleType$inboundSchema,num_lines:Ol.nullable(Ol.number().int()).optional(),source:yPt.Source$inboundSchema,deleted:Ol.boolean()}).transform(e=>(0,hPt.remap)(e,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));ou.RetrieveFileOut$outboundSchema=Ol.object({id:Ol.string(),object:Ol.string(),sizeBytes:Ol.number().int(),createdAt:Ol.number().int(),filename:Ol.string(),purpose:mPt.FilePurpose$outboundSchema,sampleType:gPt.SampleType$outboundSchema,numLines:Ol.nullable(Ol.number().int()).optional(),source:yPt.Source$outboundSchema,deleted:Ol.boolean()}).transform(e=>(0,hPt.remap)(e,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var pPt;(function(e){e.inboundSchema=ou.RetrieveFileOut$inboundSchema,e.outboundSchema=ou.RetrieveFileOut$outboundSchema})(pPt||(ou.RetrieveFileOut$=pPt={}));function ZWr(e){return JSON.stringify(ou.RetrieveFileOut$outboundSchema.parse(e))}function XWr(e){return(0,YWr.safeParse)(e,t=>ou.RetrieveFileOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'RetrieveFileOut' from JSON")}});var wPt=b(iu=>{"use strict";var QWr=iu&&iu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eJr=iu&&iu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tJr=iu&&iu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QWr(t,e,r);return eJr(t,e),t};Object.defineProperty(iu,"__esModule",{value:!0});iu.Security$=iu.Security$outboundSchema=iu.Security$inboundSchema=void 0;iu.securityToJSON=nJr;iu.securityFromJSON=oJr;var Fte=tJr(me()),vPt=Oe(),rJr=ce();iu.Security$inboundSchema=Fte.object({ApiKey:Fte.string().optional()}).transform(e=>(0,vPt.remap)(e,{ApiKey:"apiKey"}));iu.Security$outboundSchema=Fte.object({apiKey:Fte.string().optional()}).transform(e=>(0,vPt.remap)(e,{apiKey:"ApiKey"}));var _Pt;(function(e){e.inboundSchema=iu.Security$inboundSchema,e.outboundSchema=iu.Security$outboundSchema})(_Pt||(iu.Security$=_Pt={}));function nJr(e){return JSON.stringify(iu.Security$outboundSchema.parse(e))}function oJr(e){return(0,rJr.safeParse)(e,t=>iu.Security$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Security' from JSON")}});var CPt=b(fo=>{"use strict";var iJr=fo&&fo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aJr=fo&&fo.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sJr=fo&&fo.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iJr(t,e,r);return aJr(t,e),t};Object.defineProperty(fo,"__esModule",{value:!0});fo.UnarchiveFTModelOut$=fo.UnarchiveFTModelOut$outboundSchema=fo.UnarchiveFTModelOut$inboundSchema=fo.UnarchiveFTModelOutObject$=fo.UnarchiveFTModelOutObject$outboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema=fo.UnarchiveFTModelOutObject=void 0;fo.unarchiveFTModelOutToJSON=lJr;fo.unarchiveFTModelOutFromJSON=cJr;var nC=sJr(me()),uJr=ce();fo.UnarchiveFTModelOutObject={Model:"model"};fo.UnarchiveFTModelOutObject$inboundSchema=nC.nativeEnum(fo.UnarchiveFTModelOutObject);fo.UnarchiveFTModelOutObject$outboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema;var SPt;(function(e){e.inboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema,e.outboundSchema=fo.UnarchiveFTModelOutObject$outboundSchema})(SPt||(fo.UnarchiveFTModelOutObject$=SPt={}));fo.UnarchiveFTModelOut$inboundSchema=nC.object({id:nC.string(),object:nC.literal("model").default("model"),archived:nC.boolean().default(!1)});fo.UnarchiveFTModelOut$outboundSchema=nC.object({id:nC.string(),object:nC.literal("model").default("model"),archived:nC.boolean().default(!1)});var xPt;(function(e){e.inboundSchema=fo.UnarchiveFTModelOut$inboundSchema,e.outboundSchema=fo.UnarchiveFTModelOut$outboundSchema})(xPt||(fo.UnarchiveFTModelOut$=xPt={}));function lJr(e){return JSON.stringify(fo.UnarchiveFTModelOut$outboundSchema.parse(e))}function cJr(e){return(0,uJr.safeParse)(e,t=>fo.UnarchiveFTModelOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UnarchiveFTModelOut' from JSON")}});var EPt=b(au=>{"use strict";var dJr=au&&au.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fJr=au&&au.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pJr=au&&au.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dJr(t,e,r);return fJr(t,e),t};Object.defineProperty(au,"__esModule",{value:!0});au.UpdateFTModelIn$=au.UpdateFTModelIn$outboundSchema=au.UpdateFTModelIn$inboundSchema=void 0;au.updateFTModelInToJSON=mJr;au.updateFTModelInFromJSON=gJr;var zw=pJr(me()),hJr=ce();au.UpdateFTModelIn$inboundSchema=zw.object({name:zw.nullable(zw.string()).optional(),description:zw.nullable(zw.string()).optional()});au.UpdateFTModelIn$outboundSchema=zw.object({name:zw.nullable(zw.string()).optional(),description:zw.nullable(zw.string()).optional()});var OPt;(function(e){e.inboundSchema=au.UpdateFTModelIn$inboundSchema,e.outboundSchema=au.UpdateFTModelIn$outboundSchema})(OPt||(au.UpdateFTModelIn$=OPt={}));function mJr(e){return JSON.stringify(au.UpdateFTModelIn$outboundSchema.parse(e))}function gJr(e){return(0,hJr.safeParse)(e,t=>au.UpdateFTModelIn$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UpdateFTModelIn' from JSON")}});var RPt=b(su=>{"use strict";var yJr=su&&su.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bJr=su&&su.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_Jr=su&&su.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yJr(t,e,r);return bJr(t,e),t};Object.defineProperty(su,"__esModule",{value:!0});su.UploadFileOut$=su.UploadFileOut$outboundSchema=su.UploadFileOut$inboundSchema=void 0;su.uploadFileOutToJSON=wJr;su.uploadFileOutFromJSON=SJr;var id=_Jr(me()),TPt=Oe(),vJr=ce(),MPt=_3(),IPt=v3(),APt=w3();su.UploadFileOut$inboundSchema=id.object({id:id.string(),object:id.string(),bytes:id.number().int(),created_at:id.number().int(),filename:id.string(),purpose:MPt.FilePurpose$inboundSchema,sample_type:IPt.SampleType$inboundSchema,num_lines:id.nullable(id.number().int()).optional(),source:APt.Source$inboundSchema}).transform(e=>(0,TPt.remap)(e,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));su.UploadFileOut$outboundSchema=id.object({id:id.string(),object:id.string(),sizeBytes:id.number().int(),createdAt:id.number().int(),filename:id.string(),purpose:MPt.FilePurpose$outboundSchema,sampleType:IPt.SampleType$outboundSchema,numLines:id.nullable(id.number().int()).optional(),source:APt.Source$outboundSchema}).transform(e=>(0,TPt.remap)(e,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var PPt;(function(e){e.inboundSchema=su.UploadFileOut$inboundSchema,e.outboundSchema=su.UploadFileOut$outboundSchema})(PPt||(su.UploadFileOut$=PPt={}));function wJr(e){return JSON.stringify(su.UploadFileOut$outboundSchema.parse(e))}function SJr(e){return(0,vJr.safeParse)(e,t=>su.UploadFileOut$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'UploadFileOut' from JSON")}});var LPt=b(po=>{"use strict";var xJr=po&&po.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CJr=po&&po.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OJr=po&&po.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xJr(t,e,r);return CJr(t,e),t};Object.defineProperty(po,"__esModule",{value:!0});po.ValidationError$=po.ValidationError$outboundSchema=po.ValidationError$inboundSchema=po.Loc$=po.Loc$outboundSchema=po.Loc$inboundSchema=void 0;po.locToJSON=EJr;po.locFromJSON=PJr;po.validationErrorToJSON=TJr;po.validationErrorFromJSON=MJr;var uu=OJr(me()),NPt=ce();po.Loc$inboundSchema=uu.union([uu.string(),uu.number().int()]);po.Loc$outboundSchema=uu.union([uu.string(),uu.number().int()]);var DPt;(function(e){e.inboundSchema=po.Loc$inboundSchema,e.outboundSchema=po.Loc$outboundSchema})(DPt||(po.Loc$=DPt={}));function EJr(e){return JSON.stringify(po.Loc$outboundSchema.parse(e))}function PJr(e){return(0,NPt.safeParse)(e,t=>po.Loc$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'Loc' from JSON")}po.ValidationError$inboundSchema=uu.object({loc:uu.array(uu.union([uu.string(),uu.number().int()])),msg:uu.string(),type:uu.string()});po.ValidationError$outboundSchema=uu.object({loc:uu.array(uu.union([uu.string(),uu.number().int()])),msg:uu.string(),type:uu.string()});var jPt;(function(e){e.inboundSchema=po.ValidationError$inboundSchema,e.outboundSchema=po.ValidationError$outboundSchema})(jPt||(po.ValidationError$=jPt={}));function TJr(e){return JSON.stringify(po.ValidationError$outboundSchema.parse(e))}function MJr(e){return(0,NPt.safeParse)(e,t=>po.ValidationError$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'ValidationError' from JSON")}});var dn=b(Pe=>{"use strict";var IJr=Pe&&Pe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ne=Pe&&Pe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&IJr(t,e,r)};Object.defineProperty(Pe,"__esModule",{value:!0});Ne(_xt(),Pe);Ne(Txt(),Pe);Ne(XOe(),Pe);Ne(Rxt(),Pe);Ne(KP(),Pe);Ne(QOe(),Pe);Ne(eEe(),Pe);Ne(zxt(),Pe);Ne(rEe(),Pe);Ne(Qxt(),Pe);Ne(tEe(),Pe);Ne(iCt(),Pe);Ne(ute(),Pe);Ne(bCt(),Pe);Ne(CCt(),Pe);Ne(DCt(),Pe);Ne(oEe(),Pe);Ne(iEe(),Pe);Ne(VCt(),Pe);Ne(GCt(),Pe);Ne(uEe(),Pe);Ne(lOt(),Pe);Ne(sEe(),Pe);Ne(Dk(),Pe);Ne(dOt(),Pe);Ne(pOt(),Pe);Ne(aEe(),Pe);Ne(LOt(),Pe);Ne(qOt(),Pe);Ne(WOt(),Pe);Ne(dEe(),Pe);Ne(lEe(),Pe);Ne(_3(),Pe);Ne(fEe(),Pe);Ne(rEt(),Pe);Ne(sEt(),Pe);Ne(dEt(),Pe);Ne(gEt(),Pe);Ne(pEe(),Pe);Ne(hEe(),Pe);Ne(PEt(),Pe);Ne(YOe(),Pe);Ne(WOe(),Pe);Ne(ZOe(),Pe);Ne(mEe(),Pe);Ne(Cte(),Pe);Ne(zOe(),Pe);Ne(HOe(),Pe);Ne(zEt(),Pe);Ne(Ote(),Pe);Ne(wEe(),Pe);Ne(tPt(),Pe);Ne(GOe(),Pe);Ne(iPt(),Pe);Ne(uPt(),Pe);Ne(nEe(),Pe);Ne(ate(),Pe);Ne(fPt(),Pe);Ne(Nk(),Pe);Ne(VOe(),Pe);Ne(Lk(),Pe);Ne(KOe(),Pe);Ne(bPt(),Pe);Ne(v3(),Pe);Ne(wPt(),Pe);Ne(w3(),Pe);Ne(l1(),Pe);Ne(kee(),Pe);Ne(Fk(),Pe);Ne(Bee(),Pe);Ne(kk(),Pe);Ne(Bk(),Pe);Ne(c1(),Pe);Ne(y3(),Pe);Ne(gEe(),Pe);Ne(Ete(),Pe);Ne(yEe(),Pe);Ne(CPt(),Pe);Ne(EPt(),Pe);Ne(RPt(),Pe);Ne(qk(),Pe);Ne(d1(),Pe);Ne(LPt(),Pe);Ne(bEe(),Pe);Ne(Pte(),Pe)});var $Pt=b(El=>{"use strict";var AJr=El&&El.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RJr=El&&El.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kPt=El&&El.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&AJr(t,e,r);return RJr(t,e),t};Object.defineProperty(El,"__esModule",{value:!0});El.HTTPValidationError$=El.HTTPValidationError$outboundSchema=El.HTTPValidationError$inboundSchema=El.HTTPValidationError=void 0;var S3=kPt(me()),BPt=kPt(dn()),x3=class extends Error{constructor(t){let r="message"in t&&typeof t.message=="string"?t.message:`API error occurred: ${JSON.stringify(t)}`;super(r),this.data$=t,t.detail!=null&&(this.detail=t.detail),this.name="HTTPValidationError"}};El.HTTPValidationError=x3;El.HTTPValidationError$inboundSchema=S3.object({detail:S3.array(BPt.ValidationError$inboundSchema).optional()}).transform(e=>new x3(e));El.HTTPValidationError$outboundSchema=S3.instanceof(x3).transform(e=>e.data$).pipe(S3.object({detail:S3.array(BPt.ValidationError$outboundSchema).optional()}));var FPt;(function(e){e.inboundSchema=El.HTTPValidationError$inboundSchema,e.outboundSchema=El.HTTPValidationError$outboundSchema})(FPt||(El.HTTPValidationError$=FPt={}))});var Ap=b(Hw=>{"use strict";var DJr=Hw&&Hw.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kte=Hw&&Hw.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DJr(t,e,r)};Object.defineProperty(Hw,"__esModule",{value:!0});kte(hOe(),Hw);kte($Pt(),Hw);kte(LOe(),Hw);kte(qOe(),Hw)});var zPt=b(oC=>{"use strict";var jJr=oC&&oC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NJr=oC&&oC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),SEe=oC&&oC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jJr(t,e,r);return NJr(t,e),t};Object.defineProperty(oC,"__esModule",{value:!0});oC.agentsComplete=qJr;var LJr=vo(),C3=SEe(wo()),FJr=Oe(),kJr=ce(),qPt=So(),BJr=Hn(),UPt=SEe(dn()),$Jr=SEe(Ap());async function qJr(e,t,r){let n=(0,kJr.safeParse)(t,v=>UPt.AgentsCompletionRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,LJr.encodeJSON)("body",o,{explode:!0}),a=(0,BJr.pathToFunc)("/v1/agents/completions")(),s=new Headers((0,FJr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,qPt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,qPt.resolveGlobalSecurity)(l),d={operationID:"agents_completion_v1_agents_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await C3.match(C3.json(200,UPt.ChatCompletionResponse$inboundSchema),C3.jsonErr(422,$Jr.HTTPValidationError$inboundSchema),C3.fail("4XX"),C3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var WPt=b(iC=>{"use strict";var UJr=iC&&iC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zJr=iC&&iC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bte=iC&&iC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&UJr(t,e,r);return zJr(t,e),t};Object.defineProperty(iC,"__esModule",{value:!0});iC.agentsStream=ZJr;var HJr=Bte(me()),VJr=vo(),WJr=h3(),O3=Bte(wo()),JJr=Oe(),GJr=ce(),HPt=So(),KJr=Hn(),VPt=Bte(dn()),YJr=Bte(Ap());async function ZJr(e,t,r){let n=(0,GJr.safeParse)(t,v=>VPt.AgentsCompletionStreamRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,VJr.encodeJSON)("body",o,{explode:!0}),a=(0,KJr.pathToFunc)("/v1/agents/completions#stream")(),s=new Headers((0,JJr.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,HPt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,HPt.resolveGlobalSecurity)(l),d={operationID:"stream_agents",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await O3.match(O3.sse(200,HJr.instanceof(ReadableStream).transform(v=>new WJr.EventStream({stream:v,decoder(S){return VPt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),O3.jsonErr(422,YJr.HTTPValidationError$inboundSchema),O3.fail("4XX"),O3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var GPt=b($te=>{"use strict";Object.defineProperty($te,"__esModule",{value:!0});$te.Agents=void 0;var XJr=zPt(),QJr=WPt(),eGr=Mp(),JPt=Wh(),xEe=class extends eGr.ClientSDK{async complete(t,r){return(0,JPt.unwrapAsync)((0,XJr.agentsComplete)(this,t,r))}async stream(t,r){return(0,JPt.unwrapAsync)((0,QJr.agentsStream)(this,t,r))}};$te.Agents=xEe});var ZPt=b(lu=>{"use strict";var tGr=lu&&lu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rGr=lu&&lu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nGr=lu&&lu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tGr(t,e,r);return rGr(t,e),t};Object.defineProperty(lu,"__esModule",{value:!0});lu.DeleteModelV1ModelsModelIdDeleteRequest$=lu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema=lu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema=void 0;lu.deleteModelV1ModelsModelIdDeleteRequestToJSON=iGr;lu.deleteModelV1ModelsModelIdDeleteRequestFromJSON=aGr;var qte=nGr(me()),YPt=Oe(),oGr=ce();lu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema=qte.object({model_id:qte.string()}).transform(e=>(0,YPt.remap)(e,{model_id:"modelId"}));lu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema=qte.object({modelId:qte.string()}).transform(e=>(0,YPt.remap)(e,{modelId:"model_id"}));var KPt;(function(e){e.inboundSchema=lu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema,e.outboundSchema=lu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema})(KPt||(lu.DeleteModelV1ModelsModelIdDeleteRequest$=KPt={}));function iGr(e){return JSON.stringify(lu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema.parse(e))}function aGr(e){return(0,oGr.safeParse)(e,t=>lu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'DeleteModelV1ModelsModelIdDeleteRequest' from JSON")}});var eTt=b(cu=>{"use strict";var sGr=cu&&cu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uGr=cu&&cu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lGr=cu&&cu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sGr(t,e,r);return uGr(t,e),t};Object.defineProperty(cu,"__esModule",{value:!0});cu.FilesApiRoutesDeleteFileRequest$=cu.FilesApiRoutesDeleteFileRequest$outboundSchema=cu.FilesApiRoutesDeleteFileRequest$inboundSchema=void 0;cu.filesApiRoutesDeleteFileRequestToJSON=dGr;cu.filesApiRoutesDeleteFileRequestFromJSON=fGr;var Ute=lGr(me()),QPt=Oe(),cGr=ce();cu.FilesApiRoutesDeleteFileRequest$inboundSchema=Ute.object({file_id:Ute.string()}).transform(e=>(0,QPt.remap)(e,{file_id:"fileId"}));cu.FilesApiRoutesDeleteFileRequest$outboundSchema=Ute.object({fileId:Ute.string()}).transform(e=>(0,QPt.remap)(e,{fileId:"file_id"}));var XPt;(function(e){e.inboundSchema=cu.FilesApiRoutesDeleteFileRequest$inboundSchema,e.outboundSchema=cu.FilesApiRoutesDeleteFileRequest$outboundSchema})(XPt||(cu.FilesApiRoutesDeleteFileRequest$=XPt={}));function dGr(e){return JSON.stringify(cu.FilesApiRoutesDeleteFileRequest$outboundSchema.parse(e))}function fGr(e){return(0,cGr.safeParse)(e,t=>cu.FilesApiRoutesDeleteFileRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesDeleteFileRequest' from JSON")}});var nTt=b(du=>{"use strict";var pGr=du&&du.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hGr=du&&du.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mGr=du&&du.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pGr(t,e,r);return hGr(t,e),t};Object.defineProperty(du,"__esModule",{value:!0});du.FilesApiRoutesDownloadFileRequest$=du.FilesApiRoutesDownloadFileRequest$outboundSchema=du.FilesApiRoutesDownloadFileRequest$inboundSchema=void 0;du.filesApiRoutesDownloadFileRequestToJSON=yGr;du.filesApiRoutesDownloadFileRequestFromJSON=bGr;var zte=mGr(me()),rTt=Oe(),gGr=ce();du.FilesApiRoutesDownloadFileRequest$inboundSchema=zte.object({file_id:zte.string()}).transform(e=>(0,rTt.remap)(e,{file_id:"fileId"}));du.FilesApiRoutesDownloadFileRequest$outboundSchema=zte.object({fileId:zte.string()}).transform(e=>(0,rTt.remap)(e,{fileId:"file_id"}));var tTt;(function(e){e.inboundSchema=du.FilesApiRoutesDownloadFileRequest$inboundSchema,e.outboundSchema=du.FilesApiRoutesDownloadFileRequest$outboundSchema})(tTt||(du.FilesApiRoutesDownloadFileRequest$=tTt={}));function yGr(e){return JSON.stringify(du.FilesApiRoutesDownloadFileRequest$outboundSchema.parse(e))}function bGr(e){return(0,gGr.safeParse)(e,t=>du.FilesApiRoutesDownloadFileRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesDownloadFileRequest' from JSON")}});var aTt=b(fu=>{"use strict";var _Gr=fu&&fu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vGr=fu&&fu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wGr=fu&&fu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Gr(t,e,r);return vGr(t,e),t};Object.defineProperty(fu,"__esModule",{value:!0});fu.FilesApiRoutesGetSignedUrlRequest$=fu.FilesApiRoutesGetSignedUrlRequest$outboundSchema=fu.FilesApiRoutesGetSignedUrlRequest$inboundSchema=void 0;fu.filesApiRoutesGetSignedUrlRequestToJSON=xGr;fu.filesApiRoutesGetSignedUrlRequestFromJSON=CGr;var Hk=wGr(me()),iTt=Oe(),SGr=ce();fu.FilesApiRoutesGetSignedUrlRequest$inboundSchema=Hk.object({file_id:Hk.string(),expiry:Hk.number().int().default(24)}).transform(e=>(0,iTt.remap)(e,{file_id:"fileId"}));fu.FilesApiRoutesGetSignedUrlRequest$outboundSchema=Hk.object({fileId:Hk.string(),expiry:Hk.number().int().default(24)}).transform(e=>(0,iTt.remap)(e,{fileId:"file_id"}));var oTt;(function(e){e.inboundSchema=fu.FilesApiRoutesGetSignedUrlRequest$inboundSchema,e.outboundSchema=fu.FilesApiRoutesGetSignedUrlRequest$outboundSchema})(oTt||(fu.FilesApiRoutesGetSignedUrlRequest$=oTt={}));function xGr(e){return JSON.stringify(fu.FilesApiRoutesGetSignedUrlRequest$outboundSchema.parse(e))}function CGr(e){return(0,SGr.safeParse)(e,t=>fu.FilesApiRoutesGetSignedUrlRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesGetSignedUrlRequest' from JSON")}});var cTt=b(hu=>{"use strict";var OGr=hu&&hu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EGr=hu&&hu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uTt=hu&&hu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OGr(t,e,r);return EGr(t,e),t};Object.defineProperty(hu,"__esModule",{value:!0});hu.FilesApiRoutesListFilesRequest$=hu.FilesApiRoutesListFilesRequest$outboundSchema=hu.FilesApiRoutesListFilesRequest$inboundSchema=void 0;hu.filesApiRoutesListFilesRequestToJSON=TGr;hu.filesApiRoutesListFilesRequestFromJSON=MGr;var pu=uTt(me()),lTt=Oe(),PGr=ce(),Vk=uTt(dn());hu.FilesApiRoutesListFilesRequest$inboundSchema=pu.object({page:pu.number().int().default(0),page_size:pu.number().int().default(100),sample_type:pu.nullable(pu.array(Vk.SampleType$inboundSchema)).optional(),source:pu.nullable(pu.array(Vk.Source$inboundSchema)).optional(),search:pu.nullable(pu.string()).optional(),purpose:pu.nullable(Vk.FilePurpose$inboundSchema).optional()}).transform(e=>(0,lTt.remap)(e,{page_size:"pageSize",sample_type:"sampleType"}));hu.FilesApiRoutesListFilesRequest$outboundSchema=pu.object({page:pu.number().int().default(0),pageSize:pu.number().int().default(100),sampleType:pu.nullable(pu.array(Vk.SampleType$outboundSchema)).optional(),source:pu.nullable(pu.array(Vk.Source$outboundSchema)).optional(),search:pu.nullable(pu.string()).optional(),purpose:pu.nullable(Vk.FilePurpose$outboundSchema).optional()}).transform(e=>(0,lTt.remap)(e,{pageSize:"page_size",sampleType:"sample_type"}));var sTt;(function(e){e.inboundSchema=hu.FilesApiRoutesListFilesRequest$inboundSchema,e.outboundSchema=hu.FilesApiRoutesListFilesRequest$outboundSchema})(sTt||(hu.FilesApiRoutesListFilesRequest$=sTt={}));function TGr(e){return JSON.stringify(hu.FilesApiRoutesListFilesRequest$outboundSchema.parse(e))}function MGr(e){return(0,PGr.safeParse)(e,t=>hu.FilesApiRoutesListFilesRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesListFilesRequest' from JSON")}});var pTt=b(mu=>{"use strict";var IGr=mu&&mu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AGr=mu&&mu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RGr=mu&&mu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IGr(t,e,r);return AGr(t,e),t};Object.defineProperty(mu,"__esModule",{value:!0});mu.FilesApiRoutesRetrieveFileRequest$=mu.FilesApiRoutesRetrieveFileRequest$outboundSchema=mu.FilesApiRoutesRetrieveFileRequest$inboundSchema=void 0;mu.filesApiRoutesRetrieveFileRequestToJSON=jGr;mu.filesApiRoutesRetrieveFileRequestFromJSON=NGr;var Hte=RGr(me()),fTt=Oe(),DGr=ce();mu.FilesApiRoutesRetrieveFileRequest$inboundSchema=Hte.object({file_id:Hte.string()}).transform(e=>(0,fTt.remap)(e,{file_id:"fileId"}));mu.FilesApiRoutesRetrieveFileRequest$outboundSchema=Hte.object({fileId:Hte.string()}).transform(e=>(0,fTt.remap)(e,{fileId:"file_id"}));var dTt;(function(e){e.inboundSchema=mu.FilesApiRoutesRetrieveFileRequest$inboundSchema,e.outboundSchema=mu.FilesApiRoutesRetrieveFileRequest$outboundSchema})(dTt||(mu.FilesApiRoutesRetrieveFileRequest$=dTt={}));function jGr(e){return JSON.stringify(mu.FilesApiRoutesRetrieveFileRequest$outboundSchema.parse(e))}function NGr(e){return(0,DGr.safeParse)(e,t=>mu.FilesApiRoutesRetrieveFileRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesRetrieveFileRequest' from JSON")}});var CEe=b(Mg=>{"use strict";var LGr=Mg&&Mg.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FGr=Mg&&Mg.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kGr=Mg&&Mg.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LGr(t,e,r);return FGr(t,e),t};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.blobLikeSchema=void 0;Mg.isBlobLike=hTt;var BGr=kGr(me());Mg.blobLikeSchema=BGr.custom(hTt,{message:"expected a Blob, File or Blob-like object",fatal:!0});function hTt(e){if(e instanceof Blob)return!0;if(typeof e!="object"||e==null||!(Symbol.toStringTag in e))return!1;let t=e[Symbol.toStringTag];return typeof t!="string"||t!=="Blob"&&t!=="File"?!1:"stream"in e&&typeof e.stream=="function"}});var vTt=b(In=>{"use strict";var $Gr=In&&In.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qGr=In&&In.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yTt=In&&In.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Gr(t,e,r);return qGr(t,e),t};Object.defineProperty(In,"__esModule",{value:!0});In.FilesApiRoutesUploadFileMultiPartBodyParams$=In.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema=In.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema=In.FileT$=In.FileT$outboundSchema=In.FileT$inboundSchema=void 0;In.fileToJSON=zGr;In.fileFromJSON=HGr;In.filesApiRoutesUploadFileMultiPartBodyParamsToJSON=VGr;In.filesApiRoutesUploadFileMultiPartBodyParamsFromJSON=WGr;var Pl=yTt(me()),bTt=ce(),UGr=CEe(),_Tt=yTt(dn());In.FileT$inboundSchema=Pl.object({fileName:Pl.string(),content:Pl.union([Pl.instanceof(ReadableStream),Pl.instanceof(Blob),Pl.instanceof(ArrayBuffer),Pl.instanceof(Uint8Array)])});In.FileT$outboundSchema=Pl.object({fileName:Pl.string(),content:Pl.union([Pl.instanceof(ReadableStream),Pl.instanceof(Blob),Pl.instanceof(ArrayBuffer),Pl.instanceof(Uint8Array)])});var mTt;(function(e){e.inboundSchema=In.FileT$inboundSchema,e.outboundSchema=In.FileT$outboundSchema})(mTt||(In.FileT$=mTt={}));function zGr(e){return JSON.stringify(In.FileT$outboundSchema.parse(e))}function HGr(e){return(0,bTt.safeParse)(e,t=>In.FileT$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FileT' from JSON")}In.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema=Pl.object({file:Pl.lazy(()=>In.FileT$inboundSchema),purpose:_Tt.FilePurpose$inboundSchema.optional()});In.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema=Pl.object({file:Pl.lazy(()=>In.FileT$outboundSchema).or(UGr.blobLikeSchema),purpose:_Tt.FilePurpose$outboundSchema.optional()});var gTt;(function(e){e.inboundSchema=In.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema,e.outboundSchema=In.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema})(gTt||(In.FilesApiRoutesUploadFileMultiPartBodyParams$=gTt={}));function VGr(e){return JSON.stringify(In.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema.parse(e))}function WGr(e){return(0,bTt.safeParse)(e,t=>In.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'FilesApiRoutesUploadFileMultiPartBodyParams' from JSON")}});var xTt=b(gu=>{"use strict";var JGr=gu&&gu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GGr=gu&&gu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KGr=gu&&gu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JGr(t,e,r);return GGr(t,e),t};Object.defineProperty(gu,"__esModule",{value:!0});gu.JobsApiRoutesBatchCancelBatchJobRequest$=gu.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema=gu.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema=void 0;gu.jobsApiRoutesBatchCancelBatchJobRequestToJSON=ZGr;gu.jobsApiRoutesBatchCancelBatchJobRequestFromJSON=XGr;var Vte=KGr(me()),STt=Oe(),YGr=ce();gu.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema=Vte.object({job_id:Vte.string()}).transform(e=>(0,STt.remap)(e,{job_id:"jobId"}));gu.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema=Vte.object({jobId:Vte.string()}).transform(e=>(0,STt.remap)(e,{jobId:"job_id"}));var wTt;(function(e){e.inboundSchema=gu.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema,e.outboundSchema=gu.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema})(wTt||(gu.JobsApiRoutesBatchCancelBatchJobRequest$=wTt={}));function ZGr(e){return JSON.stringify(gu.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema.parse(e))}function XGr(e){return(0,YGr.safeParse)(e,t=>gu.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesBatchCancelBatchJobRequest' from JSON")}});var ETt=b(yu=>{"use strict";var QGr=yu&&yu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eKr=yu&&yu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tKr=yu&&yu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QGr(t,e,r);return eKr(t,e),t};Object.defineProperty(yu,"__esModule",{value:!0});yu.JobsApiRoutesBatchGetBatchJobRequest$=yu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema=yu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema=void 0;yu.jobsApiRoutesBatchGetBatchJobRequestToJSON=nKr;yu.jobsApiRoutesBatchGetBatchJobRequestFromJSON=oKr;var Wte=tKr(me()),OTt=Oe(),rKr=ce();yu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema=Wte.object({job_id:Wte.string()}).transform(e=>(0,OTt.remap)(e,{job_id:"jobId"}));yu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema=Wte.object({jobId:Wte.string()}).transform(e=>(0,OTt.remap)(e,{jobId:"job_id"}));var CTt;(function(e){e.inboundSchema=yu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema,e.outboundSchema=yu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema})(CTt||(yu.JobsApiRoutesBatchGetBatchJobRequest$=CTt={}));function nKr(e){return JSON.stringify(yu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema.parse(e))}function oKr(e){return(0,rKr.safeParse)(e,t=>yu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesBatchGetBatchJobRequest' from JSON")}});var ATt=b(bu=>{"use strict";var iKr=bu&&bu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aKr=bu&&bu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TTt=bu&&bu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iKr(t,e,r);return aKr(t,e),t};Object.defineProperty(bu,"__esModule",{value:!0});bu.JobsApiRoutesBatchGetBatchJobsRequest$=bu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema=bu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema=void 0;bu.jobsApiRoutesBatchGetBatchJobsRequestToJSON=uKr;bu.jobsApiRoutesBatchGetBatchJobsRequestFromJSON=lKr;var Ki=TTt(me()),MTt=Oe(),sKr=ce(),ITt=TTt(dn());bu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema=Ki.object({page:Ki.number().int().default(0),page_size:Ki.number().int().default(100),model:Ki.nullable(Ki.string()).optional(),metadata:Ki.nullable(Ki.record(Ki.any())).optional(),created_after:Ki.nullable(Ki.string().datetime({offset:!0}).transform(e=>new Date(e))).optional(),created_by_me:Ki.boolean().default(!1),status:Ki.nullable(ITt.BatchJobStatus$inboundSchema).optional()}).transform(e=>(0,MTt.remap)(e,{page_size:"pageSize",created_after:"createdAfter",created_by_me:"createdByMe"}));bu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema=Ki.object({page:Ki.number().int().default(0),pageSize:Ki.number().int().default(100),model:Ki.nullable(Ki.string()).optional(),metadata:Ki.nullable(Ki.record(Ki.any())).optional(),createdAfter:Ki.nullable(Ki.date().transform(e=>e.toISOString())).optional(),createdByMe:Ki.boolean().default(!1),status:Ki.nullable(ITt.BatchJobStatus$outboundSchema).optional()}).transform(e=>(0,MTt.remap)(e,{pageSize:"page_size",createdAfter:"created_after",createdByMe:"created_by_me"}));var PTt;(function(e){e.inboundSchema=bu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema,e.outboundSchema=bu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema})(PTt||(bu.JobsApiRoutesBatchGetBatchJobsRequest$=PTt={}));function uKr(e){return JSON.stringify(bu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema.parse(e))}function lKr(e){return(0,sKr.safeParse)(e,t=>bu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesBatchGetBatchJobsRequest' from JSON")}});var jTt=b(_u=>{"use strict";var cKr=_u&&_u.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dKr=_u&&_u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fKr=_u&&_u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cKr(t,e,r);return dKr(t,e),t};Object.defineProperty(_u,"__esModule",{value:!0});_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$=_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema=_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema=void 0;_u.jobsApiRoutesFineTuningArchiveFineTunedModelRequestToJSON=hKr;_u.jobsApiRoutesFineTuningArchiveFineTunedModelRequestFromJSON=mKr;var Jte=fKr(me()),DTt=Oe(),pKr=ce();_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema=Jte.object({model_id:Jte.string()}).transform(e=>(0,DTt.remap)(e,{model_id:"modelId"}));_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema=Jte.object({modelId:Jte.string()}).transform(e=>(0,DTt.remap)(e,{modelId:"model_id"}));var RTt;(function(e){e.inboundSchema=_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema,e.outboundSchema=_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema})(RTt||(_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$=RTt={}));function hKr(e){return JSON.stringify(_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema.parse(e))}function mKr(e){return(0,pKr.safeParse)(e,t=>_u.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningArchiveFineTunedModelRequest' from JSON")}});var FTt=b(vu=>{"use strict";var gKr=vu&&vu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yKr=vu&&vu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bKr=vu&&vu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gKr(t,e,r);return yKr(t,e),t};Object.defineProperty(vu,"__esModule",{value:!0});vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$=vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema=vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema=void 0;vu.jobsApiRoutesFineTuningCancelFineTuningJobRequestToJSON=vKr;vu.jobsApiRoutesFineTuningCancelFineTuningJobRequestFromJSON=wKr;var Gte=bKr(me()),LTt=Oe(),_Kr=ce();vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema=Gte.object({job_id:Gte.string()}).transform(e=>(0,LTt.remap)(e,{job_id:"jobId"}));vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema=Gte.object({jobId:Gte.string()}).transform(e=>(0,LTt.remap)(e,{jobId:"job_id"}));var NTt;(function(e){e.inboundSchema=vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema,e.outboundSchema=vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema})(NTt||(vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$=NTt={}));function vKr(e){return JSON.stringify(vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema.parse(e))}function wKr(e){return(0,_Kr.safeParse)(e,t=>vu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningCancelFineTuningJobRequest' from JSON")}});var qTt=b(wu=>{"use strict";var SKr=wu&&wu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xKr=wu&&wu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BTt=wu&&wu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SKr(t,e,r);return xKr(t,e),t};Object.defineProperty(wu,"__esModule",{value:!0});wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$=wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema=wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema=void 0;wu.jobsApiRoutesFineTuningCreateFineTuningJobResponseToJSON=OKr;wu.jobsApiRoutesFineTuningCreateFineTuningJobResponseFromJSON=EKr;var $Tt=BTt(me()),CKr=ce(),Kte=BTt(dn());wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema=$Tt.union([Kte.LegacyJobMetadataOut$inboundSchema,Kte.JobOut$inboundSchema]);wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema=$Tt.union([Kte.LegacyJobMetadataOut$outboundSchema,Kte.JobOut$outboundSchema]);var kTt;(function(e){e.inboundSchema=wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema,e.outboundSchema=wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema})(kTt||(wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$=kTt={}));function OKr(e){return JSON.stringify(wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema.parse(e))}function EKr(e){return(0,CKr.safeParse)(e,t=>wu.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningCreateFineTuningJobResponse' from JSON")}});var HTt=b(Su=>{"use strict";var PKr=Su&&Su.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TKr=Su&&Su.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MKr=Su&&Su.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PKr(t,e,r);return TKr(t,e),t};Object.defineProperty(Su,"__esModule",{value:!0});Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$=Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema=Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema=void 0;Su.jobsApiRoutesFineTuningGetFineTuningJobRequestToJSON=AKr;Su.jobsApiRoutesFineTuningGetFineTuningJobRequestFromJSON=RKr;var Yte=MKr(me()),zTt=Oe(),IKr=ce();Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema=Yte.object({job_id:Yte.string()}).transform(e=>(0,zTt.remap)(e,{job_id:"jobId"}));Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema=Yte.object({jobId:Yte.string()}).transform(e=>(0,zTt.remap)(e,{jobId:"job_id"}));var UTt;(function(e){e.inboundSchema=Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema,e.outboundSchema=Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema})(UTt||(Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$=UTt={}));function AKr(e){return JSON.stringify(Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema.parse(e))}function RKr(e){return(0,IKr.safeParse)(e,t=>Su.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningGetFineTuningJobRequest' from JSON")}});var GTt=b(An=>{"use strict";var DKr=An&&An.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jKr=An&&An.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NKr=An&&An.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&DKr(t,e,r);return jKr(t,e),t};Object.defineProperty(An,"__esModule",{value:!0});An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$=An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema=An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema=An.Status$=An.Status$outboundSchema=An.Status$inboundSchema=An.Status=void 0;An.jobsApiRoutesFineTuningGetFineTuningJobsRequestToJSON=FKr;An.jobsApiRoutesFineTuningGetFineTuningJobsRequestFromJSON=kKr;var Co=NKr(me()),JTt=Oe(),LKr=ce();An.Status={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};An.Status$inboundSchema=Co.nativeEnum(An.Status);An.Status$outboundSchema=An.Status$inboundSchema;var VTt;(function(e){e.inboundSchema=An.Status$inboundSchema,e.outboundSchema=An.Status$outboundSchema})(VTt||(An.Status$=VTt={}));An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema=Co.object({page:Co.number().int().default(0),page_size:Co.number().int().default(100),model:Co.nullable(Co.string()).optional(),created_after:Co.nullable(Co.string().datetime({offset:!0}).transform(e=>new Date(e))).optional(),created_by_me:Co.boolean().default(!1),status:Co.nullable(An.Status$inboundSchema).optional(),wandb_project:Co.nullable(Co.string()).optional(),wandb_name:Co.nullable(Co.string()).optional(),suffix:Co.nullable(Co.string()).optional()}).transform(e=>(0,JTt.remap)(e,{page_size:"pageSize",created_after:"createdAfter",created_by_me:"createdByMe",wandb_project:"wandbProject",wandb_name:"wandbName"}));An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema=Co.object({page:Co.number().int().default(0),pageSize:Co.number().int().default(100),model:Co.nullable(Co.string()).optional(),createdAfter:Co.nullable(Co.date().transform(e=>e.toISOString())).optional(),createdByMe:Co.boolean().default(!1),status:Co.nullable(An.Status$outboundSchema).optional(),wandbProject:Co.nullable(Co.string()).optional(),wandbName:Co.nullable(Co.string()).optional(),suffix:Co.nullable(Co.string()).optional()}).transform(e=>(0,JTt.remap)(e,{pageSize:"page_size",createdAfter:"created_after",createdByMe:"created_by_me",wandbProject:"wandb_project",wandbName:"wandb_name"}));var WTt;(function(e){e.inboundSchema=An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema,e.outboundSchema=An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema})(WTt||(An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$=WTt={}));function FKr(e){return JSON.stringify(An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema.parse(e))}function kKr(e){return(0,LKr.safeParse)(e,t=>An.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningGetFineTuningJobsRequest' from JSON")}});var ZTt=b(xu=>{"use strict";var BKr=xu&&xu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$Kr=xu&&xu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qKr=xu&&xu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BKr(t,e,r);return $Kr(t,e),t};Object.defineProperty(xu,"__esModule",{value:!0});xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$=xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema=xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema=void 0;xu.jobsApiRoutesFineTuningStartFineTuningJobRequestToJSON=zKr;xu.jobsApiRoutesFineTuningStartFineTuningJobRequestFromJSON=HKr;var Zte=qKr(me()),YTt=Oe(),UKr=ce();xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema=Zte.object({job_id:Zte.string()}).transform(e=>(0,YTt.remap)(e,{job_id:"jobId"}));xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema=Zte.object({jobId:Zte.string()}).transform(e=>(0,YTt.remap)(e,{jobId:"job_id"}));var KTt;(function(e){e.inboundSchema=xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema,e.outboundSchema=xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema})(KTt||(xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$=KTt={}));function zKr(e){return JSON.stringify(xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema.parse(e))}function HKr(e){return(0,UKr.safeParse)(e,t=>xu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningStartFineTuningJobRequest' from JSON")}});var eMt=b(Cu=>{"use strict";var VKr=Cu&&Cu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WKr=Cu&&Cu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JKr=Cu&&Cu.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VKr(t,e,r);return WKr(t,e),t};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$=Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema=Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema=void 0;Cu.jobsApiRoutesFineTuningUnarchiveFineTunedModelRequestToJSON=KKr;Cu.jobsApiRoutesFineTuningUnarchiveFineTunedModelRequestFromJSON=YKr;var Xte=JKr(me()),QTt=Oe(),GKr=ce();Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema=Xte.object({model_id:Xte.string()}).transform(e=>(0,QTt.remap)(e,{model_id:"modelId"}));Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema=Xte.object({modelId:Xte.string()}).transform(e=>(0,QTt.remap)(e,{modelId:"model_id"}));var XTt;(function(e){e.inboundSchema=Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema,e.outboundSchema=Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema})(XTt||(Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$=XTt={}));function KKr(e){return JSON.stringify(Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema.parse(e))}function YKr(e){return(0,GKr.safeParse)(e,t=>Cu.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest' from JSON")}});var iMt=b(Ou=>{"use strict";var ZKr=Ou&&Ou.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),XKr=Ou&&Ou.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rMt=Ou&&Ou.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ZKr(t,e,r);return XKr(t,e),t};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$=Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema=Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema=void 0;Ou.jobsApiRoutesFineTuningUpdateFineTunedModelRequestToJSON=e7r;Ou.jobsApiRoutesFineTuningUpdateFineTunedModelRequestFromJSON=t7r;var Qte=rMt(me()),nMt=Oe(),QKr=ce(),oMt=rMt(dn());Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema=Qte.object({model_id:Qte.string(),UpdateFTModelIn:oMt.UpdateFTModelIn$inboundSchema}).transform(e=>(0,nMt.remap)(e,{model_id:"modelId",UpdateFTModelIn:"updateFTModelIn"}));Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema=Qte.object({modelId:Qte.string(),updateFTModelIn:oMt.UpdateFTModelIn$outboundSchema}).transform(e=>(0,nMt.remap)(e,{modelId:"model_id",updateFTModelIn:"UpdateFTModelIn"}));var tMt;(function(e){e.inboundSchema=Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema,e.outboundSchema=Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema})(tMt||(Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$=tMt={}));function e7r(e){return JSON.stringify(Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema.parse(e))}function t7r(e){return(0,QKr.safeParse)(e,t=>Ou.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'JobsApiRoutesFineTuningUpdateFineTunedModelRequest' from JSON")}});var dMt=b(ho=>{"use strict";var r7r=ho&&ho.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n7r=ho&&ho.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uMt=ho&&ho.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r7r(t,e,r);return n7r(t,e),t};Object.defineProperty(ho,"__esModule",{value:!0});ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$=ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema=void 0;ho.retrieveModelV1ModelsModelIdGetRequestToJSON=o7r;ho.retrieveModelV1ModelsModelIdGetRequestFromJSON=i7r;ho.retrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGetToJSON=a7r;ho.retrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGetFromJSON=s7r;var qf=uMt(me()),lMt=Oe(),cMt=ce(),ere=uMt(dn());ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema=qf.object({model_id:qf.string()}).transform(e=>(0,lMt.remap)(e,{model_id:"modelId"}));ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema=qf.object({modelId:qf.string()}).transform(e=>(0,lMt.remap)(e,{modelId:"model_id"}));var aMt;(function(e){e.inboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema,e.outboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema})(aMt||(ho.RetrieveModelV1ModelsModelIdGetRequest$=aMt={}));function o7r(e){return JSON.stringify(ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema.parse(e))}function i7r(e){return(0,cMt.safeParse)(e,t=>ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'RetrieveModelV1ModelsModelIdGetRequest' from JSON")}ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema=qf.union([ere.BaseModelCard$inboundSchema.and(qf.object({type:qf.literal("base")}).transform(e=>({type:e.type}))),ere.FTModelCard$inboundSchema.and(qf.object({type:qf.literal("fine-tuned")}).transform(e=>({type:e.type})))]);ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema=qf.union([ere.BaseModelCard$outboundSchema.and(qf.object({type:qf.literal("base")}).transform(e=>({type:e.type}))),ere.FTModelCard$outboundSchema.and(qf.object({type:qf.literal("fine-tuned")}).transform(e=>({type:e.type})))]);var sMt;(function(e){e.inboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema,e.outboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema})(sMt||(ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$=sMt={}));function a7r(e){return JSON.stringify(ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema.parse(e))}function s7r(e){return(0,cMt.safeParse)(e,t=>ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema.parse(JSON.parse(t)),"Failed to parse 'RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet' from JSON")}});var Eu=b(Mi=>{"use strict";var u7r=Mi&&Mi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xu=Mi&&Mi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&u7r(t,e,r)};Object.defineProperty(Mi,"__esModule",{value:!0});Xu(ZPt(),Mi);Xu(eTt(),Mi);Xu(nTt(),Mi);Xu(aTt(),Mi);Xu(cTt(),Mi);Xu(pTt(),Mi);Xu(vTt(),Mi);Xu(xTt(),Mi);Xu(ETt(),Mi);Xu(ATt(),Mi);Xu(jTt(),Mi);Xu(FTt(),Mi);Xu(qTt(),Mi);Xu(HTt(),Mi);Xu(GTt(),Mi);Xu(ZTt(),Mi);Xu(eMt(),Mi);Xu(iMt(),Mi);Xu(dMt(),Mi)});var pMt=b(aC=>{"use strict";var l7r=aC&&aC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c7r=aC&&aC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OEe=aC&&aC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&l7r(t,e,r);return c7r(t,e),t};Object.defineProperty(aC,"__esModule",{value:!0});aC.batchJobsCancel=y7r;var d7r=vo(),tre=OEe(wo()),f7r=Oe(),p7r=ce(),fMt=So(),h7r=Hn(),m7r=OEe(dn()),g7r=OEe(Eu());async function y7r(e,t,r){let n=(0,p7r.safeParse)(t,v=>g7r.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,d7r.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,h7r.pathToFunc)("/v1/batch/jobs/{job_id}/cancel")(a),u=new Headers((0,f7r.compactMap)({Accept:"application/json"})),l=await(0,fMt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,fMt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_cancel_batch_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await tre.match(tre.json(200,m7r.BatchJobOut$inboundSchema),tre.fail("4XX"),tre.fail("5XX"))(_);return g.ok,g}});var yMt=b(sC=>{"use strict";var b7r=sC&&sC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_7r=sC&&sC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gMt=sC&&sC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b7r(t,e,r);return _7r(t,e),t};Object.defineProperty(sC,"__esModule",{value:!0});sC.batchJobsCreate=C7r;var v7r=vo(),rre=gMt(wo()),w7r=Oe(),S7r=ce(),hMt=So(),x7r=Hn(),mMt=gMt(dn());async function C7r(e,t,r){let n=(0,S7r.safeParse)(t,g=>mMt.BatchJobIn$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,v7r.encodeJSON)("body",o,{explode:!0}),a=(0,x7r.pathToFunc)("/v1/batch/jobs")(),s=new Headers((0,w7r.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,hMt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,hMt.resolveGlobalSecurity)(l),d={operationID:"jobs_api_routes_batch_create_batch_job",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,[_]=await rre.match(rre.json(200,mMt.BatchJobOut$inboundSchema),rre.fail("4XX"),rre.fail("5XX"))(m);return _.ok,_}});var _Mt=b(uC=>{"use strict";var O7r=uC&&uC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E7r=uC&&uC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EEe=uC&&uC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&O7r(t,e,r);return E7r(t,e),t};Object.defineProperty(uC,"__esModule",{value:!0});uC.batchJobsGet=D7r;var P7r=vo(),nre=EEe(wo()),T7r=Oe(),M7r=ce(),bMt=So(),I7r=Hn(),A7r=EEe(dn()),R7r=EEe(Eu());async function D7r(e,t,r){let n=(0,M7r.safeParse)(t,v=>R7r.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,P7r.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,I7r.pathToFunc)("/v1/batch/jobs/{job_id}")(a),u=new Headers((0,T7r.compactMap)({Accept:"application/json"})),l=await(0,bMt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,bMt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_get_batch_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await nre.match(nre.json(200,A7r.BatchJobOut$inboundSchema),nre.fail("4XX"),nre.fail("5XX"))(_);return g.ok,g}});var wMt=b(lC=>{"use strict";var j7r=lC&&lC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N7r=lC&&lC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PEe=lC&&lC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j7r(t,e,r);return N7r(t,e),t};Object.defineProperty(lC,"__esModule",{value:!0});lC.batchJobsList=U7r;var L7r=vo(),ore=PEe(wo()),F7r=Oe(),k7r=ce(),vMt=So(),B7r=Hn(),$7r=PEe(dn()),q7r=PEe(Eu());async function U7r(e,t,r){let n=(0,k7r.safeParse)(t,v=>q7r.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema.optional().parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,B7r.pathToFunc)("/v1/batch/jobs")(),s=(0,L7r.encodeFormQuery)({created_after:o?.created_after,created_by_me:o?.created_by_me,metadata:o?.metadata,model:o?.model,page:o?.page,page_size:o?.page_size,status:o?.status}),u=new Headers((0,F7r.compactMap)({Accept:"application/json"})),l=await(0,vMt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,vMt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_get_batch_jobs",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await ore.match(ore.json(200,$7r.BatchJobsOut$inboundSchema),ore.fail("4XX"),ore.fail("5XX"))(_);return g.ok,g}});var SMt=b(are=>{"use strict";Object.defineProperty(are,"__esModule",{value:!0});are.MistralJobs=void 0;var z7r=pMt(),H7r=yMt(),V7r=_Mt(),W7r=wMt(),J7r=Mp(),ire=Wh(),TEe=class extends J7r.ClientSDK{async list(t,r){return(0,ire.unwrapAsync)((0,W7r.batchJobsList)(this,t,r))}async create(t,r){return(0,ire.unwrapAsync)((0,H7r.batchJobsCreate)(this,t,r))}async get(t,r){return(0,ire.unwrapAsync)((0,V7r.batchJobsGet)(this,t,r))}async cancel(t,r){return(0,ire.unwrapAsync)((0,z7r.batchJobsCancel)(this,t,r))}};are.MistralJobs=TEe});var xMt=b(sre=>{"use strict";Object.defineProperty(sre,"__esModule",{value:!0});sre.Batch=void 0;var G7r=Mp(),K7r=SMt(),MEe=class extends G7r.ClientSDK{get jobs(){return this._jobs??(this._jobs=new K7r.MistralJobs(this._options))}};sre.Batch=MEe});var EMt=b(cC=>{"use strict";var Y7r=cC&&cC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z7r=cC&&cC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IEe=cC&&cC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y7r(t,e,r);return Z7r(t,e),t};Object.defineProperty(cC,"__esModule",{value:!0});cC.chatComplete=nYr;var X7r=vo(),E3=IEe(wo()),Q7r=Oe(),eYr=ce(),CMt=So(),tYr=Hn(),OMt=IEe(dn()),rYr=IEe(Ap());async function nYr(e,t,r){let n=(0,eYr.safeParse)(t,v=>OMt.ChatCompletionRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,X7r.encodeJSON)("body",o,{explode:!0}),a=(0,tYr.pathToFunc)("/v1/chat/completions")(),s=new Headers((0,Q7r.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,CMt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,CMt.resolveGlobalSecurity)(l),d={operationID:"chat_completion_v1_chat_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await E3.match(E3.json(200,OMt.ChatCompletionResponse$inboundSchema),E3.jsonErr(422,rYr.HTTPValidationError$inboundSchema),E3.fail("4XX"),E3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var MMt=b(dC=>{"use strict";var oYr=dC&&dC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iYr=dC&&dC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ure=dC&&dC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oYr(t,e,r);return iYr(t,e),t};Object.defineProperty(dC,"__esModule",{value:!0});dC.chatStream=pYr;var aYr=ure(me()),sYr=vo(),uYr=h3(),P3=ure(wo()),lYr=Oe(),cYr=ce(),PMt=So(),dYr=Hn(),TMt=ure(dn()),fYr=ure(Ap());async function pYr(e,t,r){let n=(0,cYr.safeParse)(t,v=>TMt.ChatCompletionStreamRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,sYr.encodeJSON)("body",o,{explode:!0}),a=(0,dYr.pathToFunc)("/v1/chat/completions#stream")(),s=new Headers((0,lYr.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,PMt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,PMt.resolveGlobalSecurity)(l),d={operationID:"stream_chat",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await P3.match(P3.sse(200,aYr.instanceof(ReadableStream).transform(v=>new uYr.EventStream({stream:v,decoder(S){return TMt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),P3.jsonErr(422,fYr.HTTPValidationError$inboundSchema),P3.fail("4XX"),P3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var lre=b(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.getDefaultOptions=Vw.defaultOptions=Vw.ignoreOverride=void 0;Vw.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");Vw.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};var hYr=e=>typeof e=="string"?{...Vw.defaultOptions,name:e}:{...Vw.defaultOptions,...e};Vw.getDefaultOptions=hYr});var AEe=b(cre=>{"use strict";Object.defineProperty(cre,"__esModule",{value:!0});cre.getRefs=void 0;var mYr=lre(),gYr=e=>{let t=(0,mYr.getDefaultOptions)(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};cre.getRefs=gYr});var tT=b(Wk=>{"use strict";Object.defineProperty(Wk,"__esModule",{value:!0});Wk.setResponseValueAndErrors=Wk.addErrorMessage=void 0;function IMt(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}Wk.addErrorMessage=IMt;function yYr(e,t,r,n,o){e[t]=r,IMt(e,t,n,o)}Wk.setResponseValueAndErrors=yYr});var REe=b(dre=>{"use strict";Object.defineProperty(dre,"__esModule",{value:!0});dre.parseAnyDef=void 0;function bYr(){return{}}dre.parseAnyDef=bYr});var DEe=b(pre=>{"use strict";Object.defineProperty(pre,"__esModule",{value:!0});pre.parseArrayDef=void 0;var _Yr=me(),fre=tT(),vYr=Pu();function wYr(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==_Yr.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,vYr.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,fre.setResponseValueAndErrors)(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,fre.setResponseValueAndErrors)(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,fre.setResponseValueAndErrors)(r,"minItems",e.exactLength.value,e.exactLength.message,t),(0,fre.setResponseValueAndErrors)(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}pre.parseArrayDef=wYr});var jEe=b(hre=>{"use strict";Object.defineProperty(hre,"__esModule",{value:!0});hre.parseBigintDef=void 0;var g1=tT();function SYr(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?(0,g1.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t):(0,g1.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),(0,g1.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?(0,g1.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t):(0,g1.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),(0,g1.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t));break;case"multipleOf":(0,g1.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,t);break}return r}hre.parseBigintDef=SYr});var NEe=b(mre=>{"use strict";Object.defineProperty(mre,"__esModule",{value:!0});mre.parseBooleanDef=void 0;function xYr(){return{type:"boolean"}}mre.parseBooleanDef=xYr});var yre=b(gre=>{"use strict";Object.defineProperty(gre,"__esModule",{value:!0});gre.parseBrandedDef=void 0;var CYr=Pu();function OYr(e,t){return(0,CYr.parseDef)(e.type._def,t)}gre.parseBrandedDef=OYr});var LEe=b(bre=>{"use strict";Object.defineProperty(bre,"__esModule",{value:!0});bre.parseCatchDef=void 0;var EYr=Pu(),PYr=(e,t)=>(0,EYr.parseDef)(e.innerType._def,t);bre.parseCatchDef=PYr});var FEe=b(_re=>{"use strict";Object.defineProperty(_re,"__esModule",{value:!0});_re.parseDateDef=void 0;var AMt=tT();function RMt(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>RMt(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return TYr(e,t)}}_re.parseDateDef=RMt;var TYr=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":(0,AMt.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t);break;case"max":(0,AMt.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t);break}return r}});var kEe=b(vre=>{"use strict";Object.defineProperty(vre,"__esModule",{value:!0});vre.parseDefaultDef=void 0;var MYr=Pu();function IYr(e,t){return{...(0,MYr.parseDef)(e.innerType._def,t),default:e.defaultValue()}}vre.parseDefaultDef=IYr});var BEe=b(wre=>{"use strict";Object.defineProperty(wre,"__esModule",{value:!0});wre.parseEffectsDef=void 0;var AYr=Pu();function RYr(e,t){return t.effectStrategy==="input"?(0,AYr.parseDef)(e.schema._def,t):{}}wre.parseEffectsDef=RYr});var $Ee=b(Sre=>{"use strict";Object.defineProperty(Sre,"__esModule",{value:!0});Sre.parseEnumDef=void 0;function DYr(e){return{type:"string",enum:Array.from(e.values)}}Sre.parseEnumDef=DYr});var qEe=b(xre=>{"use strict";Object.defineProperty(xre,"__esModule",{value:!0});xre.parseIntersectionDef=void 0;var DMt=Pu(),jYr=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function NYr(e,t){let r=[(0,DMt.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,DMt.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(jYr(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}xre.parseIntersectionDef=NYr});var UEe=b(Cre=>{"use strict";Object.defineProperty(Cre,"__esModule",{value:!0});Cre.parseLiteralDef=void 0;function LYr(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}Cre.parseLiteralDef=LYr});var Ore=b(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.parseStringDef=dc.zodPatterns=void 0;var y1=tT(),zEe;dc.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(zEe===void 0&&(zEe=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zEe),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function FYr(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":(0,y1.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":(0,y1.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Ig(r,"email",n.message,t);break;case"format:idn-email":Ig(r,"idn-email",n.message,t);break;case"pattern:zod":qd(r,dc.zodPatterns.email,n.message,t);break}break;case"url":Ig(r,"uri",n.message,t);break;case"uuid":Ig(r,"uuid",n.message,t);break;case"regex":qd(r,n.regex,n.message,t);break;case"cuid":qd(r,dc.zodPatterns.cuid,n.message,t);break;case"cuid2":qd(r,dc.zodPatterns.cuid2,n.message,t);break;case"startsWith":qd(r,RegExp(`^${HEe(n.value,t)}`),n.message,t);break;case"endsWith":qd(r,RegExp(`${HEe(n.value,t)}$`),n.message,t);break;case"datetime":Ig(r,"date-time",n.message,t);break;case"date":Ig(r,"date",n.message,t);break;case"time":Ig(r,"time",n.message,t);break;case"duration":Ig(r,"duration",n.message,t);break;case"length":(0,y1.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),(0,y1.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{qd(r,RegExp(HEe(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Ig(r,"ipv4",n.message,t),n.version!=="v4"&&Ig(r,"ipv6",n.message,t);break}case"base64url":qd(r,dc.zodPatterns.base64url,n.message,t);break;case"jwt":qd(r,dc.zodPatterns.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&qd(r,dc.zodPatterns.ipv4Cidr,n.message,t),n.version!=="v4"&&qd(r,dc.zodPatterns.ipv6Cidr,n.message,t);break}case"emoji":qd(r,dc.zodPatterns.emoji(),n.message,t);break;case"ulid":{qd(r,dc.zodPatterns.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ig(r,"binary",n.message,t);break}case"contentEncoding:base64":{(0,y1.setResponseValueAndErrors)(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{qd(r,dc.zodPatterns.base64,n.message,t);break}}break}case"nanoid":qd(r,dc.zodPatterns.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}dc.parseStringDef=FYr;function HEe(e,t){return t.patternStrategy==="escape"?BYr(e):e}var kYr=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function BYr(e){let t="";for(let r=0;r<e.length;r++)kYr.has(e[r])||(t+="\\"),t+=e[r];return t}function Ig(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):(0,y1.setResponseValueAndErrors)(e,"format",t,r,n)}function qd(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:jMt(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):(0,y1.setResponseValueAndErrors)(e,"pattern",jMt(t,n),r,n)}function jMt(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",i=!1,a=!1,s=!1;for(let u=0;u<n.length;u++){if(i){o+=n[u],i=!1;continue}if(r.i){if(a){if(n[u].match(/[a-z]/)){s?(o+=n[u],o+=`${n[u-2]}-${n[u]}`.toUpperCase(),s=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(o+=n[u],s=!0):o+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){o+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){o+=a?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}o+=n[u],n[u]==="\\"?i=!0:a&&n[u]==="]"?a=!1:!a&&n[u]==="["&&(a=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}});var Pre=b(Ere=>{"use strict";Object.defineProperty(Ere,"__esModule",{value:!0});Ere.parseRecordDef=void 0;var T3=me(),NMt=Pu(),$Yr=Ore(),qYr=yre();function UYr(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===T3.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:(0,NMt.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:(0,NMt.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===T3.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=(0,$Yr.parseStringDef)(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===T3.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===T3.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===T3.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=(0,qYr.parseBrandedDef)(e.keyType._def,t);return{...r,propertyNames:o}}}return r}Ere.parseRecordDef=UYr});var VEe=b(Tre=>{"use strict";Object.defineProperty(Tre,"__esModule",{value:!0});Tre.parseMapDef=void 0;var LMt=Pu(),zYr=Pre();function HYr(e,t){if(t.mapStrategy==="record")return(0,zYr.parseRecordDef)(e,t);let r=(0,LMt.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=(0,LMt.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}Tre.parseMapDef=HYr});var WEe=b(Mre=>{"use strict";Object.defineProperty(Mre,"__esModule",{value:!0});Mre.parseNativeEnumDef=void 0;function VYr(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}Mre.parseNativeEnumDef=VYr});var JEe=b(Ire=>{"use strict";Object.defineProperty(Ire,"__esModule",{value:!0});Ire.parseNeverDef=void 0;function WYr(){return{not:{}}}Ire.parseNeverDef=WYr});var GEe=b(Are=>{"use strict";Object.defineProperty(Are,"__esModule",{value:!0});Are.parseNullDef=void 0;function JYr(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}Are.parseNullDef=JYr});var Rre=b(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0});rT.parseUnionDef=rT.primitiveMappings=void 0;var GYr=Pu();rT.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function KYr(e,t){if(t.target==="openApi3")return FMt(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in rT.primitiveMappings&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=rT.primitiveMappings[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return FMt(e,t)}rT.parseUnionDef=KYr;var FMt=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>(0,GYr.parseDef)(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0}});var KEe=b(Dre=>{"use strict";Object.defineProperty(Dre,"__esModule",{value:!0});Dre.parseNullableDef=void 0;var kMt=Pu(),BMt=Rre();function YYr(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:BMt.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[BMt.primitiveMappings[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=(0,kMt.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=(0,kMt.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}Dre.parseNullableDef=YYr});var YEe=b(jre=>{"use strict";Object.defineProperty(jre,"__esModule",{value:!0});jre.parseNumberDef=void 0;var nT=tT();function ZYr(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",(0,nT.addErrorMessage)(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?(0,nT.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t):(0,nT.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),(0,nT.setResponseValueAndErrors)(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?(0,nT.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t):(0,nT.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),(0,nT.setResponseValueAndErrors)(r,"maximum",n.value,n.message,t));break;case"multipleOf":(0,nT.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,t);break}return r}jre.parseNumberDef=ZYr});var XEe=b(Nre=>{"use strict";Object.defineProperty(Nre,"__esModule",{value:!0});Nre.parseObjectDef=void 0;var XYr=me(),ZEe=Pu();function QYr(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":(0,ZEe.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":(0,ZEe.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function eZr(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((o,[i,a])=>{if(a===void 0||a._def===void 0)return o;let s=a.isOptional();s&&r&&(a instanceof XYr.ZodOptional&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),s=!1);let u=(0,ZEe.parseDef)(a._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return u===void 0?o:{properties:{...o.properties,[i]:u},required:s?o.required:[...o.required,i]}},{properties:{},required:[]}),additionalProperties:QYr(e,t)};return n.required.length||delete n.required,n}Nre.parseObjectDef=eZr});var QEe=b(Lre=>{"use strict";Object.defineProperty(Lre,"__esModule",{value:!0});Lre.parseOptionalDef=void 0;var $Mt=Pu(),tZr=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,$Mt.parseDef)(e.innerType._def,t);let r=(0,$Mt.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};Lre.parseOptionalDef=tZr});var ePe=b(kre=>{"use strict";Object.defineProperty(kre,"__esModule",{value:!0});kre.parsePipelineDef=void 0;var Fre=Pu(),rZr=(e,t)=>{if(t.pipeStrategy==="input")return(0,Fre.parseDef)(e.in._def,t);if(t.pipeStrategy==="output")return(0,Fre.parseDef)(e.out._def,t);let r=(0,Fre.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=(0,Fre.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};kre.parsePipelineDef=rZr});var tPe=b(Bre=>{"use strict";Object.defineProperty(Bre,"__esModule",{value:!0});Bre.parsePromiseDef=void 0;var nZr=Pu();function oZr(e,t){return(0,nZr.parseDef)(e.type._def,t)}Bre.parsePromiseDef=oZr});var rPe=b($re=>{"use strict";Object.defineProperty($re,"__esModule",{value:!0});$re.parseSetDef=void 0;var qMt=tT(),iZr=Pu();function aZr(e,t){let n={type:"array",uniqueItems:!0,items:(0,iZr.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,qMt.setResponseValueAndErrors)(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,qMt.setResponseValueAndErrors)(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}$re.parseSetDef=aZr});var oPe=b(qre=>{"use strict";Object.defineProperty(qre,"__esModule",{value:!0});qre.parseTupleDef=void 0;var nPe=Pu();function sZr(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>(0,nPe.parseDef)(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:(0,nPe.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>(0,nPe.parseDef)(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}qre.parseTupleDef=sZr});var iPe=b(Ure=>{"use strict";Object.defineProperty(Ure,"__esModule",{value:!0});Ure.parseUndefinedDef=void 0;function uZr(){return{not:{}}}Ure.parseUndefinedDef=uZr});var aPe=b(zre=>{"use strict";Object.defineProperty(zre,"__esModule",{value:!0});zre.parseUnknownDef=void 0;function lZr(){return{}}zre.parseUnknownDef=lZr});var sPe=b(Hre=>{"use strict";Object.defineProperty(Hre,"__esModule",{value:!0});Hre.parseReadonlyDef=void 0;var cZr=Pu(),dZr=(e,t)=>(0,cZr.parseDef)(e.innerType._def,t);Hre.parseReadonlyDef=dZr});var Pu=b(Vre=>{"use strict";Object.defineProperty(Vre,"__esModule",{value:!0});Vre.parseDef=void 0;var fn=me(),fZr=REe(),pZr=DEe(),hZr=jEe(),mZr=NEe(),gZr=yre(),yZr=LEe(),bZr=FEe(),_Zr=kEe(),vZr=BEe(),wZr=$Ee(),SZr=qEe(),xZr=UEe(),CZr=VEe(),OZr=WEe(),EZr=JEe(),PZr=GEe(),TZr=KEe(),MZr=YEe(),IZr=XEe(),AZr=QEe(),RZr=ePe(),DZr=tPe(),jZr=Pre(),NZr=rPe(),LZr=Ore(),FZr=oPe(),kZr=iPe(),BZr=Rre(),$Zr=aPe(),qZr=sPe(),UZr=lre();function UMt(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==UZr.ignoreOverride)return a}if(n&&!r){let a=zZr(n,t);if(a!==void 0)return a}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=VZr(e,e.typeName,t);return i&&WZr(e,t,i),o.jsonSchema=i,i}Vre.parseDef=UMt;var zZr=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:HZr(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},HZr=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},VZr=(e,t,r)=>{switch(t){case fn.ZodFirstPartyTypeKind.ZodString:return(0,LZr.parseStringDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodNumber:return(0,MZr.parseNumberDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodObject:return(0,IZr.parseObjectDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodBigInt:return(0,hZr.parseBigintDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodBoolean:return(0,mZr.parseBooleanDef)();case fn.ZodFirstPartyTypeKind.ZodDate:return(0,bZr.parseDateDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodUndefined:return(0,kZr.parseUndefinedDef)();case fn.ZodFirstPartyTypeKind.ZodNull:return(0,PZr.parseNullDef)(r);case fn.ZodFirstPartyTypeKind.ZodArray:return(0,pZr.parseArrayDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodUnion:case fn.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,BZr.parseUnionDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodIntersection:return(0,SZr.parseIntersectionDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodTuple:return(0,FZr.parseTupleDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodRecord:return(0,jZr.parseRecordDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodLiteral:return(0,xZr.parseLiteralDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodEnum:return(0,wZr.parseEnumDef)(e);case fn.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,OZr.parseNativeEnumDef)(e);case fn.ZodFirstPartyTypeKind.ZodNullable:return(0,TZr.parseNullableDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodOptional:return(0,AZr.parseOptionalDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodMap:return(0,CZr.parseMapDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodSet:return(0,NZr.parseSetDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodLazy:return UMt(e.getter()._def,r);case fn.ZodFirstPartyTypeKind.ZodPromise:return(0,DZr.parsePromiseDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodNaN:case fn.ZodFirstPartyTypeKind.ZodNever:return(0,EZr.parseNeverDef)();case fn.ZodFirstPartyTypeKind.ZodEffects:return(0,vZr.parseEffectsDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodAny:return(0,fZr.parseAnyDef)();case fn.ZodFirstPartyTypeKind.ZodUnknown:return(0,$Zr.parseUnknownDef)();case fn.ZodFirstPartyTypeKind.ZodDefault:return(0,_Zr.parseDefaultDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodBranded:return(0,gZr.parseBrandedDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodReadonly:return(0,qZr.parseReadonlyDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodCatch:return(0,yZr.parseCatchDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodPipeline:return(0,RZr.parsePipelineDef)(e,r);case fn.ZodFirstPartyTypeKind.ZodFunction:case fn.ZodFirstPartyTypeKind.ZodVoid:case fn.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(n=>{})(t)}},WZr=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)});var uPe=b(Wre=>{"use strict";Object.defineProperty(Wre,"__esModule",{value:!0});Wre.zodToJsonSchema=void 0;var zMt=Pu(),JZr=AEe(),GZr=(e,t)=>{let r=(0,JZr.getRefs)(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[l,c])=>({...u,[l]:(0,zMt.parseDef)(c._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??{}}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=(0,zMt.parseDef)(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??{},a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(i.title=a);let s=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};Wre.zodToJsonSchema=GZr});var HMt=b(Sr=>{"use strict";var KZr=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vn=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KZr(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});vn(lre(),Sr);vn(AEe(),Sr);vn(tT(),Sr);vn(Pu(),Sr);vn(REe(),Sr);vn(DEe(),Sr);vn(jEe(),Sr);vn(NEe(),Sr);vn(yre(),Sr);vn(LEe(),Sr);vn(FEe(),Sr);vn(kEe(),Sr);vn(BEe(),Sr);vn($Ee(),Sr);vn(qEe(),Sr);vn(UEe(),Sr);vn(VEe(),Sr);vn(WEe(),Sr);vn(JEe(),Sr);vn(GEe(),Sr);vn(KEe(),Sr);vn(YEe(),Sr);vn(XEe(),Sr);vn(QEe(),Sr);vn(ePe(),Sr);vn(tPe(),Sr);vn(sPe(),Sr);vn(Pre(),Sr);vn(rPe(),Sr);vn(Ore(),Sr);vn(oPe(),Sr);vn(iPe(),Sr);vn(Rre(),Sr);vn(aPe(),Sr);vn(uPe(),Sr);var YZr=uPe();Sr.default=YZr.zodToJsonSchema});var WMt=b(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.transformToChatCompletionRequest=XZr;M3.convertToParsedChatCompletionResponse=QZr;M3.responseFormatFromZodObject=VMt;var ZZr=HMt();function XZr(e){let{responseFormat:t,...r}=e,n=VMt(t);return{...r,responseFormat:n}}function QZr(e,t){if(e.choices===void 0||e.choices.length===0)return{...e,choices:e.choices===void 0?void 0:[]};let r=[];for(let n of e.choices)n.message===null||typeof n.message>"u"?r.push({...n,message:void 0}):n.message.content!==null&&typeof n.message.content<"u"&&!Array.isArray(n.message.content)&&r.push({...n,message:{...n.message,parsed:t.safeParse(JSON.parse(n.message.content)).data}});return{...e,choices:r}}function VMt(e){return{type:"json_schema",jsonSchema:{name:"placeholderName",schemaDefinition:(0,ZZr.zodToJsonSchema)(e),strict:!0}}}});var KMt=b(Gre=>{"use strict";Object.defineProperty(Gre,"__esModule",{value:!0});Gre.Chat=void 0;var JMt=EMt(),GMt=MMt(),eXr=Mp(),Jre=Wh(),lPe=WMt(),cPe=class extends eXr.ClientSDK{async parse(t,r){let n=(0,lPe.transformToChatCompletionRequest)(t),o=await(0,Jre.unwrapAsync)((0,JMt.chatComplete)(this,n,r));return(0,lPe.convertToParsedChatCompletionResponse)(o,t.responseFormat)}async parseStream(t,r){let n=(0,lPe.transformToChatCompletionRequest)(t);return(0,Jre.unwrapAsync)((0,GMt.chatStream)(this,n,r))}async complete(t,r){return(0,Jre.unwrapAsync)((0,JMt.chatComplete)(this,t,r))}async stream(t,r){return(0,Jre.unwrapAsync)((0,GMt.chatStream)(this,t,r))}};Gre.Chat=cPe});var XMt=b(fC=>{"use strict";var tXr=fC&&fC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rXr=fC&&fC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dPe=fC&&fC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tXr(t,e,r);return rXr(t,e),t};Object.defineProperty(fC,"__esModule",{value:!0});fC.classifiersModerate=uXr;var nXr=vo(),I3=dPe(wo()),oXr=Oe(),iXr=ce(),YMt=So(),aXr=Hn(),ZMt=dPe(dn()),sXr=dPe(Ap());async function uXr(e,t,r){let n=(0,iXr.safeParse)(t,v=>ZMt.ClassificationRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,nXr.encodeJSON)("body",o,{explode:!0}),a=(0,aXr.pathToFunc)("/v1/moderations")(),s=new Headers((0,oXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,YMt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,YMt.resolveGlobalSecurity)(l),d={operationID:"moderations_v1_moderations_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await I3.match(I3.json(200,ZMt.ClassificationResponse$inboundSchema),I3.jsonErr(422,sXr.HTTPValidationError$inboundSchema),I3.fail("4XX"),I3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var tIt=b(pC=>{"use strict";var lXr=pC&&pC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cXr=pC&&pC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fPe=pC&&pC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lXr(t,e,r);return cXr(t,e),t};Object.defineProperty(pC,"__esModule",{value:!0});pC.classifiersModerateChat=gXr;var dXr=vo(),A3=fPe(wo()),fXr=Oe(),pXr=ce(),QMt=So(),hXr=Hn(),eIt=fPe(dn()),mXr=fPe(Ap());async function gXr(e,t,r){let n=(0,pXr.safeParse)(t,v=>eIt.ChatClassificationRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,dXr.encodeJSON)("body",o,{explode:!0}),a=(0,hXr.pathToFunc)("/v1/chat/moderations")(),s=new Headers((0,fXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,QMt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,QMt.resolveGlobalSecurity)(l),d={operationID:"moderations_chat_v1_chat_moderations_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await A3.match(A3.json(200,eIt.ClassificationResponse$inboundSchema),A3.jsonErr(422,mXr.HTTPValidationError$inboundSchema),A3.fail("4XX"),A3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var nIt=b(Kre=>{"use strict";Object.defineProperty(Kre,"__esModule",{value:!0});Kre.Classifiers=void 0;var yXr=XMt(),bXr=tIt(),_Xr=Mp(),rIt=Wh(),pPe=class extends _Xr.ClientSDK{async moderate(t,r){return(0,rIt.unwrapAsync)((0,yXr.classifiersModerate)(this,t,r))}async moderateChat(t,r){return(0,rIt.unwrapAsync)((0,bXr.classifiersModerateChat)(this,t,r))}};Kre.Classifiers=pPe});var aIt=b(hC=>{"use strict";var vXr=hC&&hC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wXr=hC&&hC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hPe=hC&&hC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vXr(t,e,r);return wXr(t,e),t};Object.defineProperty(hC,"__esModule",{value:!0});hC.embeddingsCreate=PXr;var SXr=vo(),R3=hPe(wo()),xXr=Oe(),CXr=ce(),oIt=So(),OXr=Hn(),iIt=hPe(dn()),EXr=hPe(Ap());async function PXr(e,t,r){let n=(0,CXr.safeParse)(t,v=>iIt.EmbeddingRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,SXr.encodeJSON)("body",o,{explode:!0}),a=(0,OXr.pathToFunc)("/v1/embeddings")(),s=new Headers((0,xXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,oIt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,oIt.resolveGlobalSecurity)(l),d={operationID:"embeddings_v1_embeddings_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await R3.match(R3.json(200,iIt.EmbeddingResponse$inboundSchema),R3.jsonErr(422,EXr.HTTPValidationError$inboundSchema),R3.fail("4XX"),R3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var sIt=b(Yre=>{"use strict";Object.defineProperty(Yre,"__esModule",{value:!0});Yre.Embeddings=void 0;var TXr=aIt(),MXr=Mp(),IXr=Wh(),mPe=class extends MXr.ClientSDK{async create(t,r){return(0,IXr.unwrapAsync)((0,TXr.embeddingsCreate)(this,t,r))}};Yre.Embeddings=mPe});var lIt=b(mC=>{"use strict";var AXr=mC&&mC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RXr=mC&&mC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gPe=mC&&mC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&AXr(t,e,r);return RXr(t,e),t};Object.defineProperty(mC,"__esModule",{value:!0});mC.filesDelete=BXr;var DXr=vo(),Zre=gPe(wo()),jXr=Oe(),NXr=ce(),uIt=So(),LXr=Hn(),FXr=gPe(dn()),kXr=gPe(Eu());async function BXr(e,t,r){let n=(0,NXr.safeParse)(t,v=>kXr.FilesApiRoutesDeleteFileRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,DXr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,LXr.pathToFunc)("/v1/files/{file_id}")(a),u=new Headers((0,jXr.compactMap)({Accept:"application/json"})),l=await(0,uIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,uIt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_delete_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await Zre.match(Zre.json(200,FXr.DeleteFileOut$inboundSchema),Zre.fail("4XX"),Zre.fail("5XX"))(_);return g.ok,g}});var dIt=b(gC=>{"use strict";var $Xr=gC&&gC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qXr=gC&&gC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yPe=gC&&gC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Xr(t,e,r);return qXr(t,e),t};Object.defineProperty(gC,"__esModule",{value:!0});gC.filesDownload=GXr;var UXr=yPe(me()),zXr=vo(),Xre=yPe(wo()),HXr=Oe(),VXr=ce(),cIt=So(),WXr=Hn(),JXr=yPe(Eu());async function GXr(e,t,r){let n=(0,VXr.safeParse)(t,v=>JXr.FilesApiRoutesDownloadFileRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,zXr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,WXr.pathToFunc)("/v1/files/{file_id}/content")(a),u=new Headers((0,HXr.compactMap)({Accept:"application/octet-stream"})),l=await(0,cIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,cIt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_download_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await Xre.match(Xre.stream(200,UXr.instanceof(ReadableStream)),Xre.fail("4XX"),Xre.fail("5XX"))(_);return g.ok,g}});var hIt=b(yC=>{"use strict";var KXr=yC&&yC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YXr=yC&&yC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bPe=yC&&yC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KXr(t,e,r);return YXr(t,e),t};Object.defineProperty(yC,"__esModule",{value:!0});yC.filesGetSignedUrl=rQr;var fIt=vo(),Qre=bPe(wo()),ZXr=Oe(),XXr=ce(),pIt=So(),QXr=Hn(),eQr=bPe(dn()),tQr=bPe(Eu());async function rQr(e,t,r){let n=(0,XXr.safeParse)(t,S=>tQr.FilesApiRoutesGetSignedUrlRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,fIt.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,QXr.pathToFunc)("/v1/files/{file_id}/url")(a),u=(0,fIt.encodeFormQuery)({expiry:o.expiry}),l=new Headers((0,ZXr.compactMap)({Accept:"application/json"})),c=await(0,pIt.extractSecurity)(e._options.apiKey),d=c==null?{}:{apiKey:c},f=(0,pIt.resolveGlobalSecurity)(d),p={operationID:"files_api_routes_get_signed_url",oAuth2Scopes:[],resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},h=e._createRequest(p,{security:f,method:"GET",baseURL:r?.serverURL,path:s,headers:l,query:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!h.ok)return h;let m=h.value,_=await e._do(m,{context:p,errorCodes:["4XX","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!_.ok)return _;let g=_.value,[v]=await Qre.match(Qre.json(200,eQr.FileSignedURL$inboundSchema),Qre.fail("4XX"),Qre.fail("5XX"))(g);return v.ok,v}});var gIt=b(bC=>{"use strict";var nQr=bC&&bC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oQr=bC&&bC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_Pe=bC&&bC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nQr(t,e,r);return oQr(t,e),t};Object.defineProperty(bC,"__esModule",{value:!0});bC.filesList=dQr;var iQr=vo(),ene=_Pe(wo()),aQr=Oe(),sQr=ce(),mIt=So(),uQr=Hn(),lQr=_Pe(dn()),cQr=_Pe(Eu());async function dQr(e,t,r){let n=(0,sQr.safeParse)(t,v=>cQr.FilesApiRoutesListFilesRequest$outboundSchema.optional().parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,uQr.pathToFunc)("/v1/files")(),s=(0,iQr.encodeFormQuery)({page:o?.page,page_size:o?.page_size,purpose:o?.purpose,sample_type:o?.sample_type,search:o?.search,source:o?.source}),u=new Headers((0,aQr.compactMap)({Accept:"application/json"})),l=await(0,mIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,mIt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_list_files",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await ene.match(ene.json(200,lQr.ListFilesOut$inboundSchema),ene.fail("4XX"),ene.fail("5XX"))(_);return g.ok,g}});var bIt=b(_C=>{"use strict";var fQr=_C&&_C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pQr=_C&&_C.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vPe=_C&&_C.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fQr(t,e,r);return pQr(t,e),t};Object.defineProperty(_C,"__esModule",{value:!0});_C.filesRetrieve=vQr;var hQr=vo(),tne=vPe(wo()),mQr=Oe(),gQr=ce(),yIt=So(),yQr=Hn(),bQr=vPe(dn()),_Qr=vPe(Eu());async function vQr(e,t,r){let n=(0,gQr.safeParse)(t,v=>_Qr.FilesApiRoutesRetrieveFileRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,hQr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,yQr.pathToFunc)("/v1/files/{file_id}")(a),u=new Headers((0,mQr.compactMap)({Accept:"application/json"})),l=await(0,yIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,yIt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_retrieve_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await tne.match(tne.json(200,bQr.RetrieveFileOut$inboundSchema),tne.fail("4XX"),tne.fail("5XX"))(_);return g.ok,g}});var _It=b(wPe=>{"use strict";Object.defineProperty(wPe,"__esModule",{value:!0});wPe.isReadableStream=wQr;function wQr(e){if(typeof e!="object"||e===null)return!1;let t=e;return typeof t.getReader=="function"&&typeof t.cancel=="function"&&typeof t.tee=="function"}});var wIt=b(vC=>{"use strict";var SQr=vC&&vC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xQr=vC&&vC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),SPe=vC&&vC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SQr(t,e,r);return xQr(t,e),t};Object.defineProperty(vC,"__esModule",{value:!0});vC.filesUpload=RQr;var rne=vo(),CQr=oOe(),nne=SPe(wo()),OQr=Oe(),EQr=ce(),vIt=So(),PQr=Hn(),TQr=SPe(dn()),MQr=SPe(Eu()),IQr=CEe(),AQr=_It();async function RQr(e,t,r){let n=(0,EQr.safeParse)(t,g=>MQr.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=new FormData;if((0,IQr.isBlobLike)(o.file))(0,rne.appendForm)(i,"file",o.file);else if((0,AQr.isReadableStream)(o.file.content)){let g=await(0,CQr.readableStreamToArrayBuffer)(o.file.content),v=new Blob([g],{type:"application/octet-stream"});(0,rne.appendForm)(i,"file",v)}else(0,rne.appendForm)(i,"file",new Blob([o.file.content],{type:"application/octet-stream"}),o.file.fileName);o.purpose!==void 0&&(0,rne.appendForm)(i,"purpose",o.purpose);let a=(0,PQr.pathToFunc)("/v1/files")(),s=new Headers((0,OQr.compactMap)({Accept:"application/json"})),u=await(0,vIt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,vIt.resolveGlobalSecurity)(l),d={operationID:"files_api_routes_upload_file",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,[_]=await nne.match(nne.json(200,TQr.UploadFileOut$inboundSchema),nne.fail("4XX"),nne.fail("5XX"))(m);return _.ok,_}});var SIt=b(one=>{"use strict";Object.defineProperty(one,"__esModule",{value:!0});one.Files=void 0;var DQr=lIt(),jQr=dIt(),NQr=hIt(),LQr=gIt(),FQr=bIt(),kQr=wIt(),BQr=Mp(),Jk=Wh(),xPe=class extends BQr.ClientSDK{async upload(t,r){return(0,Jk.unwrapAsync)((0,kQr.filesUpload)(this,t,r))}async list(t,r){return(0,Jk.unwrapAsync)((0,LQr.filesList)(this,t,r))}async retrieve(t,r){return(0,Jk.unwrapAsync)((0,FQr.filesRetrieve)(this,t,r))}async delete(t,r){return(0,Jk.unwrapAsync)((0,DQr.filesDelete)(this,t,r))}async download(t,r){return(0,Jk.unwrapAsync)((0,jQr.filesDownload)(this,t,r))}async getSignedUrl(t,r){return(0,Jk.unwrapAsync)((0,NQr.filesGetSignedUrl)(this,t,r))}};one.Files=xPe});var OIt=b(wC=>{"use strict";var $Qr=wC&&wC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qQr=wC&&wC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CPe=wC&&wC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Qr(t,e,r);return qQr(t,e),t};Object.defineProperty(wC,"__esModule",{value:!0});wC.fimComplete=JQr;var UQr=vo(),D3=CPe(wo()),zQr=Oe(),HQr=ce(),xIt=So(),VQr=Hn(),CIt=CPe(dn()),WQr=CPe(Ap());async function JQr(e,t,r){let n=(0,HQr.safeParse)(t,v=>CIt.FIMCompletionRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,UQr.encodeJSON)("body",o,{explode:!0}),a=(0,VQr.pathToFunc)("/v1/fim/completions")(),s=new Headers((0,zQr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,xIt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,xIt.resolveGlobalSecurity)(l),d={operationID:"fim_completion_v1_fim_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await D3.match(D3.json(200,CIt.FIMCompletionResponse$inboundSchema),D3.jsonErr(422,WQr.HTTPValidationError$inboundSchema),D3.fail("4XX"),D3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var TIt=b(SC=>{"use strict";var GQr=SC&&SC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KQr=SC&&SC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ine=SC&&SC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GQr(t,e,r);return KQr(t,e),t};Object.defineProperty(SC,"__esModule",{value:!0});SC.fimStream=nen;var YQr=ine(me()),ZQr=vo(),XQr=h3(),j3=ine(wo()),QQr=Oe(),een=ce(),EIt=So(),ten=Hn(),PIt=ine(dn()),ren=ine(Ap());async function nen(e,t,r){let n=(0,een.safeParse)(t,v=>PIt.FIMCompletionStreamRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,ZQr.encodeJSON)("body",o,{explode:!0}),a=(0,ten.pathToFunc)("/v1/fim/completions#stream")(),s=new Headers((0,QQr.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,EIt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,EIt.resolveGlobalSecurity)(l),d={operationID:"stream_fim",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,_={HttpMeta:{Response:m,Request:p}},[g]=await j3.match(j3.sse(200,YQr.instanceof(ReadableStream).transform(v=>new XQr.EventStream({stream:v,decoder(S){return PIt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),j3.jsonErr(422,ren.HTTPValidationError$inboundSchema),j3.fail("4XX"),j3.fail("5XX"))(m,{extraFields:_});return g.ok,g}});var IIt=b(ane=>{"use strict";Object.defineProperty(ane,"__esModule",{value:!0});ane.Fim=void 0;var oen=OIt(),ien=TIt(),aen=Mp(),MIt=Wh(),OPe=class extends aen.ClientSDK{async complete(t,r){return(0,MIt.unwrapAsync)((0,oen.fimComplete)(this,t,r))}async stream(t,r){return(0,MIt.unwrapAsync)((0,ien.fimStream)(this,t,r))}};ane.Fim=OPe});var RIt=b(xC=>{"use strict";var sen=xC&&xC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uen=xC&&xC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EPe=xC&&xC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sen(t,e,r);return uen(t,e),t};Object.defineProperty(xC,"__esModule",{value:!0});xC.fineTuningJobsCancel=men;var len=vo(),sne=EPe(wo()),cen=Oe(),den=ce(),AIt=So(),fen=Hn(),pen=EPe(dn()),hen=EPe(Eu());async function men(e,t,r){let n=(0,den.safeParse)(t,v=>hen.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,len.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,fen.pathToFunc)("/v1/fine_tuning/jobs/{job_id}/cancel")(a),u=new Headers((0,cen.compactMap)({Accept:"application/json"})),l=await(0,AIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,AIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_cancel_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await sne.match(sne.json(200,pen.DetailedJobOut$inboundSchema),sne.fail("4XX"),sne.fail("5XX"))(_);return g.ok,g}});var jIt=b(CC=>{"use strict";var gen=CC&&CC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yen=CC&&CC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),PPe=CC&&CC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gen(t,e,r);return yen(t,e),t};Object.defineProperty(CC,"__esModule",{value:!0});CC.fineTuningJobsCreate=Cen;var ben=vo(),une=PPe(wo()),_en=Oe(),ven=ce(),DIt=So(),wen=Hn(),Sen=PPe(dn()),xen=PPe(Eu());async function Cen(e,t,r){let n=(0,ven.safeParse)(t,g=>Sen.JobIn$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,ben.encodeJSON)("body",o,{explode:!0}),a=(0,wen.pathToFunc)("/v1/fine_tuning/jobs")(),s=new Headers((0,_en.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,DIt.extractSecurity)(e._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,DIt.resolveGlobalSecurity)(l),d={operationID:"jobs_api_routes_fine_tuning_create_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,h=await e._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return h;let m=h.value,[_]=await une.match(une.json(200,xen.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema),une.fail("4XX"),une.fail("5XX"))(m);return _.ok,_}});var LIt=b(OC=>{"use strict";var Oen=OC&&OC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Een=OC&&OC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TPe=OC&&OC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Oen(t,e,r);return Een(t,e),t};Object.defineProperty(OC,"__esModule",{value:!0});OC.fineTuningJobsGet=Den;var Pen=vo(),lne=TPe(wo()),Ten=Oe(),Men=ce(),NIt=So(),Ien=Hn(),Aen=TPe(dn()),Ren=TPe(Eu());async function Den(e,t,r){let n=(0,Men.safeParse)(t,v=>Ren.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,Pen.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,Ien.pathToFunc)("/v1/fine_tuning/jobs/{job_id}")(a),u=new Headers((0,Ten.compactMap)({Accept:"application/json"})),l=await(0,NIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,NIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_get_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await lne.match(lne.json(200,Aen.DetailedJobOut$inboundSchema),lne.fail("4XX"),lne.fail("5XX"))(_);return g.ok,g}});var kIt=b(EC=>{"use strict";var jen=EC&&EC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nen=EC&&EC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MPe=EC&&EC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jen(t,e,r);return Nen(t,e),t};Object.defineProperty(EC,"__esModule",{value:!0});EC.fineTuningJobsList=Uen;var Len=vo(),cne=MPe(wo()),Fen=Oe(),ken=ce(),FIt=So(),Ben=Hn(),$en=MPe(dn()),qen=MPe(Eu());async function Uen(e,t,r){let n=(0,ken.safeParse)(t,v=>qen.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema.optional().parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,Ben.pathToFunc)("/v1/fine_tuning/jobs")(),s=(0,Len.encodeFormQuery)({created_after:o?.created_after,created_by_me:o?.created_by_me,model:o?.model,page:o?.page,page_size:o?.page_size,status:o?.status,suffix:o?.suffix,wandb_name:o?.wandb_name,wandb_project:o?.wandb_project}),u=new Headers((0,Fen.compactMap)({Accept:"application/json"})),l=await(0,FIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,FIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_get_fine_tuning_jobs",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await cne.match(cne.json(200,$en.JobsOut$inboundSchema),cne.fail("4XX"),cne.fail("5XX"))(_);return g.ok,g}});var $It=b(PC=>{"use strict";var zen=PC&&PC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hen=PC&&PC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IPe=PC&&PC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zen(t,e,r);return Hen(t,e),t};Object.defineProperty(PC,"__esModule",{value:!0});PC.fineTuningJobsStart=Zen;var Ven=vo(),dne=IPe(wo()),Wen=Oe(),Jen=ce(),BIt=So(),Gen=Hn(),Ken=IPe(dn()),Yen=IPe(Eu());async function Zen(e,t,r){let n=(0,Jen.safeParse)(t,v=>Yen.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,Ven.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,Gen.pathToFunc)("/v1/fine_tuning/jobs/{job_id}/start")(a),u=new Headers((0,Wen.compactMap)({Accept:"application/json"})),l=await(0,BIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,BIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_start_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await dne.match(dne.json(200,Ken.DetailedJobOut$inboundSchema),dne.fail("4XX"),dne.fail("5XX"))(_);return g.ok,g}});var qIt=b(fne=>{"use strict";Object.defineProperty(fne,"__esModule",{value:!0});fne.Jobs=void 0;var Xen=RIt(),Qen=jIt(),etn=LIt(),ttn=kIt(),rtn=$It(),ntn=Mp(),N3=Wh(),APe=class extends ntn.ClientSDK{async list(t,r){return(0,N3.unwrapAsync)((0,ttn.fineTuningJobsList)(this,t,r))}async create(t,r){return(0,N3.unwrapAsync)((0,Qen.fineTuningJobsCreate)(this,t,r))}async get(t,r){return(0,N3.unwrapAsync)((0,etn.fineTuningJobsGet)(this,t,r))}async cancel(t,r){return(0,N3.unwrapAsync)((0,Xen.fineTuningJobsCancel)(this,t,r))}async start(t,r){return(0,N3.unwrapAsync)((0,rtn.fineTuningJobsStart)(this,t,r))}};fne.Jobs=APe});var UIt=b(pne=>{"use strict";Object.defineProperty(pne,"__esModule",{value:!0});pne.FineTuning=void 0;var otn=Mp(),itn=qIt(),RPe=class extends otn.ClientSDK{get jobs(){return this._jobs??(this._jobs=new itn.Jobs(this._options))}};pne.FineTuning=RPe});var HIt=b(TC=>{"use strict";var atn=TC&&TC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),stn=TC&&TC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DPe=TC&&TC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&atn(t,e,r);return stn(t,e),t};Object.defineProperty(TC,"__esModule",{value:!0});TC.modelsArchive=htn;var utn=vo(),hne=DPe(wo()),ltn=Oe(),ctn=ce(),zIt=So(),dtn=Hn(),ftn=DPe(dn()),ptn=DPe(Eu());async function htn(e,t,r){let n=(0,ctn.safeParse)(t,v=>ptn.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,utn.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,dtn.pathToFunc)("/v1/fine_tuning/models/{model_id}/archive")(a),u=new Headers((0,ltn.compactMap)({Accept:"application/json"})),l=await(0,zIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,zIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_archive_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await hne.match(hne.json(200,ftn.ArchiveFTModelOut$inboundSchema),hne.fail("4XX"),hne.fail("5XX"))(_);return g.ok,g}});var WIt=b(MC=>{"use strict";var mtn=MC&&MC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gtn=MC&&MC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mne=MC&&MC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&mtn(t,e,r);return gtn(t,e),t};Object.defineProperty(MC,"__esModule",{value:!0});MC.modelsDelete=Ctn;var ytn=vo(),L3=mne(wo()),btn=Oe(),_tn=ce(),VIt=So(),vtn=Hn(),wtn=mne(dn()),Stn=mne(Ap()),xtn=mne(Eu());async function Ctn(e,t,r){let n=(0,_tn.safeParse)(t,S=>xtn.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,ytn.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,vtn.pathToFunc)("/v1/models/{model_id}")(a),u=new Headers((0,btn.compactMap)({Accept:"application/json"})),l=await(0,VIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,VIt.resolveGlobalSecurity)(c),f={operationID:"delete_model_v1_models__model_id__delete",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["422","4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,g={HttpMeta:{Response:_,Request:h}},[v]=await L3.match(L3.json(200,wtn.DeleteModelOut$inboundSchema),L3.jsonErr(422,Stn.HTTPValidationError$inboundSchema),L3.fail("4XX"),L3.fail("5XX"))(_,{extraFields:g});return v.ok,v}});var GIt=b(IC=>{"use strict";var Otn=IC&&IC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Etn=IC&&IC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jPe=IC&&IC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Otn(t,e,r);return Etn(t,e),t};Object.defineProperty(IC,"__esModule",{value:!0});IC.modelsList=Atn;var F3=jPe(wo()),Ptn=Oe(),JIt=So(),Ttn=Hn(),Mtn=jPe(dn()),Itn=jPe(Ap());async function Atn(e,t){let r=(0,Ttn.pathToFunc)("/v1/models")(),n=new Headers((0,Ptn.compactMap)({Accept:"application/json"})),o=await(0,JIt.extractSecurity)(e._options.apiKey),i=o==null?{}:{apiKey:o},a=(0,JIt.resolveGlobalSecurity)(i),s={operationID:"list_models_v1_models_get",oAuth2Scopes:[],resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},u=e._createRequest(s,{security:a,method:"GET",baseURL:t?.serverURL,path:r,headers:n,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!u.ok)return u;let l=u.value,c=await e._do(l,{context:s,errorCodes:["422","4XX","5XX"],retryConfig:s.retryConfig,retryCodes:s.retryCodes});if(!c.ok)return c;let d=c.value,f={HttpMeta:{Response:d,Request:l}},[p]=await F3.match(F3.json(200,Mtn.ModelList$inboundSchema),F3.jsonErr(422,Itn.HTTPValidationError$inboundSchema),F3.fail("4XX"),F3.fail("5XX"))(d,{extraFields:f});return p.ok,p}});var ZIt=b(AC=>{"use strict";var Rtn=AC&&AC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dtn=AC&&AC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NPe=AC&&AC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rtn(t,e,r);return Dtn(t,e),t};Object.defineProperty(AC,"__esModule",{value:!0});AC.modelsRetrieve=Btn;var jtn=vo(),k3=NPe(wo()),Ntn=Oe(),Ltn=ce(),KIt=So(),Ftn=Hn(),ktn=NPe(Ap()),YIt=NPe(Eu());async function Btn(e,t,r){let n=(0,Ltn.safeParse)(t,S=>YIt.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,jtn.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,Ftn.pathToFunc)("/v1/models/{model_id}")(a),u=new Headers((0,Ntn.compactMap)({Accept:"application/json"})),l=await(0,KIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,KIt.resolveGlobalSecurity)(c),f={operationID:"retrieve_model_v1_models__model_id__get",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["422","4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,g={HttpMeta:{Response:_,Request:h}},[v]=await k3.match(k3.json(200,YIt.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema),k3.jsonErr(422,ktn.HTTPValidationError$inboundSchema),k3.fail("4XX"),k3.fail("5XX"))(_,{extraFields:g});return v.ok,v}});var QIt=b(RC=>{"use strict";var $tn=RC&&RC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qtn=RC&&RC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LPe=RC&&RC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$tn(t,e,r);return qtn(t,e),t};Object.defineProperty(RC,"__esModule",{value:!0});RC.modelsUnarchive=Gtn;var Utn=vo(),gne=LPe(wo()),ztn=Oe(),Htn=ce(),XIt=So(),Vtn=Hn(),Wtn=LPe(dn()),Jtn=LPe(Eu());async function Gtn(e,t,r){let n=(0,Htn.safeParse)(t,v=>Jtn.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,Utn.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,Vtn.pathToFunc)("/v1/fine_tuning/models/{model_id}/archive")(a),u=new Headers((0,ztn.compactMap)({Accept:"application/json"})),l=await(0,XIt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,XIt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_unarchive_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await gne.match(gne.json(200,Wtn.UnarchiveFTModelOut$inboundSchema),gne.fail("4XX"),gne.fail("5XX"))(_);return g.ok,g}});var rAt=b(DC=>{"use strict";var Ktn=DC&&DC.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ytn=DC&&DC.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FPe=DC&&DC.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ktn(t,e,r);return Ytn(t,e),t};Object.defineProperty(DC,"__esModule",{value:!0});DC.modelsUpdate=rrn;var eAt=vo(),yne=FPe(wo()),Ztn=Oe(),Xtn=ce(),tAt=So(),Qtn=Hn(),ern=FPe(dn()),trn=FPe(Eu());async function rrn(e,t,r){let n=(0,Xtn.safeParse)(t,v=>trn.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema.parse(v),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,eAt.encodeJSON)("body",o.UpdateFTModelIn,{explode:!0}),a={model_id:(0,eAt.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,Qtn.pathToFunc)("/v1/fine_tuning/models/{model_id}")(a),u=new Headers((0,Ztn.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),l=await(0,tAt.extractSecurity)(e._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,tAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_update_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.apiKey,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(f,{security:d,method:"PATCH",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return p;let h=p.value,m=await e._do(h,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!m.ok)return m;let _=m.value,[g]=await yne.match(yne.json(200,ern.FTModelOut$inboundSchema),yne.fail("4XX"),yne.fail("5XX"))(_);return g.ok,g}});var nAt=b(bne=>{"use strict";Object.defineProperty(bne,"__esModule",{value:!0});bne.Models=void 0;var nrn=HIt(),orn=WIt(),irn=GIt(),arn=ZIt(),srn=QIt(),urn=rAt(),lrn=Mp(),Gk=Wh(),kPe=class extends lrn.ClientSDK{async list(t){return(0,Gk.unwrapAsync)((0,irn.modelsList)(this,t))}async retrieve(t,r){return(0,Gk.unwrapAsync)((0,arn.modelsRetrieve)(this,t,r))}async delete(t,r){return(0,Gk.unwrapAsync)((0,orn.modelsDelete)(this,t,r))}async update(t,r){return(0,Gk.unwrapAsync)((0,urn.modelsUpdate)(this,t,r))}async archive(t,r){return(0,Gk.unwrapAsync)((0,nrn.modelsArchive)(this,t,r))}async unarchive(t,r){return(0,Gk.unwrapAsync)((0,srn.modelsUnarchive)(this,t,r))}};bne.Models=kPe});var oAt=b(_ne=>{"use strict";Object.defineProperty(_ne,"__esModule",{value:!0});_ne.Mistral=void 0;var crn=Mp(),drn=GPt(),frn=xMt(),prn=KMt(),hrn=nIt(),mrn=sIt(),grn=SIt(),yrn=IIt(),brn=UIt(),_rn=nAt(),BPe=class extends crn.ClientSDK{get models(){return this._models??(this._models=new _rn.Models(this._options))}get files(){return this._files??(this._files=new grn.Files(this._options))}get fineTuning(){return this._fineTuning??(this._fineTuning=new brn.FineTuning(this._options))}get batch(){return this._batch??(this._batch=new frn.Batch(this._options))}get chat(){return this._chat??(this._chat=new prn.Chat(this._options))}get fim(){return this._fim??(this._fim=new yrn.Fim(this._options))}get agents(){return this._agents??(this._agents=new drn.Agents(this._options))}get embeddings(){return this._embeddings??(this._embeddings=new mrn.Embeddings(this._options))}get classifiers(){return this._classifiers??(this._classifiers=new hrn.Classifiers(this._options))}};_ne.Mistral=BPe});var sAt=b(Uf=>{"use strict";var iAt=Uf&&Uf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vrn=Uf&&Uf.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aAt=Uf&&Uf.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iAt(t,e,r)},wrn=Uf&&Uf.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iAt(t,e,r);return vrn(t,e),t};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.files=void 0;aAt(mee(),Uf);Uf.files=wrn(oOe());aAt(oAt(),Uf)});var mAt=b((VPe,WPe)=>{(function(e,t){typeof VPe=="object"&&typeof WPe<"u"?WPe.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_quarterOfYear=t()})(VPe,function(){"use strict";var e="month",t="quarter";return function(r,n){var o=n.prototype;o.quarter=function(s){return this.$utils().u(s)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(s-1))};var i=o.add;o.add=function(s,u){return s=Number(s),this.$utils().p(u)===t?this.add(3*s,e):i.bind(this)(s,u)};var a=o.startOf;o.startOf=function(s,u){var l=this.$utils(),c=!!l.u(u)||u;if(l.p(s)===t){var d=this.quarter()-1;return c?this.month(3*d).startOf(e).startOf("day"):this.month(3*d+2).endOf(e).endOf("day")}return a.bind(this)(s,u)}}})});var iT=b((JPe,GPe)=>{(function(e,t){typeof JPe=="object"&&typeof GPe<"u"?GPe.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(JPe,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",o="second",i="minute",a="hour",s="day",u="week",l="month",c="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var k=["th","st","nd","rd"],L=F%100;return"["+F+(k[(L-20)%10]||k[L]||k[0])+"]"}},g=function(F,k,L){var q=String(F);return!q||q.length>=k?F:""+Array(k+1-q.length).join(L)+F},v={s:g,z:function(F){var k=-F.utcOffset(),L=Math.abs(k),q=Math.floor(L/60),U=L%60;return(k<=0?"+":"-")+g(q,2,"0")+":"+g(U,2,"0")},m:function F(k,L){if(k.date()<L.date())return-F(L,k);var q=12*(L.year()-k.year())+(L.month()-k.month()),U=k.clone().add(q,l),G=L-U<0,V=k.clone().add(q+(G?-1:1),l);return+(-(q+(L-U)/(G?U-V:V-U))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:l,y:d,w:u,d:s,D:f,h:a,m:i,s:o,ms:n,Q:c}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},S="en",x={};x[S]=_;var O="$isDayjsObject",T=function(F){return F instanceof j||!(!F||!F[O])},E=function F(k,L,q){var U;if(!k)return S;if(typeof k=="string"){var G=k.toLowerCase();x[G]&&(U=G),L&&(x[G]=L,U=G);var V=k.split("-");if(!U&&V.length>1)return F(V[0])}else{var D=k.name;x[D]=k,U=D}return!q&&U&&(S=U),U||!q&&S},M=function(F,k){if(T(F))return F.clone();var L=typeof k=="object"?k:{};return L.date=F,L.args=arguments,new j(L)},A=v;A.l=E,A.i=T,A.w=function(F,k){return M(F,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var j=function(){function F(L){this.$L=E(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[O]=!0}var k=F.prototype;return k.parse=function(L){this.$d=function(q){var U=q.date,G=q.utc;if(U===null)return new Date(NaN);if(A.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var V=U.match(h);if(V){var D=V[2]-1||0,z=(V[7]||"0").substring(0,3);return G?new Date(Date.UTC(V[1],D,V[3]||1,V[4]||0,V[5]||0,V[6]||0,z)):new Date(V[1],D,V[3]||1,V[4]||0,V[5]||0,V[6]||0,z)}}return new Date(U)}(L),this.init()},k.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},k.$utils=function(){return A},k.isValid=function(){return this.$d.toString()!==p},k.isSame=function(L,q){var U=M(L);return this.startOf(q)<=U&&U<=this.endOf(q)},k.isAfter=function(L,q){return M(L)<this.startOf(q)},k.isBefore=function(L,q){return this.endOf(q)<M(L)},k.$g=function(L,q,U){return A.u(L)?this[q]:this.set(U,L)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(L,q){var U=this,G=!!A.u(q)||q,V=A.p(L),D=function(ue,Me){var ht=A.w(U.$u?Date.UTC(U.$y,Me,ue):new Date(U.$y,Me,ue),U);return G?ht:ht.endOf(s)},z=function(ue,Me){return A.w(U.toDate()[ue].apply(U.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(Me)),U)},W=this.$W,J=this.$M,te=this.$D,Ae="set"+(this.$u?"UTC":"");switch(V){case d:return G?D(1,0):D(31,11);case l:return G?D(1,J):D(0,J+1);case u:var Z=this.$locale().weekStart||0,Q=(W<Z?W+7:W)-Z;return D(G?te-Q:te+(6-Q),J);case s:case f:return z(Ae+"Hours",0);case a:return z(Ae+"Minutes",1);case i:return z(Ae+"Seconds",2);case o:return z(Ae+"Milliseconds",3);default:return this.clone()}},k.endOf=function(L){return this.startOf(L,!1)},k.$set=function(L,q){var U,G=A.p(L),V="set"+(this.$u?"UTC":""),D=(U={},U[s]=V+"Date",U[f]=V+"Date",U[l]=V+"Month",U[d]=V+"FullYear",U[a]=V+"Hours",U[i]=V+"Minutes",U[o]=V+"Seconds",U[n]=V+"Milliseconds",U)[G],z=G===s?this.$D+(q-this.$W):q;if(G===l||G===d){var W=this.clone().set(f,1);W.$d[D](z),W.init(),this.$d=W.set(f,Math.min(this.$D,W.daysInMonth())).$d}else D&&this.$d[D](z);return this.init(),this},k.set=function(L,q){return this.clone().$set(L,q)},k.get=function(L){return this[A.p(L)]()},k.add=function(L,q){var U,G=this;L=Number(L);var V=A.p(q),D=function(J){var te=M(G);return A.w(te.date(te.date()+Math.round(J*L)),G)};if(V===l)return this.set(l,this.$M+L);if(V===d)return this.set(d,this.$y+L);if(V===s)return D(1);if(V===u)return D(7);var z=(U={},U[i]=t,U[a]=r,U[o]=e,U)[V]||1,W=this.$d.getTime()+L*z;return A.w(W,this)},k.subtract=function(L,q){return this.add(-1*L,q)},k.format=function(L){var q=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var G=L||"YYYY-MM-DDTHH:mm:ssZ",V=A.z(this),D=this.$H,z=this.$m,W=this.$M,J=U.weekdays,te=U.months,Ae=U.meridiem,Z=function(Me,ht,we,ie){return Me&&(Me[ht]||Me(q,G))||we[ht].slice(0,ie)},Q=function(Me){return A.s(D%12||12,Me,"0")},ue=Ae||function(Me,ht,we){var ie=Me<12?"AM":"PM";return we?ie.toLowerCase():ie};return G.replace(m,function(Me,ht){return ht||function(we){switch(we){case"YY":return String(q.$y).slice(-2);case"YYYY":return A.s(q.$y,4,"0");case"M":return W+1;case"MM":return A.s(W+1,2,"0");case"MMM":return Z(U.monthsShort,W,te,3);case"MMMM":return Z(te,W);case"D":return q.$D;case"DD":return A.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return Z(U.weekdaysMin,q.$W,J,2);case"ddd":return Z(U.weekdaysShort,q.$W,J,3);case"dddd":return J[q.$W];case"H":return String(D);case"HH":return A.s(D,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return ue(D,z,!0);case"A":return ue(D,z,!1);case"m":return String(z);case"mm":return A.s(z,2,"0");case"s":return String(q.$s);case"ss":return A.s(q.$s,2,"0");case"SSS":return A.s(q.$ms,3,"0");case"Z":return V}return null}(Me)||V.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(L,q,U){var G,V=this,D=A.p(q),z=M(L),W=(z.utcOffset()-this.utcOffset())*t,J=this-z,te=function(){return A.m(V,z)};switch(D){case d:G=te()/12;break;case l:G=te();break;case c:G=te()/3;break;case u:G=(J-W)/6048e5;break;case s:G=(J-W)/864e5;break;case a:G=J/r;break;case i:G=J/t;break;case o:G=J/e;break;default:G=J}return U?G:A.a(G)},k.daysInMonth=function(){return this.endOf(l).$D},k.$locale=function(){return x[this.$L]},k.locale=function(L,q){if(!L)return this.$L;var U=this.clone(),G=E(L,q,!0);return G&&(U.$L=G),U},k.clone=function(){return A.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},F}(),N=j.prototype;return M.prototype=N,[["$ms",n],["$s",o],["$m",i],["$H",a],["$W",s],["$M",l],["$y",d],["$D",f]].forEach(function(F){N[F[1]]=function(k){return this.$g(k,F[0],F[1])}}),M.extend=function(F,k){return F.$i||(F(k,j,M),F.$i=!0),M},M.locale=E,M.isDayjs=T,M.unix=function(F){return M(1e3*F)},M.en=x[S],M.Ls=x,M.p={},M})});var O1t=C(()=>{bO()});var E1t=C(()=>{kh();O1t();IS();Dx()});var P1t=C(()=>{SO()});var ZTe=C(()=>{Dx();GM();IS();E1t();P1t()});var KLt=b((V4o,GLt)=>{"use strict";var Eln="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";GLt.exports=Eln});var QLt=b((W4o,XLt)=>{"use strict";var Pln=KLt();function YLt(){}function ZLt(){}ZLt.resetWarningCache=YLt;XLt.exports=function(){function e(n,o,i,a,s,u){if(u!==Pln){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ZLt,resetWarningCache:YLt};return r.PropTypes=r,r}});var tFt=b((K4o,eFt)=>{eFt.exports=QLt()();var J4o,G4o});var sFt=b(AIe=>{"use strict";AIe.__esModule=!0;AIe.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0}});var zmn={};Kd(zmn,{default:()=>tae});module.exports=il(zmn);SO();GM();IS();var Vue=e=>e.map(t=>t.pageContent).join(`

`);var ki={},nJt=0;function KM(e,t){let r=`atom${++nJt}`,n={toString(){return(ki.env?ki.env.MODE:void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof e=="function"?n.read=e:(n.init=e,n.read=oJt,n.write=iJt),t&&(n.write=t),n}function oJt(e){return e(this)}function iJt(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}var QFe=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Wue=e=>"init"in e,Jue=e=>!!e.write,JV=new WeakMap,Kue=e=>{var t;return Yue(e)&&!((t=JV.get(e))!=null&&t[1])},aJt=(e,t)=>{let r=JV.get(e);if(r)r[1]=!0,r[0].forEach(n=>n(t));else if((ki.env?ki.env.MODE:void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},sJt=e=>{if(JV.has(e))return;let t=[new Set,!1];JV.set(e,t);let r=()=>{t[1]=!0};e.then(r,r),e.onCancel=n=>{t[0].add(n)}},Yue=e=>typeof e?.then=="function",eke=e=>"v"in e||"e"in e,WV=e=>{if("e"in e)throw e.e;if((ki.env?ki.env.MODE:void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},nke=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},tke=(e,t,r,n,o)=>{var i;if((ki.env?ki.env.MODE:void 0)!=="production"&&n===t)throw new Error("[Bug] atom cannot depend on itself");r.d.set(n,o.n),Kue(r.v)&&nke(t,r.v,o),(i=o.m)==null||i.t.add(t),e&&uJt(e,n,t)},YD=()=>[new Map,new Map,new Set],Gue=(e,t,r)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,r)},uJt=(e,t,r)=>{let n=e[0].get(t);n&&n.add(r)},lJt=(e,t)=>e[0].get(t),rke=(e,t)=>{e[2].add(t)},OO=e=>{let t,r=!1,n=o=>{try{o()}catch(i){r||(t=i,r=!0)}};for(;e[1].size||e[2].size;){e[0].clear();let o=new Set(e[1].values());e[1].clear();let i=new Set(e[2]);e[2].clear(),o.forEach(a=>{var s;return(s=a.m)==null?void 0:s.l.forEach(n)}),i.forEach(n)}if(r)throw t},oke=(...[e,t,r,n])=>{let o;(ki.env?ki.env.MODE:void 0)!=="production"&&(o=new Set);let i=(S,x,O)=>{let T="v"in x,E=x.v,M=Kue(x.v)?x.v:null;if(Yue(O)){sJt(O);for(let A of x.d.keys())nke(S,O,e(A));x.v=O,delete x.e}else x.v=O,delete x.e;(!T||!Object.is(E,x.v))&&(++x.n,M&&aJt(M,O))},a=(S,x,O)=>{var T;let E=e(x);if(eke(E)&&(E.m&&!O?.has(x)||Array.from(E.d).every(([k,L])=>a(S,k,O).n===L)))return E;E.d.clear();let M=!0,A=k=>{if(QFe(x,k)){let q=e(k);if(!eke(q))if(Wue(k))i(k,q,k.init);else throw new Error("no atom init");return WV(q)}let L=a(S,k,O);try{return WV(L)}finally{if(M)tke(S,x,E,k,L);else{let q=YD();tke(q,x,E,k,L),p(q,x,E),OO(q)}}},j,N,F={get signal(){return j||(j=new AbortController),j.signal},get setSelf(){return(ki.env?ki.env.MODE:void 0)!=="production"&&!Jue(x)&&console.warn("setSelf function cannot be used with read-only atom"),!N&&Jue(x)&&(N=(...k)=>{if((ki.env?ki.env.MODE:void 0)!=="production"&&M&&console.warn("setSelf function cannot be called in sync"),!M)return f(x,...k)}),N}};try{let k=t(x,A,F);if(i(x,E,k),Yue(k)){(T=k.onCancel)==null||T.call(k,()=>j?.abort());let L=()=>{if(E.m){let q=YD();p(q,x,E),OO(q)}};k.then(L,L)}return E}catch(k){return delete E.v,E.e=k,++E.n,E}finally{M=!1}},s=S=>WV(a(void 0,S)),u=(S,x,O)=>{var T,E;let M=new Map;for(let A of((T=O.m)==null?void 0:T.t)||[])M.set(A,e(A));for(let A of O.p)M.set(A,e(A));return(E=lJt(S,x))==null||E.forEach(A=>{M.set(A,e(A))}),M};function l(S,x,O){let T=[],E=new Set,M=new Set,A=[[x,O]];for(;A.length>0;){let[j,N]=A[A.length-1];if(M.has(j)){A.pop();continue}if(E.has(j)){T.push([j,N,N.n]),M.add(j),A.pop();continue}E.add(j);for(let[F,k]of u(S,j,N))j!==F&&!E.has(F)&&A.push([F,k])}return[T,M]}let c=(S,x,O)=>{let[T,E]=l(S,x,O),M=new Set([x]);for(let A=T.length-1;A>=0;--A){let[j,N,F]=T[A],k=!1;for(let L of N.d.keys())if(L!==j&&M.has(L)){k=!0;break}k&&(a(S,j,E),p(S,j,N),F!==N.n&&(Gue(S,j,N),M.add(j))),E.delete(j)}},d=(S,x,...O)=>{let T=!0,E=A=>WV(a(S,A)),M=(A,...j)=>{let N=e(A);try{if(QFe(x,A)){if(!Wue(A))throw new Error("atom not writable");let F=N.n,k=j[0];i(A,N,k),p(S,A,N),F!==N.n&&(Gue(S,A,N),c(S,A,N));return}else return d(S,A,...j)}finally{T||OO(S)}};try{return r(x,E,M,...O)}finally{T=!1}},f=(S,...x)=>{let O=YD();try{return d(O,S,...x)}finally{OO(O)}},p=(S,x,O)=>{if(O.m&&!Kue(O.v)){for(let T of O.d.keys())O.m.d.has(T)||(h(S,T,e(T)).t.add(x),O.m.d.add(T));for(let T of O.m.d||[])if(!O.d.has(T)){O.m.d.delete(T);let E=m(S,T,e(T));E?.t.delete(x)}}},h=(S,x,O)=>{if(!O.m){a(S,x);for(let T of O.d.keys())h(S,T,e(T)).t.add(x);if(O.m={l:new Set,d:new Set(O.d.keys()),t:new Set},(ki.env?ki.env.MODE:void 0)!=="production"&&o.add(x),Jue(x)){let T=O.m,E,M=(A,j)=>{let N=!0;E=(...F)=>{try{return d(A,x,...F)}finally{N||OO(A)}};try{return j()}finally{N=!1}};rke(S,()=>{let A=M(S,()=>n(x,(...j)=>E(...j)));A&&(T.u=j=>M(j,A))})}}return O.m},m=(S,x,O)=>{if(O.m&&!O.m.l.size&&!Array.from(O.m.t).some(T=>{var E;return(E=e(T).m)==null?void 0:E.d.has(x)})){let T=O.m.u;T&&rke(S,()=>T(S)),delete O.m,(ki.env?ki.env.MODE:void 0)!=="production"&&o.delete(x);for(let E of O.d.keys()){let M=m(S,E,e(E));M?.t.delete(x)}return}return O.m},v={get:s,set:f,sub:(S,x)=>{let O=YD(),T=e(S),M=h(O,S,T).l;return M.add(x),OO(O),()=>{M.delete(x);let A=YD();m(A,S,T),OO(A)}},unstable_derive:S=>oke(...S(e,t,r,n))};return(ki.env?ki.env.MODE:void 0)!=="production"&&Object.assign(v,{dev4_get_internal_weak_map:()=>({get:x=>{let O=e(x);if(O.n!==0)return O}}),dev4_get_mounted_atoms:()=>o,dev4_restore_atoms:x=>{let O=YD();for(let[T,E]of x)if(Wue(T)){let M=e(T),A=M.n;i(T,M,E),p(O,T,M),A!==M.n&&(Gue(O,T,M),c(O,T,M))}OO(O)}}),v},GV=()=>{let e=new WeakMap;return oke(r=>{if((ki.env?ki.env.MODE:void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let n=e.get(r);return n||(n={d:new Map,p:new Set,n:0},e.set(r,n)),n},(r,...n)=>r.read(...n),(r,...n)=>r.write(...n),(r,...n)=>{var o;return(o=r.onMount)==null?void 0:o.call(r,...n)})},dq,ike=()=>(dq||(dq=GV(),(ki.env?ki.env.MODE:void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=dq),globalThis.__JOTAI_DEFAULT_STORE__!==dq&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),dq);var Lc=B(Y(),1);var XV={},OJt=(0,Lc.createContext)(void 0),_ke=e=>{let t=(0,Lc.useContext)(OJt);return e?.store||t||ike()};var nle=e=>typeof e?.then=="function",vke=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},EJt=Lc.default.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(vke(e),e)}),rle=new WeakMap,bke=e=>{let t=rle.get(e);return t||(t=new Promise((r,n)=>{let o=e,i=u=>l=>{o===u&&r(l)},a=u=>l=>{o===u&&n(l)},s=u=>{"onCancel"in u&&typeof u.onCancel=="function"&&u.onCancel(l=>{if((XV.env?XV.env.MODE:void 0)!=="production"&&l===u)throw new Error("[Bug] p is not updated even after cancelation");nle(l)?(rle.set(l,t),o=l,l.then(i(l),a(l)),s(l)):r(l)})};e.then(i(e),a(e)),s(e)}),rle.set(e,t)),t};function ole(e,t){let r=_ke(t),[[n,o,i],a]=(0,Lc.useReducer)(l=>{let c=r.get(e);return Object.is(l[0],c)&&l[1]===r&&l[2]===e?l:[c,r,e]},void 0,()=>[r.get(e),r,e]),s=n;(o!==r||i!==e)&&(a(),s=r.get(e));let u=t?.delay;if((0,Lc.useEffect)(()=>{let l=r.sub(e,()=>{if(typeof u=="number"){let c=r.get(e);nle(c)&&vke(bke(c)),setTimeout(a,u);return}a()});return a(),l},[r,e,u]),(0,Lc.useDebugValue)(s),nle(s)){let l=bke(s);return EJt(l)}return s}function PJt(e,t){let r=_ke(t);return(0,Lc.useCallback)((...o)=>{if((XV.env?XV.env.MODE:void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...o)},[r,e])}function ile(e,t){return[ole(e,t),PJt(e,t)]}var tp=GV(),YM=KM(AS);function EO(e){let t=TJt({...pe(),...e});tp.set(YM,t)}function It(e,t){let r=pe();EO({...r,[e]:t})}function pe(){return tp.get(YM)}function Ske(){let e={...AS,activeModels:PO.map(t=>({...t,enabled:!0})),activeEmbeddingModels:pq.map(t=>({...t,enabled:!0}))};EO(e)}function sl(e){let t=pe();return tp.sub(YM,()=>{let r=pe();e(t,r),t=r})}function qo(){return ole(YM,{store:tp})}function xke(e){let t=e||AS;t.activeEmbeddingModels?t.activeEmbeddingModels=t.activeEmbeddingModels.map(u=>({...u,provider:u.provider==="azure_openai"?"azure openai":u.provider})):t.activeEmbeddingModels=pq.map(u=>({...u,enabled:!0}));let r={...t},n=Number(t.temperature);r.temperature=isNaN(n)?AS.temperature:n;let o=Number(t.maxTokens);r.maxTokens=isNaN(o)?AS.maxTokens:o;let i=Number(t.contextTurns);r.contextTurns=isNaN(i)?AS.contextTurns:i;let a=Number(t.embeddingRequestsPerMin);r.embeddingRequestsPerMin=isNaN(a)?AS.embeddingRequestsPerMin:a;let s=Number(t.embeddingBatchSize);return r.embeddingBatchSize=isNaN(s)?AS.embeddingBatchSize:s,r}function ZM(){let e=pe().userSystemPrompt;return e?`${ale}

${e}`:ale}function TJt(e){return e.activeModels=wke(e.activeModels,PO),e.activeEmbeddingModels=wke(e.activeEmbeddingModels,pq),e}function Dr(e){return`${e.name}|${e.provider}`}function wke(e,t){let r=new Map;return t.filter(n=>n.core).forEach(n=>{r.set(Dr(n),{...n})}),e.forEach(n=>{let o=Dr(n),i=r.get(o);if(i){let a=t.find(s=>s.name===n.name&&s.provider===n.provider);a?r.set(o,{...a,...n,isBuiltIn:!0,believerExclusive:a.believerExclusive}):r.set(o,{...n,isBuiltIn:i.isBuiltIn})}else r.set(o,n)}),Array.from(r.values())}function br(...e){pe().debug&&console.log(...e)}function Ur(...e){pe().debug&&console.error(...e)}var Sle=B(Cke()),rp=require("obsidian"),_le=B(Td()),vle={INVALID_LICENSE_KEY_USER:"Invalid Copilot Plus license key. Please check your license key in settings.",UNKNOWN_ERROR:"An unknown error occurred",REQUEST_FAILED:e=>`Request failed, status ${e}`};function Hke(e){let t=e?.detail||{};return{status:t.status,message:t.message||e?.message,reason:t.reason}}function sGt(e){let t=Hke(e);return t.reason==="Invalid license key"||e?.message==="Invalid license key"||e?.message?.includes("status 403")||t.status===403}function Vke(e){let t=Hke(e);return sGt(e)?vle.INVALID_LICENSE_KEY_USER:t.message||(t.reason?`Error: ${t.reason}`:vle.UNKNOWN_ERROR)}var xle=(e,t)=>{let r=e.getMarkdownFiles();if(t==="/")return r;let n=t.toLowerCase().replace(/^\/|\/$/g,"");return r.filter(o=>{let a=o.path.toLowerCase().split("/"),s=n.split("/"),u=0;for(let l of s){for(;u<a.length&&a[u]!==l;)u++;if(u>=a.length)return!1}return!0})};function nj(e){return e.replace(/^#/,"").trim().toLowerCase()}function mq(e,t=!0){let r=app.metadataCache.getFileCache(e),n=r?.frontmatter?.tags,o=new Set;if(!t){let i=r?.tags?.map(a=>a.tag);i&&i.forEach(a=>o.add(nj(a)))}return n&&(Array.isArray(n)?n.forEach(i=>{typeof i=="string"&&o.add(nj(i))}):typeof n=="string"&&o.add(nj(n))),Array.from(o)}function Wke(e,t,r){if(t.length===0)return[];t=t.map(i=>nj(i));let n=r&&r.length>0?r:xle(e,"/"),o=[];for(let i of n){let a=mq(i);t.some(s=>a.includes(s))&&o.push(i)}return o}var uGt=e=>e.last.bound.modelName||e.last.bound.model,lGt=e=>e.last.bound.retriever!==void 0,Jke=e=>uGt(e)||lGt(e);var ll=(e,t="local")=>{let r=(0,Sle.default)(e);return t==="utc"&&r.utc(),{fileName:r.format("YYYYMMDD_HHmmss"),display:r.format("YYYY/MM/DD HH:mm:ss"),epoch:r.valueOf()}};function Cle(e){let t=(0,Sle.default)(e,"YYYY/MM/DD HH:mm:ss");return t.isValid()?{fileName:t.format("YYYYMMDD_HHmmss"),display:t.format("YYYY/MM/DD HH:mm:ss"),epoch:t.valueOf()}:ll(new Date)}async function oj(e,t){return e.extension!="md"?null:await t.cachedRead(e)}function r5(e){return e.basename}function Gke(e,t){return!e||!t?!1:e.includes(wle)&&t.includes(wle)||e==="small"&&t==="cohereai"||e==="cohereai"&&t==="small"?!0:e===t}function ij(e){let t=[],{history:r}=e;for(let n=0;n<r.length;n+=2){let o=r[n]?.content||"",i=r[n+1]?.content||"";t.push([o,i])}return t}function ly(e,t){let r=/\[\[(.*?)\]\]/g,n=e.match(r),o=new Map;return n&&n.forEach(i=>{let a=i.slice(2,-2),s=t.getAbstractFileByPath(a);if(s instanceof rp.TFile)o.set(s.path,s);else{let l=t.getMarkdownFiles().filter(c=>c.basename===a);l.length>0&&(Ole(a,t)?o.set(l[0].path,l[0]):console.warn(`Found multiple files with title "${a}". Expected a full path for duplicate titles.`))}}),Array.from(o.values())}function Ole(e,t){return t.getMarkdownFiles().filter(n=>n.basename===e).length===1}function Kke(e){return e=e.trim(),e.startsWith("[[")&&e.endsWith("]]")?`${e.slice(2,-2).trim()}.md`:e}function Yke(e){let t=new Set;return e.forEach(r=>{r.metadata?.title&&t.add(r.metadata?.title)}),Array.from(t)}var Zke=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/)([^\s&]+)/;function Xke(e){return Zke.test(e)}function gq(e){let t=e.match(Zke);return t?t[0]:null}var DS=class{static async isImageUrl(t){try{let r=new URL(t);if(this.IMAGE_EXTENSIONS.some(a=>r.pathname.toLowerCase().endsWith(a)))return!0;try{if((await kl(t,{method:"HEAD",headers:{}})).headers.get("content-type")?.startsWith("image/"))return!0}catch(a){console.debug("Error checking content-type:",a)}let n=r.searchParams;return[n.has("w")||n.has("width"),n.has("h")||n.has("height"),n.has("format"),n.has("fit"),n.has("q")||n.has("quality"),r.pathname.includes("/image/"),r.pathname.includes("/images/"),r.pathname.includes("/img/"),n.has("auto"),n.has("crop")].filter(Boolean).length>=2}catch(r){return console.error("Error checking if URL is image:",r),!1}}static async convertToBase64(t,r){return{type:"image_url",image_url:{url:await this.imageToBase64(t,r)}}}static async imageToBase64(t,r){return t.startsWith("data:")?t:t.startsWith("app://")?await this.handleLocalImage(t,r):await this.handleWebImage(t)}static async handleLocalImage(t,r){let n=decodeURIComponent(t.replace("app://","")),o=r.getAbstractFileByPath(n);if(!o||!(o instanceof rp.TFile))throw new Error(`Local image not found: ${n}`);let i=await r.readBinary(o),s=_le.Buffer.from(i).toString("base64");return`data:${`image/${o.extension}`};base64,${s}`}static async handleWebImage(t){try{let r=await kl(t,{method:"GET",headers:{}});if(!r.ok)throw new Error(`Failed to fetch image: ${r.statusText}`);let n=r.headers.get("content-type");if(!n?.startsWith("image/"))throw new Error(`Invalid content type: ${n}`);let o=await r.arrayBuffer(),a=_le.Buffer.from(o).toString("base64");return`data:${n};base64,${a}`}catch(r){throw console.error("Error converting image to base64:",r),r}}};DS.IMAGE_EXTENSIONS=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"];async function kl(e,t={}){let r=t.headers?{...t.headers}:{};if(delete r["content-length"],typeof t.body=="string"){let a=JSON.parse(t.body??{});delete a.frequency_penalty,t.body=JSON.stringify(a)}br("==== safeFetch method request ====");let n=t.method?.toUpperCase()||"POST",i=await(0,rp.requestUrl)({url:e,contentType:"application/json",headers:r,method:n,...["POST","PUT","PATCH"].includes(n)&&{body:t.body?.toString()},throw:!1});if(i.status>=400){let a;try{a=typeof i.json=="string"?JSON.parse(i.json):i.json}catch{try{a=typeof i.text=="string"?JSON.parse(i.text):i.text}catch{a=null}}let s=new Error(vle.REQUEST_FAILED(i.status));if(s.json=a,a?.detail?.reason==="Invalid license key"||a?.reason==="Invalid license key")s.message="Invalid license key";else if(a?.detail?.message||a?.message){let u=a?.detail?.message||a?.message,l=a?.detail?.reason||a?.reason;s.message=l?`${u}: ${l}`:u}else a?.detail&&(s.message=JSON.stringify(a.detail));throw s}return{ok:i.status>=200&&i.status<300,status:i.status,statusText:i.status.toString(),headers:new Headers(i.headers),url:e,type:"basic",redirected:!1,bytes:()=>Promise.resolve(new Uint8Array(0)),body:cGt(i.text),bodyUsed:!0,json:()=>i.json,text:async()=>i.text,arrayBuffer:async()=>{if(i.arrayBuffer)return i.arrayBuffer;let a=i.text.replace(/^data:.*;base64,/,""),s=atob(a),u=new Uint8Array(s.length);for(let l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return u.buffer},blob:()=>{throw new Error("not implemented")},formData:()=>{throw new Error("not implemented")},clone:()=>{throw new Error("not implemented")}}}function cGt(e){return new ReadableStream({start(t){let n=new TextEncoder().encode(e);t.enqueue(n),t.close()}})}function bi(e,t=!1){return e instanceof Error?e.message+`
${e?.cause?"more message: "+e.cause.message:""}
${t?e.stack:""}`:JSON.stringify(e)}function Ele(e,t){let r={...e};return t.forEach(n=>{delete r[n]}),r}function n5(e,t){let[r,n]=e.split("|"),o=t.find(i=>i.name===r&&i.provider===n);if(!o)throw new Error(`No model configuration found for: ${e}`);return o}function eI(e){let t=i5[e];return{...t,label:t.label||e}}function uh(e,t){let r=i5[e]?.label||e;return r+(t?.believerExclusive&&r==="Copilot Plus"?"(Believer)":"")}async function yq(e,t=!1){let r=app.workspace.getMostRecentLeaf();if(!r){new rp.Notice("No active leaf found.");return}if(r.view instanceof rp.MarkdownView||(r=app.workspace.getLeaf(!1),await r.setViewState({type:"markdown",state:r.view.getState()})),!(r.view instanceof rp.MarkdownView)){new rp.Notice("Failed to open a markdown view.");return}let n=r.view.editor,o=n.getCursor("from"),i=n.getCursor("to");t?n.replaceRange(e,o,i):n.replaceRange(e,i),new rp.Notice("Message inserted into the active note.")}function Qke(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}function eBe(e,t){let r=e.split(".").map(Number),n=t.split(".").map(Number);for(let o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}async function tBe(){try{return{version:(await(0,rp.requestUrl)({url:"https://api.github.com/repos/logancyang/obsidian-copilot/releases/latest",method:"GET"})).json.tag_name.replace("v",""),error:null}}catch(e){return{version:null,error:e instanceof Error?e.message:"Failed to check for updates"}}}function tI(e){if(typeof e=="string")return e.startsWith("o1")||e.startsWith("o3");let t=e.modelName||e.model||"";return t.startsWith("o1")||t.startsWith("o3")}function rBe(e,t="system"){return tI(e)?"human":t}function Ple(){let e=["3rd party (openai-format)","ollama","lm-studio","azure openai","copilot-plus","copilot-plus-jina"];return Object.entries(i5).filter(([t])=>!e.includes(t)).map(([t])=>t)}function o5(e,t){let r=!!Ple().find(i=>i===e.provider),n=IO[e.provider],o=!e.apiKey&&!t[n];return r&&o?{hasApiKey:!1,errorNotice:`Please configure API Key for ${e.name} in settings first.
Path: Settings > copilot plugin > Basic Tab > Set Keys`}:{hasApiKey:!0}}function aj(e){return e.replace(/<think>[\s\S]*?<\/think>/g,"").trim()}var sj=class sj{static createNewLLMChain(t){let{llm:r,memory:n,prompt:o,abortController:i}=t,a=r.bind({signal:i?.signal}),s=Ha.from([{input:u=>u.input,memory:()=>n.loadMemoryVariables({})},{input:u=>u.input,history:u=>u.memory.history},o,a]);return sj.instances.set("llm_chain",s),console.log("New LLM chain created."),s}static getLLMChainFromMap(t){let r=sj.instances.get("llm_chain");return r||(r=sj.createNewLLMChain(t)),r}static createConversationalRetrievalChain(t,r,n){let{llm:o,retriever:i,systemMessage:a}=t,u=Ed.fromTemplate(`Given the following conversation and a follow up question,
    summarize the conversation as context and keep the follow up question unchanged, in its original language.
    If the follow up question is unrelated to its preceding messages, return this follow up question directly.
    If it is related, then combine the summary and the follow up question to construct a standalone question.
    Make sure to keep any [[]] wrapped note titles in the question unchanged.

    Chat History:
    {chat_history}
    Follow Up Input: {question}
    Standalone question:`),c=Ed.fromTemplate(`{system_message}

Answer the question with as detailed as possible based only on the following context:
{context}

Question: {question}
`),d=_=>_.map(v=>`Human: ${v[0]}
Assistant: ${v[1]}`).join(`
`),f=Ha.from([{question:_=>(n&&console.log("Input Question: ",_.question),_.question),chat_history:_=>{let g=d(_.chat_history);return n&&console.log("Formatted Chat History: ",g),g}},u,o,new UV,_=>{let g=aj(_);return n&&console.log("Standalone Question: ",g),g}]),p=async _=>(r(_),Vue(_)),h=Ha.from([{context:i.pipe(p),question:new Fi,system_message:()=>a},c,o]);return f.pipe(h)}};sj.instances=new Map;var Tle=sj,a5=Tle;var cf="{copilot-selection}",Mle=50,uj=[{name:"Fix grammar and spelling",prompt:`<instruction>Fix the grammar and spelling of the text below. Preserve all formatting, line breaks, and special characters. Do not add or remove any content. Return only the corrected text.</instruction>

<text>${cf}</text>`,showInContextMenu:!0},{name:"Translate to Chinese",prompt:`<instruction>Translate the text below into Chinese:
    1. Preserve the meaning and tone
    2. Maintain appropriate cultural context
    3. Keep formatting and structure
    Return only the translated text.</instruction>

<text>${cf}</text>`,showInContextMenu:!0},{name:"Summarize",prompt:`<instruction>Create a bullet-point summary of the text below. Each bullet point should capture a key point. Return only the bullet-point summary.</instruction>

<text>${cf}</text>`,showInContextMenu:!0},{name:"Simplify",prompt:`<instruction>Simplify the text below to a 6th-grade reading level (ages 11-12). Use simple sentences, common words, and clear explanations. Maintain the original key concepts. Return only the simplified text.</instruction>

<text>{copilot-selection}</text>`,showInContextMenu:!0},{name:"Emojify",prompt:`<instruction>Add relevant emojis to enhance the text below. Follow these rules:
    1. Insert emojis at natural breaks in the text
    2. Never place two emojis next to each other
    3. Keep all original text unchanged
    4. Choose emojis that match the context and tone
    Return only the emojified text.</instruction>

<text>{copilot-selection}</text>`,showInContextMenu:!0},{name:"Make shorter",prompt:`<instruction>Reduce the text below to half its length while preserving these elements:
    1. Main ideas and key points
    2. Essential details
    3. Original tone and style
    Return only the shortened text.</instruction>

<text>${cf}</text>`,showInContextMenu:!0},{name:"Make longer",prompt:`<instruction>Expand the text below to twice its length by:
    1. Adding relevant details and examples
    2. Elaborating on key points
    3. Maintaining the original tone and style
    Return only the expanded text.</instruction>

<text>${cf}</text>`,showInContextMenu:!0},{name:"Generate table of contents",prompt:`<instruction>Generate a hierarchical table of contents for the text below. Use appropriate heading levels (H1, H2, H3, etc.). Include page numbers if present. Return only the table of contents.</instruction>

<text>${cf}</text>`,showInContextMenu:!1},{name:"Generate glossary",prompt:`<instruction>Create a glossary of important terms, concepts, and phrases from the text below. Format each entry as "Term: Definition". Sort entries alphabetically. Return only the glossary.</instruction>

<text>{copilot-selection}</text>`,showInContextMenu:!1},{name:"Remove URLs",prompt:`<instruction>Remove all URLs from the text below. Preserve all other content and formatting. URLs may be in various formats (http, https, www). Return only the text with URLs removed.</instruction>

<text>${cf}</text>`,showInContextMenu:!1},{name:"Rewrite as tweet",prompt:`<instruction>Rewrite the text below as a single tweet with these requirements:
    1. Maximum 280 characters
    2. Use concise, impactful language
    3. Maintain the core message
    Return only the tweet text.</instruction>

<text>${cf}</text>`,showInContextMenu:!1},{name:"Rewrite as tweet thread",prompt:`<instruction>Convert the text below into a Twitter thread following these rules:
    1. Each tweet must be under 240 characters
    2. Start with "THREAD START" on its own line
    3. Separate tweets with "

---

"
    4. End with "THREAD END" on its own line
    5. Make content engaging and clear
    Return only the formatted thread.</instruction>

<text>${cf}</text>`,showInContextMenu:!1},{name:"Explain like I am 5",prompt:`<instruction>Explain the text below in simple terms that a 5-year-old would understand:
    1. Use basic vocabulary
    2. Include simple analogies
    3. Break down complex concepts
    Return only the simplified explanation.</instruction>

<text>${cf}</text>`,showInContextMenu:!1},{name:"Rewrite as press release",prompt:`<instruction>Transform the text below into a professional press release:
    1. Use formal, journalistic style
    2. Include headline and dateline
    3. Follow inverted pyramid structure
    Return only the press release format.</instruction>

<text>${cf}</text>`,showInContextMenu:!1}];var nI="https://api.brevilabs.com/v1",cl="copilot-chat-view",Uo="user",cy="ai",ale=`You are Obsidian Copilot, a helpful assistant that integrates AI to Obsidian note-taking.
  1. Never mention that you do not have access to something. Always rely on the user provided context.
  2. Always answer to the best of your knowledge. If you are unsure about something, say so and ask the user to provide more context.
  3. If the user mentions "note", it most likely means an Obsidian note in the vault, not the generic meaning of a note.
  4. If the user mentions "@vault", it means the user wants you to search the Obsidian vault for information relevant to the query. The search results will be provided to you in the context along with the user query, read it carefully and answer the question based on the information provided. If there's no relevant information in the vault, just say so.
  5. If the user mentions any other tool with the @ symbol, check the context for their results. If nothing is found, just ignore the @ symbol in the query.
  6. Always use $'s instead of \\[ etc. for LaTeX equations.
  7. When showing note titles, use [[title]] format and do not wrap them in \` \`.
  8. When showing **Obsidian internal** image links, use ![[link]] format and do not wrap them in \` \`.
  9. When showing **web** image links, use ![link](url) format and do not wrap them in \` \`.
  10. Always respond in the language of the user's query.
  11. Do NOT mention the additional context provided such as getCurrentTime and getTimeRangeMs if it's irrelevant to the user message.`,s5=`Copilot index does not exist. Please index your vault first!

1. Set a working embedding model in QA settings. If it's not a local model, don't forget to set the API key. 

2. Click 'Refresh Index for Vault' and wait for indexing to complete. If you encounter the rate limiting error, please turn your request per second down in QA setting.`,nBe=6e3,Ile=.4,oBe=.4,Ale=15,Rle=448e3,jS={DEFAULT:"",READING_FILES:"Reading files",SEARCHING_WEB:"Searching the web",READING_FILE_TREE:"Reading file tree"},AO={SETTINGS:"settings",EXPIRED_MODAL:"expired_modal",CHAT_MODE_SELECT:"chat_mode_select",MODE_SELECT_TOOLTIP:"mode_select_tooltip"};var rI=(f=>(f.OPENAI="openai",f.AZURE_OPENAI="azure openai",f.ANTHROPIC="anthropic",f.COHEREAI="cohereai",f.GOOGLE="google",f.OPENROUTERAI="openrouterai",f.GROQ="groq",f.OLLAMA="ollama",f.LM_STUDIO="lm-studio",f.OPENAI_FORMAT="3rd party (openai-format)",f.COPILOT_PLUS="copilot-plus",f.MISTRAL="mistralai",f))(rI||{});var RO={reasoning:"This model supports general reasoning tasks.",vision:"This model supports image inputs.",websearch:"This model can access the internet."},PO=[{name:"copilot-plus-flash",provider:"copilot-plus",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"gpt-4o",provider:"openai",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"gpt-4o-mini",provider:"openai",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"o1-mini",provider:"openai",enabled:!0,isBuiltIn:!0,capabilities:["reasoning"]},{name:"o3-mini",provider:"openai",enabled:!0,isBuiltIn:!0,capabilities:["reasoning"]},{name:"claude-3-5-sonnet-latest",provider:"anthropic",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"claude-3-5-haiku-latest",provider:"anthropic",enabled:!0,isBuiltIn:!0},{name:"command-r",provider:"cohereai",enabled:!0,isBuiltIn:!0},{name:"command-r-plus",provider:"cohereai",enabled:!0,isBuiltIn:!0},{name:"gemini-2.0-pro-exp",provider:"google",enabled:!0,isBuiltIn:!0,capabilities:["vision"]},{name:"gemini-2.0-flash",provider:"google",enabled:!0,isBuiltIn:!0,capabilities:["vision"]},{name:"azure-openai",provider:"azure openai",enabled:!0,isBuiltIn:!0}],TO=(l=>(l.OPENAI="openai",l.COHEREAI="cohereai",l.GOOGLE="google",l.AZURE_OPENAI="azure openai",l.OLLAMA="ollama",l.LM_STUDIO="lm-studio",l.OPENAI_FORMAT="3rd party (openai-format)",l.COPILOT_PLUS="copilot-plus",l.COPILOT_PLUS_JINA="copilot-plus-jina",l))(TO||{});var pq=[{name:"copilot-plus-small",provider:"copilot-plus",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0},{name:"copilot-plus-large",provider:"copilot-plus-jina",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0,believerExclusive:!0,dimensions:1024},{name:"copilot-plus-multilingual",provider:"copilot-plus-jina",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0,dimensions:512},{name:"text-embedding-3-small",provider:"openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0},{name:"text-embedding-3-large",provider:"openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"embed-multilingual-light-v3.0",provider:"cohereai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"text-embedding-004",provider:"google",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"azure-openai",provider:"azure openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0}],wle="nomic-embed-text",i5={openai:{label:"OpenAI",host:"https://api.openai.com",keyManagementURL:"https://platform.openai.com/api-keys",testModel:"gpt-4o"},"azure openai":{label:"Azure OpenAI",host:"",keyManagementURL:"",testModel:"azure-openai"},anthropic:{label:"Anthropic",host:"https://api.anthropic.com/",keyManagementURL:"https://console.anthropic.com/settings/keys",testModel:"claude-3-5-sonnet-latest"},cohereai:{label:"Cohere",host:"https://api.cohere.com",keyManagementURL:"https://dashboard.cohere.ai/api-keys",testModel:"command-r"},google:{label:"Gemini",host:"https://generativelanguage.googleapis.com",keyManagementURL:"https://makersuite.google.com/app/apikey",testModel:"gemini-2.0-flash"},openrouterai:{label:"OpenRouter",host:"https://openrouter.ai/api/v1/",keyManagementURL:"https://openrouter.ai/keys",testModel:"openai/chatgpt-4o-latest"},groq:{label:"Groq",host:"https://api.groq.com/openai",keyManagementURL:"https://console.groq.com/keys",testModel:"llama3-8b-8192"},ollama:{label:"Ollama",host:"http://localhost:11434/v1/",keyManagementURL:""},"lm-studio":{label:"LM Studio",host:"http://localhost:1234/v1",keyManagementURL:""},"3rd party (openai-format)":{label:"OpenAI Format",host:"https://api.example.com/v1",keyManagementURL:""},mistralai:{label:"Mistral",host:"https://api.mistral.ai/v1",keyManagementURL:"https://console.mistral.ai/api-keys",testModel:"mistral-tiny-latest"},"copilot-plus":{label:"Copilot Plus",host:"https://api.brevilabs.com/v1",keyManagementURL:""},"copilot-plus-jina":{label:"Copilot Plus",host:"https://api.brevilabs.com/v1",keyManagementURL:""}},IO={anthropic:"anthropicApiKey",openai:"openAIApiKey","azure openai":"azureOpenAIApiKey",google:"googleApiKey",groq:"groqApiKey",openrouterai:"openRouterAiApiKey",cohereai:"cohereApiKey","copilot-plus":"plusLicenseKey",mistralai:"mistralApiKey"};var iBe=["NEVER","ON STARTUP","ON MODE SWITCH"];var rr={ADD_CUSTOM_PROMPT:"add-custom-prompt",APPLY_ADHOC_PROMPT:"apply-adhoc-prompt",APPLY_CUSTOM_PROMPT:"apply-custom-prompt",CLEAR_LOCAL_COPILOT_INDEX:"clear-local-copilot-index",CLEAR_COPILOT_CACHE:"clear-copilot-cache",COUNT_WORD_AND_TOKENS_SELECTION:"count-word-and-tokens-selection",COUNT_TOTAL_VAULT_TOKENS:"count-total-vault-tokens",DELETE_CUSTOM_PROMPT:"delete-custom-prompt",EDIT_CUSTOM_PROMPT:"edit-custom-prompt",FIND_RELEVANT_NOTES:"find-relevant-notes",FORCE_REINDEX_VAULT_TO_COPILOT_INDEX:"force-reindex-vault-to-copilot-index",GARBAGE_COLLECT_COPILOT_INDEX:"garbage-collect-copilot-index",INDEX_VAULT_TO_COPILOT_INDEX:"index-vault-to-copilot-index",INSPECT_COPILOT_INDEX_BY_NOTE_PATHS:"copilot-inspect-index-by-note-paths",LIST_INDEXED_FILES:"copilot-list-indexed-files",LOAD_COPILOT_CHAT_CONVERSATION:"load-copilot-chat-conversation",OPEN_COPILOT_CHAT_WINDOW:"chat-open-window",REMOVE_FILES_FROM_COPILOT_INDEX:"remove-files-from-copilot-index",SEARCH_ORAMA_DB:"copilot-search-orama-db",TOGGLE_COPILOT_CHAT_WINDOW:"chat-toggle-window"},u5={[rr.ADD_CUSTOM_PROMPT]:"Add custom prompt",[rr.APPLY_ADHOC_PROMPT]:"Apply ad-hoc custom prompt",[rr.APPLY_CUSTOM_PROMPT]:"Apply custom prompt",[rr.CLEAR_LOCAL_COPILOT_INDEX]:"Clear local Copilot index",[rr.CLEAR_COPILOT_CACHE]:"Clear Copilot cache",[rr.COUNT_TOTAL_VAULT_TOKENS]:"Count total tokens in your vault",[rr.COUNT_WORD_AND_TOKENS_SELECTION]:"Count words and tokens in selection",[rr.DELETE_CUSTOM_PROMPT]:"Delete custom prompt",[rr.EDIT_CUSTOM_PROMPT]:"Edit custom prompt",[rr.FIND_RELEVANT_NOTES]:"Find relevant notes",[rr.FORCE_REINDEX_VAULT_TO_COPILOT_INDEX]:"Force reindex vault",[rr.GARBAGE_COLLECT_COPILOT_INDEX]:"Garbage collect Copilot index (remove files that no longer exist in vault)",[rr.INDEX_VAULT_TO_COPILOT_INDEX]:"Index (refresh) vault",[rr.INSPECT_COPILOT_INDEX_BY_NOTE_PATHS]:"Inspect Copilot index by note paths (debug)",[rr.LIST_INDEXED_FILES]:"List all indexed files (debug)",[rr.LOAD_COPILOT_CHAT_CONVERSATION]:"Load Copilot chat conversation",[rr.OPEN_COPILOT_CHAT_WINDOW]:"Open Copilot Chat Window",[rr.REMOVE_FILES_FROM_COPILOT_INDEX]:"Remove files from Copilot index (debug)",[rr.SEARCH_ORAMA_DB]:"Search OramaDB (debug)",[rr.TOGGLE_COPILOT_CHAT_WINDOW]:"Toggle Copilot Chat Window"},AS={isPlusUser:!1,plusLicenseKey:"",openAIApiKey:"",openAIOrgId:"",huggingfaceApiKey:"",cohereApiKey:"",anthropicApiKey:"",azureOpenAIApiKey:"",azureOpenAIApiInstanceName:"",azureOpenAIApiDeploymentName:"",azureOpenAIApiVersion:"",azureOpenAIApiEmbeddingDeploymentName:"",googleApiKey:"",openRouterAiApiKey:"",defaultChainType:"llm_chain",defaultModelKey:"gpt-4o|openai",embeddingModelKey:"text-embedding-3-small|openai",temperature:.1,maxTokens:1e3,contextTurns:15,userSystemPrompt:"",openAIProxyBaseUrl:"",openAIEmbeddingProxyBaseUrl:"",stream:!0,defaultSaveFolder:"copilot-conversations",defaultConversationTag:"copilot-conversation",autosaveChat:!1,defaultOpenArea:"view",customPromptsFolder:"copilot-custom-prompts",indexVaultToVectorStore:"ON MODE SWITCH",qaExclusions:"",qaInclusions:"",chatNoteContextPath:"",chatNoteContextTags:[],enableIndexSync:!0,debug:!1,enableEncryption:!1,maxSourceChunks:3,groqApiKey:"",mistralApiKey:"",activeModels:PO,activeEmbeddingModels:pq,embeddingRequestsPerMin:90,embeddingBatchSize:16,disableIndexOnMobile:!0,showSuggestedPrompts:!0,showRelevantNotes:!0,numPartitions:1,promptUsageTimestamps:{},defaultConversationNoteName:"{$topic}@{$date}_{$time}",inlineEditCommands:uj},NS={CHAT_IS_VISIBLE:"chat-is-visible",ACTIVE_LEAF_CHANGE:"active-leaf-change"};var uBe=require("obsidian"),Dle=B(Td()),l5=null;function bq(){return uBe.Platform.isDesktop&&l5||(l5=require("electron")?.remote?.safeStorage),l5}var jle="enc_desk_",Nle="enc_web_",Fle="enc_",d5="dec_",dGt=new TextEncoder().encode("obsidian-copilot-v1"),c5={name:"AES-GCM",iv:new Uint8Array(12)};async function Lle(){return await crypto.subtle.importKey("raw",dGt,c5.name,!1,["encrypt","decrypt"])}async function lBe(e){if(!e.enableEncryption)return e;let t={...e},r=Object.keys(e).filter(n=>n.toLowerCase().includes("apikey")||n==="plusLicenseKey");for(let n of r){let o=e[n];t[n]=await aBe(o)}return Array.isArray(e.activeModels)&&(t.activeModels=await Promise.all(e.activeModels.map(async n=>({...n,apiKey:await aBe(n.apiKey||"")})))),t}async function aBe(e){if(!e||e.startsWith(Fle))return e;cBe(e)&&(e=e.replace(d5,""));try{if(bq()?.isEncryptionAvailable()){let o=bq().encryptString(e);return jle+o.toString("base64")}let t=await Lle(),r=new TextEncoder().encode(e),n=await crypto.subtle.encrypt(c5,t,r);return Nle+pGt(n)}catch(t){return console.error("Encryption failed:",t),e}}async function Zo(e){if(!e||fGt(e))return e;if(cBe(e))return e.replace(d5,"");if(e.startsWith(jle)){let r=e.replace(jle,""),n=Dle.Buffer.from(r,"base64");return bq().decryptString(n)}if(e.startsWith(Nle)){let r=e.replace(Nle,""),n=await Lle(),o=sBe(r),i=await crypto.subtle.decrypt(c5,n,o);return new TextDecoder().decode(i)}let t=e.replace(Fle,"");try{if(bq()?.isEncryptionAvailable())try{let i=Dle.Buffer.from(t,"base64");return bq().decryptString(i)}catch{}let r=await Lle(),n=sBe(t),o=await crypto.subtle.decrypt(c5,r,n);return new TextDecoder().decode(o)}catch(r){return console.error("Decryption failed:",r),"Copilot failed to decrypt API keys!"}}function fGt(e){return!e.startsWith(Fle)&&!e.startsWith(d5)}function cBe(e){return e.startsWith(d5)}function pGt(e){let t=new Uint8Array(e),r="";for(let n=0;n<t.byteLength;n++)r+=String.fromCharCode(t[n]);return window.btoa(r)}function sBe(e){let t=window.atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}var dBe=KM(null),f5=KM(e=>{let t=e(dBe);return t!==null?t:e(YM).defaultModelKey},(e,t,r)=>{t(dBe,r)}),fBe=KM(null),p5=KM(e=>{let t=e(fBe);return t!==null?t:e(YM).defaultChainType},(e,t,r)=>{t(fBe,r)});function h5(e){tp.set(f5,e)}function m5(){return tp.get(f5)}function pBe(e){return tp.sub(f5,e)}function lj(){return ile(f5,{store:tp})}function qm(){return tp.get(p5)}function cj(e){tp.set(p5,e)}function hBe(e){return tp.sub(p5,e)}function dy(){return ile(p5,{store:tp})}var vy=B(Y()),rze=require("obsidian"),nze=B(gh());var F9=B(Y());var Ul=B(Y(),1);var LUe=B(Y(),1);function m7t(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Xde(...e){return t=>e.forEach(r=>m7t(r,t))}function zo(...e){return LUe.useCallback(Xde(...e),e)}var $j=B(lt(),1),by=Ul.forwardRef((e,t)=>{let{children:r,...n}=e,o=Ul.Children.toArray(r),i=o.find(x7t);if(i){let a=i.props.children,s=o.map(u=>u===i?Ul.Children.count(a)>1?Ul.Children.only(null):Ul.isValidElement(a)?a.props.children:null:u);return(0,$j.jsx)(Qde,{...n,ref:t,children:Ul.isValidElement(a)?Ul.cloneElement(a,void 0,s):null})}return(0,$j.jsx)(Qde,{...n,ref:t,children:r})});by.displayName="Slot";var Qde=Ul.forwardRef((e,t)=>{let{children:r,...n}=e;if(Ul.isValidElement(r)){let o=O7t(r);return Ul.cloneElement(r,{...C7t(n,r.props),ref:t?Xde(t,o):o})}return Ul.Children.count(r)>1?Ul.Children.only(null):null});Qde.displayName="SlotClone";var S7t=({children:e})=>(0,$j.jsx)($j.Fragment,{children:e});function x7t(e){return Ul.isValidElement(e)&&e.type===S7t}function C7t(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function O7t(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $Ue(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=$Ue(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function L9(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=$Ue(e))&&(n&&(n+=" "),n+=t);return n}var qUe=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,UUe=L9,qj=(e,t)=>r=>{var n;if(t?.variants==null)return UUe(e,r?.class,r?.className);let{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(l=>{let c=r?.[l],d=i?.[l];if(c===null)return null;let f=qUe(c)||qUe(d);return o[l][f]}),s=r&&Object.entries(r).reduce((l,c)=>{let[d,f]=c;return f===void 0||(l[d]=f),l},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((l,c)=>{let{class:d,className:f,...p}=c;return Object.entries(p).every(h=>{let[m,_]=h;return Array.isArray(_)?_.includes({...i,...s}[m]):{...i,...s}[m]===_})?[...l,d,f]:l},[]);return UUe(e,a,u,r?.class,r?.className)};var rfe="-",E7t=e=>{let t=T7t(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{let s=a.split(rfe);return s[0]===""&&s.length!==1&&s.shift(),JUe(s,t)||P7t(a)},getConflictingClassGroupIds:(a,s)=>{let u=r[a]||[];return s&&n[a]?[...u,...n[a]]:u}}},JUe=(e,t)=>{if(e.length===0)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),o=n?JUe(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;let i=e.join(rfe);return t.validators.find(({validator:a})=>a(i))?.classGroupId},zUe=/^\[(.+)\]$/,P7t=e=>{if(zUe.test(e)){let t=zUe.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},T7t=e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return I7t(Object.entries(e.classGroups),r).forEach(([i,a])=>{tfe(a,n,i,t)}),n},tfe=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){let i=o===""?t:HUe(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(M7t(o)){tfe(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,a])=>{tfe(a,HUe(t,i),r,n)})})},HUe=(e,t)=>{let r=e;return t.split(rfe).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},M7t=e=>e.isThemeGetter,I7t=(e,t)=>t?e.map(([r,n])=>{let o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,s])=>[t+a,s])):i);return[r,o]}):e,A7t=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map,o=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return o(i,a),a},set(i,a){r.has(i)?r.set(i,a):o(i,a)}}},GUe="!",R7t=e=>{let{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,a=s=>{let u=[],l=0,c=0,d;for(let _=0;_<s.length;_++){let g=s[_];if(l===0){if(g===o&&(n||s.slice(_,_+i)===t)){u.push(s.slice(c,_)),c=_+i;continue}if(g==="/"){d=_;continue}}g==="["?l++:g==="]"&&l--}let f=u.length===0?s:s.substring(c),p=f.startsWith(GUe),h=p?f.substring(1):f,m=d&&d>c?d-c:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};return r?s=>r({className:s,parseClassName:a}):a},D7t=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},j7t=e=>({cache:A7t(e.cacheSize),parseClassName:R7t(e),...E7t(e)}),N7t=/\s+/,L7t=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(N7t),s="";for(let u=a.length-1;u>=0;u-=1){let l=a[u],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(l),h=!!p,m=n(h?f.substring(0,p):f);if(!m){if(!h){s=l+(s.length>0?" "+s:s);continue}if(m=n(f),!m){s=l+(s.length>0?" "+s:s);continue}h=!1}let _=D7t(c).join(":"),g=d?_+GUe:_,v=g+m;if(i.includes(v))continue;i.push(v);let S=o(m,h);for(let x=0;x<S.length;++x){let O=S[x];i.push(g+O)}s=l+(s.length>0?" "+s:s)}return s};function F7t(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KUe(t))&&(n&&(n+=" "),n+=r);return n}var KUe=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KUe(e[n]))&&(r&&(r+=" "),r+=t);return r};function VUe(e,...t){let r,n,o,i=a;function a(u){let l=t.reduce((c,d)=>d(c),e());return r=j7t(l),n=r.cache.get,o=r.cache.set,i=s,s(u)}function s(u){let l=n(u);if(l)return l;let c=L7t(u,r);return o(u,c),c}return function(){return i(F7t.apply(null,arguments))}}var wi=e=>{let t=r=>r[e]||[];return t.isThemeGetter=!0,t},YUe=/^\[(?:([a-z-]+):)?(.+)\]$/i,k7t=/^\d+\/\d+$/,B7t=new Set(["px","full","screen"]),$7t=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q7t=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U7t=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z7t=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H7t=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,WS=e=>Uj(e)||B7t.has(e)||k7t.test(e),eE=e=>zj(e,"length",X7t),Uj=e=>!!e&&!Number.isNaN(Number(e)),efe=e=>zj(e,"number",Uj),cU=e=>!!e&&Number.isInteger(Number(e)),V7t=e=>e.endsWith("%")&&Uj(e.slice(0,-1)),Pr=e=>YUe.test(e),tE=e=>$7t.test(e),W7t=new Set(["length","size","percentage"]),J7t=e=>zj(e,W7t,ZUe),G7t=e=>zj(e,"position",ZUe),K7t=new Set(["image","url"]),Y7t=e=>zj(e,K7t,eYt),Z7t=e=>zj(e,"",Q7t),dU=()=>!0,zj=(e,t,r)=>{let n=YUe.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},X7t=e=>q7t.test(e)&&!U7t.test(e),ZUe=()=>!1,Q7t=e=>z7t.test(e),eYt=e=>H7t.test(e);var WUe=()=>{let e=wi("colors"),t=wi("spacing"),r=wi("blur"),n=wi("brightness"),o=wi("borderColor"),i=wi("borderRadius"),a=wi("borderSpacing"),s=wi("borderWidth"),u=wi("contrast"),l=wi("grayscale"),c=wi("hueRotate"),d=wi("invert"),f=wi("gap"),p=wi("gradientColorStops"),h=wi("gradientColorStopPositions"),m=wi("inset"),_=wi("margin"),g=wi("opacity"),v=wi("padding"),S=wi("saturate"),x=wi("scale"),O=wi("sepia"),T=wi("skew"),E=wi("space"),M=wi("translate"),A=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Pr,t],F=()=>[Pr,t],k=()=>["",WS,eE],L=()=>["auto",Uj,Pr],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Pr],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Uj,Pr];return{cacheSize:500,separator:":",theme:{colors:[dU],spacing:[WS,eE],blur:["none","",tE,Pr],brightness:W(),borderColor:[e],borderRadius:["none","","full",tE,Pr],borderSpacing:F(),borderWidth:k(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[V7t,eE],inset:N(),margin:N(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Pr]}],container:["container"],columns:[{columns:[tE]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Pr]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cU,Pr]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pr]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",cU,Pr]}],"grid-cols":[{"grid-cols":[dU]}],"col-start-end":[{col:["auto",{span:["full",cU,Pr]},Pr]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[dU]}],"row-start-end":[{row:["auto",{span:[cU,Pr]},Pr]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pr,t]}],"min-w":[{"min-w":[Pr,t,"min","max","fit"]}],"max-w":[{"max-w":[Pr,t,"none","full","min","max","fit","prose",{screen:[tE]},tE]}],h:[{h:[Pr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",tE,eE]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",efe]}],"font-family":[{font:[dU]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pr]}],"line-clamp":[{"line-clamp":["none",Uj,efe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",WS,Pr]}],"list-image":[{"list-image":["none",Pr]}],"list-style-type":[{list:["none","disc","decimal",Pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",WS,eE]}],"underline-offset":[{"underline-offset":["auto",WS,Pr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),G7t]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",J7t]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y7t]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[WS,Pr]}],"outline-w":[{outline:[WS,eE]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[WS,eE]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",tE,Z7t]}],"shadow-color":[{shadow:[dU]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",tE,Pr]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pr]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Pr]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[cU,Pr]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[WS,eE,efe]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tYt=(e,{cacheSize:t,prefix:r,separator:n,experimentalParseClassName:o,extend:i={},override:a={}})=>{fU(e,"cacheSize",t),fU(e,"prefix",r),fU(e,"separator",n),fU(e,"experimentalParseClassName",o);for(let s in a)rYt(e[s],a[s]);for(let s in i)nYt(e[s],i[s]);return e},fU=(e,t,r)=>{r!==void 0&&(e[t]=r)},rYt=(e,t)=>{if(t)for(let r in t)fU(e,r,t[r])},nYt=(e,t)=>{if(t)for(let r in t){let n=t[r];n!==void 0&&(e[r]=(e[r]||[]).concat(n))}},XUe=(e,...t)=>typeof e=="function"?VUe(WUe,e,...t):VUe(()=>tYt(WUe(),e),...t);var oYt=XUe({extend:{classGroups:{"text-color":["text-muted","text-success","text-warning","text-error","text-accent"],"font-size":["text-smallest","text-smaller","text-small","text-ui-smaller","text-ui-small","text-ui-medium","text-ui-larger"]}}});function _e(...e){return oYt(L9(e))}var iYt=qj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:shrink-0",{variants:{variant:{default:"mod-cta bg-interactive-accent text-on-accent shadow hover:bg-interactive-accent-hover",destructive:"bg-modifier-error text-normal shadow-sm hover:bg-modifier-error/90",secondary:"bg-secondary text-normal shadow-sm hover:bg-interactive-hover",ghost:"clickable-icon bg-transparent hover:bg-interactive-accent hover:text-on-accent",link:"text-accent underline-offset-4 hover:underline",ghost2:"text-faint clickable-icon bg-transparent hover:bg-opacity-100 hover:text-normal hover:bg-transparent outline-none focus-visible:outline-none focus-visible:text-normal focus-visible:ring-0"},size:{default:"h-9 px-4 py-2",sm:"h-6 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"size-7",fit:"px-1 text-xs gap-1"}},defaultVariants:{variant:"default",size:"default"}}),qe=F9.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},i)=>F9.createElement(n?by:"button",{className:_e(iYt({variant:t,size:r,className:e})),ref:i,...o}));qe.displayName="Button";var B9=B(Y());var QUe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var pU=B(Y());var eze={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var tze=(0,pU.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...s},u)=>(0,pU.createElement)("svg",{ref:u,...eze,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:k9("lucide",o),...s},[...a.map(([l,c])=>(0,pU.createElement)(l,c)),...Array.isArray(i)?i:[i]]));var be=(e,t)=>{let r=(0,B9.forwardRef)(({className:n,...o},i)=>(0,B9.createElement)(tze,{ref:i,iconNode:t,className:k9(`lucide-${QUe(e)}`,n),...o}));return r.displayName=`${e}`,r};var Hj=be("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);var hU=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var _I=be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var Ym=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var ss=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var JS=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var vI=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var zl=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Zm=be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var rE=be("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var mU=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var gU=be("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var wI=be("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);var SI=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var xI=be("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);var yU=be("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var bU=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var _U=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var nE=be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var CI=be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var vU=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var GS=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var wU=be("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);var SU=be("FileOutput",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);var OI=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var xU=be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var CU=be("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var EI=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var OU=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var EU=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var PU=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var TU=be("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);var KS=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var Uc=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var MU=be("MessageCirclePlus",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var Vj=be("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);var oE=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var IU=be("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);var Wj=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var YS=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var AU=be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var RU=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var DU=be("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var _y=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var iE=be("SquareArrowOutUpRight",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]]);var gf=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var jU=be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var NU=be("TextCursorInput",[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1",key:"18xjzo"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5",key:"fj48gi"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M9 7v10",key:"1vc8ob"}]]);var ZS=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var yh=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var LU=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var PI=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var bh=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function aYt({onCancel:e}){let t=pe(),r=nfe(t.defaultModelKey)&&nfe(t.embeddingModelKey);return vy.default.createElement("div",{className:"flex flex-col gap-4"},vy.default.createElement("div",{className:"flex flex-col gap-2"},vy.default.createElement("div",null,"Your Copilot Plus license key is no longer valid. Please renew your subscription to continue using Copilot Plus."),r&&vy.default.createElement("div",{className:"text-sm text-warning"},"The Copilot Plus exclusive models will stop working. You can switch to the default models in the Settings.")),vy.default.createElement("div",{className:"flex gap-2 justify-end w-full"},vy.default.createElement(qe,{variant:"ghost",onClick:e},"Close"),vy.default.createElement(qe,{variant:"default",onClick:()=>{Jj(AO.EXPIRED_MODAL)}},"Renew Now ",vy.default.createElement(CI,{className:"size-4"}))))}var $9=class extends rze.Modal{constructor(t){super(t),this.setTitle("Thanks for being a Copilot Plus user \u{1F44B}")}onOpen(){let{contentEl:t}=this;this.root=(0,nze.createRoot)(t);let r=()=>{this.close()};this.root.render(vy.default.createElement(aYt,{onCancel:r}))}onClose(){this.root.unmount()}};var dr=class e extends Error{constructor(t,r){super(t),this.code=r,Object.setPrototypeOf(this,e.prototype)}};var Ogt=B(i4(),1);oh();UM();Dx();oh();sf();function Af(e){return typeof e?.parse=="function"}function jZ(e,t){let r=typeof t=="number"?void 0:t;return{name:e.name,description:e.description,parameters:Li(e.schema),...r?.strict!==void 0?{strict:r.strict}:{}}}function tF(e,t){let r=typeof t=="number"?void 0:t,n;return hg(e)?n={type:"function",function:jZ(e)}:n=e,r?.strict!==void 0&&(n.function.strict=r.strict),n}function xNr(e){return e!==void 0&&Array.isArray(e.lc_namespace)}function CNr(e){return e!==void 0&&nn.isRunnable(e)&&"lc_name"in e.constructor&&typeof e.constructor.lc_name=="function"&&e.constructor.lc_name()==="RunnableToolLike"}function ONr(e){return!!e&&typeof e=="object"&&"name"in e&&"schema"in e&&Af(e.schema)}function hg(e){return ONr(e)||CNr(e)||xNr(e)}oh();UM();FD();a4();bO();sf();iy();BV();k$();var Qc=class e extends eF{constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(t){let[r,n]=super._separateRunnableConfigFromCallOptions(t);return n.signal=r.signal,[r,n]}async invoke(t,r){let n=e._convertInputToPromptValue(t);return(await this.generatePrompt([n],r,r?.callbacks)).generations[0][0].message}async*_streamResponseChunks(t,r,n){throw new Error("Not implemented.")}async*_streamIterator(t,r){if(this._streamResponseChunks===e.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(t,r);else{let o=e._convertInputToPromptValue(t).toChatMessages(),[i,a]=this._separateRunnableConfigFromCallOptionsCompat(r),s={...i.metadata,...this.getLsParams(a)},u=await ns.configure(i.callbacks,this.callbacks,i.tags,this.tags,s,this.metadata,{verbose:this.verbose}),l={options:a,invocation_params:this?.invocationParams(a),batch_size:1},c=await u?.handleChatModelStart(this.toJSON(),[o],i.runId,void 0,l,void 0,void 0,i.runName),d,f;try{for await(let p of this._streamResponseChunks(o,a,c?.[0])){if(p.message.id==null){let h=c?.at(0)?.runId;h!=null&&p.message._updateId(`run-${h}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},yield p.message,d?d=d.concat(p):d=p,Tse(p.message)&&p.message.usage_metadata!==void 0&&(f={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((c??[]).map(h=>h?.handleLLMError(p))),p}await Promise.all((c??[]).map(p=>p?.handleLLMEnd({generations:[[d]],llmOutput:f})))}}getLsParams(t){let r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:t.stop,ls_provider:r}}async _generateUncached(t,r,n,o){let i=t.map(d=>d.map(Nm)),a;if(o!==void 0&&o.length===i.length)a=o;else{let d={...n.metadata,...this.getLsParams(r)},f=await ns.configure(n.callbacks,this.callbacks,n.tags,this.tags,d,this.metadata,{verbose:this.verbose}),p={options:r,invocation_params:this?.invocationParams(r),batch_size:1};a=await f?.handleChatModelStart(this.toJSON(),i,n.runId,void 0,p,void 0,void 0,n.runName)}let s=[],u=[];if(!!a?.[0].handlers.find(Sse)&&!this.disableStreaming&&i.length===1&&this._streamResponseChunks!==e.prototype._streamResponseChunks)try{let d=await this._streamResponseChunks(i[0],r,a?.[0]),f,p;for await(let h of d){if(h.message.id==null){let m=a?.at(0)?.runId;m!=null&&h.message._updateId(`run-${m}`)}f===void 0?f=h:f=al(f,h),Tse(h.message)&&h.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:h.message.usage_metadata.input_tokens,completionTokens:h.message.usage_metadata.output_tokens,totalTokens:h.message.usage_metadata.total_tokens}})}if(f===void 0)throw new Error("Received empty response from chat model call.");s.push([f]),await a?.[0].handleLLMEnd({generations:s,llmOutput:p})}catch(d){throw await a?.[0].handleLLMError(d),d}else{let d=await Promise.allSettled(i.map((f,p)=>this._generate(f,{...r,promptIndex:p},a?.[p])));await Promise.all(d.map(async(f,p)=>{if(f.status==="fulfilled"){let h=f.value;for(let m of h.generations){if(m.message.id==null){let _=a?.at(0)?.runId;_!=null&&m.message._updateId(`run-${_}`)}m.message.response_metadata={...m.generationInfo,...m.message.response_metadata}}return h.generations.length===1&&(h.generations[0].message.response_metadata={...h.llmOutput,...h.generations[0].message.response_metadata}),s[p]=h.generations,u[p]=h.llmOutput,a?.[p]?.handleLLMEnd({generations:[h.generations],llmOutput:h.llmOutput})}else return await a?.[p]?.handleLLMError(f.reason),Promise.reject(f.reason)}))}let c={generations:s,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(c,G$,{value:a?{runIds:a?.map(d=>d.runId)}:void 0,configurable:!0}),c}async _generateCached({messages:t,cache:r,llmStringKey:n,parsedOptions:o,handledOptions:i}){let a=t.map(_=>_.map(Nm)),s={...i.metadata,...this.getLsParams(o)},u=await ns.configure(i.callbacks,this.callbacks,i.tags,this.tags,s,this.metadata,{verbose:this.verbose}),l={options:o,invocation_params:this?.invocationParams(o),batch_size:1},c=await u?.handleChatModelStart(this.toJSON(),a,i.runId,void 0,l,void 0,void 0,i.runName),d=[],p=(await Promise.allSettled(a.map(async(_,g)=>{let v=e._convertInputToPromptValue(_).toString(),S=await r.lookup(v,n);return S==null&&d.push(g),S}))).map((_,g)=>({result:_,runManager:c?.[g]})).filter(({result:_})=>_.status==="fulfilled"&&_.value!=null||_.status==="rejected"),h=[];await Promise.all(p.map(async({result:_,runManager:g},v)=>{if(_.status==="fulfilled"){let S=_.value;return h[v]=S.map(x=>("message"in x&&th(x.message)&&Fu(x.message)&&(x.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),x.generationInfo={...x.generationInfo,tokenUsage:{}},x)),S.length&&await g?.handleLLMNewToken(S[0].text),g?.handleLLMEnd({generations:[S]},void 0,void 0,void 0,{cached:!0})}else return await g?.handleLLMError(_.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(_.reason)}));let m={generations:h,missingPromptIndices:d,startedRunManagers:c};return Object.defineProperty(m,G$,{value:c?{runIds:c?.map(_=>_.runId)}:void 0,configurable:!0}),m}async generate(t,r,n){let o;Array.isArray(r)?o={stop:r}:o=r;let i=t.map(h=>h.map(Nm)),[a,s]=this._separateRunnableConfigFromCallOptionsCompat(o);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(i,s,a);let{cache:u}=this,l=this._getSerializedCacheKeyParametersForCall(s),{generations:c,missingPromptIndices:d,startedRunManagers:f}=await this._generateCached({messages:i,cache:u,llmStringKey:l,parsedOptions:s,handledOptions:a}),p={};if(d.length>0){let h=await this._generateUncached(d.map(m=>i[m]),s,a,f!==void 0?d.map(m=>f?.[m]):void 0);await Promise.all(h.generations.map(async(m,_)=>{let g=d[_];c[g]=m;let v=e._convertInputToPromptValue(i[g]).toString();return u.update(v,l,m)})),p=h.llmOutput??{}}return{generations:c,llmOutput:p}}invocationParams(t){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(t,r,n){let o=t.map(i=>i.toChatMessages());return this.generate(o,r,n)}async call(t,r,n){return(await this.generate([t.map(Nm)],r,n)).generations[0][0].message}async callPrompt(t,r,n){let o=t.toChatMessages();return this.call(o,r,n)}async predictMessages(t,r,n){return this.call(t,r,n)}async predict(t,r,n){let o=new Ua(t),i=await this.call([o],r,n);if(typeof i.content!="string")throw new Error("Cannot use predict when output is not a string.");return i.content}withStructuredOutput(t,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r?.strict)throw new Error('"strict" mode is not supported for this model by default.');let n=t,o=r?.name,i=n.description??"A function available to call.",a=r?.method,s=r?.includeRaw;if(a==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let u=o??"extract",l;Af(n)?l=[{type:"function",function:{name:u,description:i,parameters:Li(n)}}]:("name"in n&&(u=n.name),l=[{type:"function",function:{name:u,description:i,parameters:n}}]);let c=this.bindTools(l),d=ES.from(m=>{if(!m.tool_calls||m.tool_calls.length===0)throw new Error("No tool calls found in the response.");let _=m.tool_calls.find(g=>g.name===u);if(!_)throw new Error(`No tool call found with name ${u}.`);return _.args});if(!s)return c.pipe(d).withConfig({runName:"StructuredOutput"});let f=Fi.assign({parsed:(m,_)=>d.invoke(m.raw,_)}),p=Fi.assign({parsed:()=>null}),h=f.withFallbacks({fallbacks:[p]});return Ha.from([{raw:c},h]).withConfig({runName:"StructuredOutputRunnable"})}};kh();LM();var tc=[];for(NZ=0;NZ<256;++NZ)tc.push((NZ+256).toString(16).slice(1));var NZ;function wgt(e,t=0){return(tc[e[t+0]]+tc[e[t+1]]+tc[e[t+2]]+tc[e[t+3]]+"-"+tc[e[t+4]]+tc[e[t+5]]+"-"+tc[e[t+6]]+tc[e[t+7]]+"-"+tc[e[t+8]]+tc[e[t+9]]+"-"+tc[e[t+10]]+tc[e[t+11]]+tc[e[t+12]]+tc[e[t+13]]+tc[e[t+14]]+tc[e[t+15]]).toLowerCase()}var LZ,ENr=new Uint8Array(16);function vSe(){if(!LZ&&(LZ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!LZ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return LZ(ENr)}var PNr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wSe={randomUUID:PNr};function TNr(e,t,r){if(wSe.randomUUID&&!t&&!e)return wSe.randomUUID();e=e||{};var n=e.random||(e.rng||vSe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return wgt(n)}var SSe=TNr;function Sgt(e){let t=[],r=[];typeof e=="string"?r=[{output:e}]:e instanceof Map||typeof e=="object"&&e!==null&&!Array.isArray(e)?r=[e]:Array.isArray(e)||(r=[{output:e}]);for(let n of r)!(n instanceof Map)&&(typeof n!="object"||n===null)&&(n={output:n}),t.push(n);return t}function FZ(e,t){let r=i=>{switch(i){case"system":return"SYSTEM";case"human":return"USER";case"ai":return"CHATBOT";case"tool":return"TOOL";default:throw new Error(`Unknown message type: '${i}'. Accepted types: 'human', 'ai', 'system', 'tool'`)}},n=i=>{if(typeof i=="string")return i;throw new Error(`ChatCohere does not support non text message content. Received: ${JSON.stringify(i,null,2)}`)},o=i=>Fu(i)&&i.tool_calls?i.tool_calls.map(a=>({name:a.name,parameters:a.args})):[];if(e._getType().toLowerCase()==="ai")return{role:r(e._getType()),message:n(e.content),toolCalls:o(e)};if(e._getType().toLowerCase()==="tool")return{role:r(e._getType()),message:n(e.content),toolResults:t};if(e._getType().toLowerCase()==="human"||e._getType().toLowerCase()==="system")return{role:r(e._getType()),message:n(e.content)};throw new Error("Got unknown message type. Supported types are AIMessage, ToolMessage, HumanMessage, and SystemMessage")}function INr(e){return"name"in e&&"description"in e&&"parameterDefinitions"in e}function xgt(e){return e._getType()==="tool"}function Cgt(e){let t="properties"in e?e.properties:{},r="required"in e?e.required:[],n={};return Object.keys(t).forEach(o=>{n[o]=t[o],r===void 0&&(r=[]),n[o].required=r.includes(o)}),n}function ANr(e){if(e){if(e.every(INr))return e;if(e.every(gw))return e.map(t=>({name:t.function.name,description:t.function.description??"",parameterDefinitions:Cgt(t.function.parameters)}));if(e.every(hg))return e.map(t=>{let r=Li(t.schema);return{name:t.name,description:t.description??"",parameterDefinitions:Cgt(r)}});throw new Error("Can not pass in a mix of tool schema types to ChatCohere.")}else return}var kZ=class extends Qc{static lc_name(){return"ChatCohere"}constructor(t){super(t??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"command-r-plus"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.3}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0});let r=t?.apiKey??Jt("COHERE_API_KEY");if(!r)throw new Error("No API key provided for ChatCohere.");this.client=new Ogt.CohereClient({token:r}),this.model=t?.model??this.model,this.temperature=t?.temperature??this.temperature,this.streaming=t?.streaming??this.streaming,this.streamUsage=t?.streamUsage??this.streamUsage}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"cohere",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.temperature??void 0,ls_max_tokens:typeof r.maxTokens=="number"?r.maxTokens:void 0,ls_stop:Array.isArray(r.stopSequences)?r.stopSequences:void 0}}_llmType(){return"cohere"}invocationParams(t){if(t.tool_choice)throw new Error("'tool_choice' call option is not supported by ChatCohere.");let r={model:this.model,preamble:t.preamble,conversationId:t.conversationId,promptTruncation:t.promptTruncation,connectors:t.connectors,searchQueriesOnly:t.searchQueriesOnly,documents:t.documents,temperature:t.temperature??this.temperature,forceSingleStep:t.forceSingleStep,tools:t.tools};return Object.fromEntries(Object.entries(r).filter(([,n])=>n!==void 0))}bindTools(t,r){return this.bind({tools:ANr(t),...r})}_getChatRequest(t,r){let n=this.invocationParams(r),o=this._messagesToCohereToolResultsCurrChatTurn(t),i=[],a="",s=[];if(n.forceSingleStep){a="";for(let l=0;l<t.length-1;l+=1){let c=t[l];if(!(Fu(c)&&c.tool_calls))if(c._getType().toLowerCase()==="tool"){if(s=s.concat(this._messageToCohereToolResults(t,l)),l===t.length-1||t[l+1]._getType().toLowerCase()!=="tool"){let d=FZ(c,s);i.push(d),s=[]}}else i.push(FZ(c,[]))}for(let l=t.length-1;l>=0;l-=1){let c=t[l];if(c._getType().toLowerCase()==="human"&&c.content){a=c.content.toString();break}}}else{for(let l=0;l<t.length-1;l+=1){let c=t[l];if(c._getType().toLowerCase()==="tool"){if(s=s.concat(this._messageToCohereToolResults(t,l)),l===t.length-1||t[l+1]._getType().toLowerCase()!=="tool"){let d=FZ(c,s);i.push(d),s=[]}}else i.push(FZ(c,[]))}a=o.length>0?"":t[t.length-1].content.toString()}return{message:a,chatHistory:i,toolResults:o.length>0?o:void 0,...n}}_getCurrChatTurnMessages(t){let r=[];for(let n=t.length-1;n>=0;n-=1){let o=t[n];if(r.push(o),o._getType().toLowerCase()==="human")break}return r.reverse()}_messagesToCohereToolResultsCurrChatTurn(t){let r=[],n=this._getCurrChatTurnMessages(t);for(let o of n)if(xgt(o)){let i=o,a=n.filter(s=>Fu(s)&&s.tool_calls!==void 0);if(a.length>0){let s=a[a.length-1];s.tool_calls&&r.push(...s.tool_calls.filter(u=>u.id===i.tool_call_id).map(u=>({call:{name:u.name,parameters:u.args},outputs:Sgt(i.content)})))}}return r}_messageToCohereToolResults(t,r){let n=[],o=t[r];if(!xgt(o))throw new Error("The message index does not correspond to an instance of ToolMessage");let a=t.slice(0,r).filter(s=>Fu(s)&&s.tool_calls).slice(-1)[0];return a.tool_calls&&n.push(...a.tool_calls.filter(s=>s.id===o.tool_call_id).map(s=>({call:{name:s.name,parameters:s.args},outputs:Sgt(o.content)}))),n}_formatCohereToolCalls(t=null){if(!t)return[];let r=[];for(let n of t)r.push({id:SSe().substring(0,32),function:{name:n.name,arguments:n.parameters},type:"function"});return r}_convertCohereToolCallToLangchain(t){return t.map(r=>({name:r.function.name,args:r.function.arguments,id:r.id,type:"tool_call"}))}async _generate(t,r,n){let o={},i=this._getChatRequest(t,r);if(this.streaming){let c=this._streamResponseChunks(t,r,n),d={};for await(let p of c){let h=p.generationInfo?.completion??0;d[h]===void 0?d[h]=p:d[h]=d[h].concat(p)}return{generations:Object.entries(d).sort(([p],[h])=>parseInt(p,10)-parseInt(h,10)).map(([p,h])=>h),llmOutput:{estimatedTokenUsage:o}}}let a=await this.caller.callWithOptions({signal:r.signal},async()=>{let c;try{c=await this.client.chat(i)}catch(d){throw d.status=d.status??d.statusCode,d}return c});if(a.meta?.tokens){let{inputTokens:c,outputTokens:d}=a.meta.tokens;d&&(o.completionTokens=(o.completionTokens??0)+d),c&&(o.promptTokens=(o.promptTokens??0)+c),o.totalTokens=(o.totalTokens??0)+(o.promptTokens??0)+(o.completionTokens??0)}let s={...a};delete s.text,a.toolCalls&&a.toolCalls.length>0&&(s.toolCalls=this._formatCohereToolCalls(a.toolCalls));let u=[];return"toolCalls"in s&&(u=this._convertCohereToolCallToLangchain(s.toolCalls)),{generations:[{text:a.text,message:new Po({content:a.text,additional_kwargs:s,tool_calls:u,usage_metadata:{input_tokens:o.promptTokens??0,output_tokens:o.completionTokens??0,total_tokens:o.totalTokens??0}}),generationInfo:s}],llmOutput:{estimatedTokenUsage:o}}}async*_streamResponseChunks(t,r,n){let o=this._getChatRequest(t,r),i=await this.caller.call(async()=>{let a;try{a=await this.client.chatStream(o)}catch(s){throw s.status=s.status??s.statusCode,s}return a});for await(let a of i)if(a.eventType==="text-generation")yield new oi({text:a.text,message:new Jr({content:a.text})}),await n?.handleLLMNewToken(a.text);else if(a.eventType!=="stream-end")yield new oi({text:"",message:new Jr({content:"",additional_kwargs:{...a}}),generationInfo:{...a}});else if(a.eventType==="stream-end"&&(this.streamUsage||r.streamUsage)){let s=a.response.meta?.tokens?.inputTokens??0,u=a.response.meta?.tokens?.outputTokens??0,l={...a.response};a.response.toolCalls&&a.response.toolCalls.length>0&&(l.toolCalls=this._formatCohereToolCalls(a.response.toolCalls));let c=[],d=l.toolCalls??[];d.length>0&&(c=d.map(f=>({name:f.function.name,args:f.function.arguments,id:f.id,index:f.index,type:"tool_call_chunk"}))),yield new oi({text:"",message:new Jr({content:"",additional_kwargs:{eventType:"stream-end"},tool_call_chunks:c,usage_metadata:{input_tokens:s,output_tokens:u,total_tokens:s+u}}),generationInfo:{eventType:"stream-end",...l}})}}_combineLLMOutput(...t){return t.reduce((r,n)=>{if(n&&n.estimatedTokenUsage){let o=r.estimatedTokenUsage?.completionTokens??0,i=r.estimatedTokenUsage?.promptTokens??0,a=r.estimatedTokenUsage?.totalTokens??0;o+=n.estimatedTokenUsage.completionTokens??0,i+=n.estimatedTokenUsage.promptTokens??0,a+=n.estimatedTokenUsage.totalTokens??0,r.estimatedTokenUsage={completionTokens:o,promptTokens:i,totalTokens:a}}return r},{estimatedTokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}};var RNr=B(i4(),1);UM();FD();bO();a4();iy();k$();var Pgt=B(i4(),1);kD();var Sp=class{constructor(t){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new Qf(t??{})}};var mg=(e,t)=>e.reduce((r,n,o)=>{let i=Math.floor(o/t),a=r[i]||[];return r[i]=a.concat([n]),r},[]);var BZ=class extends Sp{constructor(t){let r={maxConcurrency:2,...t};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:48}),Object.defineProperty(this,"embeddingTypes",{enumerable:!0,configurable:!0,writable:!0,value:["float"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let n=r?.apiKey||Jt("COHERE_API_KEY");if(!n)throw new Error("Cohere API key not found");if(this.client=new Pgt.CohereClient({token:n}),this.model=r?.model??this.model,!this.model)throw new Error("Model not specified for CohereEmbeddings instance. Please provide a model name from the options here: https://docs.cohere.com/reference/embed");this.batchSize=r?.batchSize??this.batchSize,this.embeddingTypes=r?.embeddingTypes??this.embeddingTypes}async embedDocuments(t){let r=mg(t,this.batchSize),n=r.map(a=>this.embeddingWithRetry({model:this.model,texts:a,inputType:"search_document",embeddingTypes:this.embeddingTypes})),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],{embeddings:u}=o[a];for(let l=0;l<s.length;l+=1)"float"in u&&u.float?i.push(u.float[l]):Array.isArray(u)&&i.push(u[l])}return i}async embedQuery(t){let{embeddings:r}=await this.embeddingWithRetry({model:this.model,texts:[t],inputType:"search_query",embeddingTypes:this.embeddingTypes});if("float"in r&&r.float)return r.float[0];if(Array.isArray(r))return r[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(r,null,2)}`)}async embed(t){let{embeddings:r}=await this.embeddingWithRetry(t);if("float"in r&&r.float)return r.float[0];if(Array.isArray(r))return r[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(r,null,2)}`)}async embeddingWithRetry(t){return this.caller.call(async()=>{let r;try{r=await this.client.embed(t)}catch(n){throw n.status=n.status??n.statusCode,n}return r})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}};var DNr=B(i4(),1);var Tgt;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Tgt||(Tgt={}));var Mgt;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Mgt||(Mgt={}));var Igt;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Igt||(Igt={}));var Agt=["user","model","function","system"],JA;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(JA||(JA={}));var GA;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(GA||(GA={}));var Rgt;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Rgt||(Rgt={}));var Dgt;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Dgt||(Dgt={}));var s4;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(s4||(s4={}));var jgt;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(jgt||(jgt={}));var KA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(KA||(KA={}));var Ngt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ngt||(Ngt={}));var ed=class extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}},fP=class extends ed{constructor(t,r){super(t),this.response=r}},qZ=class extends ed{constructor(t,r,n,o){super(t),this.status=r,this.statusText=n,this.errorDetails=o}},yw=class extends ed{};var jNr="https://generativelanguage.googleapis.com",NNr="v1beta",LNr="0.21.0",FNr="genai-js",YA;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(YA||(YA={}));var xSe=class{constructor(t,r,n,o,i){this.model=t,this.task=r,this.apiKey=n,this.stream=o,this.requestOptions=i}toString(){var t,r;let n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||NNr,i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||jNr}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}};function kNr(e){let t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${FNr}/${LNr}`),t.join(" ")}async function BNr(e){var t;let r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",kNr(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(o){throw new yw(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${o.message}`)}for(let[o,i]of n.entries()){if(o==="x-goog-api-key")throw new yw(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new yw(`Header name ${o} can only be set using the apiClient field`);r.append(o,i)}}return r}async function $Nr(e,t,r,n,o,i){let a=new xSe(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},HNr(i)),{method:"POST",headers:await BNr(a),body:o})}}async function c4(e,t,r,n,o,i={},a=fetch){let{url:s,fetchOptions:u}=await $Nr(e,t,r,n,o,i);return qNr(s,u,a)}async function qNr(e,t,r=fetch){let n;try{n=await r(e,t)}catch(o){UNr(o,e)}return n.ok||await zNr(n,e),n}function UNr(e,t){let r=e;throw e instanceof qZ||e instanceof yw||(r=new ed(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function zNr(e,t){let r="",n;try{let o=await e.json();r=o.error.message,o.error.details&&(r+=` ${JSON.stringify(o.error.details)}`,n=o.error.details)}catch{}throw new qZ(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function HNr(e){let t={};if(e?.signal!==void 0||e?.timeout>=0){let r=new AbortController;e?.timeout>=0&&setTimeout(()=>r.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}function OSe(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),$Z(e.candidates[0]))throw new fP(`${pP(e)}`,e);return VNr(e)}else if(e.promptFeedback)throw new fP(`Text not available. ${pP(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$Z(e.candidates[0]))throw new fP(`${pP(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Lgt(e)[0]}else if(e.promptFeedback)throw new fP(`Function call not available. ${pP(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$Z(e.candidates[0]))throw new fP(`${pP(e)}`,e);return Lgt(e)}else if(e.promptFeedback)throw new fP(`Function call not available. ${pP(e)}`,e)},e}function VNr(e){var t,r,n,o;let i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(let a of(o=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||o===void 0?void 0:o.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Lgt(e){var t,r,n,o;let i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(let a of(o=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||o===void 0?void 0:o.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}var WNr=[s4.RECITATION,s4.SAFETY,s4.LANGUAGE];function $Z(e){return!!e.finishReason&&WNr.includes(e.finishReason)}function pP(e){var t,r,n;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){let i=e.candidates[0];$Z(i)&&(o+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(o+=`: ${i.finishMessage}`))}return o}function u4(e){return this instanceof u4?(this.v=e,this):new u4(e)}function JNr(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(h,m){i.push([f,p,h,m])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(h){d(i[0][3],h)}}function u(f){f.value instanceof u4?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}var Fgt=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function GNr(e){let t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=ZNr(t),[n,o]=r.tee();return{stream:YNr(n),response:KNr(o)}}async function KNr(e){let t=[],r=e.getReader();for(;;){let{done:n,value:o}=await r.read();if(n)return OSe(XNr(t));t.push(o)}}function YNr(e){return JNr(this,arguments,function*(){let r=e.getReader();for(;;){let{value:n,done:o}=yield u4(r.read());if(o)break;yield yield u4(OSe(n))}})}function ZNr(e){let t=e.getReader();return new ReadableStream({start(n){let o="";return i();function i(){return t.read().then(({value:a,done:s})=>{if(s){if(o.trim()){n.error(new ed("Failed to parse stream"));return}n.close();return}o+=a;let u=o.match(Fgt),l;for(;u;){try{l=JSON.parse(u[1])}catch{n.error(new ed(`Error parsing JSON response: "${u[1]}"`));return}n.enqueue(l),o=o.substring(u[0].length),u=o.match(Fgt)}return i()})}}})}function XNr(e){let t=e[e.length-1],r={promptFeedback:t?.promptFeedback};for(let n of e){if(n.candidates)for(let o of n.candidates){let i=o.index;if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:o.index}),r.candidates[i].citationMetadata=o.citationMetadata,r.candidates[i].groundingMetadata=o.groundingMetadata,r.candidates[i].finishReason=o.finishReason,r.candidates[i].finishMessage=o.finishMessage,r.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[i].content||(r.candidates[i].content={role:o.content.role||"user",parts:[]});let a={};for(let s of o.content.parts)s.text&&(a.text=s.text),s.functionCall&&(a.functionCall=s.functionCall),s.executableCode&&(a.executableCode=s.executableCode),s.codeExecutionResult&&(a.codeExecutionResult=s.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[i].content.parts.push(a)}}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}async function qgt(e,t,r,n){let o=await c4(t,YA.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return GNr(o)}async function Ugt(e,t,r,n){let i=await(await c4(t,YA.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:OSe(i)}}function zgt(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function l4(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(let r of e)typeof r=="string"?t.push({text:r}):t.push(r);return QNr(t)}function QNr(e){let t={role:"user",parts:[]},r={role:"function",parts:[]},n=!1,o=!1;for(let i of e)"functionResponse"in i?(r.parts.push(i),o=!0):(t.parts.push(i),n=!0);if(n&&o)throw new ed("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!o)throw new ed("No content is provided for sending chat message.");return n?t:r}function eLr(e,t){var r;let n={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(r=t?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]},o=e.generateContentRequest!=null;if(e.contents){if(o)throw new yw("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(o)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{let i=l4(e);n.contents=[i]}return{generateContentRequest:n}}function kgt(e){let t;return e.contents?t=e:t={contents:[l4(e)]},e.systemInstruction&&(t.systemInstruction=zgt(e.systemInstruction)),t}function tLr(e){return typeof e=="string"||Array.isArray(e)?{content:l4(e)}:e}var Bgt=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],rLr={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function nLr(e){let t=!1;for(let r of e){let{role:n,parts:o}=r;if(!t&&n!=="user")throw new ed(`First content should be with role 'user', got ${n}`);if(!Agt.includes(n))throw new ed(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Agt)}`);if(!Array.isArray(o))throw new ed("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new ed("Each Content should have at least one part");let i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let s of o)for(let u of Bgt)u in s&&(i[u]+=1);let a=rLr[n];for(let s of Bgt)if(!a.includes(s)&&i[s]>0)throw new ed(`Content with role '${n}' can't contain '${s}' part`);t=!0}}var $gt="SILENT_ERROR",CSe=class{constructor(t,r,n,o={}){this.model=r,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n?.history&&(nLr(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,o,i,a,s,u;await this._sendPromise;let l=l4(t),c={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),r),f;return this._sendPromise=this._sendPromise.then(()=>Ugt(this._apiKey,this.model,c,d)).then(p=>{var h;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(l);let m=Object.assign({parts:[],role:"model"},(h=p.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(m)}else{let m=pP(p.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}f=p}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,o,i,a,s,u;await this._sendPromise;let l=l4(t),c={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),r),f=qgt(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error($gt)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(l);let h=Object.assign({},p.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{let h=pP(p);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(p=>{p.message!==$gt&&console.error(p)}),f}};async function oLr(e,t,r,n){return(await c4(t,YA.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}async function iLr(e,t,r,n){return(await c4(t,YA.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function aLr(e,t,r,n){let o=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await c4(t,YA.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),n)).json()}var UZ=class{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=zgt(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;let o=kgt(t),i=Object.assign(Object.assign({},this._requestOptions),r);return Ugt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},o),i)}async generateContentStream(t,r={}){var n;let o=kgt(t),i=Object.assign(Object.assign({},this._requestOptions),r);return qgt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},o),i)}startChat(t){var r;return new CSe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){let n=eLr(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),r);return oLr(this.apiKey,this.model,n,o)}async embedContent(t,r={}){let n=tLr(t),o=Object.assign(Object.assign({},this._requestOptions),r);return iLr(this.apiKey,this.model,n,o)}async batchEmbedContents(t,r={}){let n=Object.assign(Object.assign({},this._requestOptions),r);return aLr(this.apiKey,this.model,t,n)}};var ZA=class{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new ed("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new UZ(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new yw("Cached content must contain a `name` field.");if(!t.model)throw new yw("Cached content must contain a `model` field.");let o=["model","systemInstruction"];for(let a of o)if(r?.[a]&&t[a]&&r?.[a]!==t[a]){if(a==="model"){let s=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(s===u)continue}throw new yw(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}let i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new UZ(this.apiKey,i,n)}};IS();oh();function rF(e){if(typeof e=="object"&&e!==null){let t={...e};"additionalProperties"in t&&delete t.additionalProperties,"$schema"in t&&delete t.$schema;for(let r in t)r in t&&(Array.isArray(t[r])?t[r]=t[r].map(rF):typeof t[r]=="object"&&t[r]!==null&&(t[r]=rF(t[r])));return t}return e}function zZ(e){let t=rF(Li(e)),{$schema:r,...n}=t;return n}function Hgt(e){let t=rF(e),{$schema:r,...n}=t;return n}kh();Dx();function sLr(e){let t=e._getType();return xd.isInstance(e)?e.role:t==="tool"?t:e.name??t}function uLr(e){switch(e){case"ai":case"model":return"model";case"system":return"system";case"human":return"user";case"tool":case"function":return"function";default:throw new Error(`Unknown / unsupported author: ${e}`)}}function lLr(e){if("mimeType"in e&&"data"in e)return{inlineData:{mimeType:e.mimeType,data:e.data}};throw new Error("Invalid media content")}function cLr(e,t){if(typeof e.content=="string"&&e.content!=="")return[{text:e.content}];let r=[],n=[],o=[];return"tool_calls"in e&&Array.isArray(e.tool_calls)&&e.tool_calls.length>0?r=e.tool_calls.map(i=>({functionCall:{name:i.name,args:i.args}})):e.getType()==="tool"&&e.name&&e.content?n=[{functionResponse:{name:e.name,response:e.content}}]:Array.isArray(e.content)&&(o=e.content.map(i=>{if(i.type==="text")return{text:i.text};if(i.type==="executableCode")return{executableCode:i.executableCode};if(i.type==="codeExecutionResult")return{codeExecutionResult:i.codeExecutionResult};if(i.type==="image_url"){if(!t)throw new Error("This model does not support images");let a;if(typeof i.image_url=="string")a=i.image_url;else if(typeof i.image_url=="object"&&"url"in i.image_url)a=i.image_url.url;else throw new Error("Please provide image as base64 encoded data URL");let[s,u]=a.split(",");if(!s.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");let[l,c]=s.replace(/^data:/,"").split(";");if(c!=="base64")throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:u,mimeType:l}}}else{if(i.type==="media")return lLr(i);if(i.type==="tool_use")return{functionCall:{name:i.name,args:i.input}}}throw new Error(`Unknown content type ${i.type}`)})),[...o,...r,...n]}function ESe(e,t,r=!1){return e.reduce((n,o,i)=>{if(!th(o))throw new Error("Unsupported message input");let a=sLr(o);if(a==="system"&&i!==0)throw new Error("System message should be the first one");let s=uLr(a),u=n.content[n.content.length];if(!n.mergeWithPreviousContent&&u&&u.role===s)throw new Error("Google Generative AI requires alternate messages between authors");let l=cLr(o,t);if(n.mergeWithPreviousContent){let f=n.content[n.content.length-1];if(!f)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return f.parts.push(...l),{mergeWithPreviousContent:!1,content:n.content}}let c=s;(c==="function"||c==="system"&&!r)&&(c="user");let d={role:c,parts:l};return{mergeWithPreviousContent:a==="system"&&!r,content:[...n.content,d]}},{content:[],mergeWithPreviousContent:!1}).content}function Vgt(e,t){if(!e.candidates||e.candidates.length===0||!e.candidates[0])return{generations:[],llmOutput:{filters:e.promptFeedback}};let r=e.functionCalls(),[n]=e.candidates,{content:o,...i}=n,a;o?.parts.length===1&&o.parts[0].text?a=o.parts[0].text:a=o.parts.map(l=>"text"in l?{type:"text",text:l.text}:"executableCode"in l?{type:"executableCode",executableCode:l.executableCode}:"codeExecutionResult"in l?{type:"codeExecutionResult",codeExecutionResult:l.codeExecutionResult}:l);let s="";return typeof a=="string"?s=a:"text"in a[0]&&(s=a[0].text),{generations:[{text:s,message:new Po({content:a,tool_calls:r?.map(l=>({...l,type:"tool_call"})),additional_kwargs:{...i},usage_metadata:t?.usageMetadata}),generationInfo:i}]}}function Wgt(e,t){if(!e.candidates||e.candidates.length===0)return null;let r=e.functionCalls(),[n]=e.candidates,{content:o,...i}=n,a;o?.parts&&o.parts.every(l=>"text"in l)?a=o.parts.map(l=>l.text).join(""):o.parts&&(a=o.parts.map(l=>"text"in l?{type:"text",text:l.text}:"executableCode"in l?{type:"executableCode",executableCode:l.executableCode}:"codeExecutionResult"in l?{type:"codeExecutionResult",codeExecutionResult:l.codeExecutionResult}:l));let s="";a&&typeof a=="string"?s=a:a&&typeof a=="object"&&"text"in a[0]&&(s=a[0].text);let u=[];return r&&u.push(...r.map(l=>({...l,args:JSON.stringify(l.args),index:t.index,type:"tool_call_chunk"}))),new oi({text:s,message:new Jr({content:a||"",name:o?o.role:void 0,tool_call_chunks:u,additional_kwargs:{},usage_metadata:t.usageMetadata}),generationInfo:i})}function Jgt(e){return e.every(t=>"functionDeclarations"in t&&Array.isArray(t.functionDeclarations))?e:[{functionDeclarations:e.map(t=>{if(hg(t)){let r=zZ(t.schema);return{name:t.name,description:t.description,parameters:r}}return gw(t)?{name:t.function.name,description:t.function.description??"A function available to call.",parameters:Hgt(t.function.parameters)}:t})}]}SO();var d4=class extends zM{static lc_name(){return"GoogleGenerativeAIToolsOutputParser"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","google_genai","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=t.keyName,this.returnSingle=t.returnSingle??this.returnSingle,this.zodSchema=t.zodSchema}async _validateResult(t){if(this.zodSchema===void 0)return t;let r=await this.zodSchema.safeParseAsync(t);if(r.success)return r.data;throw new ep(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(t,null,2))}async parseResult(t){let r=t.flatMap(i=>{let{message:a}=i;return!("tool_calls"in a)||!Array.isArray(a.tool_calls)?[]:a.tool_calls});if(r[0]===void 0)throw new Error("No parseable tool calls provided to GoogleGenerativeAIToolsOutputParser.");let[n]=r;return await this._validateResult(n.args)}};Dx();function PSe(e,t){let r=dLr(e),n=pLr(r,t);return{tools:r,toolConfig:n}}function dLr(e){let t=[],r=[];return e.forEach(o=>{if(hg(o)){let[i]=Jgt([o]);i.functionDeclarations&&t.push(...i.functionDeclarations)}else if(gw(o)){let{functionDeclarations:i}=fLr(o);if(i)t.push(...i);else throw new Error("Failed to convert OpenAI structured tool to GenerativeAI tool")}else r.push(o)}),r.find(o=>"functionDeclarations"in o)?r.map(o=>{if(t?.length>0&&"functionDeclarations"in o){let i={functionDeclarations:[...o.functionDeclarations||[],...t]};return t=[],i}return o}):[...r,...t.length>0?[{functionDeclarations:t}]:[]]}function fLr(e){return{functionDeclarations:[{name:e.function.name,description:e.function.description,parameters:rF(e.function.parameters)}]}}function pLr(e,t){if(!e.length||!t)return;let{toolChoice:r,allowedFunctionNames:n}=t,o={any:KA.ANY,auto:KA.AUTO,none:KA.NONE};if(r&&["any","auto","none"].includes(r))return{functionCallingConfig:{mode:o[r]??"MODE_UNSPECIFIED",allowedFunctionNames:n}};if(typeof r=="string"||n)return{functionCallingConfig:{mode:KA.ANY,allowedFunctionNames:[...n??[],...r&&typeof r=="string"?[r]:[]]}}}var HZ=class extends Qc{static lc_name(){return"ChatGoogleGenerativeAI"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get lc_aliases(){return{apiKey:"google_api_key"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")||this.model.startsWith("gemini-2")}constructor(t){if(super(t??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","google_genai"]}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"convertSystemMessageToHumanContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=t?.model?.replace(/^models\//,"")??t?.modelName?.replace(/^models\//,"")??this.model,this.model=this.modelName,this.maxOutputTokens=t?.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=t?.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>1))throw new Error("`temperature` must be in the range of [0.0,1.0]");if(this.topP=t?.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=t?.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=t?.stopSequences??this.stopSequences,this.apiKey=t?.apiKey??Jt("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=t?.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map(n=>n.category)).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=t?.streaming??this.streaming,this.client=new ZA(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{candidateCount:1,stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK,...t?.json?{responseMimeType:"application/json"}:{}}},{apiVersion:t?.apiVersion,baseUrl:t?.baseUrl}),this.streamUsage=t?.streamUsage??this.streamUsage}useCachedContent(t,r,n){this.apiKey&&(this.client=new ZA(this.apiKey).getGenerativeModelFromCachedContent(t,r,n))}get useSystemInstruction(){return typeof this.convertSystemMessageToHumanContent=="boolean"?!this.convertSystemMessageToHumanContent:this.computeUseSystemInstruction}get computeUseSystemInstruction(){return this.modelName==="gemini-1.0-pro-001"||this.modelName.startsWith("gemini-pro-vision")||this.modelName.startsWith("gemini-1.0-pro-vision")?!1:this.modelName!=="gemini-pro"}getLsParams(t){return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.client.generationConfig.temperature,ls_max_tokens:this.client.generationConfig.maxOutputTokens,ls_stop:t.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}bindTools(t,r){return this.bind({tools:PSe(t)?.tools,...r})}invocationParams(t){let r=t?.tools?.length?PSe(t.tools,{toolChoice:t.tool_choice,allowedFunctionNames:t.allowedFunctionNames}):void 0;return{...r?.tools?{tools:r.tools}:{},...r?.toolConfig?{toolConfig:r.toolConfig}:{}}}async _generate(t,r,n){let o=ESe(t,this._isMultimodalModel,this.useSystemInstruction),i=o;if(o[0].role==="system"){let[c]=o;this.client.systemInstruction=c,i=o.slice(1)}let a=this.invocationParams(r);if(this.streaming){let c={},d=this._streamResponseChunks(t,r,n),f={};for await(let h of d){let m=h.generationInfo?.completion??0;f[m]===void 0?f[m]=h:f[m]=f[m].concat(h)}return{generations:Object.entries(f).sort(([h],[m])=>parseInt(h,10)-parseInt(m,10)).map(([h,m])=>m),llmOutput:{estimatedTokenUsage:c}}}let s=await this.completionWithRetry({...a,contents:i}),u;if("usageMetadata"in s.response){let c=s.response.usageMetadata;u={input_tokens:c.promptTokenCount??0,output_tokens:c.candidatesTokenCount??0,total_tokens:c.totalTokenCount??0}}let l=Vgt(s.response,{usageMetadata:u});return await n?.handleLLMNewToken(l.generations[0].text??""),l}async*_streamResponseChunks(t,r,n){let o=ESe(t,this._isMultimodalModel,this.useSystemInstruction),i=o;if(o[0].role==="system"){let[d]=o;this.client.systemInstruction=d,i=o.slice(1)}let s={...this.invocationParams(r),contents:i},u=await this.caller.callWithOptions({signal:r?.signal},async()=>{let{stream:d}=await this.client.generateContentStream(s);return d}),l,c=0;for await(let d of u){if("usageMetadata"in d&&this.streamUsage!==!1&&r.streamUsage!==!1){let p=d.usageMetadata;if(!l)l={input_tokens:p.promptTokenCount,output_tokens:p.candidatesTokenCount,total_tokens:p.totalTokenCount};else{let h=p.candidatesTokenCount-l.output_tokens;l={input_tokens:0,output_tokens:h,total_tokens:h}}}let f=Wgt(d,{usageMetadata:l,index:c});c+=1,f&&(yield f,await n?.handleLLMNewToken(f.text??""))}}async completionWithRetry(t,r){return this.caller.callWithOptions({signal:r?.signal},async()=>{try{return await this.client.generateContent(t)}catch(n){throw n.message?.includes("400 Bad Request")&&(n.status=400),n}})}withStructuredOutput(t,r){let n=t,o=r?.name,i=r?.method,a=r?.includeRaw;if(i==="jsonMode")throw new Error('ChatGoogleGenerativeAI only supports "functionCalling" as a method.');let s=o??"extract",u,l;if(Af(n)){let h=zZ(n);l=[{functionDeclarations:[{name:s,description:h.description??"A function available to call.",parameters:h}]}],u=new d4({returnSingle:!0,keyName:s,zodSchema:n})}else{let h;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(h=n,s=n.name):h={name:s,description:n.description??"",parameters:n},l=[{functionDeclarations:[h]}],u=new d4({returnSingle:!0,keyName:s})}let c=this.bind({tools:l,tool_choice:s});if(!a)return c.pipe(u).withConfig({runName:"ChatGoogleGenerativeAIStructuredOutput"});let d=Fi.assign({parsed:(h,m)=>u.invoke(h.raw,m)}),f=Fi.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[f]});return Ha.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}};var VZ=class extends Sp{constructor(t){if(super(t??{}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"taskType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxBatchSize",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=t?.model?.replace(/^models\//,"")??t?.modelName?.replace(/^models\//,"")??this.modelName,this.model=this.modelName,this.taskType=t?.taskType??this.taskType,this.title=t?.title??this.title,this.title&&this.taskType!=="RETRIEVAL_DOCUMENT")throw new Error("title can only be sepcified with TaskType.RETRIEVAL_DOCUMENT");if(this.apiKey=t?.apiKey??Jt("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environmentb variable GOOGLE_API_KEY or in the `apiKey` field of the GoogleGenerativeAIEmbeddings constructor");this.client=new ZA(this.apiKey).getGenerativeModel({model:this.model})}_convertToContent(t){return{content:{role:"user",parts:[{text:this.stripNewLines?t.replace(/\n/g," "):t}]},taskType:this.taskType,title:this.title}}async _embedQueryContent(t){let r=this._convertToContent(t);return(await this.client.embedContent(r)).embedding.values??[]}async _embedDocumentsContent(t){let r=mg(t,this.maxBatchSize),n=r.map(a=>({requests:a.map(s=>this._convertToContent(s))}));return(await Promise.allSettled(n.map(a=>this.client.batchEmbedContents(a)))).flatMap((a,s)=>a.status==="fulfilled"?a.value.embeddings.map(u=>u.values||[]):Array(r[s].length).fill([]))}embedQuery(t){return this.caller.call(this._embedQueryContent.bind(this),t)}embedDocuments(t){return this.caller.call(this._embedDocumentsContent.bind(this),t)}};var rc=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window||{},kd={searchParams:"URLSearchParams"in rc,iterable:"Symbol"in rc&&"iterator"in Symbol,blob:"FileReader"in rc&&"Blob"in rc&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in rc,arrayBuffer:"ArrayBuffer"in rc};function hLr(e){return e&&DataView.prototype.isPrototypeOf(e)}kd.arrayBuffer&&(Ggt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ygt=ArrayBuffer.isView||function(e){return e&&Ggt.indexOf(Object.prototype.toString.call(e))>-1});var Ggt,Ygt;function nF(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function MSe(e){return typeof e!="string"&&(e=String(e)),e}function ISe(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return kd.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Wu(e){this.map={},e instanceof Wu?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Wu.prototype.append=function(e,t){e=nF(e),t=MSe(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};Wu.prototype.delete=function(e){delete this.map[nF(e)]};Wu.prototype.get=function(e){return e=nF(e),this.has(e)?this.map[e]:null};Wu.prototype.has=function(e){return this.map.hasOwnProperty(nF(e))};Wu.prototype.set=function(e,t){this.map[nF(e)]=MSe(t)};Wu.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};Wu.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),ISe(e)};Wu.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),ISe(e)};Wu.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),ISe(e)};kd.iterable&&(Wu.prototype[Symbol.iterator]=Wu.prototype.entries);function TSe(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function Zgt(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function mLr(e){var t=new FileReader,r=Zgt(t);return t.readAsArrayBuffer(e),r}function gLr(e){var t=new FileReader,r=Zgt(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=n?n[1]:"utf-8";return t.readAsText(e,o),r}function yLr(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Kgt(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Xgt(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:kd.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:kd.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:kd.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():kd.arrayBuffer&&kd.blob&&hLr(e)?(this._bodyArrayBuffer=Kgt(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):kd.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ygt(e))?this._bodyArrayBuffer=Kgt(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):kd.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},kd.blob&&(this.blob=function(){var e=TSe(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=TSe(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(kd.blob)return this.blob().then(mLr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=TSe(this);if(e)return e;if(this._bodyBlob)return gLr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(yLr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},kd.formData&&(this.formData=function(){return this.text().then(vLr)}),this.json=function(){return this.text().then(JSON.parse)},this}var bLr=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _Lr(e){var t=e.toUpperCase();return bLr.indexOf(t)>-1?t:e}function QA(e,t){if(!(this instanceof QA))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof QA){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Wu(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Wu(t.headers)),this.method=_Lr(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in rc){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}QA.prototype.clone=function(){return new QA(this,{body:this._bodyInit})};function vLr(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function wLr(e){var t=new Wu,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),i=o.shift().trim();if(i){var a=o.join(":").trim();try{t.append(i,a)}catch(s){console.warn("Response "+s.message)}}}),t}Xgt.call(QA.prototype);function bw(e,t){if(!(this instanceof bw))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Wu(t.headers),this.url=t.url||"",this._initBody(e)}Xgt.call(bw.prototype);bw.prototype.clone=function(){return new bw(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Wu(this.headers),url:this.url})};bw.error=function(){var e=new bw(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var SLr=[301,302,303,307,308];bw.redirect=function(e,t){if(SLr.indexOf(t)===-1)throw new RangeError("Invalid status code");return new bw(null,{status:t,headers:{location:e}})};var XA=rc.DOMException;try{new XA}catch{XA=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},XA.prototype=Object.create(Error.prototype),XA.prototype.constructor=XA}function Qgt(e,t){return new Promise(function(r,n){var o=new QA(e,t);if(o.signal&&o.signal.aborted)return n(new XA("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var l={statusText:i.statusText,headers:wLr(i.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(i.status<200||i.status>599)?l.status=200:l.status=i.status,l.url="responseURL"in i?i.responseURL:l.headers.get("X-Request-URL");var c="response"in i?i.response:i.responseText;setTimeout(function(){r(new bw(c,l))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new XA("Aborted","AbortError"))},0)};function s(l){try{return l===""&&rc.location.href?rc.location.href:l}catch{return l}}if(i.open(o.method,s(o.url),!0),o.credentials==="include"?i.withCredentials=!0:o.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(kd.blob?i.responseType="blob":kd.arrayBuffer&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Wu||rc.Headers&&t.headers instanceof rc.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach(function(l){u.push(nF(l)),i.setRequestHeader(l,MSe(t.headers[l]))}),o.headers.forEach(function(l,c){u.indexOf(c)===-1&&i.setRequestHeader(c,l)})}else o.headers.forEach(function(l,c){i.setRequestHeader(c,l)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&o.signal.removeEventListener("abort",a)}),i.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}Qgt.polyfill=!0;rc.fetch||(rc.fetch=Qgt,rc.Headers=Wu,rc.Request=QA,rc.Response=bw);var xLr="0.5.9",CLr=Object.defineProperty,OLr=(e,t,r)=>t in e?CLr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ASe=(e,t,r)=>(OLr(e,typeof t!="symbol"?t+"":t,r),r),DSe=class e extends Error{constructor(t,r){super(t),this.error=t,this.status_code=r,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}},jSe=class{constructor(t,r,n){ASe(this,"abortController"),ASe(this,"itr"),ASe(this,"doneCallback"),this.abortController=t,this.itr=r,this.doneCallback=n}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(let t of this.itr){if("error"in t)throw new Error(t.error);if(yield t,t.done||t.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}},NSe=async e=>{if(e.ok)return;let t=`Error ${e.status}: ${e.statusText}`,r=null;if(e.headers.get("content-type")?.includes("application/json"))try{r=await e.json(),t=r.error||t}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),t=await e.text()||t}catch{console.log("Failed to get text from error response")}throw new DSe(t,e.status)};function ELr(){return typeof window<"u"&&window.navigator?`${window.navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:typeof process<"u"?`${process.arch} ${process.platform} Node.js/${process.version}`:""}var LSe=async(e,t,r={})=>{let n={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${xLr} (${ELr()})`};return r.headers||(r.headers={}),r.headers={...n,...r.headers},e(t,r)},eyt=async(e,t)=>{let r=await LSe(e,t);return await NSe(r),r};var oF=async(e,t,r,n)=>{let i=(s=>s!==null&&typeof s=="object"&&!Array.isArray(s))(r)?JSON.stringify(r):r,a=await LSe(e,t,{method:"POST",body:i,signal:n?.signal,headers:n?.headers});return await NSe(a),a},PLr=async(e,t,r)=>{let n=await LSe(e,t,{method:"DELETE",body:JSON.stringify(r)});return await NSe(n),n},TLr=async function*(e){let t=new TextDecoder("utf-8"),r="",n=e.getReader();for(;;){let{done:o,value:i}=await n.read();if(o)break;r+=t.decode(i);let a=r.split(`
`);r=a.pop()??"";for(let s of a)try{yield JSON.parse(s)}catch{console.warn("invalid json: ",s)}}for(let o of r.split(`
`).filter(i=>i!==""))try{yield JSON.parse(o)}catch{console.warn("invalid json: ",o)}},MLr=e=>{if(!e)return"http://127.0.0.1:11434";let t=e.includes("://");e.startsWith(":")&&(e=`http://127.0.0.1${e}`,t=!0),t||(e=`http://${e}`);let r=new URL(e),n=r.port;n||(t?n=r.protocol==="https:"?"443":"80":n="11434");let o=`${r.protocol}//${r.hostname}:${n}${r.pathname}`;return o.endsWith("/")&&(o=o.slice(0,-1)),o},ILr=Object.defineProperty,ALr=(e,t,r)=>t in e?ILr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,RSe=(e,t,r)=>(ALr(e,typeof t!="symbol"?t+"":t,r),r),eR=class{constructor(t){RSe(this,"config"),RSe(this,"fetch"),RSe(this,"ongoingStreamedRequests",[]),this.config={host:""},t?.proxy||(this.config.host=MLr(t?.host??"http://127.0.0.1:11434")),this.fetch=fetch,t?.fetch!=null&&(this.fetch=t.fetch)}abort(){for(let t of this.ongoingStreamedRequests)t.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(t,r){r.stream=r.stream??!1;let n=`${this.config.host}/api/${t}`;if(r.stream){let i=new AbortController,a=await oF(this.fetch,n,r,{signal:i.signal,headers:this.config.headers});if(!a.body)throw new Error("Missing body");let s=TLr(a.body),u=new jSe(i,s,()=>{let l=this.ongoingStreamedRequests.indexOf(u);l>-1&&this.ongoingStreamedRequests.splice(l,1)});return this.ongoingStreamedRequests.push(u),u}return await(await oF(this.fetch,n,r,{headers:this.config.headers})).json()}async encodeImage(t){if(typeof t!="string"){let r=new Uint8Array(t),n="",o=r.byteLength;for(let i=0;i<o;i++)n+=String.fromCharCode(r[i]);return btoa(n)}return t}async generate(t){return t.images&&(t.images=await Promise.all(t.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",t)}async chat(t){if(t.messages)for(let r of t.messages)r.images&&(r.images=await Promise.all(r.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",t)}async create(t){return this.processStreamableRequest("create",{name:t.model,stream:t.stream,modelfile:t.modelfile,quantize:t.quantize})}async pull(t){return this.processStreamableRequest("pull",{name:t.model,stream:t.stream,insecure:t.insecure})}async push(t){return this.processStreamableRequest("push",{name:t.model,stream:t.stream,insecure:t.insecure})}async delete(t){return await PLr(this.fetch,`${this.config.host}/api/delete`,{name:t.model}),{status:"success"}}async copy(t){return await oF(this.fetch,`${this.config.host}/api/copy`,{...t}),{status:"success"}}async list(){return await(await eyt(this.fetch,`${this.config.host}/api/tags`)).json()}async show(t){return await(await oF(this.fetch,`${this.config.host}/api/show`,{...t})).json()}async embed(t){return await(await oF(this.fetch,`${this.config.host}/api/embed`,{...t})).json()}async embeddings(t){return await(await oF(this.fetch,`${this.config.host}/api/embeddings`,{...t})).json()}async ps(){return await(await eyt(this.fetch,`${this.config.host}/api/ps`)).json()}},RLr=new eR;kh();iy();var nc=[];for(WZ=0;WZ<256;++WZ)nc.push((WZ+256).toString(16).slice(1));var WZ;function tyt(e,t=0){return(nc[e[t+0]]+nc[e[t+1]]+nc[e[t+2]]+nc[e[t+3]]+"-"+nc[e[t+4]]+nc[e[t+5]]+"-"+nc[e[t+6]]+nc[e[t+7]]+"-"+nc[e[t+8]]+nc[e[t+9]]+"-"+nc[e[t+10]]+nc[e[t+11]]+nc[e[t+12]]+nc[e[t+13]]+nc[e[t+14]]+nc[e[t+15]]).toLowerCase()}var JZ,DLr=new Uint8Array(16);function FSe(){if(!JZ&&(JZ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!JZ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return JZ(DLr)}var jLr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kSe={randomUUID:jLr};function NLr(e,t,r){if(kSe.randomUUID&&!t&&!e)return kSe.randomUUID();e=e||{};var n=e.random||(e.rng||FSe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return tyt(n)}var BSe=NLr;function $Se(e,t){return new Jr({content:e.content??"",tool_call_chunks:e.tool_calls?.map(r=>({name:r.function.name,args:JSON.stringify(r.function.arguments),type:"tool_call_chunk",index:0,id:BSe()})),response_metadata:t?.responseMetadata,usage_metadata:t?.usageMetadata})}function ryt(e){let t=e.match(/^data:.*?;base64,(.*)$/);return t?t[1]:""}function LLr(e){if(typeof e.content=="string")return[{role:"assistant",content:e.content}];let r=e.content.filter(o=>o.type==="text"&&typeof o.text=="string").map(o=>({role:"assistant",content:o.text})),n;if(e.content.find(o=>o.type==="tool_use")&&e.tool_calls?.length){let o=e.tool_calls?.map(i=>({id:i.id,type:"function",function:{name:i.name,arguments:i.args}}));o&&(n={role:"assistant",tool_calls:o,content:""})}else if(e.content.find(o=>o.type==="tool_use")&&!e.tool_calls?.length)throw new Error("'tool_use' content type is not supported without tool calls.");return[...r,...n?[n]:[]]}function FLr(e){return typeof e.content=="string"?[{role:"user",content:e.content}]:e.content.map(t=>{if(t.type==="text")return{role:"user",content:t.text};if(t.type==="image_url"){if(typeof t.image_url=="string")return{role:"user",content:"",images:[ryt(t.image_url)]};if(t.image_url.url&&typeof t.image_url.url=="string")return{role:"user",content:"",images:[ryt(t.image_url.url)]}}throw new Error(`Unsupported content type: ${t.type}`)})}function kLr(e){if(typeof e.content=="string")return[{role:"system",content:e.content}];if(e.content.every(t=>t.type==="text"&&typeof t.text=="string"))return e.content.map(t=>({role:"system",content:t.text}));throw new Error(`Unsupported content type(s): ${e.content.map(t=>t.type).join(", ")}`)}function BLr(e){if(typeof e.content!="string")throw new Error("Non string tool message content is not supported");return[{role:"tool",content:e.content}]}function nyt(e){return e.flatMap(t=>{if(["human","generic"].includes(t._getType()))return FLr(t);if(t._getType()==="ai")return LLr(t);if(t._getType()==="system")return kLr(t);if(t._getType()==="tool")return BLr(t);throw new Error(`Unsupported message type: ${t._getType()}`)})}var GZ=class extends Qc{static lc_name(){return"ChatOllama"}constructor(t){super(t??{}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"llama3"}),Object.defineProperty(this,"numa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCtx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numBatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mainGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowVram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"f16Kv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitsAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vocabOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMmap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embeddingOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numThread",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numKeep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numPredict",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tfsZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"typicalP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatLastN",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatTau",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatEta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"penalizeNewline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:"5m"}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"checkOrPullModel",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://127.0.0.1:11434"}),this.client=new eR({host:t?.baseUrl,headers:t?.headers}),this.baseUrl=t?.baseUrl??this.baseUrl,this.model=t?.model??this.model,this.numa=t?.numa,this.numCtx=t?.numCtx,this.numBatch=t?.numBatch,this.numGpu=t?.numGpu,this.mainGpu=t?.mainGpu,this.lowVram=t?.lowVram,this.f16Kv=t?.f16Kv,this.logitsAll=t?.logitsAll,this.vocabOnly=t?.vocabOnly,this.useMmap=t?.useMmap,this.useMlock=t?.useMlock,this.embeddingOnly=t?.embeddingOnly,this.numThread=t?.numThread,this.numKeep=t?.numKeep,this.seed=t?.seed,this.numPredict=t?.numPredict,this.topK=t?.topK,this.topP=t?.topP,this.tfsZ=t?.tfsZ,this.typicalP=t?.typicalP,this.repeatLastN=t?.repeatLastN,this.temperature=t?.temperature,this.repeatPenalty=t?.repeatPenalty,this.presencePenalty=t?.presencePenalty,this.frequencyPenalty=t?.frequencyPenalty,this.mirostat=t?.mirostat,this.mirostatTau=t?.mirostatTau,this.mirostatEta=t?.mirostatEta,this.penalizeNewline=t?.penalizeNewline,this.streaming=t?.streaming,this.format=t?.format,this.keepAlive=t?.keepAlive??this.keepAlive,this.checkOrPullModel=t?.checkOrPullModel??this.checkOrPullModel}_llmType(){return"ollama"}async pull(t,r){let{stream:n,insecure:o,logProgress:i}={stream:!0,...r};if(n)for await(let a of await this.client.pull({model:t,insecure:o,stream:n}))i&&console.log(a);else{let a=await this.client.pull({model:t,insecure:o});i&&console.log(a)}}bindTools(t,r){return this.bind({tools:t.map(n=>tF(n)),...r})}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"ollama",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.options?.temperature??void 0,ls_max_tokens:r.options?.num_predict??void 0,ls_stop:t.stop}}invocationParams(t){if(t?.tool_choice)throw new Error("Tool choice is not supported for ChatOllama.");return{model:this.model,format:this.format,keep_alive:this.keepAlive,options:{numa:this.numa,num_ctx:this.numCtx,num_batch:this.numBatch,num_gpu:this.numGpu,main_gpu:this.mainGpu,low_vram:this.lowVram,f16_kv:this.f16Kv,logits_all:this.logitsAll,vocab_only:this.vocabOnly,use_mmap:this.useMmap,use_mlock:this.useMlock,embedding_only:this.embeddingOnly,num_thread:this.numThread,num_keep:this.numKeep,seed:this.seed,num_predict:this.numPredict,top_k:this.topK,top_p:this.topP,tfs_z:this.tfsZ,typical_p:this.typicalP,repeat_last_n:this.repeatLastN,temperature:this.temperature,repeat_penalty:this.repeatPenalty,presence_penalty:this.presencePenalty,frequency_penalty:this.frequencyPenalty,mirostat:this.mirostat,mirostat_tau:this.mirostatTau,mirostat_eta:this.mirostatEta,penalize_newline:this.penalizeNewline,stop:t?.stop},tools:t?.tools?.length?t.tools.map(r=>tF(r)):void 0}}async checkModelExistsOnMachine(t){let{models:r}=await this.client.list();return!!r.find(n=>n.name===t||n.name===`${t}:latest`)}async _generate(t,r,n){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let o;for await(let a of this._streamResponseChunks(t,r,n))o?o=al(o,a.message):o=a.message;let i=new Po({id:o?.id,content:o?.content??"",tool_calls:o?.tool_calls,response_metadata:o?.response_metadata,usage_metadata:o?.usage_metadata});return{generations:[{text:typeof i.content=="string"?i.content:"",message:i}]}}async*_streamResponseChunks(t,r,n){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let o=this.invocationParams(r),i=nyt(t),a={input_tokens:0,output_tokens:0,total_tokens:0};if(o.tools&&o.tools.length>0){let l=await this.client.chat({...o,messages:i,stream:!1}),{message:c,...d}=l;return a.input_tokens+=d.prompt_eval_count??0,a.output_tokens+=d.eval_count??0,a.total_tokens=a.input_tokens+a.output_tokens,yield new oi({text:c.content,message:$Se(c,{responseMetadata:d,usageMetadata:a})}),n?.handleLLMNewToken(c.content)}let s=await this.client.chat({...o,messages:i,stream:!0}),u;for await(let l of s){r.signal?.aborted&&this.client.abort();let{message:c,...d}=l;a.input_tokens+=d.prompt_eval_count??0,a.output_tokens+=d.eval_count??0,a.total_tokens=a.input_tokens+a.output_tokens,u=d,yield new oi({text:c.content??"",message:$Se(c)}),await n?.handleLLMNewToken(c.content??"")}yield new oi({text:"",message:new Jr({content:"",response_metadata:u,usage_metadata:a})})}};var KZ=class extends Sp{constructor(t){super({maxConcurrency:1,...t}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mxbai-embed-large"}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://localhost:11434"}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:"5m"}),Object.defineProperty(this,"requestOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"truncate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.client=new eR({host:t?.baseUrl,headers:t?.headers}),this.baseUrl=t?.baseUrl??this.baseUrl,this.model=t?.model??this.model,this.keepAlive=t?.keepAlive??this.keepAlive,this.truncate=t?.truncate??this.truncate,this.requestOptions=t?.requestOptions?this._convertOptions(t?.requestOptions):void 0}_convertOptions(t){let r={},n={embeddingOnly:"embedding_only",frequencyPenalty:"frequency_penalty",keepAlive:"keep_alive",logitsAll:"logits_all",lowVram:"low_vram",mainGpu:"main_gpu",mirostat:"mirostat",mirostatEta:"mirostat_eta",mirostatTau:"mirostat_tau",numBatch:"num_batch",numCtx:"num_ctx",numGpu:"num_gpu",numKeep:"num_keep",numPredict:"num_predict",numThread:"num_thread",penalizeNewline:"penalize_newline",presencePenalty:"presence_penalty",repeatLastN:"repeat_last_n",repeatPenalty:"repeat_penalty",temperature:"temperature",stop:"stop",tfsZ:"tfs_z",topK:"top_k",topP:"top_p",typicalP:"typical_p",useMlock:"use_mlock",useMmap:"use_mmap",vocabOnly:"vocab_only",f16Kv:"f16_kv",numa:"numa",seed:"seed"};for(let[o,i]of Object.entries(t)){let a=n[o];a&&(r[a]=i)}return r}async embedDocuments(t){return this.embeddingWithRetry(t)}async embedQuery(t){return(await this.embeddingWithRetry([t]))[0]}async embeddingWithRetry(t){return(await this.caller.call(()=>this.client.embed({model:this.model,input:t,keep_alive:this.keepAlive,options:this.requestOptions,truncate:this.truncate}))).embeddings}};kh();var YZ="RFC3986",ZZ={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},oyt="RFC1738";var $Lr=Array.isArray,_w=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();var qSe=1024,iyt=(e,t,r,n,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});let a="";for(let s=0;s<i.length;s+=qSe){let u=i.length>=qSe?i.slice(s,s+qSe):i,l=[];for(let c=0;c<u.length;++c){let d=u.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===oyt&&(d===40||d===41)){l[l.length]=u.charAt(c);continue}if(d<128){l[l.length]=_w[d];continue}if(d<2048){l[l.length]=_w[192|d>>6]+_w[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=_w[224|d>>12]+_w[128|d>>6&63]+_w[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|u.charCodeAt(c)&1023),l[l.length]=_w[240|d>>18]+_w[128|d>>12&63]+_w[128|d>>6&63]+_w[128|d&63]}a+=l.join("")}return a};function ayt(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function USe(e,t){if($Lr(e)){let r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}var qLr=Object.prototype.hasOwnProperty,syt={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},vw=Array.isArray,ULr=Array.prototype.push,uyt=function(e,t){ULr.apply(e,vw(t)?t:[t])},zLr=Date.prototype.toISOString,Ju={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:iyt,encodeValuesOnly:!1,format:YZ,formatter:ZZ[YZ],indices:!1,serializeDate(e){return zLr.call(e)},skipNulls:!1,strictNullHandling:!1};function HLr(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}var zSe={};function lyt(e,t,r,n,o,i,a,s,u,l,c,d,f,p,h,m,_,g){let v=e,S=g,x=0,O=!1;for(;(S=S.get(zSe))!==void 0&&!O;){let j=S.get(e);if(x+=1,typeof j<"u"){if(j===x)throw new RangeError("Cyclic object value");O=!0}typeof S.get(zSe)>"u"&&(x=0)}if(typeof l=="function"?v=l(t,v):v instanceof Date?v=f?.(v):r==="comma"&&vw(v)&&(v=USe(v,function(j){return j instanceof Date?f?.(j):j})),v===null){if(i)return u&&!m?u(t,Ju.encoder,_,"key",p):t;v=""}if(HLr(v)||ayt(v)){if(u){let j=m?t:u(t,Ju.encoder,_,"key",p);return[h?.(j)+"="+h?.(u(v,Ju.encoder,_,"value",p))]}return[h?.(t)+"="+h?.(String(v))]}let T=[];if(typeof v>"u")return T;let E;if(r==="comma"&&vw(v))m&&u&&(v=USe(v,u)),E=[{value:v.length>0?v.join(",")||null:void 0}];else if(vw(l))E=l;else{let j=Object.keys(v);E=c?j.sort(c):j}let M=s?String(t).replace(/\./g,"%2E"):String(t),A=n&&vw(v)&&v.length===1?M+"[]":M;if(o&&vw(v)&&v.length===0)return A+"[]";for(let j=0;j<E.length;++j){let N=E[j],F=typeof N=="object"&&typeof N.value<"u"?N.value:v[N];if(a&&F===null)continue;let k=d&&s?N.replace(/\./g,"%2E"):N,L=vw(v)?typeof r=="function"?r(A,k):A:A+(d?"."+k:"["+k+"]");g.set(e,x);let q=new WeakMap;q.set(zSe,g),uyt(T,lyt(F,L,r,n,o,i,a,s,r==="comma"&&m&&vw(v)?null:u,l,c,d,f,p,h,m,_,q))}return T}function VLr(e=Ju){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");let t=e.charset||Ju.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=YZ;if(typeof e.format<"u"){if(!qLr.call(ZZ,e.format))throw new TypeError("Unknown format option provided.");r=e.format}let n=ZZ[r],o=Ju.filter;(typeof e.filter=="function"||vw(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in syt?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=Ju.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Ju.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ju.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ju.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ju.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ju.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ju.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ju.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ju.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ju.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ju.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ju.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ju.strictNullHandling}}function HSe(e,t={}){let r=e,n=VLr(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):vw(n.filter)&&(i=n.filter,o=i);let a=[];if(typeof r!="object"||r===null)return"";let s=syt[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);let l=new WeakMap;for(let f=0;f<o.length;++f){let p=o[f];n.skipNulls&&r[p]===null||uyt(a,lyt(r[p],p,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let c=a.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}var tR="4.83.0";var cyt=!1,rR,VSe,JLr,GLr,KLr,WSe,YLr,XZ,JSe,GSe,KSe,QZ,YSe;function dyt(e,t={auto:!1}){if(cyt)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(rR)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${rR}'\``);cyt=t.auto,rR=e.kind,VSe=e.fetch,JLr=e.Request,GLr=e.Response,KLr=e.Headers,WSe=e.FormData,YLr=e.Blob,XZ=e.File,JSe=e.ReadableStream,GSe=e.getMultipartRequestOptions,KSe=e.getDefaultAgent,QZ=e.fileFromPath,YSe=e.isFsReadStream}var eX=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function fyt({manuallyImported:e}={}){let t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new eX(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}rR||dyt(fyt(),{auto:!0});var qt=class extends Error{},fs=class e extends qt{constructor(t,r,n,o){super(`${e.makeMessage(t,r,n)}`),this.status=t,this.headers=o,this.request_id=o?.["x-request-id"],this.error=r;let i=r;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(t,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,n,o){if(!t||!o)return new jx({message:n,cause:tX(r)});let i=r?.error;return t===400?new iF(t,i,n,o):t===401?new aF(t,i,n,o):t===403?new sF(t,i,n,o):t===404?new uF(t,i,n,o):t===409?new lF(t,i,n,o):t===422?new cF(t,i,n,o):t===429?new dF(t,i,n,o):t>=500?new fF(t,i,n,o):new e(t,i,n,o)}},Xa=class extends fs{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},jx=class extends fs{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}},gg=class extends jx{constructor({message:t}={}){super({message:t??"Request timed out."})}},iF=class extends fs{},aF=class extends fs{},sF=class extends fs{},uF=class extends fs{},lF=class extends fs{},cF=class extends fs{},dF=class extends fs{},fF=class extends fs{},pF=class extends qt{constructor(){super("Could not parse response content as the length limit was reached")}},hF=class extends qt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};var nR=class e{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=e.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(e.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new qt(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new qt(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new qt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};nR.NEWLINE_CHARS=new Set([`
`,"\r"]);nR.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZSe(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){let r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var ww=class e{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(let a of QLr(t,r))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(s&&s.error)throw new fs(void 0,s.error,void 0,void 0);yield s}else{let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(a.event=="error")throw new fs(void 0,s.error,s.message,void 0);yield{event:a.event,data:s}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new e(o,r)}static fromReadableStream(t,r){let n=!1;async function*o(){let a=new nR,s=ZSe(t);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new e(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(r),this.controller)]}toReadableStream(){let t=this,r,n=new TextEncoder;return new JSe({async start(){r=t[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}};async function*QLr(e,t){if(!e.body)throw t.abort(),new qt("Attempted to iterate over a response with no body");let r=new XSe,n=new nR,o=ZSe(e.body);for await(let i of eFr(o))for(let a of n.decode(i)){let s=r.decode(a);s&&(yield s)}for(let i of n.flush()){let a=r.decode(i);a&&(yield a)}}async function*eFr(e){let t=new Uint8Array;for await(let r of e){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r,o=new Uint8Array(t.length+n.length);o.set(t),o.set(n,t.length),t=o;let i;for(;(i=tFr(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function tFr(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}var XSe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=rFr(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}};function rFr(e,t){let r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}var pyt=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",hyt=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&f4(e),f4=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",nFr=e=>hyt(e)||pyt(e)||YSe(e);async function txe(e,t,r){if(e=await e,hyt(e))return e;if(pyt(e)){let o=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let i=f4(o)?[await o.arrayBuffer()]:[o];return new XZ(i,t,r)}let n=await oFr(e);if(t||(t=aFr(e)??"unknown_file"),!r?.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new XZ(n,t,r)}async function oFr(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(f4(e))t.push(await e.arrayBuffer());else if(sFr(e))for await(let r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${iFr(e)}`);return t}function iFr(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function aFr(e){return QSe(e.name)||QSe(e.filename)||QSe(e.path)?.split(/[\\/]/).pop()}var QSe=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},sFr=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",rxe=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var Bh=async e=>{let t=await myt(e.body);return GSe(t,e)},myt=async e=>{let t=new WSe;return await Promise.all(Object.entries(e||{}).map(([r,n])=>exe(t,r,n))),t};var exe=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(nFr(r)){let n=await txe(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>exe(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>exe(e,`${t}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var lFr=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},cFr=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},rX;async function wyt(e){let{response:t}=e;if(e.options.stream)return mF("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):ww.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await t.json();return mF("response",t.status,t.url,t.headers,i),Syt(i,t)}let o=await t.text();return mF("response",t.status,t.url,t.headers,o),o}function Syt(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var oX=class e extends Promise{constructor(t,r=wyt){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new e(this.responsePromise,async r=>Syt(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},iX=class{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=nxe("maxRetries",r),this.timeout=nxe("timeout",n),this.httpAgent=o,this.fetch=i??VSe}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...mFr(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${_Fr()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&f4(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:t,path:r,...o,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){t={...t};let{method:n,path:o,query:i,headers:a={}}=t,s=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:rxe(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,u=this.calculateContentLength(s),l=this.buildURL(o,i);"timeout"in t&&nxe("timeout",t.timeout),t.timeout=t.timeout??this.timeout;let c=t.httpAgent??this.httpAgent??KSe(l),d=t.timeout+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);let f=this.buildHeaders({options:t,headers:a,contentLength:u,retryCount:r});return{req:{method:n,...s&&{body:s},headers:f,...c&&{agent:c},signal:t.signal??null},url:l,timeout:t.timeout}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:o}){let i={};n&&(i["content-length"]=n);let a=this.defaultHeaders(t);return _yt(i,a),_yt(i,r),rxe(t.body)&&rR!=="node"&&delete i["content-type"],nX(a,"x-stainless-retry-count")===void 0&&nX(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),nX(a,"x-stainless-timeout")===void 0&&nX(r,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,o){return fs.generate(t,r,n,o)}request(t,r=null){return new oX(this.makeRequest(t,r))}async makeRequest(t,r){let n=await t,o=n.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(n);let{req:i,url:a,timeout:s}=this.buildRequest(n,{retryCount:o-r});if(await this.prepareRequest(i,{url:a,options:n}),mF("request",a,n,i.headers),n.signal?.aborted)throw new Xa;let u=new AbortController,l=await this.fetchWithTimeout(a,i,s,u).catch(tX);if(l instanceof Error){if(n.signal?.aborted)throw new Xa;if(r)return this.retryRequest(n,r);throw l.name==="AbortError"?new gg:new jx({cause:l})}let c=dFr(l.headers);if(!l.ok){if(r&&this.shouldRetry(l)){let _=`retrying, ${r} attempts remaining`;return mF(`response (error; ${_})`,l.status,a,c),this.retryRequest(n,r,c)}let d=await l.text().catch(_=>tX(_).message),f=gFr(d),p=f?void 0:d;throw mF(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,l.status,a,c,p),this.makeStatusError(l.status,f,p,c)}return{response:l,options:n,controller:u}}requestAPIList(t,r){let n=this.makeRequest(r,null);return new oxe(this,n,t)}buildURL(t,r){let n=bFr(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return xyt(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new qt(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n),u={signal:o.signal,...a};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,t,u).finally(()=>{clearTimeout(s)})}shouldRetry(t){let r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await Nx(o),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){let i=r-t,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${tR}`}},p4=class{constructor(t,r,n,o){rX.set(this,void 0),lFr(this,rX,t,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let t=this.nextPageInfo();if(!t)throw new qt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){let n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(let[o,i]of n)t.url.searchParams.set(o,i);r.query=void 0,r.path=t.url.toString()}return await cFr(this,rX,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(rX=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let r of t.getPaginatedItems())yield r}},oxe=class extends oX{constructor(t,r,n){super(r,async o=>new n(t,o.response,await wyt(o),o.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let r of t)yield r}},dFr=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){let n=r.toString();return t[n.toLowerCase()]||t[n]}}),fFr={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ui=e=>typeof e=="object"&&e!==null&&!xyt(e)&&Object.keys(e).every(t=>Cyt(fFr,t)),pFr=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tR,"X-Stainless-OS":yyt(Deno.build.os),"X-Stainless-Arch":gyt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tR,"X-Stainless-OS":yyt(process.platform),"X-Stainless-Arch":gyt(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=hFr();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hFr(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:r}of e){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:t,version:`${o}.${i}.${a}`}}}return null}var gyt=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",yyt=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),byt,mFr=()=>byt??(byt=pFr()),gFr=e=>{try{return JSON.parse(e)}catch{return}},yFr=/^[a-z][a-z0-9+.-]*:/i,bFr=e=>yFr.test(e),Nx=e=>new Promise(t=>setTimeout(t,e)),nxe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new qt(`${e} must be an integer`);if(t<0)throw new qt(`${e} must be a positive integer`);return t},tX=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)};var h4=e=>{if(typeof process<"u")return process.env?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function xyt(e){if(!e)return!0;for(let t in e)return!1;return!0}function Cyt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _yt(e,t){for(let r in t){if(!Cyt(t,r))continue;let n=r.toLowerCase();if(!n)continue;let o=t[r];o===null?delete e[n]:o!==void 0&&(e[n]=o)}}var vyt=new Set(["authorization","api-key"]);function mF(e,...t){if(typeof process<"u"&&process?.env?.DEBUG==="true"){let r=t.map(n=>{if(!n)return n;if(n.headers){let i={...n,headers:{...n.headers}};for(let a in n.headers)vyt.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let o=null;for(let i in n)vyt.has(i.toLowerCase())&&(o??(o={...n}),o[i]="REDACTED");return o??n});console.log(`OpenAI:DEBUG:${e}`,...r)}}var _Fr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Oyt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",vFr=e=>typeof e?.get=="function";var nX=(e,t)=>{let r=t.toLowerCase();if(vFr(e)){let n=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(o,i,a)=>i+a.toUpperCase());for(let o of[t,r,t.toUpperCase(),n]){let i=e.get(o);if(i)return i}}for(let[n,o]of Object.entries(e))if(n.toLowerCase()===r)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o};function m4(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}var aX=class extends p4{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}},pa=class extends p4{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){let t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;let r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){let t=this.getPaginatedItems();if(!t.length)return null;let r=t[t.length-1]?.id;return r?{params:{after:r}}:null}};var ut=class{constructor(t){this._client=t}};var gF=class extends ut{create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}};var hP=class extends ut{constructor(){super(...arguments),this.completions=new gF(this._client)}};hP.Completions=gF;var yF=class extends ut{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:{Accept:"application/octet-stream",...r?.headers},__binaryResponse:!0})}};var bF=class extends ut{create(t,r){return this._client.post("/audio/transcriptions",Bh({body:t,...r,__metadata:{model:t.model}}))}};var _F=class extends ut{create(t,r){return this._client.post("/audio/translations",Bh({body:t,...r,__metadata:{model:t.model}}))}};var Sw=class extends ut{constructor(){super(...arguments),this.transcriptions=new bF(this._client),this.translations=new _F(this._client),this.speech=new yF(this._client)}};Sw.Transcriptions=bF;Sw.Translations=_F;Sw.Speech=yF;var mP=class extends ut{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return ui(t)?this.list({},t):this._client.getAPIList("/batches",iR,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}},iR=class extends pa{};mP.BatchesPage=iR;var aR=class extends ut{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(t,r,n){return this._client.post(`/assistants/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t={},r){return ui(t)?this.list({},t):this._client.getAPIList("/assistants",vF,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}},vF=class extends pa{};aR.AssistantsPage=vF;function ixe(e){return typeof e.parse=="function"}var gP=e=>e?.role==="assistant",axe=e=>e?.role==="function",sxe=e=>e?.role==="tool";var yg=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},ha=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},uxe,sX,uX,g4,y4,lX,b4,Lx,_4,cX,dX,wF,Eyt,SF=class{constructor(){uxe.add(this),this.controller=new AbortController,sX.set(this,void 0),uX.set(this,()=>{}),g4.set(this,()=>{}),y4.set(this,void 0),lX.set(this,()=>{}),b4.set(this,()=>{}),Lx.set(this,{}),_4.set(this,!1),cX.set(this,!1),dX.set(this,!1),wF.set(this,!1),yg(this,sX,new Promise((t,r)=>{yg(this,uX,t,"f"),yg(this,g4,r,"f")}),"f"),yg(this,y4,new Promise((t,r)=>{yg(this,lX,t,"f"),yg(this,b4,r,"f")}),"f"),ha(this,sX,"f").catch(()=>{}),ha(this,y4,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ha(this,uxe,"m",Eyt).bind(this))},0)}_connected(){this.ended||(ha(this,uX,"f").call(this),this._emit("connect"))}get ended(){return ha(this,_4,"f")}get errored(){return ha(this,cX,"f")}get aborted(){return ha(this,dX,"f")}abort(){this.controller.abort()}on(t,r){return(ha(this,Lx,"f")[t]||(ha(this,Lx,"f")[t]=[])).push({listener:r}),this}off(t,r){let n=ha(this,Lx,"f")[t];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(t,r){return(ha(this,Lx,"f")[t]||(ha(this,Lx,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{yg(this,wF,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){yg(this,wF,!0,"f"),await ha(this,y4,"f")}_emit(t,...r){if(ha(this,_4,"f"))return;t==="end"&&(yg(this,_4,!0,"f"),ha(this,lX,"f").call(this));let n=ha(this,Lx,"f")[t];if(n&&(ha(this,Lx,"f")[t]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),t==="abort"){let o=r[0];!ha(this,wF,"f")&&!n?.length&&Promise.reject(o),ha(this,g4,"f").call(this,o),ha(this,b4,"f").call(this,o),this._emit("end");return}if(t==="error"){let o=r[0];!ha(this,wF,"f")&&!n?.length&&Promise.reject(o),ha(this,g4,"f").call(this,o),ha(this,b4,"f").call(this,o),this._emit("end")}}_emitFinal(){}};sX=new WeakMap,uX=new WeakMap,g4=new WeakMap,y4=new WeakMap,lX=new WeakMap,b4=new WeakMap,Lx=new WeakMap,_4=new WeakMap,cX=new WeakMap,dX=new WeakMap,wF=new WeakMap,uxe=new WeakSet,Eyt=function(t){if(yg(this,cX,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Xa),t instanceof Xa)return yg(this,dX,!0,"f"),this._emit("abort",t);if(t instanceof qt)return this._emit("error",t);if(t instanceof Error){let r=new qt(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new qt(String(t)))};function Pyt(e,t){let r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r}function lxe(e){return e?.$brand==="auto-parseable-response-format"}function Tyt(e,{parser:t,callback:r}){let n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n}function sR(e){return e?.$brand==="auto-parseable-tool"}function Myt(e,t){return!t||!cxe(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,tool_calls:r.message.tool_calls??[]}}))}:v4(e,t)}function v4(e,t){let r=e.choices.map(n=>{if(n.finish_reason==="length")throw new pF;if(n.finish_reason==="content_filter")throw new hF;return{...n,message:{...n.message,tool_calls:n.message.tool_calls?.map(o=>PFr(t,o))??[],parsed:n.message.content&&!n.message.refusal?EFr(t,n.message.content):null}}});return{...e,choices:r}}function EFr(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function PFr(e,t){let r=e.tools?.find(n=>n.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:sR(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function Iyt(e,t){if(!e)return!1;let r=e.tools?.find(n=>n.function?.name===t.function.name);return sR(r)||r?.function.strict||!1}function cxe(e){return lxe(e.response_format)?!0:e.tools?.some(t=>sR(t)||t.type==="function"&&t.function.strict===!0)??!1}function Ayt(e){for(let t of e??[]){if(t.type!=="function")throw new qt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new qt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Rf=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},td,dxe,fX,fxe,pxe,hxe,Dyt,mxe,Ryt=10,xF=class extends SF{constructor(){super(...arguments),td.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);let r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(axe(t)||sxe(t))&&t.content)this._emit("functionCallResult",t.content);else if(gP(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(gP(t)&&t.tool_calls)for(let n of t.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();let t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new qt("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Rf(this,td,"m",dxe).call(this)}async finalMessage(){return await this.done(),Rf(this,td,"m",fX).call(this)}async finalFunctionCall(){return await this.done(),Rf(this,td,"m",fxe).call(this)}async finalFunctionCallResult(){return await this.done(),Rf(this,td,"m",pxe).call(this)}async totalUsage(){return await this.done(),Rf(this,td,"m",hxe).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);let r=Rf(this,td,"m",fX).call(this);r&&this._emit("finalMessage",r);let n=Rf(this,td,"m",dxe).call(this);n&&this._emit("finalContent",n);let o=Rf(this,td,"m",fxe).call(this);o&&this._emit("finalFunctionCall",o);let i=Rf(this,td,"m",pxe).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Rf(this,td,"m",hxe).call(this))}async _createChatCompletion(t,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Rf(this,td,"m",Dyt).call(this,r);let i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(v4(i,r))}async _runChatCompletion(t,r,n){for(let o of r.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,r,n)}async _runFunctions(t,r,n){let o="function",{function_call:i="auto",stream:a,...s}=r,u=typeof i!="string"&&i?.name,{maxChatCompletions:l=Ryt}=n||{},c={};for(let f of r.functions)c[f.name||f.function.name]=f;let d=r.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(let f of r.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let h=(await this._createChatCompletion(t,{...s,function_call:i,functions:d,messages:[...this.messages]},n)).choices[0]?.message;if(!h)throw new qt("missing message in ChatCompletion response");if(!h.function_call)return;let{name:m,arguments:_}=h.function_call,g=c[m];if(g){if(u&&u!==m){let O=`Invalid function_call: ${JSON.stringify(m)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,name:m,content:O});continue}}else{let O=`Invalid function_call: ${JSON.stringify(m)}. Available options are: ${d.map(T=>JSON.stringify(T.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:m,content:O});continue}let v;try{v=ixe(g)?await g.parse(_):_}catch(O){this._addMessage({role:o,name:m,content:O instanceof Error?O.message:String(O)});continue}let S=await g.function(v,this),x=Rf(this,td,"m",mxe).call(this,S);if(this._addMessage({role:o,name:m,content:x}),u)return}}async _runTools(t,r,n){let o="tool",{tool_choice:i="auto",stream:a,...s}=r,u=typeof i!="string"&&i?.function?.name,{maxChatCompletions:l=Ryt}=n||{},c=r.tools.map(p=>{if(sR(p)){if(!p.$callback)throw new qt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:p.$callback,name:p.function.name,description:p.function.description||"",parameters:p.function.parameters,parse:p.$parseRaw,strict:!0}}}return p}),d={};for(let p of c)p.type==="function"&&(d[p.function.name||p.function.function.name]=p.function);let f="tools"in r?c.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description,strict:p.function.strict}}:p):void 0;for(let p of r.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){let m=(await this._createChatCompletion(t,{...s,tool_choice:i,tools:f,messages:[...this.messages]},n)).choices[0]?.message;if(!m)throw new qt("missing message in ChatCompletion response");if(!m.tool_calls?.length)return;for(let _ of m.tool_calls){if(_.type!=="function")continue;let g=_.id,{name:v,arguments:S}=_.function,x=d[v];if(x){if(u&&u!==v){let M=`Invalid tool_call: ${JSON.stringify(v)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,tool_call_id:g,content:M});continue}}else{let M=`Invalid tool_call: ${JSON.stringify(v)}. Available options are: ${Object.keys(d).map(A=>JSON.stringify(A)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:g,content:M});continue}let O;try{O=ixe(x)?await x.parse(S):S}catch(M){let A=M instanceof Error?M.message:String(M);this._addMessage({role:o,tool_call_id:g,content:A});continue}let T=await x.function(O,this),E=Rf(this,td,"m",mxe).call(this,T);if(this._addMessage({role:o,tool_call_id:g,content:E}),u)return}}}};td=new WeakSet,dxe=function(){return Rf(this,td,"m",fX).call(this).content??null},fX=function(){let t=this.messages.length;for(;t-- >0;){let r=this.messages[t];if(gP(r)){let{function_call:n,...o}=r,i={...o,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new qt("stream ended without producing a ChatCompletionMessage with role=assistant")},fxe=function(){for(let t=this.messages.length-1;t>=0;t--){let r=this.messages[t];if(gP(r)&&r?.function_call)return r.function_call;if(gP(r)&&r?.tool_calls?.length)return r.tool_calls.at(-1)?.function}},pxe=function(){for(let t=this.messages.length-1;t>=0;t--){let r=this.messages[t];if(axe(r)&&r.content!=null||sxe(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(o=>o.type==="function"&&o.id===r.tool_call_id)))return r.content}},hxe=function(){let t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},Dyt=function(t){if(t.n!=null&&t.n>1)throw new qt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},mxe=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};var w4=class e extends xF{static runFunctions(t,r,n){let o=new e,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){let o=new e,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}_addMessage(t,r=!0){super._addMessage(t,r),gP(t)&&t.content&&this._emit("content",t.content)}};var bl={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},gxe=class extends Error{},yxe=class extends Error{};function TFr(e,t=bl.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return MFr(e.trim(),t)}var MFr=(e,t)=>{let r=e.length,n=0,o=f=>{throw new gxe(`${f} at position ${n}`)},i=f=>{throw new yxe(`${f} at position ${n}`)},a=()=>(d(),n>=r&&o("Unexpected end of input"),e[n]==='"'?s():e[n]==="{"?u():e[n]==="["?l():e.substring(n,n+4)==="null"||bl.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||bl.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||bl.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||bl.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||bl.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||bl.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):c()),s=()=>{let f=n,p=!1;for(n++;n<r&&(e[n]!=='"'||p&&e[n-1]==="\\");)p=e[n]==="\\"?!p:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(f,++n-Number(p)))}catch(h){i(String(h))}else if(bl.STR&t)try{return JSON.parse(e.substring(f,n-Number(p))+'"')}catch{return JSON.parse(e.substring(f,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},u=()=>{n++,d();let f={};try{for(;e[n]!=="}";){if(d(),n>=r&&bl.OBJ&t)return f;let p=s();d(),n++;try{let h=a();Object.defineProperty(f,p,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(bl.OBJ&t)return f;throw h}d(),e[n]===","&&n++}}catch{if(bl.OBJ&t)return f;o("Expected '}' at end of object")}return n++,f},l=()=>{n++;let f=[];try{for(;e[n]!=="]";)f.push(a()),d(),e[n]===","&&n++}catch{if(bl.ARR&t)return f;o("Expected ']' at end of array")}return n++,f},c=()=>{if(n===0){e==="-"&&bl.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(bl.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}let f=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(bl.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(f,n))}catch{e.substring(f,n)==="-"&&bl.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(f,e.lastIndexOf("e")))}catch(h){i(String(h))}}},d=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},bxe=e=>TFr(e,bl.ALL^bl.NUM);var CF=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Vo=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gu,Fx,OF,yP,_xe,pX,vxe,wxe,Sxe,hX,xxe,jyt,EF=class e extends xF{constructor(t){super(),Gu.add(this),Fx.set(this,void 0),OF.set(this,void 0),yP.set(this,void 0),CF(this,Fx,t,"f"),CF(this,OF,[],"f")}get currentChatCompletionSnapshot(){return Vo(this,yP,"f")}static fromReadableStream(t){let r=new e(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){let o=new e(r);return o._run(()=>o._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,r,n){super._createChatCompletion;let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Vo(this,Gu,"m",_xe).call(this);let i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)Vo(this,Gu,"m",vxe).call(this,a);if(i.controller.signal?.aborted)throw new Xa;return this._addChatCompletion(Vo(this,Gu,"m",hX).call(this))}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Vo(this,Gu,"m",_xe).call(this),this._connected();let o=ww.fromReadableStream(t,this.controller),i;for await(let a of o)i&&i!==a.id&&this._addChatCompletion(Vo(this,Gu,"m",hX).call(this)),Vo(this,Gu,"m",vxe).call(this,a),i=a.id;if(o.controller.signal?.aborted)throw new Xa;return this._addChatCompletion(Vo(this,Gu,"m",hX).call(this))}[(Fx=new WeakMap,OF=new WeakMap,yP=new WeakMap,Gu=new WeakSet,_xe=function(){this.ended||CF(this,yP,void 0,"f")},pX=function(r){let n=Vo(this,OF,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Vo(this,OF,"f")[r.index]=n,n)},vxe=function(r){if(this.ended)return;let n=Vo(this,Gu,"m",jyt).call(this,r);this._emit("chunk",r,n);for(let o of r.choices){let i=n.choices[o.index];o.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",o.delta.content,i.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),o.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:i.message.refusal}),o.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:i.logprobs?.content??[]}),o.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});let a=Vo(this,Gu,"m",pX).call(this,i);i.finish_reason&&(Vo(this,Gu,"m",Sxe).call(this,i),a.current_tool_call_index!=null&&Vo(this,Gu,"m",wxe).call(this,i,a.current_tool_call_index));for(let s of o.delta.tool_calls??[])a.current_tool_call_index!==s.index&&(Vo(this,Gu,"m",Sxe).call(this,i),a.current_tool_call_index!=null&&Vo(this,Gu,"m",wxe).call(this,i,a.current_tool_call_index)),a.current_tool_call_index=s.index;for(let s of o.delta.tool_calls??[]){let u=i.message.tool_calls?.[s.index];u?.type&&(u?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:u.function?.name,index:s.index,arguments:u.function.arguments,parsed_arguments:u.function.parsed_arguments,arguments_delta:s.function?.arguments??""}):(u?.type,void 0))}}},wxe=function(r,n){if(Vo(this,Gu,"m",pX).call(this,r).done_tool_calls.has(n))return;let i=r.message.tool_calls?.[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){let a=Vo(this,Fx,"f")?.tools?.find(s=>s.type==="function"&&s.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:sR(a)?a.$parseRaw(i.function.arguments):a?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Sxe=function(r){let n=Vo(this,Gu,"m",pX).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let o=Vo(this,Gu,"m",xxe).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},hX=function(){if(this.ended)throw new qt("stream has ended, this shouldn't happen");let r=Vo(this,yP,"f");if(!r)throw new qt("request ended without sending any chunks");return CF(this,yP,void 0,"f"),CF(this,OF,[],"f"),IFr(r,Vo(this,Fx,"f"))},xxe=function(){let r=Vo(this,Fx,"f")?.response_format;return lxe(r)?r:null},jyt=function(r){var n,o,i,a;let s=Vo(this,yP,"f"),{choices:u,...l}=r;s?Object.assign(s,l):s=CF(this,yP,{...l,choices:[]},"f");for(let{delta:c,finish_reason:d,index:f,logprobs:p=null,...h}of r.choices){let m=s.choices[f];if(m||(m=s.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...h}),p)if(!m.logprobs)m.logprobs=Object.assign({},p);else{let{content:T,refusal:E,...M}=p;Object.assign(m.logprobs,M),T&&((n=m.logprobs).content??(n.content=[]),m.logprobs.content.push(...T)),E&&((o=m.logprobs).refusal??(o.refusal=[]),m.logprobs.refusal.push(...E))}if(d&&(m.finish_reason=d,Vo(this,Fx,"f")&&cxe(Vo(this,Fx,"f")))){if(d==="length")throw new pF;if(d==="content_filter")throw new hF}if(Object.assign(m,h),!c)continue;let{content:_,refusal:g,function_call:v,role:S,tool_calls:x,...O}=c;if(Object.assign(m.message,O),g&&(m.message.refusal=(m.message.refusal||"")+g),S&&(m.message.role=S),v&&(m.message.function_call?(v.name&&(m.message.function_call.name=v.name),v.arguments&&((i=m.message.function_call).arguments??(i.arguments=""),m.message.function_call.arguments+=v.arguments)):m.message.function_call=v),_&&(m.message.content=(m.message.content||"")+_,!m.message.refusal&&Vo(this,Gu,"m",xxe).call(this)&&(m.message.parsed=bxe(m.message.content))),x){m.message.tool_calls||(m.message.tool_calls=[]);for(let{index:T,id:E,type:M,function:A,...j}of x){let N=(a=m.message.tool_calls)[T]??(a[T]={});Object.assign(N,j),E&&(N.id=E),M&&(N.type=M),A&&(N.function??(N.function={name:A.name??"",arguments:""})),A?.name&&(N.function.name=A.name),A?.arguments&&(N.function.arguments+=A.arguments,Iyt(Vo(this,Fx,"f"),N)&&(N.function.parsed_arguments=bxe(N.function.arguments)))}}}return s},Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("chunk",o=>{let i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ww(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function IFr(e,t){let{id:r,choices:n,created:o,model:i,system_fingerprint:a,...s}=e,u={...s,id:r,choices:n.map(({message:l,finish_reason:c,index:d,logprobs:f,...p})=>{if(!c)throw new qt(`missing finish_reason for choice ${d}`);let{content:h=null,function_call:m,tool_calls:_,...g}=l,v=l.role;if(!v)throw new qt(`missing role for choice ${d}`);if(m){let{arguments:S,name:x}=m;if(S==null)throw new qt(`missing function_call.arguments for choice ${d}`);if(!x)throw new qt(`missing function_call.name for choice ${d}`);return{...p,message:{content:h,function_call:{arguments:S,name:x},role:v,refusal:l.refusal??null},finish_reason:c,index:d,logprobs:f}}return _?{...p,index:d,finish_reason:c,logprobs:f,message:{...g,role:v,content:h,refusal:l.refusal??null,tool_calls:_.map((S,x)=>{let{function:O,type:T,id:E,...M}=S,{arguments:A,name:j,...N}=O||{};if(E==null)throw new qt(`missing choices[${d}].tool_calls[${x}].id
${mX(e)}`);if(T==null)throw new qt(`missing choices[${d}].tool_calls[${x}].type
${mX(e)}`);if(j==null)throw new qt(`missing choices[${d}].tool_calls[${x}].function.name
${mX(e)}`);if(A==null)throw new qt(`missing choices[${d}].tool_calls[${x}].function.arguments
${mX(e)}`);return{...M,id:E,type:T,function:{...N,name:j,arguments:A}}})}}:{...p,message:{...g,content:h,role:v,refusal:l.refusal??null},finish_reason:c,index:d,logprobs:f}}),created:o,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Myt(u,t)}function mX(e){return JSON.stringify(e)}var S4=class e extends EF{static fromReadableStream(t){let r=new e(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,n){let o=new e(null),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){let o=new e(r),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}};var x4=class extends ut{parse(t,r){return Ayt(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>v4(n,t))}runFunctions(t,r){return t.stream?S4.runFunctions(this._client,t,r):w4.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?S4.runTools(this._client,t,r):w4.runTools(this._client,t,r)}stream(t,r){return EF.createChatCompletion(this._client,t,r)}};var PF=class extends ut{constructor(){super(...arguments),this.completions=new x4(this._client)}};(function(e){e.Completions=x4})(PF||(PF={}));var TF=class extends ut{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}};var uR=class extends ut{constructor(){super(...arguments),this.sessions=new TF(this._client)}};uR.Sessions=TF;var St=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},xp=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},oc,Cxe,xw,gX,bg,cR,MF,lR,_X,Cp,yX,bX,E4,C4,O4,Nyt,Lyt,Fyt,kyt,Byt,$yt,qyt,Cw=class e extends SF{constructor(){super(...arguments),oc.add(this),Cxe.set(this,[]),xw.set(this,{}),gX.set(this,{}),bg.set(this,void 0),cR.set(this,void 0),MF.set(this,void 0),lR.set(this,void 0),_X.set(this,void 0),Cp.set(this,void 0),yX.set(this,void 0),bX.set(this,void 0),E4.set(this,void 0)}[(Cxe=new WeakMap,xw=new WeakMap,gX=new WeakMap,bg=new WeakMap,cR=new WeakMap,MF=new WeakMap,lR=new WeakMap,_X=new WeakMap,Cp=new WeakMap,yX=new WeakMap,bX=new WeakMap,E4=new WeakMap,oc=new WeakSet,Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("event",o=>{let i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){let r=new e;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let o=ww.fromReadableStream(t,this.controller);for await(let i of o)St(this,oc,"m",C4).call(this,i);if(o.controller.signal?.aborted)throw new Xa;return this._addRun(St(this,oc,"m",O4).call(this))}toReadableStream(){return new ww(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,o,i){let a=new e;return a._run(()=>a._runToolAssistantStream(t,r,n,o,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,r,n,o,i){let a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let s={...o,stream:!0},u=await t.submitToolOutputs(r,n,s,{...i,signal:this.controller.signal});this._connected();for await(let l of u)St(this,oc,"m",C4).call(this,l);if(u.controller.signal?.aborted)throw new Xa;return this._addRun(St(this,oc,"m",O4).call(this))}static createThreadAssistantStream(t,r,n){let o=new e;return o._run(()=>o._threadAssistantStream(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,r,n,o){let i=new e;return i._run(()=>i._runAssistantStream(t,r,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return St(this,yX,"f")}currentRun(){return St(this,bX,"f")}currentMessageSnapshot(){return St(this,bg,"f")}currentRunStepSnapshot(){return St(this,E4,"f")}async finalRunSteps(){return await this.done(),Object.values(St(this,xw,"f"))}async finalMessages(){return await this.done(),Object.values(St(this,gX,"f"))}async finalRun(){if(await this.done(),!St(this,cR,"f"))throw Error("Final run was not received.");return St(this,cR,"f")}async _createThreadAssistantStream(t,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let i={...r,stream:!0},a=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(let s of a)St(this,oc,"m",C4).call(this,s);if(a.controller.signal?.aborted)throw new Xa;return this._addRun(St(this,oc,"m",O4).call(this))}async _createAssistantStream(t,r,n,o){let i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},s=await t.create(r,a,{...o,signal:this.controller.signal});this._connected();for await(let u of s)St(this,oc,"m",C4).call(this,u);if(s.controller.signal?.aborted)throw new Xa;return this._addRun(St(this,oc,"m",O4).call(this))}static accumulateDelta(t,r){for(let[n,o]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=o;continue}let i=t[n];if(i==null){t[n]=o;continue}if(n==="index"||n==="type"){t[n]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(m4(i)&&m4(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...o);continue}for(let a of o){if(!m4(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);let s=a.index;if(s==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof s!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);let u=i[s];u==null?i.push(a):i[s]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${o}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,o){return await this._createAssistantStream(r,t,n,o)}async _runToolAssistantStream(t,r,n,o,i){return await this._createToolAssistantStream(n,t,r,o,i)}};C4=function(t){if(!this.ended)switch(xp(this,yX,t,"f"),St(this,oc,"m",Fyt).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":St(this,oc,"m",qyt).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":St(this,oc,"m",Lyt).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":St(this,oc,"m",Nyt).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},O4=function(){if(this.ended)throw new qt("stream has ended, this shouldn't happen");if(!St(this,cR,"f"))throw Error("Final run has not been received");return St(this,cR,"f")},Nyt=function(t){let[r,n]=St(this,oc,"m",Byt).call(this,t,St(this,bg,"f"));xp(this,bg,r,"f"),St(this,gX,"f")[r.id]=r;for(let o of n){let i=r.content[o.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(let o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,a=r.content[o.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=St(this,MF,"f")){if(St(this,lR,"f"))switch(St(this,lR,"f").type){case"text":this._emit("textDone",St(this,lR,"f").text,St(this,bg,"f"));break;case"image_file":this._emit("imageFileDone",St(this,lR,"f").image_file,St(this,bg,"f"));break}xp(this,MF,o.index,"f")}xp(this,lR,r.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(St(this,MF,"f")!==void 0){let o=t.data.content[St(this,MF,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,St(this,bg,"f"));break;case"text":this._emit("textDone",o.text,St(this,bg,"f"));break}}St(this,bg,"f")&&this._emit("messageDone",t.data),xp(this,bg,void 0,"f")}},Lyt=function(t){let r=St(this,oc,"m",kyt).call(this,t);switch(xp(this,E4,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":let n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let i of n.step_details.tool_calls)i.index==St(this,_X,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(St(this,Cp,"f")&&this._emit("toolCallDone",St(this,Cp,"f")),xp(this,_X,i.index,"f"),xp(this,Cp,r.step_details.tool_calls[i.index],"f"),St(this,Cp,"f")&&this._emit("toolCallCreated",St(this,Cp,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":xp(this,E4,void 0,"f"),t.data.step_details.type=="tool_calls"&&St(this,Cp,"f")&&(this._emit("toolCallDone",St(this,Cp,"f")),xp(this,Cp,void 0,"f")),this._emit("runStepDone",t.data,r);break;case"thread.run.step.in_progress":break}},Fyt=function(t){St(this,Cxe,"f").push(t),this._emit("event",t)},kyt=function(t){switch(t.event){case"thread.run.step.created":return St(this,xw,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=St(this,xw,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){let o=Cw.accumulateDelta(r,n.delta);St(this,xw,"f")[t.data.id]=o}return St(this,xw,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":St(this,xw,"f")[t.data.id]=t.data;break}if(St(this,xw,"f")[t.data.id])return St(this,xw,"f")[t.data.id];throw new Error("No snapshot available")},Byt=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(let i of o.delta.content)if(i.index in r.content){let a=r.content[i.index];r.content[i.index]=St(this,oc,"m",$yt).call(this,i,a)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},$yt=function(t,r){return Cw.accumulateDelta(r,t)},qyt=function(t){switch(xp(this,bX,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":xp(this,cR,t.data,"f"),St(this,Cp,"f")&&(this._emit("toolCallDone",St(this,Cp,"f")),xp(this,Cp,void 0,"f"));break;case"thread.run.cancelling":break}};var dR=class extends ut{create(t,r,n){return this._client.post(`/threads/${t}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,r,n){return this._client.get(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/messages/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t,r={},n){return ui(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,IF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,r,n){return this._client.delete(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}},IF=class extends pa{};dR.MessagesPage=IF;var fR=class extends ut{retrieve(t,r,n,o={},i){return ui(o)?this.retrieve(t,r,n,{},o):this._client.get(`/threads/${t}/runs/${r}/steps/${n}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(t,r,n={},o){return ui(n)?this.list(t,r,{},n):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,AF,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}},AF=class extends pa{};fR.RunStepsPage=AF;var kx=class extends ut{constructor(){super(...arguments),this.steps=new fR(this._client)}create(t,r,n){let{include:o,...i}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:o},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:r.stream??!1})}retrieve(t,r,n){return this._client.get(`/threads/${t}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t,r={},n){return ui(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,RF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(t,r,n){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,r,n){let o=await this.create(t,r,n);return await this.poll(t,o.id,n)}createAndStream(t,r,n){return Cw.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let{data:i,response:a}=await this.retrieve(t,r,{...n,headers:{...n?.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=a.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await Nx(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,r,n){return Cw.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,r,n,o){let i=await this.submitToolOutputs(t,r,n,o);return await this.poll(t,i.id,o)}submitToolOutputsStream(t,r,n,o){return Cw.createToolAssistantStream(t,r,this._client.beta.threads.runs,n,o)}},RF=class extends pa{};kx.RunsPage=RF;kx.Steps=fR;kx.RunStepsPage=AF;var Ow=class extends ut{constructor(){super(...arguments),this.runs=new kx(this._client),this.messages=new dR(this._client)}create(t={},r){return ui(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(t,r,n){return this._client.post(`/threads/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){let n=await this.createAndRun(t,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(t,r){return Cw.createThreadAssistantStream(t,this._client.beta.threads,r)}};Ow.Runs=kx;Ow.RunsPage=RF;Ow.Messages=dR;Ow.MessagesPage=IF;var Uyt=async e=>{let t=await Promise.allSettled(e),r=t.filter(o=>o.status==="rejected");if(r.length){for(let o of r)console.error(o.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let o of t)o.status==="fulfilled"&&n.push(o.value);return n};var pR=class extends ut{create(t,r,n){return this._client.post(`/vector_stores/${t}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t,r={},n){return ui(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,bP,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(t,r,n){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,r,n){let o=await this.create(t,r,n);return await this.poll(t,o.id,n)}async poll(t,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let i=await this.retrieve(t,r,{...n,headers:o}).withResponse(),a=i.data;switch(a.status){case"in_progress":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=i.response.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await Nx(s);break;case"failed":case"completed":return a}}}async upload(t,r,n){let o=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:o.id},n)}async uploadAndPoll(t,r,n){let o=await this.upload(t,r,n);return await this.poll(t,o.id,n)}},bP=class extends pa{};pR.VectorStoreFilesPage=bP;var DF=class extends ut{create(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(t,r,n){let o=await this.create(t,r);return await this.poll(t,o.id,n)}listFiles(t,r,n={},o){return ui(n)?this.listFiles(t,r,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,bP,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}async poll(t,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let{data:i,response:a}=await this.retrieve(t,r,{...n,headers:o}).withResponse();switch(i.status){case"in_progress":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=a.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await Nx(s);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},o){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let i=o?.maxConcurrency??5,a=Math.min(i,r.length),s=this._client,u=r.values(),l=[...n];async function c(f){for(let p of f){let h=await s.files.create({file:p,purpose:"assistants"},o);l.push(h.id)}}let d=Array(a).fill(u).map(c);return await Uyt(d),await this.createAndPoll(t,{file_ids:l})}};var Ew=class extends ut{constructor(){super(...arguments),this.files=new pR(this._client),this.fileBatches=new DF(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(t,r,n){return this._client.post(`/vector_stores/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(t={},r){return ui(t)?this.list({},t):this._client.getAPIList("/vector_stores",jF,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}},jF=class extends pa{};Ew.VectorStoresPage=jF;Ew.Files=pR;Ew.VectorStoreFilesPage=bP;Ew.FileBatches=DF;var Op=class extends ut{constructor(){super(...arguments),this.realtime=new uR(this._client),this.vectorStores=new Ew(this._client),this.chat=new PF(this._client),this.assistants=new aR(this._client),this.threads=new Ow(this._client)}};Op.Realtime=uR;Op.VectorStores=Ew;Op.VectorStoresPage=jF;Op.Assistants=aR;Op.AssistantsPage=vF;Op.Threads=Ow;var hR=class extends ut{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}};var mR=class extends ut{create(t,r){return this._client.post("/embeddings",{body:t,...r})}};var _P=class extends ut{create(t,r){return this._client.post("/files",Bh({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return ui(t)?this.list({},t):this._client.getAPIList("/files",gR,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r?.headers},__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,r)}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){let o=new Set(["processed","error","deleted"]),i=Date.now(),a=await this.retrieve(t);for(;!a.status||!o.has(a.status);)if(await Nx(r),a=await this.retrieve(t),Date.now()-i>n)throw new gg({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}},gR=class extends pa{};_P.FileObjectsPage=gR;var yR=class extends ut{list(t,r={},n){return ui(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,NF,{query:r,...n})}},NF=class extends pa{};yR.FineTuningJobCheckpointsPage=NF;var Pw=class extends ut{constructor(){super(...arguments),this.checkpoints=new yR(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return ui(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",LF,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return ui(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,FF,{query:r,...n})}},LF=class extends pa{},FF=class extends pa{};Pw.FineTuningJobsPage=LF;Pw.FineTuningJobEventsPage=FF;Pw.Checkpoints=yR;Pw.FineTuningJobCheckpointsPage=NF;var Tw=class extends ut{constructor(){super(...arguments),this.jobs=new Pw(this._client)}};Tw.Jobs=Pw;Tw.FineTuningJobsPage=LF;Tw.FineTuningJobEventsPage=FF;var bR=class extends ut{createVariation(t,r){return this._client.post("/images/variations",Bh({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",Bh({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}};var vP=class extends ut{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",_R,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}},_R=class extends aX{};vP.ModelsPage=_R;var vR=class extends ut{create(t,r){return this._client.post("/moderations",{body:t,...r})}};var kF=class extends ut{create(t,r,n){return this._client.post(`/uploads/${t}/parts`,Bh({body:r,...n}))}};var wP=class extends ut{constructor(){super(...arguments),this.parts=new kF(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(`/uploads/${t}/complete`,{body:r,...n})}};wP.Parts=kF;var zyt,Mr=class extends iX{constructor({baseURL:t=h4("OPENAI_BASE_URL"),apiKey:r=h4("OPENAI_API_KEY"),organization:n=h4("OPENAI_ORG_ID")??null,project:o=h4("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new qt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let a={apiKey:r,organization:n,project:o,...i,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Oyt())throw new qt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new hR(this),this.chat=new hP(this),this.embeddings=new mR(this),this.files=new _P(this),this.images=new bR(this),this.audio=new Sw(this),this.moderations=new vR(this),this.models=new vP(this),this.fineTuning=new Tw(this),this.beta=new Op(this),this.batches=new mP(this),this.uploads=new wP(this),this._options=a,this.apiKey=r,this.organization=n,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return HSe(t,{arrayFormat:"brackets"})}};zyt=Mr;Mr.OpenAI=zyt;Mr.DEFAULT_TIMEOUT=6e5;Mr.OpenAIError=qt;Mr.APIError=fs;Mr.APIConnectionError=jx;Mr.APIConnectionTimeoutError=gg;Mr.APIUserAbortError=Xa;Mr.NotFoundError=uF;Mr.ConflictError=lF;Mr.RateLimitError=dF;Mr.BadRequestError=iF;Mr.AuthenticationError=aF;Mr.InternalServerError=fF;Mr.PermissionDeniedError=sF;Mr.UnprocessableEntityError=cF;Mr.toFile=txe;Mr.fileFromPath=QZ;Mr.Completions=hR;Mr.Chat=hP;Mr.Embeddings=mR;Mr.Files=_P;Mr.FileObjectsPage=gR;Mr.Images=bR;Mr.Audio=Sw;Mr.Moderations=vR;Mr.Models=vP;Mr.ModelsPage=_R;Mr.FineTuning=Tw;Mr.Beta=Op;Mr.Batches=mP;Mr.BatchesPage=iR;Mr.Uploads=wP;kh();Dx();IS();SO();$D();Due();wO();BM();function wR(e,t){if(e.function===void 0)return;let r;if(t?.partial)try{r=RD(e.function.arguments??"{}")}catch{return}else try{r=JSON.parse(e.function.arguments)}catch(o){throw new ep([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${o.message}`].join(`
`))}let n={name:e.function.name,args:r,type:"tool_call"};return t?.returnId&&(n.id=e.id),n}function BF(e){if(e.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function $F(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t,type:"invalid_tool_call"}}var Oxe=class extends WM{static lc_name(){return"JsonOutputToolsParser"}constructor(t){super(t),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=t?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(t){return await this.parsePartialResult(t,!1)}async parsePartialResult(t,r=!0){let n=t[0].message,o;if(Fu(n)&&n.tool_calls?.length?o=n.tool_calls.map(a=>{let{id:s,...u}=a;return this.returnId?{id:s,...u}:u}):n.additional_kwargs.tool_calls!==void 0&&(o=JSON.parse(JSON.stringify(n.additional_kwargs.tool_calls)).map(s=>wR(s,{returnId:this.returnId,partial:r}))),!o)return[];let i=[];for(let a of o)if(a!==void 0){let s={type:a.name,args:a.args,id:a.id};i.push(s)}return i}},_g=class extends Oxe{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=t.keyName,this.returnSingle=t.returnSingle??this.returnSingle,this.zodSchema=t.zodSchema}async _validateResult(t){if(this.zodSchema===void 0)return t;let r=await this.zodSchema.safeParseAsync(t);if(r.success)return r.data;throw new ep(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(t,null,2))}async parsePartialResult(t){let n=(await super.parsePartialResult(t)).filter(i=>i.type===this.keyName),o=n;if(n.length)return this.returnId||(o=n.map(i=>i.args)),this.returnSingle?o[0]:o}async parseResult(t){let n=(await super.parsePartialResult(t,!1)).filter(a=>a.type===this.keyName),o=n;return n.length?(this.returnId||(o=n.map(a=>a.args)),this.returnSingle?this._validateResult(o[0]):await Promise.all(o.map(a=>this._validateResult(a)))):void 0}};oh();var Vyt=Symbol("Let zodToJsonSchema decide on which parser to use"),Hyt={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Wyt=e=>typeof e=="string"?{...Hyt,basePath:["#"],definitions:{},name:e}:{...Hyt,basePath:["#"],definitions:{},...e};var P4=e=>"_def"in e?e._def:e;function Jyt(e){if(!e)return!0;for(let t in e)return!1;return!0}var Gyt=e=>{let t=Wyt(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[P4(o),{def:P4(o),path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function Exe(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function bn(e,t,r,n,o){e[t]=r,Exe(e,t,n,o)}bd();function Kyt(){return{}}bd();function Yyt(e,t){let r={type:"array"};return e.type?._def?.typeName!==re.ZodAny&&(r.items=Ft(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&bn(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&bn(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(bn(r,"minItems",e.exactLength.value,e.exactLength.message,t),bn(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function Zyt(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?bn(r,"minimum",n.value,n.message,t):bn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),bn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?bn(r,"maximum",n.value,n.message,t):bn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),bn(r,"maximum",n.value,n.message,t));break;case"multipleOf":bn(r,"multipleOf",n.value,n.message,t);break}return r}function Xyt(){return{type:"boolean"}}function Qyt(e,t){return Ft(e.type._def,t)}var ebt=(e,t)=>Ft(e.innerType._def,t);function Pxe(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>Pxe(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return WFr(e,t)}}var WFr=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":bn(r,"minimum",n.value,n.message,t);break;case"max":bn(r,"maximum",n.value,n.message,t);break}return r};function tbt(e,t){return{...Ft(e.innerType._def,t),default:e.defaultValue()}}function rbt(e,t,r){return t.effectStrategy==="input"?Ft(e.schema._def,t,r):{}}function nbt(e){return{type:"string",enum:[...e.values]}}var JFr=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function obt(e,t){let r=[Ft(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ft(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(JFr(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}function ibt(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}bd();var Txe,SR={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Txe===void 0&&(Txe=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Txe),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function vX(e,t){let r={type:"string"};function n(o){return t.patternStrategy==="escape"?GFr(o):o}if(e.checks)for(let o of e.checks)switch(o.kind){case"min":bn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,t);break;case"max":bn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,t);break;case"email":switch(t.emailStrategy){case"format:email":vg(r,"email",o.message,t);break;case"format:idn-email":vg(r,"idn-email",o.message,t);break;case"pattern:zod":wg(r,SR.email,o.message,t);break}break;case"url":vg(r,"uri",o.message,t);break;case"uuid":vg(r,"uuid",o.message,t);break;case"regex":wg(r,o.regex,o.message,t);break;case"cuid":wg(r,SR.cuid,o.message,t);break;case"cuid2":wg(r,SR.cuid2,o.message,t);break;case"startsWith":wg(r,RegExp(`^${n(o.value)}`),o.message,t);break;case"endsWith":wg(r,RegExp(`${n(o.value)}$`),o.message,t);break;case"datetime":vg(r,"date-time",o.message,t);break;case"date":vg(r,"date",o.message,t);break;case"time":vg(r,"time",o.message,t);break;case"duration":vg(r,"duration",o.message,t);break;case"length":bn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,t),bn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,t);break;case"includes":{wg(r,RegExp(n(o.value)),o.message,t);break}case"ip":{o.version!=="v6"&&vg(r,"ipv4",o.message,t),o.version!=="v4"&&vg(r,"ipv6",o.message,t);break}case"emoji":wg(r,SR.emoji,o.message,t);break;case"ulid":{wg(r,SR.ulid,o.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{vg(r,"binary",o.message,t);break}case"contentEncoding:base64":{bn(r,"contentEncoding","base64",o.message,t);break}case"pattern:zod":{wg(r,SR.base64,o.message,t);break}}break}case"nanoid":wg(r,SR.nanoid,o.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}var GFr=e=>Array.from(e).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),vg=(e,t,r,n)=>{e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):bn(e,"format",t,r,n)},wg=(e,t,r,n)=>{e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:abt(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):bn(e,"pattern",abt(t,n),r,n)},abt=(e,t)=>{let r=typeof e=="function"?e():e;if(!t.applyRegexFlags||!r.flags)return r.source;let n={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},o=n.i?r.source.toLowerCase():r.source,i="",a=!1,s=!1,u=!1;for(let l=0;l<o.length;l++){if(a){i+=o[l],a=!1;continue}if(n.i){if(s){if(o[l].match(/[a-z]/)){u?(i+=o[l],i+=`${o[l-2]}-${o[l]}`.toUpperCase(),u=!1):o[l+1]==="-"&&o[l+2]?.match(/[a-z]/)?(i+=o[l],u=!0):i+=`${o[l]}${o[l].toUpperCase()}`;continue}}else if(o[l].match(/[a-z]/)){i+=`[${o[l]}${o[l].toUpperCase()}]`;continue}}if(n.m){if(o[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[l]==="."){i+=s?`${o[l]}\r
`:`[${o[l]}\r
]`;continue}i+=o[l],o[l]==="\\"?a=!0:s&&o[l]==="]"?s=!1:!s&&o[l]==="["&&(s=!0)}try{let l=new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return i};function wX(e,t){if(t.target==="openApi3"&&e.keyType?._def.typeName===re.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:Ft(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:Ft(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===re.ZodString&&e.keyType._def.checks?.length){let n=Object.entries(vX(e.keyType._def,t)).reduce((o,[i,a])=>i==="type"?o:{...o,[i]:a},{});return{...r,propertyNames:n}}else if(e.keyType?._def.typeName===re.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};return r}function sbt(e,t){if(t.mapStrategy==="record")return wX(e,t);let r=Ft(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=Ft(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function ubt(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}function lbt(){return{not:{}}}function cbt(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var T4={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function fbt(e,t){if(t.target==="openApi3")return dbt(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in T4&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=T4[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return dbt(e,t)}var dbt=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Ft(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function pbt(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:T4[e.innerType._def.typeName],nullable:!0}:{type:[T4[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=Ft(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Ft(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function hbt(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",Exe(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?bn(r,"minimum",n.value,n.message,t):bn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),bn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?bn(r,"maximum",n.value,n.message,t):bn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),bn(r,"maximum",n.value,n.message,t));break;case"multipleOf":bn(r,"multipleOf",n.value,n.message,t);break}return r}function KFr(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Ft(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Ft(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function mbt(e,t){let r={type:"object",...Object.entries(e.shape()).reduce((n,[o,i])=>{if(i===void 0||i._def===void 0)return n;let a=Ft(i._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});return a===void 0?n:{properties:{...n.properties,[o]:a},required:i.isOptional()&&!t.openaiStrictMode?n.required:[...n.required,o]}},{properties:{},required:[]}),additionalProperties:KFr(e,t)};return r.required.length||delete r.required,r}var gbt=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Ft(e.innerType._def,t);let r=Ft(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var ybt=(e,t)=>{if(t.pipeStrategy==="input")return Ft(e.in._def,t);if(t.pipeStrategy==="output")return Ft(e.out._def,t);let r=Ft(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Ft(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};function bbt(e,t){return Ft(e.type._def,t)}function _bt(e,t){let n={type:"array",uniqueItems:!0,items:Ft(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&bn(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&bn(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function vbt(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Ft(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Ft(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Ft(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function wbt(){return{not:{}}}function Sbt(){return{}}var xbt=(e,t)=>Ft(e.innerType._def,t);function Ft(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==Vyt)return a}if(n&&!r){let a=YFr(n,t);if(a!==void 0)return"$ref"in a&&t.seenRefs.add(a.$ref),a}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=XFr(e,e.typeName,t,r);return i&&QFr(e,t,i),o.jsonSchema=i,i}var YFr=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":let r=e.path.slice(t.basePath.length+1).join("_");return r!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[r]=e.def),{$ref:[...t.basePath,t.definitionPath,r].join("/")};case"relative":return{$ref:ZFr(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,o)=>t.currentPath[o]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},ZFr=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},XFr=(e,t,r,n)=>{switch(t){case re.ZodString:return vX(e,r);case re.ZodNumber:return hbt(e,r);case re.ZodObject:return mbt(e,r);case re.ZodBigInt:return Zyt(e,r);case re.ZodBoolean:return Xyt();case re.ZodDate:return Pxe(e,r);case re.ZodUndefined:return wbt();case re.ZodNull:return cbt(r);case re.ZodArray:return Yyt(e,r);case re.ZodUnion:case re.ZodDiscriminatedUnion:return fbt(e,r);case re.ZodIntersection:return obt(e,r);case re.ZodTuple:return vbt(e,r);case re.ZodRecord:return wX(e,r);case re.ZodLiteral:return ibt(e,r);case re.ZodEnum:return nbt(e);case re.ZodNativeEnum:return ubt(e);case re.ZodNullable:return pbt(e,r);case re.ZodOptional:return gbt(e,r);case re.ZodMap:return sbt(e,r);case re.ZodSet:return _bt(e,r);case re.ZodLazy:return Ft(e.getter()._def,r);case re.ZodPromise:return bbt(e,r);case re.ZodNaN:case re.ZodNever:return lbt();case re.ZodEffects:return rbt(e,r,n);case re.ZodAny:return Kyt();case re.ZodUnknown:return Sbt();case re.ZodDefault:return tbt(e,r);case re.ZodBranded:return Qyt(e,r);case re.ZodReadonly:return xbt(e,r);case re.ZodCatch:return ebt(e,r);case re.ZodPipeline:return ybt(e,r);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(o=>{})(t)}},QFr=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var Cbt=(e,t)=>{let r=Gyt(t),n=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=Ft(e._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??{},i=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;i!==void 0&&(o.title=i);let a=(()=>{if(Jyt(r.definitions))return;let u={},l=new Set;for(let c=0;c<500;c++){let d=Object.entries(r.definitions).filter(([f])=>!l.has(f));if(d.length===0)break;for(let[f,p]of d)u[f]=Ft(P4(p),{...r,currentPath:[...r.basePath,r.definitionPath,f]},!0)??{},l.add(f)}return u})(),s=n===void 0?a?{...o,[r.definitionPath]:a}:o:r.nameStrategy==="duplicate-ref"?{...o,...a||r.seenRefs.size?{[r.definitionPath]:{...a,...r.seenRefs.size?{[n]:o}:void 0}}:void 0}:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...a,[n]:o}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),s};function Obt(e,t){return Cbt(e,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function Ebt(e,t,r){return Pyt({type:"json_schema",json_schema:{...r,name:t,strict:!0,schema:Obt(e,{name:t})}},n=>e.parse(JSON.parse(n)))}function Pbt(e){return Tyt({type:"function",function:{name:e.name,parameters:Obt(e.parameters,{name:e.name}),strict:!0,...e.description?{description:e.description}:void 0}},{callback:e.function,parser:t=>e.parameters.parse(JSON.parse(t))})}function SP(e){let{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:r,azureOpenAIApiKey:n,azureOpenAIBasePath:o,baseURL:i,azureADTokenProvider:a,azureOpenAIEndpoint:s}=e;if((n||a)&&o&&t)return`${o}/${t}`;if((n||a)&&s&&t)return`${s}/openai/deployments/${t}`;if(n||a){if(!r)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${r}.openai.azure.com/openai/deployments/${t}`}return i}oh();function M4(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${t}/
`,e}function xR(e){let t;return e.constructor.name===gg.name?(t=new Error(e.message),t.name="TimeoutError"):e.constructor.name===Xa.name?(t=new Error(e.message),t.name="AbortError"):e.status===400&&e.message.includes("tool_calls")?t=M4(e,"INVALID_TOOL_RESULTS"):e.status===401?t=M4(e,"MODEL_AUTHENTICATION"):e.status===429?t=M4(e,"MODEL_RATE_LIMIT"):e.status===404?t=M4(e,"MODEL_NOT_FOUND"):t=e,t}function Tbt(e){if(e)return e==="any"||e==="required"?"required":e==="auto"?"auto":e==="none"?"none":typeof e=="string"?{type:"function",function:{name:e}}:e}function ekr(e){return e.anyOf!==void 0&&Array.isArray(e.anyOf)}function Mbt(e){let t=["namespace functions {",""];for(let r of e)r.description&&t.push(`// ${r.description}`),Object.keys(r.parameters.properties??{}).length>0?(t.push(`type ${r.name} = (_: {`),t.push(Ibt(r.parameters,0)),t.push("}) => any;")):t.push(`type ${r.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join(`
`)}function Ibt(e,t){let r=[];for(let[n,o]of Object.entries(e.properties??{}))o.description&&t<2&&r.push(`// ${o.description}`),e.required?.includes(n)?r.push(`${n}: ${SX(o,t)},`):r.push(`${n}?: ${SX(o,t)},`);return r.map(n=>" ".repeat(t)+n).join(`
`)}function SX(e,t){if(ekr(e))return e.anyOf.map(r=>SX(r,t)).join(" | ");switch(e.type){case"string":return e.enum?e.enum.map(r=>`"${r}"`).join(" | "):"string";case"number":return e.enum?e.enum.map(r=>`${r}`).join(" | "):"number";case"integer":return e.enum?e.enum.map(r=>`${r}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",Ibt(e,t+2),"}"].join(`
`);case"array":return e.items?`${SX(e.items,t)}[]`:"any[]";default:return""}}function Abt(e,t){let r;if(hg(e)){let n=Pbt({name:e.name,parameters:e.schema,description:e.description});n.function.parameters?r={type:n.type,function:{name:n.function.name,description:n.function.description,parameters:n.function.parameters,...t?.strict!==void 0?{strict:t.strict}:{}}}:r={type:"function",function:jZ(e,t)}}else r=e;return t?.strict!==void 0&&(r.function.strict=t.strict),r}function tkr(e){return e.role!=="system"&&e.role!=="developer"&&e.role!=="assistant"&&e.role!=="user"&&e.role!=="function"&&e.role!=="tool"&&console.warn(`Unknown message role: ${e.role}`),e.role}function Dbt(e){let t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!xd.isInstance(e))throw new Error("Invalid generic chat message");return tkr(e)}default:throw new Error(`Unknown message type: ${t}`)}}function Mxe(e,t){return e.flatMap(r=>{let n=Dbt(r);n==="system"&&t?.startsWith("o1")&&(n="developer");let o={role:n,content:r.content};if(r.name!=null&&(o.name=r.name),r.additional_kwargs.function_call!=null&&(o.function_call=r.additional_kwargs.function_call,o.content=null),Fu(r)&&r.tool_calls?.length?(o.tool_calls=r.tool_calls.map(BF),o.content=null):(r.additional_kwargs.tool_calls!=null&&(o.tool_calls=r.additional_kwargs.tool_calls),r.tool_call_id!=null&&(o.tool_call_id=r.tool_call_id)),r.additional_kwargs.audio&&typeof r.additional_kwargs.audio=="object"&&"id"in r.additional_kwargs.audio){let i={role:"assistant",audio:{id:r.additional_kwargs.audio.id}};return[o,i]}return o})}function Rbt(e,t){return gw(e)?t?.strict!==void 0?{...e,function:{...e.function,strict:t.strict}}:e:Abt(e,t)}var Mw=class extends Qc{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning_effort"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key"}}constructor(t){super(t??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalities",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningEffort",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=t?.apiKey??t?.openAIApiKey??t?.configuration?.apiKey??Jt("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.organization=t?.configuration?.organization??Jt("OPENAI_ORGANIZATION"),this.model=t?.model??t?.modelName??this.model,this.modelName=this.model,this.modelKwargs=t?.modelKwargs??{},this.timeout=t?.timeout,this.temperature=t?.temperature??this.temperature,this.topP=t?.topP??this.topP,this.frequencyPenalty=t?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=t?.presencePenalty??this.presencePenalty,this.maxTokens=t?.maxTokens,this.logprobs=t?.logprobs,this.topLogprobs=t?.topLogprobs,this.n=t?.n??this.n,this.logitBias=t?.logitBias,this.stop=t?.stopSequences??t?.stop,this.stopSequences=this?.stop,this.user=t?.user,this.__includeRawResponse=t?.__includeRawResponse,this.audio=t?.audio,this.modalities=t?.modalities,this.reasoningEffort=t?.reasoningEffort,this.model==="o1"&&(this.disableStreaming=!0),this.streaming=t?.streaming??!1,this.streamUsage=t?.streamUsage??this.streamUsage,this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...t?.configuration},t?.supportsStrictToolCalling!==void 0&&(this.supportsStrictToolCalling=t.supportsStrictToolCalling)}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.max_tokens??void 0,ls_stop:t.stop}}bindTools(t,r){let n;return r?.strict!==void 0?n=r.strict:this.supportsStrictToolCalling!==void 0&&(n=this.supportsStrictToolCalling),this.bind({tools:t.map(o=>Rbt(o,{strict:n})),...r})}createResponseFormat(t){return t&&t.type==="json_schema"&&t.json_schema.schema&&xX(t.json_schema.schema)?Ebt(t.json_schema.schema,t.json_schema.name,{description:t.json_schema.description}):t}invocationParams(t,r){let n;t?.strict!==void 0?n=t.strict:this.supportsStrictToolCalling!==void 0&&(n=this.supportsStrictToolCalling);let o={};t?.stream_options!==void 0?o={stream_options:t.stream_options}:this.streamUsage&&(this.streaming||r?.streaming)&&(o={stream_options:{include_usage:!0}});let i={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:t?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:t?.functions,function_call:t?.function_call,tools:t?.tools?.length?t.tools.map(s=>Rbt(s,{strict:n})):void 0,tool_choice:Tbt(t?.tool_choice),response_format:this.createResponseFormat(t?.response_format),seed:t?.seed,...o,parallel_tool_calls:t?.parallel_tool_calls,...this.audio||t?.audio?{audio:this.audio||t?.audio}:{},...this.modalities||t?.modalities?{modalities:this.modalities||t?.modalities}:{},...this.modelKwargs};t?.prediction!==void 0&&(i.prediction=t.prediction);let a=t?.reasoning_effort??this.reasoningEffort;return a!==void 0&&(i.reasoning_effort=a),i}_convertOpenAIChatCompletionMessageToBaseMessage(t,r){let n=t.tool_calls;switch(t.role){case"assistant":{let o=[],i=[];for(let u of n??[])try{o.push(wR(u,{returnId:!0}))}catch(l){i.push($F(u,l.message))}let a={function_call:t.function_call,tool_calls:n};this.__includeRawResponse!==void 0&&(a.__raw_response=r);let s={model_name:r.model,...r.system_fingerprint?{usage:{...r.usage},system_fingerprint:r.system_fingerprint}:{}};return t.audio&&(a.audio=t.audio),new Po({content:t.content||"",tool_calls:o,invalid_tool_calls:i,additional_kwargs:a,response_metadata:s,id:r.id})}default:return new xd(t.content||"",t.role??"unknown")}}_convertOpenAIDeltaToBaseMessageChunk(t,r,n){let o=t.role??n,i=t.content??"",a;t.function_call?a={function_call:t.function_call}:t.tool_calls?a={tool_calls:t.tool_calls}:a={},this.__includeRawResponse&&(a.__raw_response=r),t.audio&&(a.audio={...t.audio,index:r.choices[0].index});let s={usage:{...r.usage}};if(o==="user")return new jm({content:i,response_metadata:s});if(o==="assistant"){let u=[];if(Array.isArray(t.tool_calls))for(let l of t.tool_calls)u.push({name:l.function?.name,args:l.function?.arguments,id:l.id,index:l.index,type:"tool_call_chunk"});return new Jr({content:i,tool_call_chunks:u,additional_kwargs:a,id:r.id,response_metadata:s})}else return o==="system"?new ry({content:i,response_metadata:s}):o==="developer"?new ry({content:i,response_metadata:s,additional_kwargs:{__openai_role__:"developer"}}):o==="function"?new wS({content:i,additional_kwargs:a,name:t.name,response_metadata:s}):o==="tool"?new mO({content:i,additional_kwargs:a,tool_call_id:t.tool_call_id,response_metadata:s}):new Dm({content:i,role:o,response_metadata:s})}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(t,r,n){let o=Mxe(t,this.model),i={...this.invocationParams(r,{streaming:!0}),messages:o,stream:!0},a,s=await this.completionWithRetry(i,r),u;for await(let l of s){let c=l?.choices?.[0];if(l.usage&&(u=l.usage),!c)continue;let{delta:d}=c;if(!d)continue;let f=this._convertOpenAIDeltaToBaseMessageChunk(d,l,a);a=d.role??a;let p={prompt:r.promptIndex??0,completion:c.index??0};if(typeof f.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}let h={...p};c.finish_reason!=null&&(h.finish_reason=c.finish_reason,h.system_fingerprint=l.system_fingerprint,h.model_name=l.model),this.logprobs&&(h.logprobs=c.logprobs);let m=new oi({message:f,text:f.content,generationInfo:h});yield m,await n?.handleLLMNewToken(m.text??"",p,void 0,void 0,void 0,{chunk:m})}if(u){let l={...u.prompt_tokens_details?.audio_tokens!==null&&{audio:u.prompt_tokens_details?.audio_tokens},...u.prompt_tokens_details?.cached_tokens!==null&&{cache_read:u.prompt_tokens_details?.cached_tokens}},c={...u.completion_tokens_details?.audio_tokens!==null&&{audio:u.completion_tokens_details?.audio_tokens},...u.completion_tokens_details?.reasoning_tokens!==null&&{reasoning:u.completion_tokens_details?.reasoning_tokens}};yield new oi({message:new Jr({content:"",response_metadata:{usage:{...u}},usage_metadata:{input_tokens:u.prompt_tokens,output_tokens:u.completion_tokens,total_tokens:u.total_tokens,...Object.keys(l).length>0&&{input_token_details:l},...Object.keys(c).length>0&&{output_token_details:c}}}),text:""})}if(r.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(t,r,n){let o={},i=this.invocationParams(r),a=Mxe(t,this.model);if(i.stream){let s=this._streamResponseChunks(t,r,n),u={};for await(let h of s){h.message.response_metadata={...h.generationInfo,...h.message.response_metadata};let m=h.generationInfo?.completion??0;u[m]===void 0?u[m]=h:u[m]=u[m].concat(h)}let l=Object.entries(u).sort(([h],[m])=>parseInt(h,10)-parseInt(m,10)).map(([h,m])=>m),{functions:c,function_call:d}=this.invocationParams(r),f=await this.getEstimatedTokenCountFromPrompt(t,c,d),p=await this.getNumTokensFromGenerations(l);return o.input_tokens=f,o.output_tokens=p,o.total_tokens=f+p,{generations:l,llmOutput:{estimatedTokenUsage:{promptTokens:o.input_tokens,completionTokens:o.output_tokens,totalTokens:o.total_tokens}}}}else{let s;r.response_format&&r.response_format.type==="json_schema"?s=await this.betaParsedCompletionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,...r?.options}):s=await this.completionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,...r?.options});let{completion_tokens:u,prompt_tokens:l,total_tokens:c,prompt_tokens_details:d,completion_tokens_details:f}=s?.usage??{};u&&(o.output_tokens=(o.output_tokens??0)+u),l&&(o.input_tokens=(o.input_tokens??0)+l),c&&(o.total_tokens=(o.total_tokens??0)+c),(d?.audio_tokens!==null||d?.cached_tokens!==null)&&(o.input_token_details={...d?.audio_tokens!==null&&{audio:d?.audio_tokens},...d?.cached_tokens!==null&&{cache_read:d?.cached_tokens}}),(f?.audio_tokens!==null||f?.reasoning_tokens!==null)&&(o.output_token_details={...f?.audio_tokens!==null&&{audio:f?.audio_tokens},...f?.reasoning_tokens!==null&&{reasoning:f?.reasoning_tokens}});let p=[];for(let h of s?.choices??[]){let _={text:h.message?.content??"",message:this._convertOpenAIChatCompletionMessageToBaseMessage(h.message??{role:"assistant"},s)};_.generationInfo={...h.finish_reason?{finish_reason:h.finish_reason}:{},...h.logprobs?{logprobs:h.logprobs}:{}},Fu(_.message)&&(_.message.usage_metadata=o),_.message=new Po(Object.fromEntries(Object.entries(_.message).filter(([g])=>!g.startsWith("lc_")))),p.push(_)}return{generations:p,llmOutput:{tokenUsage:{promptTokens:o.input_tokens,completionTokens:o.output_tokens,totalTokens:o.total_tokens}}}}}async getEstimatedTokenCountFromPrompt(t,r,n){let o=(await this.getNumTokensFromMessages(t)).totalCount;if(r&&n!=="auto"){let i=Mbt(r);o+=await this.getNumTokens(i),o+=9}return r&&t.find(i=>i._getType()==="system")&&(o-=4),n==="none"?o+=1:typeof n=="object"&&(o+=await this.getNumTokens(n.name)+4),o}async getNumTokensFromGenerations(t){return(await Promise.all(t.map(async n=>n.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([n.message])).countPerMessage[0]:await this.getNumTokens(n.message.content)))).reduce((n,o)=>n+o,0)}async getNumTokensFromMessages(t){let r=0,n=0,o=0;this.model==="gpt-3.5-turbo-0301"?(n=4,o=-1):(n=3,o=1);let i=await Promise.all(t.map(async a=>{let s=await this.getNumTokens(a.content),u=await this.getNumTokens(Dbt(a)),l=a.name!==void 0?o+await this.getNumTokens(a.name):0,c=s+n+u+l,d=a;if(d._getType()==="function"&&(c-=2),d.additional_kwargs?.function_call&&(c+=3),d?.additional_kwargs.function_call?.name&&(c+=await this.getNumTokens(d.additional_kwargs.function_call?.name)),d.additional_kwargs.function_call?.arguments)try{c+=await this.getNumTokens(JSON.stringify(JSON.parse(d.additional_kwargs.function_call?.arguments)))}catch(f){console.error("Error parsing function arguments",f,JSON.stringify(d.additional_kwargs.function_call)),c+=await this.getNumTokens(d.additional_kwargs.function_call?.arguments)}return r+=c,c}));return r+=3,{totalCount:r,countPerMessage:i}}async completionWithRetry(t,r){let n=this._getClientOptions(r);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(t,n)}catch(o){throw xR(o)}})}async betaParsedCompletionWithRetry(t,r){let n=this._getClientOptions(r);return this.caller.call(async()=>{try{return await this.client.beta.chat.completions.parse(t,n)}catch(o){throw xR(o)}})}_getClientOptions(t){if(!this.client){let n={baseURL:this.clientConfig.baseURL},o=SP(n),i={...this.clientConfig,baseURL:o,timeout:this.timeout,maxRetries:0};i.baseURL||delete i.baseURL,this.client=new Mr(i)}return{...this.clientConfig,...t}}_llmType(){return"openai"}_combineLLMOutput(...t){return t.reduce((r,n)=>(n&&n.tokenUsage&&(r.tokenUsage.completionTokens+=n.tokenUsage.completionTokens??0,r.tokenUsage.promptTokens+=n.tokenUsage.promptTokens??0,r.tokenUsage.totalTokens+=n.tokenUsage.totalTokens??0),r),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(t,r){let n,o,i,a;rkr(t)?(n=t.schema,o=t.name,i=t.method,a=t.includeRaw):(n=t,o=r?.name,i=r?.method,a=r?.includeRaw);let s,u;if(r?.strict!==void 0&&i==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"?i===void 0&&(i="jsonSchema"):i==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`),i==="jsonMode")s=this.bind({response_format:{type:"json_object"}}),xX(n)?u=PS.fromZodSchema(n):u=new TS;else if(i==="jsonSchema")s=this.bind({response_format:{type:"json_schema",json_schema:{name:o??"extract",description:n.description,schema:n,strict:r?.strict}}}),xX(n)?u=PS.fromZodSchema(n):u=new TS;else{let f=o??"extract";if(xX(n)){let p=Li(n);s=this.bind({tools:[{type:"function",function:{name:f,description:p.description,parameters:p}}],tool_choice:{type:"function",function:{name:f}},...r?.strict!==void 0?{strict:r.strict}:{}}),u=new _g({returnSingle:!0,keyName:f,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,f=n.name):(f=n.title??f,p={name:f,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:p}],tool_choice:{type:"function",function:{name:f}},...r?.strict!==void 0?{strict:r.strict}:{}}),u=new _g({returnSingle:!0,keyName:f})}}if(!a)return s.pipe(u);let l=Fi.assign({parsed:(f,p)=>u.invoke(f.raw,p)}),c=Fi.assign({parsed:()=>null}),d=l.withFallbacks({fallbacks:[c]});return Ha.from([{raw:s},d])}};function xX(e){return typeof e?.parse=="function"}function rkr(e){return e!==void 0&&typeof e.schema=="object"}Dx();kh();var Bx=class extends Sp{constructor(t){let r={maxConcurrency:2,...t};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let n=r?.apiKey??r?.openAIApiKey??Jt("OPENAI_API_KEY");this.organization=r?.configuration?.organization??Jt("OPENAI_ORGANIZATION"),this.model=r?.model??r?.modelName??this.model,this.modelName=this.model,this.batchSize=r?.batchSize??this.batchSize,this.stripNewLines=r?.stripNewLines??this.stripNewLines,this.timeout=r?.timeout,this.dimensions=r?.dimensions,this.clientConfig={apiKey:n,organization:this.organization,dangerouslyAllowBrowser:!0,...t?.configuration}}async embedDocuments(t){let r=mg(this.stripNewLines?t.map(a=>a.replace(/\n/g," ")):t,this.batchSize),n=r.map(a=>{let s={model:this.model,input:a};return this.dimensions&&(s.dimensions=this.dimensions),this.embeddingWithRetry(s)}),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],{data:u}=o[a];for(let l=0;l<s.length;l+=1)i.push(u[l].embedding)}return i}async embedQuery(t){let r={model:this.model,input:this.stripNewLines?t.replace(/\n/g," "):t};this.dimensions&&(r.dimensions=this.dimensions);let{data:n}=await this.embeddingWithRetry(r);return n[0].embedding}async embeddingWithRetry(t){if(!this.client){let n={baseURL:this.clientConfig.baseURL},o=SP(n),i={...this.clientConfig,baseURL:o,timeout:this.timeout,maxRetries:0};i.baseURL||delete i.baseURL,this.client=new Mr(i)}let r={};return this.caller.call(async()=>{try{return await this.client.embeddings.create(t,r)}catch(n){throw xR(n)}})}};bd();bO();a4();ny();DD();LD();fV();var CX=class extends QL{get lc_namespace(){return["langchain","tools"]}constructor(t){super(t??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"verboseParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"content"}),this.verboseParsingErrors=t?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=t?.responseFormat??this.responseFormat}async invoke(t,r){let n,o,i=Rr(r);return AD(t)?(n=t.id,o=t.args,i={...i,toolCall:t,configurable:{...i.configurable,tool_call_id:n}}):o=t,this.call(o,i)}async call(t,r,n){let o;try{o=await this.schema.parseAsync(t)}catch(p){let h="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(h=`${h}
Details: ${p.message}`),new ID(h,JSON.stringify(t))}let i=qM(r),s=await ns.configure(i.callbacks,this.callbacks,i.tags||n,this.tags,i.metadata,this.metadata,{verbose:this.verbose})?.handleToolStart(this.toJSON(),typeof o=="string"?o:JSON.stringify(o),i.runId,void 0,void 0,void 0,i.runName);delete i.runId;let u;try{u=await this._call(o,s,i)}catch(p){throw await s?.handleToolError(p),p}let l,c;if(this.responseFormat==="content_and_artifact")if(Array.isArray(u)&&u.length===2)[l,c]=u;else throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(u)}`);else l=u;let d;i&&"configurable"in i&&(d=i.configurable.tool_call_id);let f=nkr({content:l,artifact:c,toolCallId:d,name:this.name});return await s?.handleToolEnd(f),f}},I4=class extends CX{constructor(t){super(t),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:Er.object({input:Er.string().optional()}).transform(r=>r.input)})}call(t,r){return super.call(typeof t=="string"||!t?{input:t}:t,r)}},Ixe=class extends I4{static lc_name(){return"DynamicTool"}constructor(t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.description=t.description,this.func=t.func,this.returnDirect=t.returnDirect??this.returnDirect}async call(t,r){let n=qM(r);return n.runName===void 0&&(n.runName=this.name),super.call(t,n)}async _call(t,r,n){return this.func(t,r,n)}},Axe=class extends CX{static lc_name(){return"DynamicStructuredTool"}constructor(t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.description=t.description,this.func=t.func,this.returnDirect=t.returnDirect??this.returnDirect,this.schema=Af(t.schema)?t.schema:Er.object({}).passthrough()}async call(t,r,n){let o=qM(r);return o.runName===void 0&&(o.runName=this.name),super.call(t,o,n)}_call(t,r,n){return this.func(t,r,n)}};function Ep(e,t){if(!t.schema||Af(t.schema)&&(!("shape"in t.schema)||!t.schema.shape))return new Ixe({...t,description:t.description??t.schema?.description??`${t.name} tool`,func:async(n,o,i)=>new Promise((a,s)=>{let u=Ta(i,{callbacks:o?.getChild()});jc.runWithConfig(Xf(u),async()=>{try{a(e(n,u))}catch(l){s(l)}})})});let r=t.description??t.schema.description??`${t.name} tool`;return new Axe({...t,description:r,schema:t.schema,func:async(n,o,i)=>new Promise((a,s)=>{let u=Ta(i,{callbacks:o?.getChild()});jc.runWithConfig(Xf(u),async()=>{try{a(e(n,u))}catch(l){s(l)}})})})}function nkr(e){let{content:t,artifact:r,toolCallId:n}=e;return n&&!hLe(t)?typeof t=="string"||Array.isArray(t)&&t.every(o=>typeof o=="object")?new vS({content:t,artifact:r,tool_call_id:n,name:e.name}):new vS({content:okr(t),artifact:r,tool_call_id:n,name:e.name}):t}function okr(e){try{return JSON.stringify(e,null,2)}catch{return`${e}`}}var Rxe=class extends I4{static lc_name(){return"DallEAPIWrapper"}constructor(t){t?.responseFormat!==void 0&&["url","b64_json"].includes(t.responseFormat)&&(t.dallEResponseFormat=t.responseFormat,t.responseFormat="content"),super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description."}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"dall-e-3"}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:"vivid"}),Object.defineProperty(this,"quality",{enumerable:!0,configurable:!0,writable:!0,value:"standard"}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:"1024x1024"}),Object.defineProperty(this,"dallEResponseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"url"}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=t?.apiKey??t?.openAIApiKey??Jt("OPENAI_API_KEY"),n=t?.organization??Jt("OPENAI_ORGANIZATION"),o={apiKey:r,organization:n,dangerouslyAllowBrowser:!0,baseUrl:t?.baseUrl};this.client=new Mr(o),this.model=t?.model??t?.modelName??this.model,this.style=t?.style??this.style,this.quality=t?.quality??this.quality,this.n=t?.n??this.n,this.size=t?.size??this.size,this.dallEResponseFormat=t?.dallEResponseFormat??this.dallEResponseFormat,this.user=t?.user}processMultipleGeneratedUrls(t){return this.dallEResponseFormat==="url"?t.flatMap(r=>r.data.flatMap(o=>o.url?{type:"image_url",image_url:o.url}:[]).filter(o=>o!==void 0&&o.type==="image_url"&&typeof o.image_url=="string"&&o.image_url!==void 0)):t.flatMap(r=>r.data.flatMap(o=>o.b64_json?{type:"image_url",image_url:{url:o.b64_json}}:[]).filter(o=>o!==void 0&&o.type==="image_url"&&typeof o.image_url=="object"&&"url"in o.image_url&&typeof o.image_url.url=="string"&&o.image_url.url!==void 0))}async _call(t){let r={model:this.model,prompt:t,n:1,size:this.size,response_format:this.dallEResponseFormat,style:this.style,quality:this.quality,user:this.user};if(this.n>1){let i=await Promise.all(Array.from({length:this.n}).map(()=>this.client.images.generate(r)));return this.processMultipleGeneratedUrls(i)}let n=await this.client.images.generate(r),o="";return this.dallEResponseFormat==="url"?[o]=n.data.map(i=>i.url).filter(i=>i!=="undefined"):[o]=n.data.map(i=>i.b64_json).filter(i=>i!=="undefined"),o}};Object.defineProperty(Rxe,"toolName",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"});var jbt=require("obsidian");var OX=class extends Sp{constructor(t){let r={maxConcurrency:2,...t};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"jina-clip-v2"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:24}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"https://api.jina.ai/v1/embeddings"}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:1024}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"normalized",{enumerable:!0,configurable:!0,writable:!0,value:!0});let n=r?.apiKey||Jt("JINA_API_KEY")||Jt("JINA_AUTH_TOKEN");if(!n)throw new Error("Jina API key not found");this.apiKey=n,this.model=r?.model??this.model,this.dimensions=r?.dimensions??this.dimensions,this.batchSize=r?.batchSize??this.batchSize,this.stripNewLines=r?.stripNewLines??this.stripNewLines,this.normalized=r?.normalized??this.normalized}doStripNewLines(t){return this.stripNewLines?t.map(r=>typeof r=="string"?r.replace(/\n/g," "):r.text?{text:r.text.replace(/\n/g," ")}:r):t}async embedDocuments(t){let r=mg(this.doStripNewLines(t),this.batchSize),n=r.map(a=>{let s=this.getParams(a);return this.embeddingWithRetry(s)}),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],u=o[a]||[];for(let l=0;l<s.length;l+=1)i.push(u[l])}return i}async embedQuery(t){let r=this.getParams(this.doStripNewLines([t]),!0);return(await this.embeddingWithRetry(r)||[[]])[0]}getParams(t,r){return{model:this.model,input:t,dimensions:this.dimensions,task:r?"retrieval.query":"retrieval.passage",normalized:this.normalized}}async embeddingWithRetry(t){let n=await(await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(t)})).json();if("detail"in n&&n.detail)throw new Error(`${n.detail}`);return n.data.map(({embedding:o})=>o)}};var EX=class extends OX{constructor(t){super(t),t?.baseUrl&&(this.baseUrl=t.baseUrl)}};var ikr={"copilot-plus":Bx,"copilot-plus-jina":EX,openai:Bx,cohereai:BZ,google:VZ,"azure openai":Bx,ollama:KZ,"lm-studio":Bx,"3rd party (openai-format)":Bx},ps=class e{constructor(){this.providerApiKeyMap={"copilot-plus":()=>pe().plusLicenseKey,"copilot-plus-jina":()=>pe().plusLicenseKey,openai:()=>pe().openAIApiKey,cohereai:()=>pe().cohereApiKey,google:()=>pe().googleApiKey,"azure openai":()=>pe().azureOpenAIApiKey,ollama:()=>"default-key","lm-studio":()=>"default-key","3rd party (openai-format)":()=>""};this.initialize(),sl(()=>this.initialize())}initialize(){let t=pe().activeEmbeddingModels;this.activeEmbeddingModels=t,this.buildModelMap(t)}static getInstance(){return e.instance||(e.instance=new e),e.instance}getProviderConstructor(t){let r=ikr[t.provider];if(!r)throw console.warn(`Unknown provider: ${t.provider} for model: ${t.name}`),new Error(`Unknown provider: ${t.provider} for model: ${t.name}`);return r}buildModelMap(t){e.modelMap={};let r=e.modelMap;t.forEach(n=>{if(n.enabled){if(!Object.values(TO).contains(n.provider)){console.warn(`Unknown provider: ${n.provider} for embedding model: ${n.name}`);return}let o=this.getProviderConstructor(n),i=n.apiKey||this.providerApiKeyMap[n.provider](),a=Dr(n);r[a]={hasApiKey:!!i,EmbeddingConstructor:o,vendor:n.provider}}})}static getModelName(t){let r=t;if("model"in r&&r.model)return r.model;if("modelName"in r&&r.modelName)return r.modelName;throw new Error(`Embeddings instance missing model or modelName properties: ${t}`)}getCustomModel(t){return this.activeEmbeddingModels.filter(r=>{let n=Dr(r);return t===n})[0]}async getEmbeddingsAPI(){let{embeddingModelKey:t}=pe();if(!e.modelMap.hasOwnProperty(t))throw new dr(`No embedding model found for: ${t}`);let r=e.modelMap[t];if(!r.hasApiKey)throw new dr(`API key is not provided for the embedding model: ${t}`);let n=this.getCustomModel(t),o=await this.getEmbeddingConfig(n);try{return e.embeddingModel=new r.EmbeddingConstructor(o),e.embeddingModel}catch(i){throw new dr(`Error creating embedding model: ${t}. ${i.message}`)}}async getEmbeddingConfig(t){let r=pe(),n=t.name,o={maxRetries:3,maxConcurrency:3},a={"copilot-plus":{modelName:n,apiKey:await Zo(r.plusLicenseKey),timeout:1e4,batchSize:pe().embeddingBatchSize,configuration:{baseURL:nI,fetch:t.enableCors?kl:void 0}},"copilot-plus-jina":{model:n,apiKey:await Zo(r.plusLicenseKey),timeout:1e4,batchSize:pe().embeddingBatchSize,dimensions:t.dimensions,baseUrl:nI+"/embeddings",configuration:{fetch:t.enableCors?kl:void 0}},openai:{modelName:n,apiKey:await Zo(t.apiKey||r.openAIApiKey),timeout:1e4,batchSize:pe().embeddingBatchSize,configuration:{baseURL:t.baseUrl,fetch:t.enableCors?kl:void 0}},cohereai:{model:n,apiKey:await Zo(t.apiKey||r.cohereApiKey)},google:{modelName:n,apiKey:await Zo(r.googleApiKey)},"azure openai":{modelName:n,openAIApiKey:await Zo(t.apiKey||r.azureOpenAIApiKey),configuration:{baseURL:t.baseUrl||`https://${t.azureOpenAIApiInstanceName||r.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${t.azureOpenAIApiEmbeddingDeploymentName||r.azureOpenAIApiEmbeddingDeploymentName}`,defaultQuery:{"api-version":t.azureOpenAIApiVersion||r.azureOpenAIApiVersion},fetch:t.enableCors?kl:void 0}},ollama:{baseUrl:t.baseUrl||"http://localhost:11434",model:n,truncate:!0},"lm-studio":{modelName:n,openAIApiKey:await Zo(t.apiKey||"default-key"),configuration:{baseURL:t.baseUrl||"http://localhost:1234/v1",fetch:t.enableCors?kl:void 0}},"3rd party (openai-format)":{modelName:n,openAIApiKey:await Zo(t.apiKey||""),batchSize:pe().embeddingBatchSize,configuration:{baseURL:t.baseUrl,fetch:t.enableCors?kl:void 0,dangerouslyAllowBrowser:!0}}}[t.provider]||{};return{...o,...a}}async ping(t){let r=async n=>{let o={...t,enableCors:n},i=await this.getEmbeddingConfig(o);await new(this.getProviderConstructor(o))(i).embedQuery("test")};try{return await r(!1),!0}catch(n){console.log("First ping attempt failed, trying with CORS...");try{return await r(!0),new jbt.Notice("Connection successful, but requires CORS to be enabled. Please enable CORS for this model once you add it above."),!0}catch(o){let i=`
without CORS Error: `+bi(n)+`
with CORS Error: `+bi(o);throw new Error(i)}}}};var $4=require("obsidian");var Nbt={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Lbt={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},A4=Object.keys(Nbt);function Fbt(e){return e!==void 0&&A4.includes(e)?Nbt[e]:void 0}var akr=Date.now().toString().slice(5),skr=0;var kbt=BigInt(1e3),Bbt=BigInt(1e6),$bt=BigInt(1e9);var Dxe=65535;function Qo(e,t){if(t.length<Dxe)Array.prototype.push.apply(e,t);else{let r=t.length;for(let n=0;n<r;n+=Dxe)Array.prototype.push.apply(e,t.slice(n,n+Dxe))}}function Ubt(e,...t){return e.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...r){let n=r[r.length-1],{width:o,type:i,position:a}=n,s=a?t[Number.parseInt(a)-1]:t.shift(),u=o===""?0:Number.parseInt(o);switch(i){case"d":return s.toString().padStart(u,"0");case"f":{let l=s,[c,d]=o.split(".").map(f=>Number.parseFloat(f));return typeof d=="number"&&d>=0&&(l=l.toFixed(d)),typeof c=="number"&&c>=0?l.toString().padStart(u,"0"):l.toString()}case"s":return u<0?s.toString().padEnd(-u," "):s.toString().padStart(u," ");default:return s}})}function ukr(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function lkr(){return typeof process<"u"&&process.release&&process.release.name==="node"}function qbt(){return BigInt(Math.floor(performance.now()*1e6))}function CR(e){return typeof e=="number"&&(e=BigInt(e)),e<kbt?`${e}ns`:e<Bbt?`${e/kbt}\u03BCs`:e<$bt?`${e/Bbt}ms`:`${e/$bt}s`}function Sg(){return ukr()?qbt():lkr()||typeof process<"u"&&typeof process?.hrtime?.bigint=="function"?process.hrtime.bigint():typeof performance<"u"?qbt():BigInt(0)}function R4(){return`${akr}-${skr++}`}function qF(e,t){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0:Object.hasOwn(e,t)?e[t]:void 0}function zbt(e,t){return t[1]===e[1]?e[0]-t[0]:t[1]-e[1]}function UF(e){if(e.length===0)return[];if(e.length===1)return e[0];for(let r=1;r<e.length;r++)if(e[r].length<e[0].length){let n=e[0];e[0]=e[r],e[r]=n}let t=new Map;for(let r of e[0])t.set(r,1);for(let r=1;r<e.length;r++){let n=0;for(let o of e[r]){let i=t.get(o);i===r&&(t.set(o,i+1),n++)}if(n===0)return[]}return e[0].filter(r=>{let n=t.get(r);return n!==void 0&&t.set(r,0),n===e.length})}function PX(e,t){let r={},n=t.length;for(let o=0;o<n;o++){let i=t[o],a=i.split("."),s=e,u=a.length;for(let l=0;l<u;l++)if(s=s[a[l]],typeof s=="object"){if(s!==null&&"lat"in s&&"lon"in s&&typeof s.lat=="number"&&typeof s.lon=="number"){s=r[i]=s;break}else if(!Array.isArray(s)&&s!==null&&l===u-1){s=void 0;break}}else if((s===null||typeof s!="object")&&l<u-1){s=void 0;break}typeof s<"u"&&(r[i]=s)}return r}function zF(e,t){return PX(e,[t])[t]}var ckr={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function jxe(e,t){let r=ckr[t];if(r===void 0)throw new Error(bt("INVALID_DISTANCE_SUFFIX",e).message);return e*r}function TX(e,t){e.hits=e.hits.map(r=>({...r,document:{...r.document,...t.reduce((n,o)=>{let i=o.split("."),a=i.pop(),s=n;for(let u of i)s[u]=s[u]??{},s=s[u];return s[a]=null,n},r.document)}}))}function hs(e){return e?.constructor?.name==="AsyncFunction"}var dkr=A4.join(`
 - `),fkr={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${dkr}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:",PLUGIN_SECURE_PROXY_NOT_FOUND:`Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.
Please install it before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy
`,PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL:`Could not find a chat model defined in the secure proxy plugin configuration.
Please provide a chat model before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy
`,ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT:"The last message in the session is not an assistant message. Cannot regenerate non-assistant messages."};function bt(e,...t){let r=new Error(Ubt(fkr[e]??`Unsupported Orama Error code: ${e}`,...t));return r.code=e,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(r),r}function Hbt(e){return{raw:Number(e),formatted:CR(e)}}function Vbt(e){if(e.id){if(typeof e.id!="string")throw bt("DOCUMENT_ID_MUST_BE_STRING",typeof e.id);return e.id}return R4()}function Nxe(e,t){for(let[r,n]of Object.entries(t)){let o=e[r];if(!(typeof o>"u")&&!(n==="geopoint"&&typeof o=="object"&&typeof o.lon=="number"&&typeof o.lat=="number")&&!(n==="enum"&&(typeof o=="string"||typeof o=="number"))){if(n==="enum[]"&&Array.isArray(o)){let i=o.length;for(let a=0;a<i;a++)if(typeof o[a]!="string"&&typeof o[a]!="number")return r+"."+a;continue}if($x(n)){let i=Fxe(n);if(!Array.isArray(o)||o.length!==i)throw bt("INVALID_INPUT_VECTOR",r,i,o.length);continue}if(HF(n)){if(!Array.isArray(o))return r;let i=Lxe(n),a=o.length;for(let s=0;s<a;s++)if(typeof o[s]!==i)return r+"."+s;continue}if(typeof n=="object"){if(!o||typeof o!="object")return r;let i=Nxe(o,n);if(i)return r+"."+i;continue}if(typeof o!==n)return r}}}var pkr={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},hkr={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function Wbt(e){return e==="geopoint"}function $x(e){return typeof e=="string"&&/^vector\[\d+\]$/.test(e)}function HF(e){return typeof e=="string"&&pkr[e]}function Lxe(e){return hkr[e]}function Fxe(e){let t=Number(e.slice(7,-1));switch(!0){case isNaN(t):throw bt("INVALID_VECTOR_VALUE",e);case t<=0:throw bt("INVALID_VECTOR_SIZE",e);default:return t}}function Jbt(){return{idToInternalId:new Map,internalIdToId:[],save:mkr,load:gkr}}function mkr(e){return{internalIdToId:e.internalIdToId}}function gkr(e,t){let{internalIdToId:r}=t;e.internalDocumentIDStore.idToInternalId.clear(),e.internalDocumentIDStore.internalIdToId=[];let n=r.length;for(let o=0;o<n;o++){let i=r[o];e.internalDocumentIDStore.idToInternalId.set(i,o+1),e.internalDocumentIDStore.internalIdToId.push(i)}}function Fo(e,t){if(typeof t=="string"){let r=e.idToInternalId.get(t);if(r)return r;let n=e.idToInternalId.size+1;return e.idToInternalId.set(t,n),e.internalIdToId.push(t),n}return t>e.internalIdToId.length?Fo(e,t.toString()):t}function $h(e,t){if(e.internalIdToId.length<t)throw new Error(`Invalid internalId ${t}`);return e.internalIdToId[t-1]}function bkr(e,t){return{sharedInternalDocumentStore:t,docs:{},count:0}}function _kr(e,t){let r=Fo(e.sharedInternalDocumentStore,t);return e.docs[r]}function vkr(e,t){let r=t.length,n=Array.from({length:r});for(let o=0;o<r;o++){let i=Fo(e.sharedInternalDocumentStore,t[o]);n[o]=e.docs[i]}return n}function wkr(e){return e.docs}function Skr(e,t,r){let n=Fo(e.sharedInternalDocumentStore,t);return typeof e.docs[n]<"u"?!1:(e.docs[n]=r,e.count++,!0)}function xkr(e,t){let r=Fo(e.sharedInternalDocumentStore,t);return typeof e.docs[r]>"u"?!1:(delete e.docs[r],e.count--,!0)}function Ckr(e){return e.count}function Okr(e,t){let r=t;return{docs:r.docs,count:r.count,sharedInternalDocumentStore:e}}function Ekr(e){return{docs:e.docs,count:e.count}}function Gbt(){return{create:bkr,get:_kr,getMultiple:vkr,getAll:wkr,store:Skr,remove:xkr,count:Ckr,load:Okr,save:Ekr}}var Kbt=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad","afterCreate"];function Ybt(e,t){let r=[],n=e.plugins?.length;if(!n)return r;for(let o=0;o<n;o++)try{let i=e.plugins[o];typeof i[t]=="function"&&r.push(i[t])}catch(i){throw console.error("Caught error in getAllPluginsByHook:",i),bt("PLUGIN_CRASHED")}return r}var Zbt=["tokenizer","index","documentsStore","sorter"],kxe=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];function xg(e,t,r,n){if(e.some(hs))return(async()=>{for(let i of e)await i(t,r,n)})();for(let i of e)i(t,r,n)}function OR(e,t,r){if(e.some(hs))return(async()=>{for(let o of e)await o(t,r)})();for(let o of e)o(t,r)}function VF(e,t,r,n,o){if(e.some(hs))return(async()=>{for(let a of e)await a(t,r,n,o)})();for(let a of e)a(t,r,n,o)}function WF(e,t,r,n){if(e.some(hs))return(async()=>{for(let i of e)await i(t,r,n)})();for(let i of e)i(t,r,n)}function Xbt(e,t){if(e.some(hs))return(async()=>{for(let n of e)await n(t)})();for(let n of e)n(t)}function Bxe(e){let t=e.r;return e.r=t.l,t.l=e,e.h=Math.max(qh(e.l),qh(e.r))+1,t.h=Math.max(qh(t.l),qh(t.r))+1,t}function $xe(e){let t=e.l;return e.l=t.r,t.r=e,e.h=Math.max(qh(e.l),qh(e.r))+1,t.h=Math.max(qh(t.l),qh(t.r))+1,t}function e_t(e,t,r){let n=[];function o(i){i!==null&&(t<i.k&&o(i.l),i.k>=t&&i.k<=r&&Qo(n,i.v),r>i.k&&o(i.r))}return o(e.root),n}function qxe(e,t,r=!1){let n=[];if(e===null)return n;let o=[e.root];for(;o.length>0;){let i=o.pop();i&&(r&&i.k>=t&&Qo(n,i.v),!r&&i.k>t&&Qo(n,i.v),o.push(i.r),o.push(i.l))}return n}function Uxe(e,t,r=!1){let n=[];if(e===null)return n;let o=[e.root];for(;o.length>0;){let i=o.pop();i&&(r&&i.k<=t&&Qo(n,i.v),!r&&i.k<t&&Qo(n,i.v),o.push(i.r),o.push(i.l))}return n}function t_t(e,t){for(;e!==null;)if(t<e.k)e=e.l;else if(t>e.k)e=e.r;else return e;return null}function r_t(e,t){return{root:{k:e,v:t,l:null,r:null,h:0}}}var Qbt=0;function n_t(e,t,r,n=500){function o(i,a,s){if(i===null)return Qbt++,{k:a,v:s,l:null,r:null,h:0};if(a<i.k)i.l=o(i.l,a,s);else if(a>i.k)i.r=o(i.r,a,s);else return i.v.push(...s),i;return Qbt%n===0?Tkr(i,a):i}e.root=o(e.root,t,r)}function Tkr(e,t){e.h=1+Math.max(qh(e.l),qh(e.r));let r=qh(e.l)-qh(e.r);return r>1&&t<e.l.k?$xe(e):r<-1&&t>e.r.k?Bxe(e):r>1&&t>e.l.k?(e.l=Bxe(e.l),$xe(e)):r<-1&&t<e.r.k?(e.r=$xe(e.r),Bxe(e)):e}function qh(e){return e!==null?e.h:-1}function o_t(e,t){let r=t_t(e.root,t);return r===null?null:r.v}function Mkr(e,t){if(e===null||e.root===null)return;let r=e.root,n=null;for(;r!=null&&r.k!==t;)n=r,t<r.k?r=r.l:r=r.r;if(r===null)return;(()=>{if(r.l===null&&r.r===null)n===null?e.root=null:n.l===r?n.l=null:n.r=null;else if(r.l!=null&&r.r!=null){let i=r.r,a=r;for(;i.l!=null;)a=i,i=i.l;r.k=i.k,a===r?a.r=i.r:a.l=i.r}else{let i=r.l!=null?r.l:r.r;n===null?e.root=i:n.l===r?n.l=i:n.r=i}})()}function i_t(e,t,r){let n=t_t(e.root,r);if(n){if(n.v.length===1){Mkr(e,r);return}n.v.splice(n.v.indexOf(t),1)}}function a_t(){return{numberToDocumentId:new Map}}function s_t(e,t,r){return e.numberToDocumentId.has(t)?(e.numberToDocumentId.get(t).push(r),e):(e.numberToDocumentId.set(t,[r]),e)}function u_t(e,t,r){e?.numberToDocumentId.set(r,e?.numberToDocumentId.get(r)?.filter(n=>n!==t)??[]),e?.numberToDocumentId.get(r)?.length===0&&e?.numberToDocumentId.delete(r)}function l_t(e,t){let r=Object.keys(t);if(r.length!==1)throw new Error("Invalid operation");let n=r[0];switch(n){case"eq":{let o=t[n];return e.numberToDocumentId.get(o)??[]}case"in":{let o=t[n],i=[];for(let a of o){let s=e.numberToDocumentId.get(a);s!=null&&Qo(i,s)}return i}case"nin":{let o=t[n],i=[],a=e.numberToDocumentId.keys();for(let s of a){if(o.includes(s))continue;let u=e.numberToDocumentId.get(s);u!=null&&Qo(i,u)}return i}}throw new Error("Invalid operation")}function c_t(e,t){let r=Object.keys(t);if(r.length!==1)throw new Error("Invalid operation");let n=r[0];switch(n){case"containsAll":{let i=t[n].map(a=>e.numberToDocumentId.get(a)??[]);return UF(i)}}throw new Error("Invalid operation")}function Ikr(e,t,r){if(r<0)return-1;if(e===t)return 0;let n=e.length,o=t.length;if(n===0)return o<=r?o:-1;if(o===0)return n<=r?n:-1;if(e=e.toLowerCase(),t=t.toLowerCase(),t.startsWith(e)||e.startsWith(t))return 0;if(Math.abs(n-o)>r)return-1;let i=[];for(let a=0;a<=n;a++){i[a]=[a];for(let s=1;s<=o;s++)i[a][s]=a===0?s:0}for(let a=1;a<=n;a++){let s=1/0;for(let u=1;u<=o;u++)e[a-1]===t[u-1]?i[a][u]=i[a-1][u-1]:i[a][u]=Math.min(i[a-1][u]+1,i[a][u-1]+1,i[a-1][u-1]+1),s=Math.min(s,i[a][u]);if(s>r)return-1}return i[n][o]<=r?i[n][o]:-1}function zxe(e,t,r){let n=Ikr(e,t,r);return{distance:n,isBounded:n>=0}}var Hxe=class{constructor(t,r,n){Nl(this,"k");Nl(this,"s");Nl(this,"c",{});Nl(this,"d",[]);Nl(this,"e");Nl(this,"w","");this.k=t,this.s=r,this.e=n}toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}};function JF(e,t){e.w=t.w+e.s}function MX(e,t){e.d.push(t)}function Akr(e,t){let r=e.d.indexOf(t);return r===-1?!1:(e.d.splice(r,1),!0)}function Vxe(e,t,r,n,o){if(e.e){let{w:i,d:a}=e;if(n&&i!==r)return{};if(qF(t,i)==null&&(o?Math.abs(r.length-i.length)<=o&&zxe(r,i,o).isBounded&&(t[i]=[]):t[i]=[]),qF(t,i)!=null&&a.length>0){let s=new Set(t[i]),u=a.length;for(let l=0;l<u;l++)s.add(a[l]);t[i]=Array.from(s)}}for(let i of Object.keys(e.c))Vxe(e.c[i],t,r,n,o);return t}function d_t(e,t){let r="",n=Math.min(e.length,t.length);for(let o=0;o<n;o++){if(e[o]!==t[o])return r;r+=e[o]}return r}function ER(e=!1,t="",r=""){return new Hxe(r,t,e)}function f_t(e,t,r){let n=t.length;for(let o=0;o<n;o++){let i=t[o],a=t.substring(o),s=e.c[i];if(s){let u=s.s,l=u.length,c=d_t(u,a),d=c.length;if(u===a){MX(s,r),s.e=!0;return}let f=u[d];if(d<l&&d===a.length){let p=ER(!0,a,i);p.c[f]=s;let h=p.c[f];h.s=u.substring(d),h.k=f,e.c[i]=p,JF(p,e),JF(h,p),MX(p,r);return}if(d<l&&d<a.length){let p=ER(!1,c,i);p.c[f]=s,e.c[i]=p;let h=p.c[f];h.s=u.substring(d),h.k=f;let m=a[d],_=ER(!0,t.substring(o+d),m);MX(_,r),p.c[m]=_,JF(p,e),JF(_,p),JF(h,p);return}o+=l-1,e=s}else{let u=ER(!0,a,i);MX(u,r),e.c[i]=u,JF(u,e);return}}}function D4(e,t,r,n,o,i){if(!(n<0)){if(e.w.startsWith(t)){Vxe(e,i,t,!1,0);return}if(e.e){let{w:a,d:s}=e;if(a&&(zxe(t,a,o).isBounded&&(i[a]=[]),qF(i,a)!=null&&s.length>0)){let u=new Set(i[a]),l=s.length;for(let c=0;c<l;c++)u.add(s[c]);i[a]=Array.from(u)}}if(!(r>=t.length)){t[r]in e.c&&D4(e.c[t[r]],t,r+1,n,o,i),D4(e,t,r+1,n-1,o,i);for(let a in e.c)D4(e.c[a],t,r,n-1,o,i);for(let a in e.c)a!==t[r]&&D4(e.c[a],t,r+1,n-1,o,i)}}}function Wxe(e,{term:t,exact:r,tolerance:n}){if(n&&!r){let o={};return n=n||0,D4(e,t,0,n||0,n,o),o}else{let o=t.length;for(let a=0;a<o;a++){let s=t[a];if(s in e.c){let u=e.c[s],l=u.s,c=t.substring(a),f=d_t(l,c).length;if(f!==l.length&&f!==c.length){if(n)break;return{}}a+=u.s.length-1,e=u}else return{}}let i={};return Vxe(e,i,t,r,n),i}}function p_t(e,t,r,n=!0){if(!t)return!0;let o=t.length;for(let i=0;i<o;i++){let a=t[i];if(a in e.c){let s=e.c[a];i+=s.s.length-1,e=s,n&&e.w!==t||Akr(e,r)}else return!1}return!0}function h_t(){return{root:null}}function m_t(e,t,r){let n={point:t,docIDs:r};if(e.root==null){e.root=n;return}let o=e.root,i=0;for(;o!==null;){if(o.point.lon===t.lon&&o.point.lat===t.lat){let s=o.docIDs??[];o.docIDs=Array.from(new Set([...s,...r||[]]));return}if(i%2===0)if(t.lon<o.point.lon){if(o.left==null){o.left=n;return}o=o.left}else{if(o.right==null){o.right=n;return}o=o.right}else if(t.lat<o.point.lat){if(o.left==null){o.left=n;return}o=o.left}else{if(o.right==null){o.right=n;return}o=o.right}i++}}function g_t(e,t,r){let n=e.root,o=0,i=null,a=null;for(;n!==null;){if(n?.point.lon===t.lon&&n.point.lat===t.lat){let u=n.docIDs?.indexOf(r);if(u!==void 0&&u>-1){n.docIDs?.splice(u,1),(n.docIDs==null||n.docIDs.length===0)&&(i!=null?a==="left"?i.left=n.left!==null?n.left:n.right:a==="right"&&(i.right=n.right!==null?n.right:n.left):e.root=n.left!==null?n.left:n.right);return}}let s=o%2;i=n,s===0?t.lon<n.point.lon?(n=n?.left,a="left"):(n=n?.right,a="right"):t.lat<n.point.lat?(n=n?.left,a="left"):(n=n?.right,a="right"),o++}}function y_t(e,t,r,n=!0,o="asc",i=!1){let a=i?v_t:__t,s=[{node:e,depth:0}],u=[];for(;s.length>0;){let{node:l,depth:c}=s.pop();if(l===null)continue;let d=a(t,l.point);(n?d<=r:d>r)&&u.push({point:l.point,docIDs:l.docIDs??[]}),l.left!=null&&s.push({node:l.left,depth:c+1}),l.right!=null&&s.push({node:l.right,depth:c+1})}return o&&u.sort((l,c)=>{let d=a(t,l.point),f=a(t,c.point);return o.toLowerCase()==="asc"?d-f:f-d}),u}function b_t(e,t,r=!0,n=null,o=!1){let i=[{node:e,depth:0}],a=[];for(;i.length>0;){let u=i.pop();if(u==null||u.node==null)continue;let{node:l,depth:c}=u,d=c+1;l.left!=null&&i.push({node:l.left,depth:d}),l.right!=null&&i.push({node:l.right,depth:d});let f=Dkr(t,l.point);f&&r?a.push({point:l.point,docIDs:l.docIDs??[]}):!f&&!r&&a.push({point:l.point,docIDs:l.docIDs??[]})}let s=Rkr(t);if(n){let u=o?v_t:__t;a.sort((l,c)=>{let d=u(s,l.point),f=u(s,c.point);return n.toLowerCase()==="asc"?d-f:f-d})}return a}function Rkr(e){let t=0,r=0,n=0,o=e.length;for(let a=0,s=o-1;a<o;s=a++){let u=e[a].lon,l=e[a].lat,c=e[s].lon,d=e[s].lat,f=u*d-c*l;t+=f,r+=(u+c)*f,n+=(l+d)*f}t/=2;let i=6*t;return r/=i,n/=i,{lon:r,lat:n}}function Dkr(e,t){let r=!1,n=t.lon,o=t.lat,i=e.length;for(let a=0,s=i-1;a<i;s=a++){let u=e[a].lon,l=e[a].lat,c=e[s].lon,d=e[s].lat;l>o!=d>o&&n<(c-u)*(o-l)/(d-l)+u&&(r=!r)}return r}function __t(e,t){let r=Math.PI/180,n=e.lat*r,o=t.lat*r,i=(t.lat-e.lat)*r,a=(t.lon-e.lon)*r,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n)*Math.cos(o)*Math.sin(a/2)*Math.sin(a/2);return 6371e3*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function v_t(e,t){let n=.0033528106647474805,o=(1-n)*6378137,i=Math.PI/180,a=e.lat*i,s=t.lat*i,u=(t.lon-e.lon)*i,l=Math.atan((1-n)*Math.tan(a)),c=Math.atan((1-n)*Math.tan(s)),d=Math.sin(l),f=Math.cos(l),p=Math.sin(c),h=Math.cos(c),m=u,_,g=1e3,v,S,x,O,T;do{let F=Math.sin(m),k=Math.cos(m);x=Math.sqrt(h*F*(h*F)+(f*p-d*h*k)*(f*p-d*h*k)),O=d*p+f*h*k,T=Math.atan2(x,O),v=f*h*F/x,S=1-v*v;let L=O-2*d*p/S,q=n/16*S*(4+n*(4-3*S));_=m,m=u+(1-q)*n*v*(T+q*x*(L+q*O*(-1+2*L*L)))}while(Math.abs(m-_)>1e-12&&--g>0);let E=S*(6378137*6378137-o*o)/(o*o),M=1+E/16384*(4096+E*(-768+E*(320-175*E))),A=E/1024*(256+E*(-128+E*(74-47*E))),j=A*x*(O-2*d*p/S+A/4*(O*(-1+2*x*x)-A/6*T*(-3+4*x*x)*(-3+4*T*T)));return o*M*(T-j)}function IX(e,t,r=0,n){if(t===0)throw bt("INVALID_BOOST_VALUE");let o=new Map,i=e.length;for(let m=0;m<i;m++){let _=e[m],g=_.length;for(let v=0;v<g;v++){let[S,x]=_[v],O=x*t,T=o.get(S)?.[0];T!==void 0?o.set(S,[T*1.5+O,(o?.get(S)?.[1]||0)+1]):o.set(S,[O,1])}}let a=[];for(let m of o.entries())a.push([m[0],m[1][0]]);let s=a.sort((m,_)=>_[1]-m[1]);if(r===1)return s;let u=s.length,l=[];for(let m of o.entries())l.push([m[0],m[1][0],m[1][1]]);let c=l.sort((m,_)=>m[2]>_[2]?-1:m[2]<_[2]?1:m[1]>_[1]?-1:m[1]<_[1]?1:0),d;for(let m=0;m<u&&c[m][2]===n;m++)d=m;if(typeof d>"u"){if(r===0)return[];d=0}let f=c.length,p=new Array(f);for(let m=0;m<f;m++)p[m]=[c[m][0],c[m][1]];if(r===0)return p.slice(0,d+1);let h=d+Math.ceil(r*100*(u-d)/100);return p.slice(0,u+h)}function Jxe(e,t,r,n,o,{k:i,b:a,d:s}){return Math.log(1+(r-t+.5)/(t+.5))*(s+e*(i+1))/(e+i*(1-a+a*n/o))}function Gxe(e,t){let r=0;for(let n=0;n<t;n++)r+=e[n]*e[n];return Math.sqrt(r)}function AX(e,t,r,n=.8){let o=Gxe(e,r),i=[];for(let[a,[s,u]]of Object.entries(t)){let l=0;for(let d=0;d<r;d++)l+=e[d]*u[d];let c=l/(o*s);c>=n&&i.push([a,c])}return i.sort((a,s)=>s[1]-a[1])}function jkr(e,t,r,n,o){let i=Fo(e.sharedInternalDocumentStore,r);e.avgFieldLength[t]=((e.avgFieldLength[t]??0)*(o-1)+n.length)/o,e.fieldLengths[t][i]=n.length,e.frequencies[t][i]={}}function Nkr(e,t,r,n,o){let i=0;for(let u of n)u===o&&i++;let a=Fo(e.sharedInternalDocumentStore,r),s=i/n.length;e.frequencies[t][a][o]=s,o in e.tokenOccurrences[t]||(e.tokenOccurrences[t][o]=0),e.tokenOccurrences[t][o]=(e.tokenOccurrences[t][o]??0)+1}function Lkr(e,t,r,n){let o=Fo(e.sharedInternalDocumentStore,r);n>1?e.avgFieldLength[t]=(e.avgFieldLength[t]*n-e.fieldLengths[t][o])/(n-1):e.avgFieldLength[t]=void 0,e.fieldLengths[t][o]=void 0,e.frequencies[t][o]=void 0}function Fkr(e,t,r){e.tokenOccurrences[t][r]--}function kkr(e,t,r,n,o){let i=Array.from(o),a=t.avgFieldLength[r],s=t.fieldLengths[r],u=t.tokenOccurrences[r],l=t.frequencies[r],c=typeof u[n]=="number"?u[n]??0:0,d=[],f=i.length;for(let p=0;p<f;p++){let h=Fo(t.sharedInternalDocumentStore,i[p]),m=l?.[h]?.[n]??0,_=Jxe(m,c,e.docsCount,s[h],a,e.params.relevance);d.push([h,_])}return d}function S_t(e,t,r,n,o=""){n||(n={sharedInternalDocumentStore:t,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(let[i,a]of Object.entries(r)){let s=`${o}${o?".":""}${i}`;if(typeof a=="object"&&!Array.isArray(a)){S_t(e,t,a,n,s);continue}if($x(a))n.searchableProperties.push(s),n.searchablePropertiesWithTypes[s]=a,n.vectorIndexes[s]={size:Fxe(a),vectors:{}};else{let u=/\[/.test(a);switch(a){case"boolean":case"boolean[]":n.indexes[s]={type:"Bool",node:{true:[],false:[]},isArray:u};break;case"number":case"number[]":n.indexes[s]={type:"AVL",node:r_t(0,[]),isArray:u};break;case"string":case"string[]":n.indexes[s]={type:"Radix",node:ER(),isArray:u},n.avgFieldLength[s]=0,n.frequencies[s]={},n.tokenOccurrences[s]={},n.fieldLengths[s]={};break;case"enum":case"enum[]":n.indexes[s]={type:"Flat",node:a_t(),isArray:u};break;case"geopoint":n.indexes[s]={type:"BKD",node:h_t(),isArray:u};break;default:throw bt("INVALID_SCHEMA_TYPE",Array.isArray(a)?"array":a,s)}n.searchableProperties.push(s),n.searchablePropertiesWithTypes[s]=a}}return n}function Bkr(e,t,r,n,o,i,a,s){return u=>{let l=Fo(t.sharedInternalDocumentStore,n),{type:c,node:d}=t.indexes[r];switch(c){case"Bool":{d[u?"true":"false"].push(l);break}case"AVL":{let f=s?.avlRebalanceThreshold??1;n_t(d,u,[l],f);break}case"Radix":{let f=i.tokenize(u,o,r);e.insertDocumentScoreParameters(t,r,l,f,a);for(let p of f)e.insertTokenScoreParameters(t,r,l,f,p),f_t(d,p,l);break}case"Flat":{s_t(d,u,l);break}case"BKD":{m_t(d,u,[l]);break}}}}function $kr(e,t,r,n,o,i,a,s,u,l){if($x(i))return qkr(t,r,o,n);let c=Bkr(e,t,r,n,a,s,u,l);if(!HF(i))return c(o);let d=o,f=d.length;for(let p=0;p<f;p++)c(d[p])}function qkr(e,t,r,n){r instanceof Float32Array||(r=new Float32Array(r));let o=e.vectorIndexes[t].size,i=Gxe(r,o);e.vectorIndexes[t].vectors[n]=[i,r]}function w_t(e,t,r,n,o,i,a,s,u){let l=Fo(t.sharedInternalDocumentStore,n);if($x(i))return delete t.vectorIndexes[r].vectors[n],!0;let{type:c,node:d}=t.indexes[r];switch(c){case"AVL":return i_t(d,l,o),!0;case"Bool":{let p=d[o?"true":"false"].indexOf(l);return d[o?"true":"false"].splice(p,1),!0}case"Radix":{let f=s.tokenize(o,a,r);e.removeDocumentScoreParameters(t,r,n,u);for(let p of f)e.removeTokenScoreParameters(t,r,p),p_t(d,p,l);return!0}case"Flat":return u_t(d,l,o),!0;case"BKD":return g_t(d,o,l),!1}}function Ukr(e,t,r,n,o,i,a,s,u){if(!HF(i))return w_t(e,t,r,n,o,i,a,s,u);let l=Lxe(i),c=o,d=c.length;for(let f=0;f<d;f++)w_t(e,t,r,n,c[f],l,a,s,u);return!0}function zkr(e,t,r,n){if(!(r in t.tokenOccurrences))return[];let{node:o,type:i}=t.indexes[r];if(i!=="Radix")throw bt("WRONG_SEARCH_PROPERTY_TYPE",r);let{exact:a,tolerance:s}=e.params,u=Wxe(o,{term:n,exact:a,tolerance:s}),l=new Set;for(let c in u)if(qF(u,c))for(let f of u[c])l.add(f);return e.index.calculateResultScores(e,t,r,n,Array.from(l))}function Hkr(e,t,r){let n=Object.keys(r),o=n.reduce((i,a)=>({[a]:[],...i}),{});for(let i of n){let a=r[i];if(typeof t.indexes[i]>"u")throw bt("UNKNOWN_FILTER_PROPERTY",i);let{node:s,type:u,isArray:l}=t.indexes[i];if(u==="Bool"){let f=s[a.toString()];Qo(o[i],f);continue}if(u==="BKD"){let d;if("radius"in a)d="radius";else if("polygon"in a)d="polygon";else throw new Error(`Invalid operation ${a}`);if(d==="radius"){let{value:f,coordinates:p,unit:h="m",inside:m=!0,highPrecision:_=!1}=a[d],g=jxe(f,h),v=y_t(s.root,p,g,m,void 0,_);Qo(o[i],v.flatMap(({docIDs:S})=>S))}else{let{coordinates:f,inside:p=!0,highPrecision:h=!1}=a[d],m=b_t(s.root,f,p,void 0,h);Qo(o[i],m.flatMap(({docIDs:_})=>_))}continue}if(u==="Radix"&&(typeof a=="string"||Array.isArray(a))){for(let d of[a].flat()){let f=e.tokenizer.tokenize(d,e.language,i);for(let p of f){let h=Wxe(s,{term:p,exact:!0});Qo(o[i],Object.values(h).flat())}}continue}let c=Object.keys(a);if(c.length>1)throw bt("INVALID_FILTER_OPERATION",c.length);if(u==="Flat"){let d=l?c_t:l_t;Qo(o[i],d(s,a));continue}if(u==="AVL"){let d=c[0],f=a[d],p=[];switch(d){case"gt":{p=qxe(s,f,!1);break}case"gte":{p=qxe(s,f,!0);break}case"lt":{p=Uxe(s,f,!1);break}case"lte":{p=Uxe(s,f,!0);break}case"eq":{p=o_t(s,f)??[];break}case"between":{let[h,m]=f;p=e_t(s,h,m);break}}Qo(o[i],p)}}return UF(Object.values(o))}function Vkr(e){return e.searchableProperties}function Wkr(e){return e.searchablePropertiesWithTypes}function x_t(e){let t=ER(e.e,e.s,e.k);t.d=e.d,t.w=e.w;for(let r of Object.keys(e.c))t.c[r]=x_t(e.c[r]);return t}function Jkr(e){return{numberToDocumentId:new Map(e)}}function Gkr(e){return Array.from(e.numberToDocumentId.entries())}function Kkr(e,t){let{indexes:r,vectorIndexes:n,searchableProperties:o,searchablePropertiesWithTypes:i,frequencies:a,tokenOccurrences:s,avgFieldLength:u,fieldLengths:l}=t,c={},d={};for(let f of Object.keys(r)){let{node:p,type:h,isArray:m}=r[f];switch(h){case"Radix":c[f]={type:"Radix",node:x_t(p),isArray:m};break;case"Flat":c[f]={type:"Flat",node:Jkr(p),isArray:m};break;default:c[f]=r[f]}}for(let f of Object.keys(n)){let p=n[f].vectors;for(let h in p)p[h]=[p[h][0],new Float32Array(p[h][1])];d[f]={size:n[f].size,vectors:p}}return{sharedInternalDocumentStore:e,indexes:c,vectorIndexes:d,searchableProperties:o,searchablePropertiesWithTypes:i,frequencies:a,tokenOccurrences:s,avgFieldLength:u,fieldLengths:l}}function Ykr(e){let{indexes:t,vectorIndexes:r,searchableProperties:n,searchablePropertiesWithTypes:o,frequencies:i,tokenOccurrences:a,avgFieldLength:s,fieldLengths:u}=e,l={};for(let d of Object.keys(r)){let f=r[d].vectors;for(let p in f)f[p]=[f[p][0],Array.from(f[p][1])];l[d]={size:r[d].size,vectors:f}}let c={};for(let d of Object.keys(t)){let{type:f,node:p,isArray:h}=t[d];if(f!=="Flat"){c[d]=t[d];continue}c[d]={type:"Flat",node:Gkr(p),isArray:h}}return{indexes:c,vectorIndexes:l,searchableProperties:n,searchablePropertiesWithTypes:o,frequencies:i,tokenOccurrences:a,avgFieldLength:s,fieldLengths:u}}function C_t(){return{create:S_t,insert:$kr,remove:Ukr,insertDocumentScoreParameters:jkr,insertTokenScoreParameters:Nkr,removeDocumentScoreParameters:Lkr,removeTokenScoreParameters:Fkr,calculateResultScores:kkr,search:zkr,searchByWhereClause:Hkr,getSearchableProperties:Vkr,getSearchablePropertiesWithTypes:Wkr,load:Kkr,save:Ykr}}function O_t(e,t,r,n,o){let i={language:e.tokenizer.language,sharedInternalDocumentStore:t,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(let[a,s]of Object.entries(r)){let u=`${o}${o?".":""}${a}`;if(!n.includes(u)){if(typeof s=="object"&&!Array.isArray(s)){let l=O_t(e,t,s,n,u);Qo(i.sortableProperties,l.sortableProperties),i.sorts={...i.sorts,...l.sorts},i.sortablePropertiesWithTypes={...i.sortablePropertiesWithTypes,...l.sortablePropertiesWithTypes};continue}if(!$x(s))switch(s){case"boolean":case"number":case"string":i.sortableProperties.push(u),i.sortablePropertiesWithTypes[u]=s,i.sorts[u]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:s};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw bt("INVALID_SORT_SCHEMA_TYPE",Array.isArray(s)?"array":s,u)}}}return i}function Xkr(e,t,r,n){return n?.enabled!==!1?O_t(e,t,r,(n||{}).unsortableProperties||[],""):{disabled:!0}}function Qkr(e,t,r,n){if(!e.enabled)return;e.isSorted=!1;let o=Fo(e.sharedInternalDocumentStore,r),i=e.sorts[t];i.orderedDocsToRemove.has(o)&&Kxe(e,t),i.docs.set(o,i.orderedDocs.length),i.orderedDocs.push([o,n])}function E_t(e){if(e.isSorted||!e.enabled)return;let t=Object.keys(e.sorts);for(let r of t)nBr(e,r);e.isSorted=!0}function eBr(e,t,r){return t[1].localeCompare(r[1],Fbt(e))}function tBr(e,t){return e[1]-t[1]}function rBr(e,t){return t[1]?-1:1}function nBr(e,t){let r=e.sorts[t],n;switch(r.type){case"string":n=eBr.bind(null,e.language);break;case"number":n=tBr.bind(null);break;case"boolean":n=rBr.bind(null);break}r.orderedDocs.sort(n);let o=r.orderedDocs.length;for(let i=0;i<o;i++){let a=r.orderedDocs[i][0];r.docs.set(a,i)}}function oBr(e){let t=Object.keys(e.sorts);for(let r of t)Kxe(e,r)}function Kxe(e,t){let r=e.sorts[t];r.orderedDocsToRemove.size&&(r.orderedDocs=r.orderedDocs.filter(n=>!r.orderedDocsToRemove.has(n[0])),r.orderedDocsToRemove.clear())}function iBr(e,t,r){if(!e.enabled)return;let n=e.sorts[t],o=Fo(e.sharedInternalDocumentStore,r);n.docs.get(o)&&(n.docs.delete(o),n.orderedDocsToRemove.set(o,!0))}function aBr(e,t,r){if(!e.enabled)throw bt("SORT_DISABLED");let n=r.property,o=r.order==="DESC",i=e.sorts[n];if(!i)throw bt("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",n,e.sortableProperties.join(", "));return Kxe(e,n),E_t(e),t.sort((a,s)=>{let u=i.docs.get(Fo(e.sharedInternalDocumentStore,a[0])),l=i.docs.get(Fo(e.sharedInternalDocumentStore,s[0])),c=typeof u<"u",d=typeof l<"u";return!c&&!d?0:c?d?o?l-u:u-l:-1:1}),t}function sBr(e){return e.enabled?e.sortableProperties:[]}function uBr(e){return e.enabled?e.sortablePropertiesWithTypes:{}}function lBr(e,t){let r=t;if(!r.enabled)return{enabled:!1};let n=Object.keys(r.sorts).reduce((o,i)=>{let{docs:a,orderedDocs:s,type:u}=r.sorts[i];return o[i]={docs:new Map(Object.entries(a).map(([l,c])=>[+l,c])),orderedDocsToRemove:new Map,orderedDocs:s,type:u},o},{});return{sharedInternalDocumentStore:e,language:r.language,sortableProperties:r.sortableProperties,sortablePropertiesWithTypes:r.sortablePropertiesWithTypes,sorts:n,enabled:!0,isSorted:r.isSorted}}function cBr(e){if(!e.enabled)return{enabled:!1};oBr(e),E_t(e);let t=Object.keys(e.sorts).reduce((r,n)=>{let{docs:o,orderedDocs:i,type:a}=e.sorts[n];return r[n]={docs:Object.fromEntries(o.entries()),orderedDocs:i,type:a},r},{});return{language:e.language,sortableProperties:e.sortableProperties,sortablePropertiesWithTypes:e.sortablePropertiesWithTypes,sorts:t,enabled:e.enabled,isSorted:e.isSorted}}function P_t(){return{create:Xkr,insert:Qkr,remove:iBr,save:cBr,load:lBr,sortBy:aBr,getSortableProperties:sBr,getSortablePropertiesWithTypes:uBr}}var fBr=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function pBr(e){return e<192||e>383?e:fBr[e-192]||e}function T_t(e){let t=[];for(let r=0;r<e.length;r++)t[r]=pBr(e.charCodeAt(r));return String.fromCharCode(...t)}var hBr={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},mBr={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},gBr="[^aeiou]",DX="[aeiouy]",Iw=gBr+"[^aeiouy]*",j4=DX+"[aeiou]*",Yxe="^("+Iw+")?"+j4+Iw,yBr="^("+Iw+")?"+j4+Iw+"("+j4+")?$",RX="^("+Iw+")?"+j4+Iw+j4+Iw,M_t="^("+Iw+")?"+DX;function I_t(e){let t,r,n,o,i,a;if(e.length<3)return e;let s=e.substring(0,1);if(s=="y"&&(e=s.toUpperCase()+e.substring(1)),n=/^(.+?)(ss|i)es$/,o=/^(.+?)([^s])s$/,n.test(e)?e=e.replace(n,"$1$2"):o.test(e)&&(e=e.replace(o,"$1$2")),n=/^(.+?)eed$/,o=/^(.+?)(ed|ing)$/,n.test(e)){let u=n.exec(e);n=new RegExp(Yxe),n.test(u[1])&&(n=/.$/,e=e.replace(n,""))}else o.test(e)&&(t=o.exec(e)[1],o=new RegExp(M_t),o.test(t)&&(e=t,o=/(at|bl|iz)$/,i=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+Iw+DX+"[^aeiouwxy]$"),o.test(e)?e=e+"e":i.test(e)?(n=/.$/,e=e.replace(n,"")):a.test(e)&&(e=e+"e")));if(n=/^(.+?)y$/,n.test(e)&&(t=n.exec(e)?.[1],n=new RegExp(M_t),t&&n.test(t)&&(e=t+"i")),n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(e)){let u=n.exec(e);t=u?.[1],r=u?.[2],n=new RegExp(Yxe),t&&n.test(t)&&(e=t+hBr[r])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(e)){let u=n.exec(e);t=u?.[1],r=u?.[2],n=new RegExp(Yxe),t&&n.test(t)&&(e=t+mBr[r])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,o=/^(.+?)(s|t)(ion)$/,n.test(e))t=n.exec(e)?.[1],n=new RegExp(RX),t&&n.test(t)&&(e=t);else if(o.test(e)){let u=o.exec(e);t=u?.[1]??""+u?.[2]??"",o=new RegExp(RX),o.test(t)&&(e=t)}return n=/^(.+?)e$/,n.test(e)&&(t=n.exec(e)?.[1],n=new RegExp(RX),o=new RegExp(yBr),i=new RegExp("^"+Iw+DX+"[^aeiouwxy]$"),t&&(n.test(t)||o.test(t)&&!i.test(t))&&(e=t)),n=/ll$/,o=new RegExp(RX),n.test(e)&&o.test(e)&&(n=/.$/,e=e.replace(n,"")),s=="y"&&(e=s.toLowerCase()+e.substring(1)),e}function Zxe(e,t){let r=`${this.language}:${e}:${t}`;return this.normalizationCache.has(r)?this.normalizationCache.get(r):this.stopWords?.includes(t)?(this.normalizationCache.set(r,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(e)&&(t=this.stemmer(t)),t=T_t(t),this.normalizationCache.set(r,t),t)}function bBr(e){for(;e[e.length-1]==="";)e.pop();for(;e[0]==="";)e.shift();return e}function A_t(e,t,r){if(t&&t!==this.language)throw bt("LANGUAGE_NOT_SUPPORTED",t);if(typeof e!="string")return[e];let n;if(r&&this.tokenizeSkipProperties.has(r))n=[this.normalizeToken.bind(this,r??"")(e)];else{let i=Lbt[this.language];n=e.toLowerCase().split(i).map(this.normalizeToken.bind(this,r??"")).filter(Boolean)}let o=bBr(n);return this.allowDuplicates?o:Array.from(new Set(o))}function Xxe(e={}){if(!e.language)e.language="english";else if(!A4.includes(e.language))throw bt("LANGUAGE_NOT_SUPPORTED",e.language);let t;if(e.stemming||e.stemmer&&!("stemming"in e))if(e.stemmer){if(typeof e.stemmer!="function")throw bt("INVALID_STEMMER_FUNCTION_TYPE");t=e.stemmer}else if(e.language==="english")t=I_t;else throw bt("MISSING_STEMMER",e.language);let r;if(e.stopWords!==!1){if(r=[],Array.isArray(e.stopWords))r=e.stopWords;else if(typeof e.stopWords=="function")r=e.stopWords(r);else if(e.stopWords)throw bt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(r))throw bt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(let o of r)if(typeof o!="string")throw bt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}let n={tokenize:A_t,language:e.language,stemmer:t,stemmerSkipProperties:new Set(e.stemmerSkipProperties?[e.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(e.tokenizeSkipProperties?[e.tokenizeSkipProperties].flat():[]),stopWords:r,allowDuplicates:!!e.allowDuplicates,normalizeToken:Zxe,normalizationCache:new Map};return n.tokenize=A_t.bind(n),n.normalizeToken=Zxe,n}function vBr(e){let t={formatElapsedTime:Hbt,getDocumentIndexId:Vbt,getDocumentProperties:PX,validateSchema:Nxe};for(let r of kxe){let n=r;if(e[n]){if(typeof e[n]!="function")throw bt("COMPONENT_MUST_BE_FUNCTION",n)}else e[n]=t[n]}for(let r of Object.keys(e))if(!Zbt.includes(r)&&!kxe.includes(r))throw bt("UNSUPPORTED_COMPONENT",r)}function GF({schema:e,sort:t,language:r,components:n,id:o,plugins:i}){n||(n={}),o||(o=R4());let a=n.tokenizer,s=n.index,u=n.documentsStore,l=n.sorter;if(a?a.tokenize?a=a:a=Xxe(a):a=Xxe({language:r??"english"}),n.tokenizer&&r)throw bt("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");let c=Jbt();s||(s=C_t()),l||(l=P_t()),u||(u=Gbt()),vBr(n);let{getDocumentProperties:d,getDocumentIndexId:f,validateSchema:p,formatElapsedTime:h}=n,m={data:{},caches:{},schema:e,tokenizer:a,index:s,sorter:l,documentsStore:u,internalDocumentIDStore:c,getDocumentProperties:d,getDocumentIndexId:f,validateSchema:p,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],afterCreate:[],formatElapsedTime:h,id:o,plugins:i,version:wBr()};m.data={index:m.index.create(m,c,e),docs:m.documentsStore.create(m,c),sorting:m.sorter.create(m,c,e,t)};for(let g of Kbt)m[g]=(m[g]??[]).concat(Ybt(m,g));let _=m.afterCreate;return _&&Xbt(_,m),m}function wBr(){return"{{VERSION}}"}var jX="fulltext",Qxe="hybrid",eCe="vector";var xP=Symbol("orama.insertions"),CP=Symbol("orama.removals");var R_t=globalThis.process?.emitWarning??function(t,r){console.warn(`[WARNING] [${r.code}] ${t}`)};function tCe(e){typeof e[xP]!="number"&&(queueMicrotask(()=>{e[xP]=void 0}),e[xP]=0),e[xP]>1e3?(R_t("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),e[xP]=-1):e[xP]>=0&&e[xP]++}function rCe(e){typeof e[CP]!="number"&&(queueMicrotask(()=>{e[CP]=void 0}),e[CP]=0),e[CP]>1e3?(R_t("Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.",{code:"ORAMA0002"}),e[CP]=-1):e[CP]>=0&&e[CP]++}function N4(e,t,r,n,o){let i=e.validateSchema(t,e.schema);if(i)throw bt("SCHEMA_VALIDATION_FAILURE",i);return hs(e.index.beforeInsert)||hs(e.index.insert)||hs(e.index.afterInsert)?OBr(e,t,r,n,o):EBr(e,t,r,n,o)}var xBr=new Set(["enum","enum[]"]),CBr=new Set(["string","number"]);async function OBr(e,t,r,n,o){let{index:i,docs:a}=e.data,s=e.getDocumentIndexId(t);if(typeof s!="string")throw bt("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!e.documentsStore.store(a,s,t))throw bt("DOCUMENT_ALREADY_EXISTS",s);let u=e.documentsStore.count(a);n||await xg(e.beforeInsert,e,s,t);let l=e.index.getSearchableProperties(i),c=e.index.getSearchablePropertiesWithTypes(i),d=e.getDocumentProperties(t,l);for(let[f,p]of Object.entries(d)){if(typeof p>"u")continue;let h=typeof p,m=c[f];D_t(h,m,f,p)}return await PBr(e,s,l,d,u,r,t,o),n||await xg(e.afterInsert,e,s,t),tCe(e),s}function EBr(e,t,r,n,o){let{index:i,docs:a}=e.data,s=e.getDocumentIndexId(t);if(typeof s!="string")throw bt("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!e.documentsStore.store(a,s,t))throw bt("DOCUMENT_ALREADY_EXISTS",s);let u=e.documentsStore.count(a);n||xg(e.beforeInsert,e,s,t);let l=e.index.getSearchableProperties(i),c=e.index.getSearchablePropertiesWithTypes(i),d=e.getDocumentProperties(t,l);for(let[f,p]of Object.entries(d)){if(typeof p>"u")continue;let h=typeof p,m=c[f];D_t(h,m,f,p)}return TBr(e,s,l,d,u,r,t,o),n||xg(e.afterInsert,e,s,t),tCe(e),s}function D_t(e,t,r,n){if(!(Wbt(t)&&typeof n=="object"&&typeof n.lon=="number"&&typeof n.lat=="number")&&!($x(t)&&Array.isArray(n))&&!(HF(t)&&Array.isArray(n))&&!(xBr.has(t)&&CBr.has(e))&&e!==t)throw bt("INVALID_DOCUMENT_PROPERTY",r,t,e)}async function PBr(e,t,r,n,o,i,a,s){for(let c of r){let d=n[c];if(typeof d>"u")continue;let f=e.index.getSearchablePropertiesWithTypes(e.data.index)[c];await e.index.beforeInsert?.(e.data.index,c,t,d,f,i,e.tokenizer,o),await e.index.insert(e.index,e.data.index,c,t,d,f,i,e.tokenizer,o,s),await e.index.afterInsert?.(e.data.index,c,t,d,f,i,e.tokenizer,o)}let u=e.sorter.getSortableProperties(e.data.sorting),l=e.getDocumentProperties(a,u);for(let c of u){let d=l[c];if(typeof d>"u")continue;let f=e.sorter.getSortablePropertiesWithTypes(e.data.sorting)[c];e.sorter.insert(e.data.sorting,c,t,d,f,i)}}function TBr(e,t,r,n,o,i,a,s){for(let c of r){let d=n[c];if(typeof d>"u")continue;let f=e.index.getSearchablePropertiesWithTypes(e.data.index)[c];e.index.beforeInsert?.(e.data.index,c,t,d,f,i,e.tokenizer,o),e.index.insert(e.index,e.data.index,c,t,d,f,i,e.tokenizer,o,s),e.index.afterInsert?.(e.data.index,c,t,d,f,i,e.tokenizer,o)}let u=e.sorter.getSortableProperties(e.data.sorting),l=e.getDocumentProperties(a,u);for(let c of u){let d=l[c];if(typeof d>"u")continue;let f=e.sorter.getSortablePropertiesWithTypes(e.data.sorting)[c];e.sorter.insert(e.data.sorting,c,t,d,f,i)}}function PR(e,t,r,n){return hs(e.index.beforeRemove)||hs(e.index.remove)||hs(e.index.afterRemove)?MBr(e,t,r,n):IBr(e,t,r,n)}async function MBr(e,t,r,n){let o=!0,{index:i,docs:a}=e.data,s=e.documentsStore.get(a,t);if(!s)return!1;let u=$h(e.internalDocumentIDStore,Fo(e.internalDocumentIDStore,t)),l=e.documentsStore.count(a);n||await xg(e.beforeRemove,e,u);let c=e.index.getSearchableProperties(i),d=e.index.getSearchablePropertiesWithTypes(i),f=e.getDocumentProperties(s,c);for(let m of c){let _=f[m];if(typeof _>"u")continue;let g=d[m];await e.index.beforeRemove?.(e.data.index,m,u,_,g,r,e.tokenizer,l),await e.index.remove(e.index,e.data.index,m,t,_,g,r,e.tokenizer,l)||(o=!1),await e.index.afterRemove?.(e.data.index,m,u,_,g,r,e.tokenizer,l)}let p=await e.sorter.getSortableProperties(e.data.sorting),h=await e.getDocumentProperties(s,p);for(let m of p)typeof h[m]>"u"||e.sorter.remove(e.data.sorting,m,t);return n||await xg(e.afterRemove,e,u),e.documentsStore.remove(e.data.docs,t),rCe(e),o}function IBr(e,t,r,n){let o=!0,{index:i,docs:a}=e.data,s=e.documentsStore.get(a,t);if(!s)return!1;let u=$h(e.internalDocumentIDStore,Fo(e.internalDocumentIDStore,t)),l=e.documentsStore.count(a);n||xg(e.beforeRemove,e,u);let c=e.index.getSearchableProperties(i),d=e.index.getSearchablePropertiesWithTypes(i),f=e.getDocumentProperties(s,c);for(let m of c){let _=f[m];if(typeof _>"u")continue;let g=d[m];e.index.beforeRemove?.(e.data.index,m,u,_,g,r,e.tokenizer,l),e.index.remove(e.index,e.data.index,m,t,_,g,r,e.tokenizer,l)||(o=!1),e.index.afterRemove?.(e.data.index,m,u,_,g,r,e.tokenizer,l)}let p=e.sorter.getSortableProperties(e.data.sorting),h=e.getDocumentProperties(s,p);for(let m of p)typeof h[m]>"u"||e.sorter.remove(e.data.sorting,m,t);return n||xg(e.afterRemove,e,u),e.documentsStore.remove(e.data.docs,t),rCe(e),o}function L4(e,t,r,n,o){return hs(e.index.beforeRemove)||hs(e.index.remove)||hs(e.index.afterRemove)||hs(e.beforeRemoveMultiple)||hs(e.afterRemoveMultiple)?ABr(e,t,r,n,o):RBr(e,t,r,n,o)}async function ABr(e,t,r,n,o){let i=0;r||(r=1e3);let a=o?[]:t.map(s=>$h(e.internalDocumentIDStore,Fo(e.internalDocumentIDStore,s)));return o||await OR(e.beforeRemoveMultiple,e,a),await new Promise((s,u)=>{let l=0;async function c(){let d=t.slice(l*r,++l*r);if(!d.length)return s();for(let f of d)try{await PR(e,f,n,o)&&i++}catch(p){u(p)}setTimeout(c,0)}setTimeout(c,0)}),o||await OR(e.afterRemoveMultiple,e,a),i}function RBr(e,t,r,n,o){let i=0;r||(r=1e3);let a=o?[]:t.map(l=>$h(e.internalDocumentIDStore,Fo(e.internalDocumentIDStore,l)));o||OR(e.beforeRemoveMultiple,e,a);let s=0;function u(){let l=t.slice(s*r,++s*r);if(l.length){for(let c of l)PR(e,c,n,o)&&i++;setTimeout(u,0)}}return u(),o||OR(e.afterRemoveMultiple,e,a),i}function DBr(e,t){return e[1]-t[1]}function jBr(e,t){return t[1]-e[1]}function NBr(e="desc"){return e.toLowerCase()==="asc"?DBr:jBr}function KF(e,t,r){let n={},o=t.map(([l])=>l),i=e.documentsStore.getMultiple(e.data.docs,o),a=Object.keys(r),s=e.index.getSearchablePropertiesWithTypes(e.data.index);for(let l of a){let c;if(s[l]==="number"){let{ranges:d}=r[l],f=d.length,p=Array.from({length:f});for(let h=0;h<f;h++){let m=d[h];p[h]=[`${m.from}-${m.to}`,0]}c=Object.fromEntries(p)}n[l]={count:0,values:c??{}}}let u=i.length;for(let l=0;l<u;l++){let c=i[l];for(let d of a){let f=d.includes(".")?zF(c,d):c[d],p=s[d],h=n[d].values;switch(p){case"number":{let m=r[d].ranges;j_t(m,h)(f);break}case"number[]":{let m=new Set,_=r[d].ranges,g=j_t(_,h,m);for(let v of f)g(v);break}case"boolean":case"enum":case"string":{N_t(h,p)(f);break}case"boolean[]":case"enum[]":case"string[]":{let g=N_t(h,p==="boolean[]"?"boolean":"string",new Set);for(let v of f)g(v);break}default:throw bt("FACET_NOT_SUPPORTED",p)}}}for(let l of a){let c=n[l];if(c.count=Object.keys(c.values).length,s[l]==="string"){let d=r[l],f=NBr(d.sort);c.values=Object.fromEntries(Object.entries(c.values).sort(f).slice(d.offset??0,d.limit??10))}}return n}function j_t(e,t,r){return n=>{for(let o of e){let i=`${o.from}-${o.to}`;r?.has(i)||n>=o.from&&n<=o.to&&(t[i]===void 0?t[i]=1:(t[i]++,r?.add(i)))}}}function N_t(e,t,r){let n=t==="boolean"?"false":"";return o=>{let i=o?.toString()??n;r?.has(i)||(e[i]=(e[i]??0)+1,r?.add(i))}}function YF(e,t){let r=new Map,n=[];for(let o of e)r.set(o,!0);for(let o of t){let[i]=o;r.has(i)&&(n.push(o),r.delete(i))}return n}var LBr={reducer:(e,t,r,n)=>(t[n]=r,t),getInitialValue:e=>Array.from({length:e})},L_t=["string","number","boolean"];function ZF(e,t,r){let n=r.properties,o=n.length,i=e.index.getSearchablePropertiesWithTypes(e.data.index);for(let g=0;g<o;g++){let v=n[g];if(typeof i[v]>"u")throw bt("UNKNOWN_GROUP_BY_PROPERTY",v);if(!L_t.includes(i[v]))throw bt("INVALID_GROUP_BY_PROPERTY",v,L_t.join(", "),i[v])}let a=t.map(([g])=>$h(e.internalDocumentIDStore,g)),s=e.documentsStore.getMultiple(e.data.docs,a),u=s.length,l=r.maxResult||Number.MAX_SAFE_INTEGER,c=[],d={};for(let g=0;g<o;g++){let v=n[g],S={property:v,perValue:{}},x=new Set;for(let O=0;O<u;O++){let T=s[O],E=zF(T,v);if(typeof E>"u")continue;let M=typeof E!="boolean"?E:""+E,A=S.perValue[M]??{indexes:[],count:0};A.count>=l||(A.indexes.push(O),A.count++,S.perValue[M]=A,x.add(E))}c.push(Array.from(x)),d[v]=S}let f=F_t(c),p=f.length,h=[];for(let g=0;g<p;g++){let v=f[g],S=v.length,x={values:[],indexes:[]},O=[];for(let T=0;T<S;T++){let E=v[T],M=n[T];O.push(d[M].perValue[typeof E!="boolean"?E:""+E].indexes),x.values.push(E)}x.indexes=UF(O).sort((T,E)=>T-E),x.indexes.length!==0&&h.push(x)}let m=h.length,_=Array.from({length:m});for(let g=0;g<m;g++){let v=h[g],S=r.reduce||LBr,x=v.indexes.map(M=>({id:a[M],score:t[M][1],document:s[M]})),O=S.reducer.bind(null,v.values),T=S.getInitialValue(v.indexes.length),E=x.reduce(O,T);_[g]={values:v.values,result:E}}return _}function F_t(e,t=0){if(t+1===e.length)return e[t].map(i=>[i]);let r=e[t],n=F_t(e,t+1),o=[];for(let i of r)for(let a of n){let s=[i];Qo(s,a),o.push(s)}return o}function k_t(e,t,r){let n=Sg(),o=e.beforeSearch?.length||e.afterSearch?.length;function i(){t.relevance=Object.assign(NX,t.relevance??{});let s=Object.keys(e.data.index.vectorIndexes),u=t.facets&&Object.keys(t.facets).length>0,{limit:l=10,offset:c=0,term:d,properties:f,threshold:p=0,distinctOn:h,includeVectors:m=!1}=t,_=t.preflight===!0,{index:g,docs:v}=e.data,S=e.tokenizer.tokenize(d??"",r),x=e.caches.propertiesToSearch;if(!x){let F=e.index.getSearchablePropertiesWithTypes(g);x=e.index.getSearchableProperties(g),x=x.filter(k=>F[k].startsWith("string")),e.caches.propertiesToSearch=x}if(f&&f!=="*"){for(let F of f)if(!x.includes(F))throw bt("UNKNOWN_INDEX",F,x.join(", "));x=x.filter(F=>f.includes(F))}let O=TR(e.tokenizer,e.index,e.documentsStore,r,t,x,S,e.documentsStore.count(v),n),T=Object.keys(t.where??{}).length>0,E=[];T&&(E=e.index.searchByWhereClause(O,g,t.where));let M=S.length;if(M||f?.length){let F=x.length;for(let k=0;k<F;k++){let L=x[k],q=O.indexMap[L];if(M!==0)for(let D=0;D<M;D++){let z=S[D],W=e.index.search(O,g,L,z);Qo(q[z],W)}else{q[""]=[];let D=e.index.search(O,g,L,"");Qo(q[""],D)}let U=Object.values(q);O.docsIntersection[L]=IX(U,t?.boost?.[L]??1,p,M);let G=O.docsIntersection[L],V=G.length;for(let D=0;D<V;D++){let[z,W]=G[D],J=O.uniqueDocsIDs[z];J?O.uniqueDocsIDs[z]=J+W+.5:O.uniqueDocsIDs[z]=W}}}else S.length===0&&d?O.uniqueDocsIDs={}:O.uniqueDocsIDs=Object.fromEntries(Object.keys(e.documentsStore.getAll(e.data.docs)).map(F=>[F,0]));let A=Object.entries(O.uniqueDocsIDs).map(([F,k])=>[+F,k]);if(T&&(A=YF(E,A)),t.sortBy)if(typeof t.sortBy=="function"){let F=A.map(([q])=>q),L=e.documentsStore.getMultiple(e.data.docs,F).map((q,U)=>[A[U][0],A[U][1],q]);L.sort(t.sortBy),A=L.map(([q,U])=>[q,U])}else A=e.sorter.sortBy(e.data.sorting,A,t.sortBy).map(([F,k])=>[Fo(e.internalDocumentIDStore,F),k]);else A=A.sort(zbt);let j;_||(j=h?B_t(e,A,c,l,h):LX(e,A,c,l));let N={elapsed:{formatted:"",raw:0},hits:[],count:A.length};if(typeof j<"u"&&(N.hits=j.filter(Boolean),m||TX(N,s)),u){let F=KF(e,A,t.facets);N.facets=F}return t.groupBy&&(N.groups=ZF(e,A,t.groupBy)),N.elapsed=e.formatElapsedTime(Sg()-O.timeStart),N}async function a(){e.beforeSearch&&await WF(e.beforeSearch,e,t,r);let s=i();return e.afterSearch&&await VF(e.afterSearch,e,t,r,s),s}return o?a():i()}function nCe(e,t,r="english"){let n=Sg(),o=e.beforeSearch?.length||e.afterSearch?.length;function i(){let{vector:s}=t;if(s&&(!("value"in s)||!("property"in s)))throw bt("INVALID_VECTOR_INPUT",Object.keys(s).join(", "));let{limit:u=10,offset:l=0,includeVectors:c=!1}=t,d=e.data.index.vectorIndexes[s.property],f=d.size,p=d.vectors,h=t.facets&&Object.keys(t.facets).length>0,m=Object.keys(t.where??{}).length>0,{index:_,docs:g}=e.data;if(s?.value.length!==f)throw s?.property===void 0||s?.value.length===void 0?bt("INVALID_INPUT_VECTOR","undefined",f,"undefined"):bt("INVALID_INPUT_VECTOR",s.property,f,s.value.length);s instanceof Float32Array||(s.value=new Float32Array(s.value));let v=AX(s.value,p,f,t.similarity).map(([F,k])=>[Fo(e.internalDocumentIDStore,F),k]),S=e.caches.propertiesToSearch;if(!S){let F=e.index.getSearchablePropertiesWithTypes(_);S=e.index.getSearchableProperties(_),S=S.filter(k=>F[k].startsWith("string")),e.caches.propertiesToSearch=S}let x=[],O=TR(e.tokenizer,e.index,e.documentsStore,r,t,S,x,e.documentsStore.count(g),n),T=[];m&&(T=e.index.searchByWhereClause(O,_,t.where),v=YF(T,v));let E=[];h&&(E=KF(e,v,t.facets));let M=Array.from({length:u});for(let F=0;F<u;F++){let k=v[F+l];if(!k)break;let L=e.data.docs.docs[k[0]];if(L){c||(L[s.property]=null);let q={id:$h(e.internalDocumentIDStore,k[0]),score:k[1],document:L};M[F]=q}}let A=[];t.groupBy&&(A=ZF(e,v,t.groupBy));let N=Sg()-n;return{count:v.length,hits:M.filter(Boolean),elapsed:{raw:Number(N),formatted:CR(N)},...E?{facets:E}:{},...A?{groups:A}:{}}}async function a(){e.beforeSearch&&await WF(e.beforeSearch,e,t,r);let s=i();return e.afterSearch&&await VF(e.afterSearch,e,t,r,s),s}return o?a():i()}function q_t(e,t,r){let n=Sg(),o=e.beforeSearch?.length||e.afterSearch?.length;function i(){let{offset:s=0,limit:u=10,includeVectors:l=!1}=t,c=t.facets&&Object.keys(t.facets).length>0,d=FBr(e,t,r),f=kBr(e,t),{index:p,docs:h}=e.data,m=t.hybridWeights,_=$Br(d,f,t.term??"",m),g=e.tokenizer.tokenize(t.term??"",r),v=e.caches.propertiesToSearch;if(!v){let N=e.index.getSearchablePropertiesWithTypes(p);v=e.index.getSearchableProperties(p),v=v.filter(F=>N[F].startsWith("string")),e.caches.propertiesToSearch=v}if(t.properties&&t.properties!=="*"){for(let N of t.properties)if(!v.includes(N))throw bt("UNKNOWN_INDEX",N,v.join(", "));v=v.filter(N=>t.properties.includes(N))}let S=TR(e.tokenizer,e.index,e.documentsStore,r,t,v,g,e.documentsStore.count(h),n),x=Object.keys(t.where??{}).length>0,O=[];x&&(O=e.index.searchByWhereClause(S,p,t.where),_=YF(O,_));let T;c&&(T=KF(e,_,t.facets));let E;t.groupBy&&(E=ZF(e,_,t.groupBy));let M=LX(e,_,s,u).filter(Boolean),A=Sg(),j={count:_.length,elapsed:{raw:Number(A-n),formatted:CR(A-n)},hits:M,...T?{facets:T}:{},...E?{groups:E}:{}};if(!l){let N=Object.keys(e.data.index.vectorIndexes);TX(j,N)}return j}async function a(){e.beforeSearch&&await WF(e.beforeSearch,e,t,r);let s=i();return e.afterSearch&&await VF(e.afterSearch,e,t,r,s),s}return o?a():i()}function FBr(e,t,r){let n=Sg();t.relevance=Object.assign(NX,t.relevance??{});let{term:o="",properties:i,threshold:a=0}=t,{index:s,docs:u}=e.data,l=e.tokenizer.tokenize(o,r),c=e.caches.propertiesToSearch;if(!c){let h=e.index.getSearchablePropertiesWithTypes(s);c=e.index.getSearchableProperties(s),c=c.filter(m=>h[m].startsWith("string")),e.caches.propertiesToSearch=c}if(i&&i!=="*"){let h=new Set(c),m=new Set(i);for(let _ of i)if(!h.has(_))throw bt("UNKNOWN_INDEX",_,c.join(", "));c=c.filter(_=>m.has(_))}let d=TR(e.tokenizer,e.index,e.documentsStore,r,t,c,l,e.documentsStore.count(u),n),f=l.length;if(f||i&&i.length>0){let h=c.length;for(let m=0;m<h;m++){let _=c[m];if(f!==0)for(let O=0;O<f;O++){let T=l[O],E=e.index.search(d,s,_,T);Qo(d.indexMap[_][T],E)}else{let O=[];d.indexMap[_][""]=O;let T=e.index.search(d,s,_,"");Qo(O,T)}let g=d.indexMap[_],v=Object.values(g);d.docsIntersection[_]=IX(v,t?.boost?.[_]??1,a,f);let S=d.docsIntersection[_],x=S.length;for(let O=0;O<x;O++){let[T,E]=S[O],M=d.uniqueDocsIDs[T];d.uniqueDocsIDs[T]=M?M+E+.5:E}}}else l.length===0&&o?d.uniqueDocsIDs={}:d.uniqueDocsIDs=Object.fromEntries(Object.keys(e.documentsStore.getAll(e.data.docs)).map(h=>[h,0]));let p=Object.entries(d.uniqueDocsIDs).map(([h,m])=>[+h,m]).sort((h,m)=>m[1]-h[1]);return U_t(p)}function kBr(e,t){let r=t.vector,n=e.data.index.vectorIndexes[r?.property],o=n.size,i=n.vectors;if(r&&(!r.value||!r.property))throw bt("INVALID_VECTOR_INPUT",Object.keys(r).join(", "));if(r.value.length!==o)throw bt("INVALID_INPUT_VECTOR",r.property,o,r.value.length);r instanceof Float32Array||(r.value=new Float32Array(r.value));let a=AX(r.value,i,o,t.similarity).map(([s,u])=>[Fo(e.internalDocumentIDStore,s),u]);return U_t(a)}function oCe([,e]){return e}function U_t(e){let t=Math.max.apply(Math,e.map(oCe));return e.map(([r,n])=>[r,n/t])}function $_t(e,t){return e/t}function BBr(e,t){return(r,n)=>r*e+n*t}function $Br(e,t,r,n){let o=Math.max.apply(Math,e.map(oCe)),i=Math.max.apply(Math,t.map(oCe)),a=n&&n.text&&n.vector,{text:s,vector:u}=a?n:qBr(r),l=new Map,c=e.length,d=BBr(s,u);for(let p=0;p<c;p++){let[h,m]=e[p],_=$_t(m,o),g=d(_,0);l.set(h,g)}let f=t.length;for(let p=0;p<f;p++){let[h,m]=t[p],_=$_t(m,i),g=l.get(h)??0;l.set(h,g+d(0,_))}return[...l].sort((p,h)=>h[1]-p[1])}function qBr(e){return{text:.5,vector:.5}}var NX={k:1.2,b:.75,d:.5};function TR(e,t,r,n,o,i,a,s,u){let l={},c={};for(let d of i){let f={};for(let p of a)f[p]=[];l[d]=f,c[d]=[]}return{timeStart:u,tokenizer:e,index:t,documentsStore:r,language:n,params:o,docsCount:s,uniqueDocsIDs:{},indexMap:l,docsIntersection:c}}function ic(e,t,r){let n=t.mode??jX;if(n===jX)return k_t(e,t,r);if(n===eCe)return nCe(e,t);if(n===Qxe)return q_t(e,t);throw bt("INVALID_SEARCH_MODE",n)}function B_t(e,t,r,n,o){let i=e.data.docs,a=new Map,s=[],u=new Set,l=t.length,c=0;for(let d=0;d<l;d++){let f=t[d];if(typeof f>"u")continue;let[p,h]=f;if(u.has(p))continue;let m=e.documentsStore.get(i,p),_=zF(m,o);if(!(typeof _>"u"||a.has(_))&&(a.set(_,!0),c++,!(c<=r)&&(s.push({id:$h(e.internalDocumentIDStore,p),score:h,document:m}),u.add(p),c>=r+n)))break}return s}function LX(e,t,r,n){let o=e.data.docs,i=Array.from({length:n}),a=new Set;for(let s=r;s<n+r;s++){let u=t[s];if(typeof u>"u")break;let[l,c]=u;if(!a.has(l)){let d=e.documentsStore.get(o,l);i[s]={id:$h(e.internalDocumentIDStore,l),score:c,document:d},a.add(l)}}return i}function FX(e,t){e.internalDocumentIDStore.load(e,t.internalDocumentIDStore),e.data.index=e.index.load(e.internalDocumentIDStore,t.index),e.data.docs=e.documentsStore.load(e.internalDocumentIDStore,t.docs),e.data.sorting=e.sorter.load(e.internalDocumentIDStore,t.sorting),e.tokenizer.language=t.language}function iCe(e){return{internalDocumentIDStore:e.internalDocumentIDStore.save(e.internalDocumentIDStore),index:e.index.save(e.data.index),docs:e.documentsStore.save(e.data.docs),sorting:e.sorter.save(e.data.sorting),language:e.tokenizer.language}}var oSo=new Error("timeout while waiting for mutex to become available"),iSo=new Error("mutex already locked"),zBr=new Error("request for lock canceled"),HBr=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},aCe=class{constructor(t,r=zBr){this._value=t,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((n,o)=>{let i={resolve:n,reject:o,weight:t,priority:r},a=z_t(this._queue,s=>r<=s.priority);a===-1&&t<=this._value?this._dispatchItem(i):this._queue.splice(a+1,0,i)})}runExclusive(t){return HBr(this,arguments,void 0,function*(r,n=1,o=0){let[i,a]=yield this.acquire(n,o);try{return yield r(i)}finally{a()}})}waitForUnlock(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),VBr(this._weightedWaiters[t-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){let r=this._value;this._value-=t.weight,t.resolve([r,this._newReleaser(t.weight)])}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){let r=this._weightedWaiters[t-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[t-1]=[])}else{let t=this._queue[0].priority;for(let r=this._value;r>0;r--){let n=this._weightedWaiters[r-1];if(!n)continue;let o=n.findIndex(i=>i.priority<=t);(o===-1?n:n.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,r){return(this._queue.length===0||this._queue[0].priority<r)&&t<=this._value}};function VBr(e,t){let r=z_t(e,n=>t.priority<=n.priority);e.splice(r+1,0,t)}function z_t(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var WBr=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},kX=class{constructor(t){this._semaphore=new aCe(1,t)}acquire(){return WBr(this,arguments,void 0,function*(t=0){let[,r]=yield this._semaphore.acquire(1,t);return r})}runExclusive(t,r=0){return this._semaphore.runExclusive(()=>t(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var r0t=B(xQ()),Aw=require("obsidian");var lCe="copilot-index-chunk-",JBr=".json",CQ=class{constructor(t,r,n){this.app=t;this.baseDir=r;this.identifier=n}getChunkPath(t){return`${this.baseDir}/${lCe}${this.identifier}-${t}.json`}getMetadataPath(){return`${this.baseDir}/${lCe}${this.identifier}-metadata.json`}getLegacyPath(){return`${this.baseDir}/copilot-index-${this.identifier}${JBr}`}assignDocumentToPartition(t,r){let o=Array.from(t).reduce((i,a)=>(i<<5)-i+a.charCodeAt(0),0);return Math.abs(o)%r}distributeDocumentsToPartitions(t,r){let n=new Map,o={};for(let a=0;a<r;a++)n.set(a,[]);pe().debug&&console.log(`Total documents to distribute: ${t.length}`);for(let a of t){let s=this.assignDocumentToPartition(a.id,r),u=n.get(s);if(!u)throw new Error(`Invalid partition index: ${s}`);u.push(a),o[a.id]=s}let i=0;return n.forEach((a,s)=>{i+=a.length,pe().debug&&console.log(`Partition ${s+1}: ${a.length} documents`)}),pe().debug&&(console.log(`Total documents distributed: ${i}`),i!==t.length&&console.error(`Document count mismatch! Original: ${t.length}, Distributed: ${i}`)),n}async ensureDirectoryExists(t){let r=t.substring(0,t.lastIndexOf("/"));await this.app.vault.adapter.exists(r)||await this.app.vault.adapter.mkdir(r)}async saveDatabase(t){try{let r=await iCe(t),n=pe().numPartitions;if(n===1){let l=this.getLegacyPath();await this.ensureDirectoryExists(l),await this.app.vault.adapter.write(l,JSON.stringify({...r,schema:t.schema}));return}let o=r.docs?.docs,i=Array.isArray(o)?o:Object.values(o||{});if(pe().debug&&console.log(`Starting save with ${i.length??0} total documents`),!i||i.length===0){let l={numPartitions:n,vectorLength:t.schema.embedding.match(/\d+/)[0],schema:t.schema,lastModified:Date.now(),documentPartitions:{}},c=this.getMetadataPath();await this.ensureDirectoryExists(c),await this.app.vault.adapter.write(c,JSON.stringify(l)),pe().debug&&console.log("Saved empty database state");return}let a=this.distributeDocumentsToPartitions(i,n),s={numPartitions:n,vectorLength:t.schema.embedding.match(/\d+/)[0],schema:t.schema,lastModified:Date.now(),documentPartitions:Object.fromEntries(i.map(l=>[l.id,this.assignDocumentToPartition(l.id,n)]))};await this.saveMetadata(s);let u={...r,docs:{docs:{},count:0},index:{...r.index,vectorIndexes:void 0}};for(let[l,c]of a.entries()){let d={index:{vectorIndexes:{embedding:{size:r.index.vectorIndexes.embedding.size,vectors:Object.fromEntries(Object.entries(r.index.vectorIndexes.embedding.vectors).filter(([h])=>c.some(m=>m.id===h)))}}},docs:{docs:Object.fromEntries(c.map((h,m)=>[(m+1).toString(),h])),count:c.length}},f=l===0?{...u,docs:d.docs,index:{...u.index,vectorIndexes:d.index.vectorIndexes}}:d,p=this.getChunkPath(l);await this.ensureDirectoryExists(p),await this.app.vault.adapter.write(p,JSON.stringify(f)),pe().debug&&console.log(`Saved partition ${l+1}/${n}`)}pe().debug&&console.log("Saved all partitions")}catch(r){throw console.error("Error saving database:",r),new dr(`Failed to save database: ${r.message}`)}}async loadDatabase(){try{let t=this.getLegacyPath();if(await this.app.vault.adapter.exists(t)){let u=JSON.parse(await this.app.vault.adapter.read(t));if(!u?.schema)throw new dr("Invalid legacy database format");let l=await GF({schema:u.schema,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}});return await FX(l,u),l}let r=await this.loadMetadata(),n=await GF({schema:r.schema,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}}),o=null,i=[];for(let u=0;u<r.numPartitions;u++){let l=this.getChunkPath(u);if(await this.app.vault.adapter.exists(l)){let c=JSON.parse(await this.app.vault.adapter.read(l));i.push(c),u===0&&(o=c)}}if(!o)throw new dr("No data found in chunks");let a={},s=1;for(let u of o.internalDocumentIDStore.internalIdToId){let l=i.flatMap(c=>Object.values(c.docs.docs)).find(c=>c.id===u);l?(a[s.toString()]=l,s++):pe().debug&&console.warn(`Document ${u} not found in any chunk`)}return o.docs.docs=a,o.docs.count=Object.keys(a).length,o.index.vectorIndexes.embedding.vectors=Object.assign({},...i.map(u=>u.index?.vectorIndexes?.embedding?.vectors||{})),await FX(n,o),n}catch(t){throw console.error("Error loading database:",t),new dr(`Failed to load database: ${t.message}`)}}async clearStorage(){try{let t=this.getLegacyPath();await this.app.vault.adapter.exists(t)&&await this.app.vault.adapter.remove(t);let r=await this.app.vault.adapter.list(this.baseDir);for(let n of r.files)n.startsWith(`${this.baseDir}/${lCe}${this.identifier}`)&&await this.app.vault.adapter.remove(n)}catch(t){throw console.error("Error clearing storage:",t),new dr(`Failed to clear storage: ${t.message}`)}}async exists(){let t=this.getLegacyPath();if(pe().numPartitions===1)return await this.app.vault.adapter.exists(t);let r=this.getMetadataPath();return await this.app.vault.adapter.exists(r)||await this.app.vault.adapter.exists(t)}async loadMetadata(){let t=this.getMetadataPath();if(!await this.app.vault.adapter.exists(t))throw new dr("No existing database found");let r=JSON.parse(await this.app.vault.adapter.read(t));if(!r?.schema)throw new dr("Invalid metadata file: missing schema");return r}async saveMetadata(t){let r=this.getMetadataPath();await this.ensureDirectoryExists(r),await this.app.vault.adapter.write(r,JSON.stringify(t))}};var cCe=require("obsidian");async function Qvt(e){if(!e)throw new dr("Embedding instance not found.");try{let r=await e.embedQuery("Sample text for embedding");if(!r||r.length===0)throw new dr("Failed to get valid embedding vector length");return console.log(`Detected vector length: ${r.length} for model: ${ps.getModelName(e)}`),r.length}catch(t){throw console.error("Error getting vector length:",t),new dr("Failed to determine embedding vector length. Please check your embedding model settings.")}}async function e0t(e){let t="",{inclusions:r,exclusions:n}=MR(),o=e.vault.getMarkdownFiles().filter(i=>TP(i,r,n));return await Promise.all(o.map(i=>e.vault.cachedRead(i))).then(i=>i.map(a=>t+=a+" ")),t}function PP(e){let t=[];return t.push(...e.split(",").map(r=>decodeURIComponent(r.trim())).filter(r=>r.length>0)),t}function GBr(){return pe().qaExclusions?PP(pe().qaExclusions):[]}function KBr(){return pe().qaInclusions?PP(pe().qaInclusions):[]}function MR(){let e=KBr(),t=GBr();return{inclusions:e.length>0?k4(e):null,exclusions:t.length>0?k4(t):null}}function TP(e,t,r){return!(r&&Xvt(e.path,r)||t&&!Xvt(e.path,t))}function k4(e){let t=[],r=[],n=[],o=[],i=/^#[^\s#]+$/,a=/^\*\.([a-zA-Z0-9.]+)$/,s=/^\[\[(.*?)\]\]$/;return e.forEach(u=>{i.test(u)?t.push(u):a.test(u)?r.push(u):s.test(u)?o.push(u):n.push(u)}),{tagPatterns:t,extensionPatterns:r,folderPatterns:n,notePatterns:o}}function t0t({tagPatterns:e,extensionPatterns:t,folderPatterns:r,notePatterns:n}){return[...e??[],...t??[],...n??[],...r??[]].map(i=>encodeURIComponent(i)).join(",")}function YBr(e,t){if(t.length===0)return!1;let r=app.vault.getAbstractFileByPath(e);if(r instanceof cCe.TFile){let n=mq(r);if(t.some(o=>n.includes(nj(o))))return!0}return!1}function ZBr(e,t){if(t.length===0)return!1;let r=e.toLowerCase();return t.some(n=>{let o=n.slice(1).toLowerCase();return r.endsWith(o)})}function XBr(e,t){if(t.length===0)return!1;let r=e.replace(/\\/g,"/");return t.some(n=>{let o=n.replace(/\\/g,"/").replace(/\/$/,"");return r.startsWith(o)&&(r.length===o.length||r[o.length]==="/")})}function QBr(e,t){if(t.length===0)return!1;let r=app.vault.getAbstractFileByPath(e);return!!(r instanceof cCe.TFile&&t.some(n=>n.slice(2,-2)===r.basename))}function Xvt(e,t){if(!t)return!1;let{tagPatterns:r,extensionPatterns:n,folderPatterns:o,notePatterns:i}=t;return YBr(e,r??[])||ZBr(e,n??[])||XBr(e,o??[])||QBr(e,i??[])}function OQ(e){let t=[];try{let r=e.vault.getConfig("userIgnoreFilters");r&&Array.isArray(r)&&r.forEach(n=>{typeof n=="string"&&t.push(n.endsWith("/")?n.slice(0,-1):n)})}catch(r){console.warn("Error getting userIgnoreFilters from Obsidian config",r)}return t}var Ux=class e{constructor(t){this.app=t;this.isInitialized=!1;this.isIndexLoaded=!1;this.hasUnsavedChanges=!1;this.filesWithoutEmbeddings=new Set;this.upsertMutex=new kX;sl(async()=>{let r=pe();Aw.Platform.isMobile&&r.disableIndexOnMobile?(this.isIndexLoaded=!1,this.oramaDb=void 0):Aw.Platform.isMobile&&!r.disableIndexOnMobile&&!this.oramaDb&&await this.initializeDB(await ps.getInstance().getEmbeddingsAPI());let n=await this.getDbPath();this.dbPath&&n!==this.dbPath&&(br("Path change detected, reinitializing database..."),this.dbPath=n,await this.initializeChunkedStorage(),await this.initializeDB(await ps.getInstance().getEmbeddingsAPI()),br("Database reinitialized with new path:",n))})}async initializeChunkedStorage(){if(!this.app.vault.adapter)throw new dr("Vault adapter not available. Please try again later.");let t=await this.getDbPath();this.chunkedStorage=new CQ(this.app,t,this.getVaultIdentifier()),this.isInitialized=!0}async initializeDB(t){try{if(this.isInitialized||(this.dbPath=await this.getDbPath(),await this.initializeChunkedStorage()),Aw.Platform.isMobile&&pe().disableIndexOnMobile){this.isIndexLoaded=!1,this.oramaDb=void 0;return}if(!this.chunkedStorage)throw new dr("Storage not initialized properly");try{if(await this.chunkedStorage.exists())return this.oramaDb=await this.chunkedStorage.loadDatabase(),br("Loaded existing chunked Orama database from disk."),this.oramaDb}catch(n){Ur("Failed to load existing database, creating new one:",n)}let r=await this.createNewDb(t);return this.oramaDb=r,r}catch(r){Ur("Error initializing Orama database:",r),new Aw.Notice("Failed to initialize Copilot database. Some features may be limited.");return}}async saveDB(){if(!(Aw.Platform.isMobile&&pe().disableIndexOnMobile)){if(!this.oramaDb||!this.chunkedStorage)try{if(await this.initializeDB(await ps.getInstance().getEmbeddingsAPI()),!this.oramaDb||!this.chunkedStorage)throw new dr("Orama database not found.")}catch(t){throw Ur("Failed to initialize database during save:",t),new dr("Failed to initialize and save database.")}try{await this.chunkedStorage.saveDatabase(this.oramaDb),this.hasUnsavedChanges=!1,pe().debug&&br("Orama database saved successfully at:",this.dbPath)}catch(t){throw Ur("Error saving Orama database:",t),t}}}async clearIndex(t){try{this.oramaDb||await this.initializeDB(t),await this.chunkedStorage?.clearStorage(),await new Promise(r=>setTimeout(r,100)),this.oramaDb=await this.createNewDb(t),await this.saveDB(),new Aw.Notice("Local Copilot index cleared successfully."),br("Local Copilot index cleared successfully, new instance created.")}catch(r){throw Ur("Error clearing the local Copilot index:",r),new Aw.Notice("An error occurred while clearing the local Copilot index."),r}}async removeDocs(t){if(!this.oramaDb)throw new dr("Orama database not found.");try{let r=await ic(this.oramaDb,{term:t,properties:["path"]});r.hits.length>0&&(await L4(this.oramaDb,r.hits.map(n=>n.id),500),pe().debug&&br(`Deleted document from local Copilot index: ${t}`)),this.markUnsavedChanges()}catch(r){Ur("Error deleting document from local Copilotindex:",r)}}getDb(){return this.oramaDb||console.warn("Database not initialized. Some features may be limited."),this.oramaDb}async getIsIndexLoaded(){return this.isIndexLoaded}async waitForInitialization(){await this.initializationPromise}onunload(){this.hasUnsavedChanges&&this.saveDB()}getCurrentDbPath(){return this.dbPath}async getDbPath(){let t=this.app.vault.getRoot().path,r;if(pe().enableIndexSync)r=this.app.vault.configDir;else{let n=t==="/"?"":t;r=`${n===""||n.startsWith("/")?"":"/"}${n}/.copilot-index`,await this.app.vault.adapter.exists(r)||(await this.app.vault.adapter.mkdir(r),br("Created directory:",r))}return r}getVaultIdentifier(){let t=this.app.vault.getName();return(0,r0t.MD5)(t).toString()}markUnsavedChanges(){this.hasUnsavedChanges=!0}async createNewDb(t){if(!t)throw new dr("Embedding instance not found.");let r=await Qvt(t);if(!r||r===0)throw new dr("Invalid vector length detected. Please check if your embedding model is working.");let n=this.createDynamicSchema(r),o=await GF({schema:n,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}});return br(`Created new Orama database for ${this.dbPath}. Embedding model: ${ps.getModelName(t)} with vector length ${r}.`),this.isIndexLoaded=!0,o}static async getDocsByPath(t,r){if(!t)throw new Error("DB not initialized");return r?(await ic(t,{term:r,properties:["path"],exact:!0,includeVectors:!0})).hits:void 0}static async getDocsByEmbedding(t,r,n){return(await ic(t,{mode:"vector",vector:{value:r,property:"embedding"},limit:n.limit,similarity:n.similarity,includeVectors:!0})).hits}static async getLatestFileMtime(t){if(!t)throw new Error("DB not initialized");try{let r=await ic(t,{term:"",limit:1,sortBy:{property:"mtime",order:"DESC"}});return r.hits.length>0?r.hits[0].document.mtime:0}catch(r){return Ur("Error getting latest file mtime from VectorDB:",r),0}}createDynamicSchema(t){return{id:"string",title:"string",path:"string",content:"string",embedding:`vector[${t}]`,embeddingModel:"string",created_at:"number",ctime:"number",mtime:"number",tags:"string[]",extension:"string"}}async upsert(t){if(!this.oramaDb)throw new Error("DB not initialized");let r=this.oramaDb;return await this.upsertMutex.runExclusive(async()=>{try{let n=this.chunkedStorage?.assignDocumentToPartition(t.id,pe().numPartitions),o=await ic(r,{term:t.id,properties:["id"],limit:1});o.hits.length>0&&await PR(r,o.hits[0].id);try{return await N4(r,t),br(`${o.hits.length>0?"Updated":"Inserted"} document ${t.id} in partition ${n}`),this.markUnsavedChanges(),t}catch(i){if(Ur(`Failed to ${o.hits.length>0?"update":"insert"} document ${t.id}:`,i),o.hits.length>0)try{await N4(r,o.hits[0].document)}catch(a){Ur("Failed to restore previous document version:",a)}return}}catch(n){Ur(`Error upserting document ${t.id}:`,n);return}})}async getLatestFileMtime(){if(!this.oramaDb)throw new Error("DB not initialized");try{let t=await ic(this.oramaDb,{term:"",limit:1,sortBy:{property:"mtime",order:"DESC"}});return t.hits.length>0?t.hits[0].document.mtime:0}catch(t){return Ur("Error getting latest file mtime from VectorDB:",t),0}}async checkAndHandleEmbeddingModelChange(t){if(!this.oramaDb){br("Embedding model change detected. Orama database not found. Initializing new database...");try{return await this.initializeDB(t),!0}catch(o){throw Ur("Failed to initialize database:",o),new dr("Failed to initialize Orama database. Please check your embedding model settings.")}}let r=await ic(this.oramaDb,{term:"",limit:1}),n;if(r.hits.length>0){let o=r.hits[0];typeof o=="object"&&o!==null&&"document"in o&&(n=o.document.embeddingModel)}if(n){let o=ps.getModelName(t);if(!Gke(n,o))return new Aw.Notice("New embedding model detected. Rebuilding Copilot index from scratch."),br("Detected change in embedding model. Rebuilding Copilot index from scratch."),this.oramaDb=await this.createNewDb(t),await this.saveDB(),!0}else br("No previous embedding model found in the database.");return!1}static async getAllDocuments(t){return(await ic(t,{term:"",limit:1e5,includeVectors:!0})).hits.map(n=>n.document)}async garbageCollect(){if(!this.oramaDb){br("Orama database not found during garbage collection. Attempting to initialize...");try{let t=await ps.getInstance().getEmbeddingsAPI();if(!t)throw new dr("No embedding model available.");if(await this.initializeDB(t),!this.oramaDb)throw new dr("Failed to initialize database after attempt.")}catch(t){throw Ur("Failed to initialize database during garbage collection:",t),new dr("Failed to initialize database. Please check your embedding model settings.")}}try{let t=this.app.vault.getMarkdownFiles(),r=new Set(t.map(i=>i.path)),o=(await e.getAllDocuments(this.oramaDb)).filter(i=>!r.has(i.path));return o.length===0?0:(br("Copilot index: Docs to remove during garbage collection:",Array.from(new Set(o.map(i=>i.path))).join(", ")),o.length===1?await PR(this.oramaDb,o[0].id):await L4(this.oramaDb,o.map(i=>i.id),500),await this.saveDB(),o.length)}catch(t){throw Ur("Error garbage collecting the Copilot index:",t),new dr("Failed to garbage collect the Copilot index.")}}async getIndexedFiles(){if(!this.oramaDb)throw new dr("Orama database not found.");try{let t=await e.getAllDocuments(this.oramaDb),r=new Set;return t.forEach(n=>{r.add(n.path)}),Array.from(r).sort()}catch(t){throw Ur("Error getting indexed files:",t),new dr("Failed to retrieve indexed files.")}}async isIndexEmpty(){if(!this.oramaDb)return!0;try{return(await ic(this.oramaDb,{term:"",limit:1})).hits.length===0}catch(t){throw Ur("Error checking if database is empty:",t),new dr("Failed to check if database is empty.")}}async hasIndex(t){if(!this.oramaDb)return!1;let r=await e.getDocsByPath(this.oramaDb,t);return r!==void 0&&r.length>0}async hasEmbeddings(t){if(!this.oramaDb)return!1;let r=await e.getDocsByPath(this.oramaDb,t);return!r||r.length===0?!1:r.every(n=>n?.document?.embedding&&Array.isArray(n.document.embedding)&&n.document.embedding.length>0)}async getDocsJsonByPaths(t){if(!this.oramaDb)throw new dr("Orama database not found.");let r={};for(let n of t){let o=await e.getDocsByPath(this.oramaDb,n);o&&o.length>0&&(r[n]=o.map(i=>({id:i.document.id,title:i.document.title,path:i.document.path,content:i.document.content,metadata:i.document.metadata,embedding:i.document.embedding,embeddingModel:i.document.embeddingModel,tags:i.document.tags,extension:i.document.extension,nchars:i.document.nchars})))}return r}markFileMissingEmbeddings(t){this.filesWithoutEmbeddings.add(t)}clearFilesMissingEmbeddings(){this.filesWithoutEmbeddings.clear()}getFilesMissingEmbeddings(){return Array.from(this.filesWithoutEmbeddings)}isFileMissingEmbeddings(t){return this.filesWithoutEmbeddings.has(t)}async checkIndexIntegrity(){if(!this.oramaDb)throw new dr("Orama database not found.");try{let t=await this.getIndexedFiles();for(let n of t)await this.hasEmbeddings(n)||this.markFileMissingEmbeddings(n);let r=this.getFilesMissingEmbeddings();r.length>0?br("Files missing embeddings after integrity check:",r.join(", ")):br("Index integrity check completed. All documents have embeddings.")}catch(t){throw Ur("Error checking index integrity:",t),new dr("Failed to check index integrity.")}}};var XF=require("obsidian");var e$r=5e3,EQ=class{constructor(t,r,n){this.app=t;this.indexOps=r;this.dbOps=n;this.debounceTimer=null;this.lastActiveFile=null;this.lastActiveFileMtime=null;this.handleActiveLeafChange=async t=>{if(XF.Platform.isMobile&&pe().disableIndexOnMobile||qm()!=="copilot_plus")return;let n=this.lastActiveFile,o=this.lastActiveFileMtime,i=t?.view;if(this.lastActiveFile=i instanceof XF.MarkdownView?i.file:null,this.lastActiveFileMtime=this.lastActiveFile?.stat?.mtime??null,!(!n||n===this.lastActiveFile)&&!(!n?.stat?.mtime||o===null)&&n.extension==="md"){let{inclusions:a,exclusions:s}=MR(),u=TP(n,a,s),l=o!==null&&n.stat.mtime>o;u&&l&&this.debouncedReindexFile(n)}};this.debouncedReindexFile=t=>{this.debounceTimer!==null&&window.clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{pe().debug&&console.log("Copilot Plus: Triggering reindex for file ",t.path),this.indexOps.reindexFile(t),this.debounceTimer=null},e$r)};this.handleFileDelete=async t=>{t instanceof XF.TFile&&await this.dbOps.removeDocs(t.path)};this.initializeEventListeners()}initializeEventListeners(){pe().debug&&console.log("Copilot Plus: Initializing event listeners"),this.app.workspace.on("active-leaf-change",this.handleActiveLeafChange),this.app.vault.on("delete",this.handleFileDelete)}cleanup(){this.debounceTimer!==null&&window.clearTimeout(this.debounceTimer),this.app.workspace.off("active-leaf-change",this.handleActiveLeafChange),this.app.vault.off("delete",this.handleFileDelete)}unload(){this.debounceTimer!==null&&window.clearTimeout(this.debounceTimer),this.lastActiveFile=null,this.lastActiveFileMtime=null,this.app.workspace.off("active-leaf-change",this.handleActiveLeafChange),this.app.vault.off("delete",this.handleFileDelete)}};var B4=class{constructor(t){this.lastRequestTime=0;this.requestsPerMin=t}setRequestsPerMin(t){this.requestsPerMin=t}getRequestsPerMin(){return this.requestsPerMin}async wait(){let r=Date.now()-this.lastRequestTime,n=Math.max(0,6e4/this.requestsPerMin-r);n>0&&await new Promise(o=>setTimeout(o,n)),this.lastRequestTime=Date.now()}};var o0t=B(xQ());n0t();sf();var PQ=class extends nn{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","documents","transformers"]})}invoke(t,r){return this.transformDocuments(t)}};_Se();var dCe=class extends PQ{constructor(t){if(super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=t?.chunkSize??this.chunkSize,this.chunkOverlap=t?.chunkOverlap??this.chunkOverlap,this.keepSeparator=t?.keepSeparator??this.keepSeparator,this.lengthFunction=t?.lengthFunction??(r=>r.length),this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(t,r={}){return this.splitDocuments(t,r)}splitOnSeparator(t,r){let n;if(r)if(this.keepSeparator){let o=r.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");n=t.split(new RegExp(`(?=${o})`))}else n=t.split(r);else n=t.split("");return n.filter(o=>o!=="")}async createDocuments(t,r=[],n={}){let o=r.length>0?r:[...Array(t.length)].map(()=>({})),{chunkHeader:i="",chunkOverlapHeader:a="(cont'd) ",appendChunkOverlapHeader:s=!1}=n,u=new Array;for(let l=0;l<t.length;l+=1){let c=t[l],d=1,f=null,p=-1;for(let h of await this.splitText(c)){let m=i,_=c.indexOf(h,p+1);if(f===null){let x=this.numberOfNewLines(c,0,_);d+=x}else{let x=p+await this.lengthFunction(f);if(x<_){let O=this.numberOfNewLines(c,x,_);d+=O}else if(x>_){let O=this.numberOfNewLines(c,_,x);d-=O}s&&(m+=a)}let g=this.numberOfNewLines(h),v=o[l].loc&&typeof o[l].loc=="object"?{...o[l].loc}:{};v.lines={from:d,to:d+g};let S={...o[l],loc:v};m+=h,u.push(new zx({pageContent:m,metadata:S})),d+=g,f=h,p=_}}return u}numberOfNewLines(t,r,n){return(t.slice(r,n).match(/\n/g)||[]).length}async splitDocuments(t,r={}){let n=t.filter(a=>a.pageContent!==void 0),o=n.map(a=>a.pageContent),i=n.map(a=>a.metadata);return this.createDocuments(o,i,r)}joinDocs(t,r){let n=t.join(r).trim();return n===""?null:n}async mergeSplits(t,r){let n=[],o=[],i=0;for(let s of t){let u=await this.lengthFunction(s);if(i+u+o.length*r.length>this.chunkSize&&(i>this.chunkSize&&console.warn(`Created a chunk of size ${i}, +
which is longer than the specified ${this.chunkSize}`),o.length>0)){let l=this.joinDocs(o,r);for(l!==null&&n.push(l);i>this.chunkOverlap||i+u+o.length*r.length>this.chunkSize&&i>0;)i-=await this.lengthFunction(o[0]),o.shift()}o.push(s),i+=u}let a=this.joinDocs(o,r);return a!==null&&n.push(a),n}};var TQ=class e extends dCe{static lc_name(){return"RecursiveCharacterTextSplitter"}constructor(t){super(t),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:[`

`,`
`," ",""]}),this.separators=t?.separators??this.separators,this.keepSeparator=t?.keepSeparator??!0}async _splitText(t,r){let n=[],o=r[r.length-1],i;for(let l=0;l<r.length;l+=1){let c=r[l];if(c===""){o=c;break}if(t.includes(c)){o=c,i=r.slice(l+1);break}}let a=this.splitOnSeparator(t,o),s=[],u=this.keepSeparator?"":o;for(let l of a)if(await this.lengthFunction(l)<this.chunkSize)s.push(l);else{if(s.length){let c=await this.mergeSplits(s,u);n.push(...c),s=[]}if(!i)n.push(l);else{let c=await this._splitText(l,i);n.push(...c)}}if(s.length){let l=await this.mergeSplits(s,u);n.push(...l)}return n}async splitText(t){return this._splitText(t,this.separators)}static fromLanguage(t,r){return new e({...r,separators:e.getSeparatorsForLanguage(t)})}static getSeparatorsForLanguage(t){if(t==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];if(t==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];if(t==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];if(t==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];if(t==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];if(t==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];if(t==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];if(t==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];if(t==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];if(t==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if(t==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];throw new Error(`Language ${t} is not supported.`)}};var Rw=require("obsidian");var MQ=class{constructor(t,r,n){this.app=t;this.dbOps=r;this.embeddingsManager=n;this.state={isIndexingPaused:!1,isIndexingCancelled:!1,indexedCount:0,totalFilesToIndex:0,processedFiles:new Set,currentIndexingNotice:null,indexNoticeMessage:null};let o=pe();this.rateLimiter=new B4(o.embeddingRequestsPerMin),this.embeddingBatchSize=o.embeddingBatchSize,this.checkpointInterval=8*this.embeddingBatchSize,sl(async()=>{let i=pe();this.rateLimiter=new B4(i.embeddingRequestsPerMin),this.embeddingBatchSize=i.embeddingBatchSize,this.checkpointInterval=8*this.embeddingBatchSize})}async indexVaultToVectorStore(t){let r=[];try{let n=await this.embeddingsManager.getEmbeddingsAPI();if(!n)return console.error("Embedding instance not found."),0;await this.dbOps.checkAndHandleEmbeddingModelChange(n)&&(t=!0),t?(await this.dbOps.clearIndex(n),this.dbOps.clearFilesMissingEmbeddings()):await this.dbOps.garbageCollect();let i=await this.getFilesToIndex(t);if(i.length===0)return new Rw.Notice("Copilot vault index is up-to-date."),0;this.initializeIndexingState(i.length),this.createIndexingNotice(),this.dbOps.clearFilesMissingEmbeddings();let a=await this.prepareAllChunks(i);if(a.length===0)return new Rw.Notice("No valid content to index."),0;for(let s=0;s<a.length&&!this.state.isIndexingCancelled;s+=this.embeddingBatchSize){await this.handlePause();let u=a.slice(s,s+this.embeddingBatchSize);try{await this.rateLimiter.wait();let l=await n.embedDocuments(u.map(f=>f.content));if(!l||l.length!==u.length)throw new Error(`Embedding model returned ${l?.length??0} embeddings for ${u.length} documents`);for(let f=0;f<u.length;f++){let p=u[f],h=l[f];if(!h||!Array.isArray(h)||h.length===0){Ur(`Invalid embedding for document ${p.fileInfo.path}: ${h}`),this.dbOps.markFileMissingEmbeddings(p.fileInfo.path);continue}try{await this.dbOps.upsert({...p.fileInfo,id:this.getDocHash(p.content),content:p.content,embedding:h,created_at:Date.now(),nchars:p.content.length}),this.state.processedFiles.add(p.fileInfo.path)}catch(m){this.handleError(m,{filePath:p.fileInfo.path,errors:r}),this.dbOps.markFileMissingEmbeddings(p.fileInfo.path);continue}}this.state.indexedCount=this.state.processedFiles.size,this.updateIndexingNoticeMessage();let c=Math.floor((this.state.indexedCount-u.length)/this.checkpointInterval);Math.floor(this.state.indexedCount/this.checkpointInterval)>c&&(await this.dbOps.saveDB(),console.log("Copilot index checkpoint save completed."))}catch(l){if(this.handleError(l,{filePath:u?.[0]?.fileInfo?.path,errors:r,batch:u}),this.isRateLimitError(l))break}}return this.finalizeIndexing(r),await this.dbOps.saveDB(),console.log("Copilot index final save completed."),this.dbOps.checkIndexIntegrity().catch(s=>{Ur("Background integrity check failed:",s)}),this.state.indexedCount}catch(n){return this.handleError(n),0}}async prepareAllChunks(t){let r=await this.embeddingsManager.getEmbeddingsAPI();if(!r)return console.error("Embedding instance not found."),[];let n=ps.getModelName(r),o=TQ.fromLanguage("markdown",{chunkSize:nBe}),i=[];for(let a of t){let s=await this.app.vault.cachedRead(a);if(!s?.trim())continue;let u=this.app.metadataCache.getFileCache(a),l={title:a.basename,path:a.path,embeddingModel:n,ctime:a.stat.ctime,mtime:a.stat.mtime,tags:u?.tags?.map(d=>d.tag)??[],extension:a.extension,metadata:{...u?.frontmatter??{},created:ll(new Date(a.stat.ctime)).display,modified:ll(new Date(a.stat.mtime)).display}};(await o.createDocuments([s],[],{chunkHeader:`

NOTE TITLE: [[${l.title}]]

METADATA:${JSON.stringify(l.metadata)}

NOTE BLOCK CONTENT:

`,appendChunkOverlapHeader:!0})).forEach(d=>{d.pageContent.trim()&&i.push({content:d.pageContent,fileInfo:l})})}return i}getDocHash(t){return(0,o0t.MD5)(t).toString()}async getFilesToIndex(t){let{inclusions:r,exclusions:n}=MR(),o=this.app.vault.getMarkdownFiles();if(t)return o.filter(c=>TP(c,r,n));let i=new Set(await this.dbOps.getIndexedFiles()),a=await this.dbOps.getLatestFileMtime(),s=new Set(this.dbOps.getFilesMissingEmbeddings()),u=new Set,l=new Set;for(let c of o){if(!TP(c,r,n))continue;let d=await this.app.vault.cachedRead(c);if(!d||d.trim().length===0){l.add(c.path);continue}let f=i.has(c.path),p=s.has(c.path);(!f||p||c.stat.mtime>a)&&u.add(c)}return br([`Files to index: ${u.size}`,`Previously indexed: ${i.size}`,`Empty files skipped: ${l.size}`,`Files missing embeddings: ${s.size}`].join(`
`)),Array.from(u)}initializeIndexingState(t){this.state={isIndexingPaused:!1,isIndexingCancelled:!1,indexedCount:0,totalFilesToIndex:t,processedFiles:new Set,currentIndexingNotice:null,indexNoticeMessage:null}}createIndexingNotice(){let t=document.createDocumentFragment(),r=t.createEl("div",{cls:"copilot-notice-container"});this.state.indexNoticeMessage=r.createEl("div",{cls:"copilot-notice-message"}),this.updateIndexingNoticeMessage();let n=r.createEl("div",{cls:"copilot-notice-buttons"}),o=n.createEl("button");o.textContent="Pause",o.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.state.isIndexingPaused?(this.resumeIndexing(),o.textContent="Pause"):(this.pauseIndexing(),o.textContent="Resume")});let i=n.createEl("button");return i.textContent="Stop",i.style.marginLeft="8px",i.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.cancelIndexing()}),t.appendChild(this.state.indexNoticeMessage),t.appendChild(n),this.state.currentIndexingNotice=new Rw.Notice(t,0),this.state.currentIndexingNotice}async handlePause(){if(this.state.isIndexingPaused){for(;this.state.isIndexingPaused&&!this.state.isIndexingCancelled;)await new Promise(t=>setTimeout(t,100));if(!this.state.isIndexingCancelled){let t=await this.getFilesToIndex();if(t.length===0){console.log("No files to index after filter change, stopping indexing"),this.cancelIndexing(),new Rw.Notice("No files to index with current filters");return}this.state.totalFilesToIndex=t.length,console.log("Total files to index:",this.state.totalFilesToIndex),console.log("Files to index:",t),this.updateIndexingNoticeMessage()}}}pauseIndexing(){this.state.isIndexingPaused=!0}resumeIndexing(){this.state.isIndexingPaused=!1}updateIndexingNoticeMessage(){if(this.state.indexNoticeMessage){let t=this.state.isIndexingPaused?" (Paused)":"",r=["Copilot is indexing your vault...",`${this.state.indexedCount}/${this.state.totalFilesToIndex} files processed${t}`],n=pe(),o=PP(n.qaInclusions);o.length>0&&r.push(`Inclusions: ${o.join(", ")}`);let a=[...OQ(this.app),...PP(n.qaExclusions)];a.length>0&&r.push(`Exclusions: ${a.join(", ")}`),this.state.indexNoticeMessage.textContent=r.join(`
`)}}isStringLengthError(t){if(!t)return!1;if(t instanceof RangeError&&t.message.toLowerCase().includes("string length"))return!0;let n=(t.message||t.toString()).toLowerCase();return n.includes("string length")||n.includes("rangeerror")}handleError(t,r){let n=r?.filePath;if(n?(r.batch?console.error("Batch processing error:",{error:t,batchSize:r.batch.length||0,firstChunk:r.batch[0]?{path:r.batch[0].fileInfo?.path,contentLength:r.batch[0].content?.length,hasFileInfo:!!r.batch[0].fileInfo}:"No chunks in batch",errorType:t?.constructor?.name,errorMessage:t?.message}):console.error(`Error indexing file ${n}:`,t),r.errors?.push(n)):console.error("Fatal error during indexing:",t),this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide(),this.isStringLengthError(t)){new Rw.Notice("Vault is too large for 1 partition, please increase the number of partitions in your Copilot QA settings!",1e4);return}if(this.isRateLimitError(t))return;let o=n?`Error indexing file ${n}. Check console for details.`:"Fatal error during indexing. Check console for details.";new Rw.Notice(o)}isRateLimitError(t){return t?.message?.includes?.("rate limit")||!1}finalizeIndexing(t){if(this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide(),this.state.isIndexingCancelled){new Rw.Notice("Indexing cancelled");return}t.length>0?new Rw.Notice(`Indexing completed with ${t.length} errors. Check console for details.`):new Rw.Notice("Indexing completed successfully!")}async reindexFile(t){try{let r=await this.embeddingsManager.getEmbeddingsAPI();if(!r)return;if(await this.dbOps.removeDocs(t.path),await this.dbOps.checkAndHandleEmbeddingModelChange(r)){await this.indexVaultToVectorStore(!0);return}let o=await this.prepareAllChunks([t]);if(o.length===0)return;let i=await r.embedDocuments(o.map(a=>a.content));for(let a=0;a<o.length;a++){let s=o[a];await this.dbOps.upsert({...s.fileInfo,id:this.getDocHash(s.content),content:s.content,embedding:i[a],created_at:Date.now(),nchars:s.content.length})}this.dbOps.markUnsavedChanges(),pe().debug&&console.log(`Reindexed file: ${t.path}`)}catch(r){this.handleError(r,{filePath:t.path})}}async cancelIndexing(){console.log("Indexing cancelled by user"),this.state.isIndexingCancelled=!0,await new Promise(t=>setTimeout(t,100)),this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide()}};var ma=class e{constructor(){this.embeddingsManager=ps.getInstance(),this.dbOps=new Ux(app),this.indexOps=new MQ(app,this.dbOps,this.embeddingsManager),this.eventHandler=new EQ(app,this.indexOps,this.dbOps),this.initializationPromise=this.initialize(),this.setupSettingsSubscription()}static getInstance(){return e.instance||(e.instance=new e),e.instance}setupSettingsSubscription(){this.lastKnownSettings={...pe()};let t=async()=>{let r=pe(),n=this.lastKnownSettings;if(this.lastKnownSettings={...r},r.enableIndexSync!==n?.enableIndexSync){let o=await this.dbOps.getDbPath();this.dbOps.getCurrentDbPath()!==o&&await this.dbOps.initializeDB(await this.embeddingsManager.getEmbeddingsAPI())}};sl(()=>{this.initializationPromise=t()})}async initialize(){try{let t=3;for(;t>0;)try{await this.dbOps.initializeDB(await this.embeddingsManager.getEmbeddingsAPI());break}catch(r){if(r instanceof dr&&r.message.includes("Vault adapter not available")&&(t--,t>0)){await new Promise(n=>setTimeout(n,100));continue}new $4.Notice("Failed to initialize vector store. Please make sure you have a valid API key for your embedding model and restart the plugin."),console.error("Failed to initialize vector store:",r);break}}catch(t){console.error("Failed to initialize vector store:",t)}}async waitForInitialization(){await this.initializationPromise}async indexVaultToVectorStore(t){return await this.waitForInitialization(),$4.Platform.isMobile&&pe().disableIndexOnMobile?(new $4.Notice("Indexing is disabled on mobile devices"),0):this.indexOps.indexVaultToVectorStore(t)}async clearIndex(){await this.waitForInitialization(),await this.dbOps.clearIndex(await this.embeddingsManager.getEmbeddingsAPI())}async garbageCollectVectorStore(){return await this.waitForInitialization(),this.dbOps.garbageCollect()}async getIndexedFiles(){return await this.waitForInitialization(),this.dbOps.getIndexedFiles()}async isIndexEmpty(){return await this.waitForInitialization(),this.dbOps.isIndexEmpty()}async hasIndex(t){return await this.waitForInitialization(),this.dbOps.hasIndex(t)}onunload(){this.eventHandler.cleanup(),this.dbOps.onunload()}async getDbOps(){return await this.waitForInitialization(),this.dbOps}async getDb(){await this.waitForInitialization();let t=this.dbOps.getDb();if(!t)throw new Error("Database is not loaded. Please restart the plugin.");return t}async reindexFile(t){await this.waitForInitialization(),await this.indexOps.reindexFile(t)}};var fCe="copilot-plus-flash",t$r=fCe+"|"+"copilot-plus",pCe="copilot-plus-small",hCe=pCe+"|"+"copilot-plus";function nfe(e){return e.split("|")[1]==="copilot-plus"}function IQ(){return qo().isPlusUser}async function AQ(){return pe().plusLicenseKey?await _l.getInstance().validateLicenseKey():(gCe(),!1)}function i0t(){let e=t$r,t=hCe,r=pe().embeddingModelKey;h5(e),cj("copilot_plus"),EO({defaultModelKey:e,embeddingModelKey:t,defaultChainType:"copilot_plus"}),r!==t&&ma.getInstance().indexVaultToVectorStore()}function mCe(e){return`https://www.obsidiancopilot.com?utm_source=obsidian&utm_medium=${e}`}function Jj(e){window.open(mCe(e),"_blank")}function a0t(){It("isPlusUser",!0)}function gCe(){let e=pe().isPlusUser;It("isPlusUser",!1),e&&new $9(app).open()}var s0t=require("obsidian"),u0t=B(Td()),_l=class e{constructor(){this.pluginVersion="Unknown"}static getInstance(){return e.instance||(e.instance=new e),e.instance}checkLicenseKey(){if(!pe().plusLicenseKey)throw new s0t.Notice("Copilot Plus license key not found. Please enter your license key in the settings."),new Error("License key not initialized")}setPluginVersion(t){this.pluginVersion=t}async makeRequest(t,r,n="POST",o=!1){this.checkLicenseKey();let i=new URL(`${nI}${t}`);n==="GET"&&Object.entries(r).forEach(([u,l])=>{i.searchParams.append(u,l)});let a=await fetch(i.toString(),{method:n,headers:{"Content-Type":"application/json",...!o&&{Authorization:`Bearer ${await Zo(pe().plusLicenseKey)}`},"X-Client-Version":this.pluginVersion},...n==="POST"&&{body:JSON.stringify(r)}}),s=await a.json();if(!a.ok)try{let u=s.detail,l=new Error(u.reason);return l.name=u.error,{data:null,error:l}}catch{return{data:null,error:new Error("Unknown error")}}return br(`==== ${t} request ====:`,s),{data:s}}async validateLicenseKey(){br("settings value",pe().plusLicenseKey);let{error:t}=await this.makeRequest("/license",{license_key:await Zo(pe().plusLicenseKey)},"POST",!0);return t?t.message==="Invalid license key"?(gCe(),!1):void 0:(a0t(),!0)}async broca(t){let{data:r,error:n}=await this.makeRequest("/broca",{message:t});if(n)throw n;if(!r)throw new Error("No data returned from broca");return r}async rerank(t,r){let{data:n,error:o}=await this.makeRequest("/rerank",{query:t,documents:r,model:"rerank-2"});if(o)throw o;if(!n)throw new Error("No data returned from rerank");return n}async url4llm(t){let{data:r,error:n}=await this.makeRequest("/url4llm",{url:t});if(n)throw n;if(!r)throw new Error("No data returned from url4llm");return r}async pdf4llm(t){let r=u0t.Buffer.from(t).toString("base64"),{data:n,error:o}=await this.makeRequest("/pdf4llm",{pdf:r});if(o)throw o;if(!n)throw new Error("No data returned from pdf4llm");return n}async webSearch(t){let{data:r,error:n}=await this.makeRequest("/websearch",{query:t});if(n)throw n;if(!r)throw new Error("No data returned from websearch");return r}async youtube4llm(t){let{data:r,error:n}=await this.makeRequest("/youtube4llm",{url:t});if(n)throw n;if(!r)throw new Error("No data returned from youtube4llm");return r}};var ECe={};Kd(ECe,{APIConnectionError:()=>Hx,APIConnectionTimeoutError:()=>RR,APIError:()=>Yu,APIUserAbortError:()=>vl,AnthropicError:()=>zr,AuthenticationError:()=>rk,BadRequestError:()=>tk,ConflictError:()=>ik,InternalServerError:()=>uk,NotFoundError:()=>ok,PermissionDeniedError:()=>nk,RateLimitError:()=>sk,UnprocessableEntityError:()=>ak});var IR="0.27.3";var l0t=!1,AR,yCe,r$r,n$r,o$r,c0t,i$r,RQ,bCe,d0t,_Ce,DQ,f0t;function p0t(e,t={auto:!1}){if(l0t)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(AR)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${AR}'\``);l0t=t.auto,AR=e.kind,yCe=e.fetch,r$r=e.Request,n$r=e.Response,o$r=e.Headers,c0t=e.FormData,i$r=e.Blob,RQ=e.File,bCe=e.ReadableStream,d0t=e.getMultipartRequestOptions,_Ce=e.getDefaultAgent,DQ=e.fileFromPath,f0t=e.isFsReadStream}var jQ=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function h0t({manuallyImported:e}={}){let t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new jQ(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:a=>!1}}AR||p0t(h0t(),{auto:!0});var Dw=class e{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(let a of s$r(t,r)){if(a.event==="completion")try{yield JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event==="message_start"||a.event==="message_delta"||a.event==="message_stop"||a.event==="content_block_start"||a.event==="content_block_delta"||a.event==="content_block_stop")try{yield JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event!=="ping"&&a.event==="error")throw Yu.generate(void 0,`SSE Error: ${a.data}`,a.data,wCe(t.headers))}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new e(o,r)}static fromReadableStream(t,r){let n=!1;async function*o(){let a=new QF,s=m0t(t);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new e(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(r),this.controller)]}toReadableStream(){let t=this,r,n=new TextEncoder;return new bCe({async start(){r=t[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}};async function*s$r(e,t){if(!e.body)throw t.abort(),new zr("Attempted to iterate over a response with no body");let r=new vCe,n=new QF,o=m0t(e.body);for await(let i of u$r(o))for(let a of n.decode(i)){let s=r.decode(a);s&&(yield s)}for(let i of n.flush()){let a=r.decode(i);a&&(yield a)}}async function*u$r(e){let t=new Uint8Array;for await(let r of e){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r,o=new Uint8Array(t.length+n.length);o.set(t),o.set(n,t.length),t=o;let i;for(;(i=l$r(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function l$r(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}var vCe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=c$r(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},QF=class e{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=e.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(e.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new zr(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new zr(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new zr("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};QF.NEWLINE_CHARS=new Set([`
`,"\r"]);QF.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function c$r(e,t){let r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function m0t(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){let r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var d$r=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",f$r=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&q4(e),q4=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function";async function g0t(e,t,r){if(e=await e,f$r(e))return e;if(d$r(e)){let o=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let i=q4(o)?[await o.arrayBuffer()]:[o];return new RQ(i,t,r)}let n=await p$r(e);if(t||(t=m$r(e)??"unknown_file"),!r?.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new RQ(n,t,r)}async function p$r(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(q4(e))t.push(await e.arrayBuffer());else if(g$r(e))for await(let r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${h$r(e)}`);return t}function h$r(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function m$r(e){return SCe(e.name)||SCe(e.filename)||SCe(e.path)?.split(/[\\/]/).pop()}var SCe=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},g$r=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",xCe=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var b$r=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},_$r=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},NQ;async function S0t(e){let{response:t}=e;if(e.options.stream)return ek("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Dw.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await t.json();return ek("response",t.status,t.url,t.headers,i),i}let o=await t.text();return ek("response",t.status,t.url,t.headers,o),o}var LQ=class e extends Promise{constructor(t,r=S0t){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new e(this.responsePromise,async r=>t(await this.parseResponse(r)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},FQ=class{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=CCe("maxRetries",r),this.timeout=CCe("timeout",n),this.httpAgent=o,this.fetch=i??yCe}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...S$r(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${T$r()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&q4(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:t,path:r,...o,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){let{method:r,path:n,query:o,headers:i={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:xCe(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,s=this.calculateContentLength(a),u=this.buildURL(n,o);"timeout"in t&&CCe("timeout",t.timeout);let l=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??_Ce(u),d=l+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);let f=this.buildHeaders({options:t,headers:i,contentLength:s});return{req:{method:r,...a&&{body:a},headers:f,...c&&{agent:c},signal:t.signal??null},url:u,timeout:l}}buildHeaders({options:t,headers:r,contentLength:n}){let o={};n&&(o["content-length"]=n);let i=this.defaultHeaders(t);return w0t(o,i),w0t(o,r),xCe(t.body)&&AR!=="node"&&delete o["content-type"],this.validateHeaders(o,r),o}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,o){return Yu.generate(t,r,n,o)}request(t,r=null){return new LQ(this.makeRequest(t,r))}async makeRequest(t,r){let n=await t;r==null&&(r=n.maxRetries??this.maxRetries),await this.prepareOptions(n);let{req:o,url:i,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(o,{url:i,options:n}),ek("request",i,n,o.headers),n.signal?.aborted)throw new vl;let s=new AbortController,u=await this.fetchWithTimeout(i,o,a,s).catch(kQ);if(u instanceof Error){if(n.signal?.aborted)throw new vl;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new RR:new Hx({cause:u})}let l=wCe(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){let m=`retrying, ${r} attempts remaining`;return ek(`response (error; ${m})`,u.status,i,l),this.retryRequest(n,r,l)}let c=await u.text().catch(m=>kQ(m).message),d=x$r(c),f=d?void 0:c;throw ek(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,l,f),this.makeStatusError(u.status,d,f,l)}return{response:u,options:n,controller:s}}requestAPIList(t,r){let n=this.makeRequest(r,null);return new OCe(this,n,t)}buildURL(t,r){let n=O$r(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return $Q(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new zr(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n);return this.getRequestClient().fetch.call(void 0,t,{signal:o.signal,...a}).finally(()=>{clearTimeout(s)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){let r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await E$r(o),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){let i=r-t,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${IR}`}},y0t=class{constructor(t,r,n,o){NQ.set(this,void 0),b$r(this,NQ,t,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let t=this.nextPageInfo();if(!t)throw new zr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){let n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(let[o,i]of n)t.url.searchParams.set(o,i);r.query=void 0,r.path=t.url.toString()}return await _$r(this,NQ,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(NQ=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let r of t.getPaginatedItems())yield r}},OCe=class extends LQ{constructor(t,r,n){super(r,async o=>new n(t,o.response,await S0t(o),o.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let r of t)yield r}},wCe=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){let n=r.toString();return t[n.toLowerCase()]||t[n]}});var v$r=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":IR,"X-Stainless-OS":_0t(Deno.build.os),"X-Stainless-Arch":b0t(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":IR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":IR,"X-Stainless-OS":_0t(process.platform),"X-Stainless-Arch":b0t(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=w$r();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":IR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":IR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function w$r(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:r}of e){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:t,version:`${o}.${i}.${a}`}}}return null}var b0t=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",_0t=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),v0t,S$r=()=>v0t??(v0t=v$r()),x$r=e=>{try{return JSON.parse(e)}catch{return}},C$r=new RegExp("^(?:[a-z]+:)?//","i"),O$r=e=>C$r.test(e),E$r=e=>new Promise(t=>setTimeout(t,e)),CCe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new zr(`${e} must be an integer`);if(t<0)throw new zr(`${e} must be a positive integer`);return t},kQ=e=>e instanceof Error?e:new Error(e);var BQ=e=>{if(typeof process<"u")return process.env?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function $Q(e){if(!e)return!0;for(let t in e)return!1;return!0}function P$r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w0t(e,t){for(let r in t){if(!P$r(t,r))continue;let n=r.toLowerCase();if(!n)continue;let o=t[r];o===null?delete e[n]:o!==void 0&&(e[n]=o)}}function ek(e,...t){typeof process<"u"&&process?.env?.DEBUG==="true"&&console.log(`Anthropic:DEBUG:${e}`,...t)}var T$r=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),x0t=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";var zr=class extends Error{},Yu=class e extends zr{constructor(t,r,n,o){super(`${e.makeMessage(t,r,n)}`),this.status=t,this.headers=o,this.request_id=o?.["request-id"],this.error=r}static makeMessage(t,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,n,o){if(!t)return new Hx({message:n,cause:kQ(r)});let i=r;return t===400?new tk(t,i,n,o):t===401?new rk(t,i,n,o):t===403?new nk(t,i,n,o):t===404?new ok(t,i,n,o):t===409?new ik(t,i,n,o):t===422?new ak(t,i,n,o):t===429?new sk(t,i,n,o):t>=500?new uk(t,i,n,o):new e(t,i,n,o)}},vl=class extends Yu{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Hx=class extends Yu{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}},RR=class extends Hx{constructor({message:t}={}){super({message:t??"Request timed out."})}},tk=class extends Yu{constructor(){super(...arguments),this.status=400}},rk=class extends Yu{constructor(){super(...arguments),this.status=401}},nk=class extends Yu{constructor(){super(...arguments),this.status=403}},ok=class extends Yu{constructor(){super(...arguments),this.status=404}},ik=class extends Yu{constructor(){super(...arguments),this.status=409}},ak=class extends Yu{constructor(){super(...arguments),this.status=422}},sk=class extends Yu{constructor(){super(...arguments),this.status=429}},uk=class extends Yu{};var Uh=class{constructor(t){this._client=t}};var I$r=e=>{let t=0,r=[];for(;t<e.length;){let n=e[t];if(n==="\\"){t++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),t++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),t++;continue}if(n==="["){r.push({type:"paren",value:"["}),t++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),t++;continue}if(n===":"){r.push({type:"separator",value:":"}),t++;continue}if(n===","){r.push({type:"delimiter",value:","}),t++;continue}if(n==='"'){let s="",u=!1;for(n=e[++t];n!=='"';){if(t===e.length){u=!0;break}if(n==="\\"){if(t++,t===e.length){u=!0;break}s+=n+e[t],n=e[++t]}else s+=n,n=e[++t]}n=e[++t],u||r.push({type:"string",value:s});continue}if(n&&/\s/.test(n)){t++;continue}let i=/[0-9]/;if(n&&i.test(n)||n==="-"||n==="."){let s="";for(n==="-"&&(s+=n,n=e[++t]);n&&i.test(n)||n===".";)s+=n,n=e[++t];r.push({type:"number",value:s});continue}let a=/[a-z]/i;if(n&&a.test(n)){let s="";for(;n&&a.test(n)&&t!==e.length;)s+=n,n=e[++t];if(s=="true"||s=="false"||s==="null")r.push({type:"name",value:s});else{t++;continue}continue}t++}return r},lk=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),lk(e);break;case"number":let r=t.value[t.value.length-1];if(r==="."||r==="-")return e=e.slice(0,e.length-1),lk(e);case"string":let n=e[e.length-2];if(n?.type==="delimiter")return e=e.slice(0,e.length-1),lk(e);if(n?.type==="brace"&&n.value==="{")return e=e.slice(0,e.length-1),lk(e);break;case"delimiter":return e=e.slice(0,e.length-1),lk(e);break}return e},A$r=e=>{let t=[];return e.map(r=>{r.type==="brace"&&(r.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(r=>{r==="}"?e.push({type:"brace",value:"}"}):r==="]"&&e.push({type:"paren",value:"]"})}),e},R$r=e=>{let t="";return e.map(r=>{switch(r.type){case"string":t+='"'+r.value+'"';break;default:t+=r.value;break}}),t},qQ=e=>JSON.parse(R$r(A$r(lk(I$r(e)))));var Df=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},ln=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},zh,MP,UQ,zQ,U4,z4,HQ,H4,Vx,V4,VQ,WQ,ck,PCe,C0t,TCe,MCe,ICe,ACe,O0t,E0t="__json_buf",JQ=class e{constructor(){zh.add(this),this.messages=[],this.receivedMessages=[],MP.set(this,void 0),this.controller=new AbortController,UQ.set(this,void 0),zQ.set(this,()=>{}),U4.set(this,()=>{}),z4.set(this,void 0),HQ.set(this,()=>{}),H4.set(this,()=>{}),Vx.set(this,{}),V4.set(this,!1),VQ.set(this,!1),WQ.set(this,!1),ck.set(this,!1),TCe.set(this,t=>{if(Df(this,VQ,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new vl),t instanceof vl)return Df(this,WQ,!0,"f"),this._emit("abort",t);if(t instanceof zr)return this._emit("error",t);if(t instanceof Error){let r=new zr(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new zr(String(t)))}),Df(this,UQ,new Promise((t,r)=>{Df(this,zQ,t,"f"),Df(this,U4,r,"f")}),"f"),Df(this,z4,new Promise((t,r)=>{Df(this,HQ,t,"f"),Df(this,H4,r,"f")}),"f"),ln(this,UQ,"f").catch(()=>{}),ln(this,z4,"f").catch(()=>{})}static fromReadableStream(t){let r=new e;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,n){let o=new e;for(let i of r.messages)o._addPromptCachingBetaMessageParam(i);return o._run(()=>o._createPromptCachingBetaMessage(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},ln(this,TCe,"f"))}_addPromptCachingBetaMessageParam(t){this.messages.push(t)}_addPromptCachingBetaMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createPromptCachingBetaMessage(t,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),ln(this,zh,"m",MCe).call(this);let i=await t.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)ln(this,zh,"m",ICe).call(this,a);if(i.controller.signal?.aborted)throw new vl;ln(this,zh,"m",ACe).call(this)}_connected(){this.ended||(ln(this,zQ,"f").call(this),this._emit("connect"))}get ended(){return ln(this,V4,"f")}get errored(){return ln(this,VQ,"f")}get aborted(){return ln(this,WQ,"f")}abort(){this.controller.abort()}on(t,r){return(ln(this,Vx,"f")[t]||(ln(this,Vx,"f")[t]=[])).push({listener:r}),this}off(t,r){let n=ln(this,Vx,"f")[t];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(t,r){return(ln(this,Vx,"f")[t]||(ln(this,Vx,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{Df(this,ck,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){Df(this,ck,!0,"f"),await ln(this,z4,"f")}get currentMessage(){return ln(this,MP,"f")}async finalMessage(){return await this.done(),ln(this,zh,"m",PCe).call(this)}async finalText(){return await this.done(),ln(this,zh,"m",C0t).call(this)}_emit(t,...r){if(ln(this,V4,"f"))return;t==="end"&&(Df(this,V4,!0,"f"),ln(this,HQ,"f").call(this));let n=ln(this,Vx,"f")[t];if(n&&(ln(this,Vx,"f")[t]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),t==="abort"){let o=r[0];!ln(this,ck,"f")&&!n?.length&&Promise.reject(o),ln(this,U4,"f").call(this,o),ln(this,H4,"f").call(this,o),this._emit("end");return}if(t==="error"){let o=r[0];!ln(this,ck,"f")&&!n?.length&&Promise.reject(o),ln(this,U4,"f").call(this,o),ln(this,H4,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalPromptCachingBetaMessage",ln(this,zh,"m",PCe).call(this))}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),ln(this,zh,"m",MCe).call(this),this._connected();let o=Dw.fromReadableStream(t,this.controller);for await(let i of o)ln(this,zh,"m",ICe).call(this,i);if(o.controller.signal?.aborted)throw new vl;ln(this,zh,"m",ACe).call(this)}[(MP=new WeakMap,UQ=new WeakMap,zQ=new WeakMap,U4=new WeakMap,z4=new WeakMap,HQ=new WeakMap,H4=new WeakMap,Vx=new WeakMap,V4=new WeakMap,VQ=new WeakMap,WQ=new WeakMap,ck=new WeakMap,TCe=new WeakMap,zh=new WeakSet,PCe=function(){if(this.receivedMessages.length===0)throw new zr("stream ended without producing a PromptCachingBetaMessage with role=assistant");return this.receivedMessages.at(-1)},C0t=function(){if(this.receivedMessages.length===0)throw new zr("stream ended without producing a PromptCachingBetaMessage with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new zr("stream ended without producing a content block with type=text");return r.join(" ")},MCe=function(){this.ended||Df(this,MP,void 0,"f")},ICe=function(r){if(this.ended)return;let n=ln(this,zh,"m",O0t).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let o=n.content.at(-1);r.delta.type==="text_delta"&&o.type==="text"?this._emit("text",r.delta.text,o.text||""):r.delta.type==="input_json_delta"&&o.type==="tool_use"&&o.input&&this._emit("inputJson",r.delta.partial_json,o.input);break}case"message_stop":{this._addPromptCachingBetaMessageParam(n),this._addPromptCachingBetaMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{Df(this,MP,n,"f");break}case"content_block_start":case"message_delta":break}},ACe=function(){if(this.ended)throw new zr("stream has ended, this shouldn't happen");let r=ln(this,MP,"f");if(!r)throw new zr("request ended without sending any chunks");return Df(this,MP,void 0,"f"),r},O0t=function(r){let n=ln(this,MP,"f");if(r.type==="message_start"){if(n)throw new zr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new zr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let o=n.content.at(r.index);if(o?.type==="text"&&r.delta.type==="text_delta")o.text+=r.delta.text;else if(o?.type==="tool_use"&&r.delta.type==="input_json_delta"){let i=o[E0t]||"";i+=r.delta.partial_json,Object.defineProperty(o,E0t,{value:i,enumerable:!1,writable:!0}),i&&(o.input=qQ(i))}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("streamEvent",o=>{let i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Dw(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var DR=class extends Uh{create(t,r){return this._client.post("/v1/messages?beta=prompt_caching",{body:t,timeout:this._client._options.timeout??6e5,...r,headers:{"anthropic-beta":"prompt-caching-2024-07-31",...r?.headers},stream:t.stream??!1})}stream(t,r){return JQ.createMessage(this,t,r)}};DR||(DR={});var jR=class extends Uh{constructor(){super(...arguments),this.messages=new DR(this._client)}};(function(e){e.Messages=DR})(jR||(jR={}));var IP=class extends Uh{constructor(){super(...arguments),this.promptCaching=new jR(this._client)}};(function(e){e.PromptCaching=jR})(IP||(IP={}));var AP=class extends Uh{create(t,r){return this._client.post("/v1/complete",{body:t,timeout:this._client._options.timeout??6e5,...r,stream:t.stream??!1})}};AP||(AP={});var jf=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},cn=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Hh,RP,GQ,KQ,W4,J4,YQ,G4,Wx,K4,ZQ,XQ,dk,RCe,P0t,DCe,jCe,NCe,LCe,T0t,M0t="__json_buf",QQ=class e{constructor(){Hh.add(this),this.messages=[],this.receivedMessages=[],RP.set(this,void 0),this.controller=new AbortController,GQ.set(this,void 0),KQ.set(this,()=>{}),W4.set(this,()=>{}),J4.set(this,void 0),YQ.set(this,()=>{}),G4.set(this,()=>{}),Wx.set(this,{}),K4.set(this,!1),ZQ.set(this,!1),XQ.set(this,!1),dk.set(this,!1),DCe.set(this,t=>{if(jf(this,ZQ,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new vl),t instanceof vl)return jf(this,XQ,!0,"f"),this._emit("abort",t);if(t instanceof zr)return this._emit("error",t);if(t instanceof Error){let r=new zr(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new zr(String(t)))}),jf(this,GQ,new Promise((t,r)=>{jf(this,KQ,t,"f"),jf(this,W4,r,"f")}),"f"),jf(this,J4,new Promise((t,r)=>{jf(this,YQ,t,"f"),jf(this,G4,r,"f")}),"f"),cn(this,GQ,"f").catch(()=>{}),cn(this,J4,"f").catch(()=>{})}static fromReadableStream(t){let r=new e;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,n){let o=new e;for(let i of r.messages)o._addMessageParam(i);return o._run(()=>o._createMessage(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},cn(this,DCe,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),cn(this,Hh,"m",jCe).call(this);let i=await t.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)cn(this,Hh,"m",NCe).call(this,a);if(i.controller.signal?.aborted)throw new vl;cn(this,Hh,"m",LCe).call(this)}_connected(){this.ended||(cn(this,KQ,"f").call(this),this._emit("connect"))}get ended(){return cn(this,K4,"f")}get errored(){return cn(this,ZQ,"f")}get aborted(){return cn(this,XQ,"f")}abort(){this.controller.abort()}on(t,r){return(cn(this,Wx,"f")[t]||(cn(this,Wx,"f")[t]=[])).push({listener:r}),this}off(t,r){let n=cn(this,Wx,"f")[t];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(t,r){return(cn(this,Wx,"f")[t]||(cn(this,Wx,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{jf(this,dk,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){jf(this,dk,!0,"f"),await cn(this,J4,"f")}get currentMessage(){return cn(this,RP,"f")}async finalMessage(){return await this.done(),cn(this,Hh,"m",RCe).call(this)}async finalText(){return await this.done(),cn(this,Hh,"m",P0t).call(this)}_emit(t,...r){if(cn(this,K4,"f"))return;t==="end"&&(jf(this,K4,!0,"f"),cn(this,YQ,"f").call(this));let n=cn(this,Wx,"f")[t];if(n&&(cn(this,Wx,"f")[t]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),t==="abort"){let o=r[0];!cn(this,dk,"f")&&!n?.length&&Promise.reject(o),cn(this,W4,"f").call(this,o),cn(this,G4,"f").call(this,o),this._emit("end");return}if(t==="error"){let o=r[0];!cn(this,dk,"f")&&!n?.length&&Promise.reject(o),cn(this,W4,"f").call(this,o),cn(this,G4,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",cn(this,Hh,"m",RCe).call(this))}async _fromReadableStream(t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),cn(this,Hh,"m",jCe).call(this),this._connected();let o=Dw.fromReadableStream(t,this.controller);for await(let i of o)cn(this,Hh,"m",NCe).call(this,i);if(o.controller.signal?.aborted)throw new vl;cn(this,Hh,"m",LCe).call(this)}[(RP=new WeakMap,GQ=new WeakMap,KQ=new WeakMap,W4=new WeakMap,J4=new WeakMap,YQ=new WeakMap,G4=new WeakMap,Wx=new WeakMap,K4=new WeakMap,ZQ=new WeakMap,XQ=new WeakMap,dk=new WeakMap,DCe=new WeakMap,Hh=new WeakSet,RCe=function(){if(this.receivedMessages.length===0)throw new zr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},P0t=function(){if(this.receivedMessages.length===0)throw new zr("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new zr("stream ended without producing a content block with type=text");return r.join(" ")},jCe=function(){this.ended||jf(this,RP,void 0,"f")},NCe=function(r){if(this.ended)return;let n=cn(this,Hh,"m",T0t).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let o=n.content.at(-1);r.delta.type==="text_delta"&&o.type==="text"?this._emit("text",r.delta.text,o.text||""):r.delta.type==="input_json_delta"&&o.type==="tool_use"&&o.input&&this._emit("inputJson",r.delta.partial_json,o.input);break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{jf(this,RP,n,"f");break}case"content_block_start":case"message_delta":break}},LCe=function(){if(this.ended)throw new zr("stream has ended, this shouldn't happen");let r=cn(this,RP,"f");if(!r)throw new zr("request ended without sending any chunks");return jf(this,RP,void 0,"f"),r},T0t=function(r){let n=cn(this,RP,"f");if(r.type==="message_start"){if(n)throw new zr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new zr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let o=n.content.at(r.index);if(o?.type==="text"&&r.delta.type==="text_delta")o.text+=r.delta.text;else if(o?.type==="tool_use"&&r.delta.type==="input_json_delta"){let i=o[M0t]||"";i+=r.delta.partial_json,Object.defineProperty(o,M0t,{value:i,enumerable:!1,writable:!0}),i&&(o.input=qQ(i))}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let t=[],r=[],n=!1;return this.on("streamEvent",o=>{let i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Dw(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var DP=class extends Uh{create(t,r){return t.model in I0t&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${I0t[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:t,timeout:this._client._options.timeout??6e5,...r,stream:t.stream??!1})}stream(t,r){return QQ.createMessage(this,t,r)}},I0t={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024"};DP||(DP={});var A0t,ei=class extends FQ{constructor({baseURL:t=BQ("ANTHROPIC_BASE_URL"),apiKey:r=BQ("ANTHROPIC_API_KEY")??null,authToken:n=BQ("ANTHROPIC_AUTH_TOKEN")??null,...o}={}){let i={apiKey:r,authToken:n,...o,baseURL:t||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&x0t())throw new zr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });

TODO: link!
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new AP(this),this.messages=new DP(this),this.beta=new IP(this),this._options=i,this.apiKey=r,this.authToken=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(t,r){if(!(this.apiKey&&t["x-api-key"])&&r["x-api-key"]!==null&&!(this.authToken&&t.authorization)&&r.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(t){let r=this.apiKeyAuth(t),n=this.bearerAuth(t);return r!=null&&!$Q(r)?r:n!=null&&!$Q(n)?n:{}}apiKeyAuth(t){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(t){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}};A0t=ei;ei.Anthropic=A0t;ei.HUMAN_PROMPT=`

Human:`;ei.AI_PROMPT=`

Assistant:`;ei.DEFAULT_TIMEOUT=6e5;ei.AnthropicError=zr;ei.APIError=Yu;ei.APIConnectionError=Hx;ei.APIConnectionTimeoutError=RR;ei.APIUserAbortError=vl;ei.NotFoundError=ok;ei.ConflictError=ik;ei.RateLimitError=sk;ei.BadRequestError=tk;ei.AuthenticationError=rk;ei.InternalServerError=uk;ei.PermissionDeniedError=nk;ei.UnprocessableEntityError=ak;ei.toFile=g0t;ei.fileFromPath=DQ;var{HUMAN_PROMPT:kCo,AI_PROMPT:BCo}=ei,{AnthropicError:$Co,APIError:qCo,APIConnectionError:UCo,APIConnectionTimeoutError:zCo,APIUserAbortError:HCo,NotFoundError:VCo,ConflictError:WCo,RateLimitError:JCo,BadRequestError:GCo,AuthenticationError:KCo,InternalServerError:YCo,PermissionDeniedError:ZCo,UnprocessableEntityError:XCo}=ECe;(function(e){e.Completions=AP,e.Messages=DP,e.Beta=IP})(ei||(ei={}));kh();Dx();oh();IS();SO();var Y4=class extends zM{static lc_name(){return"AnthropicToolsOutputParser"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","anthropic","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=t.keyName,this.returnSingle=t.returnSingle??this.returnSingle,this.zodSchema=t.zodSchema}async _validateResult(t){let r=t;if(typeof t=="string")try{r=JSON.parse(t)}catch(o){throw new ep(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify(o.message)}`,t)}else r=t;if(this.zodSchema===void 0)return r;let n=await this.zodSchema.safeParseAsync(r);if(n.success)return n.data;throw new ep(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(r,null,2))}async parseResult(t){let r=t.flatMap(i=>{let{message:a}=i;return Array.isArray(a.content)?FCe(a.content)[0]:[]});if(r[0]===void 0)throw new Error("No parseable tool calls provided to AnthropicToolsOutputParser.");let[n]=r;return await this._validateResult(n.args)}};function FCe(e){let t=[];for(let r of e)r.type==="tool_use"&&t.push({name:r.name,args:r.input,id:r.id,type:"tool_call"});return t}function R0t(e){if(e)return e==="any"?{type:"any"}:e==="auto"?{type:"auto"}:typeof e=="string"?{type:"tool",name:e}:e}function D0t(e){let t,r=Array.isArray(e.content)?e.content.find(o=>o.type==="tool_use"):void 0;r&&"index"in r&&"name"in r&&"id"in r&&(t={args:"",id:r.id,name:r.name,index:r.index,type:"tool_call_chunk"});let n=Array.isArray(e.content)?e.content.find(o=>o.type==="input_json_delta"):void 0;return n&&"index"in n&&"input"in n&&(typeof n.input=="string"?t={id:n.id,name:n.name,args:n.input,index:n.index,type:"tool_call_chunk"}:t={id:n.id,name:n.name,args:JSON.stringify(n.input,null,2),index:n.index,type:"tool_call_chunk"}),t}function j0t(e){let t=/^data:(image\/.+);base64,(.+)$/,r=e.match(t);if(r===null)throw new Error(["Anthropic only supports base64-encoded images currently.","Example: data:image/png;base64,/9j/4AAQSk..."].join(`

`));return{type:"base64",media_type:r[1]??"",data:r[2]??""}}function L$r(e){let t=[];for(let r of e)if(r._getType()==="tool")if(typeof r.content=="string"){let n=t[t.length-1];n?._getType()==="human"&&Array.isArray(n.content)&&"type"in n.content[0]&&n.content[0].type==="tool_result"?n.content.push({type:"tool_result",content:r.content,tool_use_id:r.tool_call_id}):t.push(new Ua({content:[{type:"tool_result",content:r.content,tool_use_id:r.tool_call_id}]}))}else t.push(new Ua({content:r.content}));else{let n=t[t.length-1];if(n?._getType()==="human"&&r._getType()==="human"){let o;typeof n.content=="string"?o=[{type:"text",text:n.content}]:o=n.content,typeof r.content=="string"?o.push({type:"text",text:r.content}):o=o.concat(r.content),n.content=o}else t.push(r)}return t}function N0t(e){if(e.id===void 0)throw new Error('Anthropic requires all tool calls to have an "id".');return{type:"tool_use",id:e.id,name:e.name,input:e.args}}function L0t(e){let t=["tool_use","tool_result","input_json_delta"],r=["text","text_delta"];return typeof e=="string"?e:e.map(o=>{let i="cache_control"in o?o.cache_control:void 0;if(o.type==="image_url"){let a;return typeof o.image_url=="string"?a=j0t(o.image_url):a=j0t(o.image_url.url),{type:"image",source:a,...i?{cache_control:i}:{}}}else{if(r.find(a=>a===o.type)&&"text"in o)return{type:"text",text:o.text,...i?{cache_control:i}:{}};if(t.find(a=>a===o.type)){let a={...o};if("index"in a&&delete a.index,a.type==="input_json_delta"&&(a.type="tool_use"),"input"in a)try{a.input=JSON.parse(a.input)}catch{}return{...a,...i?{cache_control:i}:{}}}else throw new Error("Unsupported message content format")}})}function eee(e){let t=L$r(e),r;return t.length>0&&t[0]._getType()==="system"&&(r=e[0].content),{messages:(r!==void 0?t.slice(1):t).map(i=>{let a;if(i._getType()==="human")a="user";else if(i._getType()==="ai")a="assistant";else if(i._getType()==="tool")a="user";else throw i._getType()==="system"?new Error("System messages are only permitted as the first passed message."):new Error(`Message type "${i._getType()}" is not supported.`);if(Fu(i)&&i.tool_calls?.length){if(typeof i.content=="string")return i.content===""?{role:a,content:i.tool_calls.map(N0t)}:{role:a,content:[{type:"text",text:i.content},...i.tool_calls.map(N0t)]};{let{content:s}=i;return!i.tool_calls.every(l=>s.find(c=>(c.type==="tool_use"||c.type==="input_json_delta")&&c.id===l.id))&&console.warn('The "tool_calls" field on a message is only respected if content is a string.'),{role:a,content:L0t(i.content)}}}else return{role:a,content:L0t(i.content)}}),system:r}}function F0t(e,t){if(e.type==="message_start"){let{content:r,usage:n,...o}=e.message,i={};for(let[s,u]of Object.entries(o))u!=null&&(i[s]=u);let a={input_tokens:n.input_tokens,output_tokens:n.output_tokens,total_tokens:n.input_tokens+n.output_tokens};return{chunk:new Jr({content:t.coerceContentToString?"":[],additional_kwargs:i,usage_metadata:t.streamUsage?a:void 0,id:e.message.id})}}else if(e.type==="message_delta"){let r={input_tokens:0,output_tokens:e.usage.output_tokens,total_tokens:e.usage.output_tokens};return{chunk:new Jr({content:t.coerceContentToString?"":[],additional_kwargs:{...e.delta},usage_metadata:t.streamUsage?r:void 0})}}else{if(e.type==="content_block_start"&&e.content_block.type==="tool_use")return{chunk:new Jr({content:t.coerceContentToString?"":[{index:e.index,...e.content_block,input:""}],additional_kwargs:{}})};if(e.type==="content_block_delta"&&e.delta.type==="text_delta"){let r=e.delta?.text;if(r!==void 0)return{chunk:new Jr({content:t.coerceContentToString?r:[{index:e.index,...e.delta}],additional_kwargs:{}})}}else{if(e.type==="content_block_delta"&&e.delta.type==="input_json_delta")return{chunk:new Jr({content:t.coerceContentToString?"":[{index:e.index,input:e.delta.partial_json,type:e.delta.type}],additional_kwargs:{}})};if(e.type==="content_block_start"&&e.content_block.type==="text"){let r=e.content_block?.text;if(r!==void 0)return{chunk:new Jr({content:t.coerceContentToString?r:[{index:e.index,...e.content_block}],additional_kwargs:{}})}}}}return null}function k0t(e,t){let r=t.usage,n=r!=null?{input_tokens:r.input_tokens??0,output_tokens:r.output_tokens??0,total_tokens:(r.input_tokens??0)+(r.output_tokens??0)}:void 0;if(e.length===1&&e[0].type==="text")return[{text:e[0].text,message:new Po({content:e[0].text,additional_kwargs:t,usage_metadata:n,response_metadata:t,id:t.id})}];{let o=FCe(e);return[{text:"",message:new Po({content:e,additional_kwargs:t,tool_calls:o,usage_metadata:n,response_metadata:t,id:t.id})}]}}function F$r(e){return!!(e.tools&&e.tools.length>0)}function k$r(e){return"input_schema"in e}function B$r(e){if(typeof e.content=="string")return e.content;if(Array.isArray(e.content)&&e.content.length>=1&&"input"in e.content[0])return typeof e.content[0].input=="string"?e.content[0].input:JSON.stringify(e.content[0].input);if(Array.isArray(e.content)&&e.content.length>=1&&"text"in e.content[0])return e.content[0].text}var kCe=class extends Qc{static lc_name(){return"ChatAnthropic"}get lc_secrets(){return{anthropicApiKey:"ANTHROPIC_API_KEY",apiKey:"ANTHROPIC_API_KEY"}}get lc_aliases(){return{modelName:"model"}}constructor(t){if(super(t??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"anthropicApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"invocationKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamingClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"createClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.anthropicApiKey=t?.apiKey??t?.anthropicApiKey??Jt("ANTHROPIC_API_KEY"),!this.anthropicApiKey&&!t?.createClient)throw new Error("Anthropic API key not found");this.clientOptions=t?.clientOptions??{},this.apiKey=this.anthropicApiKey,this.apiUrl=t?.anthropicApiUrl,this.modelName=t?.model??t?.modelName??this.model,this.model=this.modelName,this.invocationKwargs=t?.invocationKwargs??{},this.temperature=t?.temperature??this.temperature,this.topK=t?.topK??this.topK,this.topP=t?.topP??this.topP,this.maxTokens=t?.maxTokensToSample??t?.maxTokens??this.maxTokens,this.stopSequences=t?.stopSequences??this.stopSequences,this.streaming=t?.streaming??!1,this.streamUsage=t?.streamUsage??this.streamUsage,this.createClient=t?.createClient??(r=>new ei(r))}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"anthropic",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.max_tokens??void 0,ls_stop:t.stop}}formatStructuredToolToAnthropic(t){if(!(!t||!t.length))return t.map(r=>{if(k$r(r))return r;if(gw(r))return{name:r.function.name,description:r.function.description,input_schema:r.function.parameters};if(hg(r))return{name:r.name,description:r.description,input_schema:Li(r.schema)};throw new Error(`Unknown tool type passed to ChatAnthropic: ${JSON.stringify(r,null,2)}`)})}bindTools(t,r){return this.bind({tools:this.formatStructuredToolToAnthropic(t),...r})}invocationParams(t){let r=R0t(t?.tool_choice);return{model:this.model,temperature:this.temperature,top_k:this.topK,top_p:this.topP,stop_sequences:t?.stop??this.stopSequences,stream:this.streaming,max_tokens:this.maxTokens,tools:this.formatStructuredToolToAnthropic(t?.tools),tool_choice:r,...this.invocationKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams()}}identifyingParams(){return{model_name:this.model,...this.invocationParams()}}async*_streamResponseChunks(t,r,n){let o=this.invocationParams(r),i=eee(t),a=!F$r({...o,...i,stream:!1}),s=await this.createStreamWithRetry({...o,...i,stream:!0},{headers:r.headers});for await(let u of s){if(r.signal?.aborted)throw s.controller.abort(),new Error("AbortError: User aborted the request.");let l=this.streamUsage??r.streamUsage,c=F0t(u,{streamUsage:l,coerceContentToString:a});if(!c)continue;let{chunk:d}=c,f=D0t(d),p=B$r(d);yield new oi({message:new Jr({content:d.content,additional_kwargs:d.additional_kwargs,tool_call_chunks:f?[f]:void 0,usage_metadata:l?d.usage_metadata:void 0,response_metadata:d.response_metadata,id:d.id}),text:p??""}),p&&await n?.handleLLMNewToken(p)}}async _generateNonStreaming(t,r,n){let o=await this.completionWithRetry({...r,stream:!1,...eee(t)},n),{content:i,...a}=o,s=k0t(i,a),{role:u,type:l,...c}=a;return{generations:s,llmOutput:c}}async _generate(t,r,n){if(this.stopSequences&&r.stop)throw new Error('"stopSequence" parameter found in input and default params');let o=this.invocationParams(r);if(o.stream){let i,a=this._streamResponseChunks(t,r,n);for await(let s of a)i===void 0?i=s:i=i.concat(s);if(i===void 0)throw new Error("No chunks returned from Anthropic API.");return{generations:[{text:i.text,message:i.message}]}}else return this._generateNonStreaming(t,o,{signal:r.signal,headers:r.headers})}async createStreamWithRetry(t,r){if(!this.streamingClient){let o=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.streamingClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...o,apiKey:this.apiKey,maxRetries:0})}let n=async()=>this.streamingClient.messages.create({...t,...this.invocationKwargs,stream:!0},r);return this.caller.call(n)}async completionWithRetry(t,r){if(!this.batchClient){let o=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.batchClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...o,apiKey:this.apiKey,maxRetries:0})}let n=async()=>this.batchClient.messages.create({...t,...this.invocationKwargs},r);return this.caller.callWithOptions({signal:r.signal??void 0},n)}_llmType(){return"anthropic"}withStructuredOutput(t,r){let n=t,o=r?.name,i=r?.method,a=r?.includeRaw;if(i==="jsonMode")throw new Error('Anthropic only supports "functionCalling" as a method.');let s=o??"extract",u,l;if(Af(n)){let h=Li(n);l=[{name:s,description:h.description??"A function available to call.",input_schema:h}],u=new Y4({returnSingle:!0,keyName:s,zodSchema:n})}else{let h;typeof n.name=="string"&&typeof n.description=="string"&&typeof n.input_schema=="object"&&n.input_schema!=null?(h=n,s=n.name):h={name:s,description:n.description??"",input_schema:n},l=[h],u=new Y4({returnSingle:!0,keyName:s})}let c=this.bind({tools:l,tool_choice:{type:"tool",name:s}});if(!a)return c.pipe(u).withConfig({runName:"ChatAnthropicStructuredOutput"});let d=Fi.assign({parsed:(h,m)=>u.invoke(h.raw,m)}),f=Fi.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[f]});return Ha.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}},tee=class extends kCe{};oh();kh();var NR="0.5.0";var B0t=!1,LR,BCe,$$r,q$r,U$r,$Ce,z$r,ree,qCe,UCe,zCe,nee,HCe;function $0t(e,t={auto:!1}){if(B0t)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(LR)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${LR}'\``);B0t=t.auto,LR=e.kind,BCe=e.fetch,$$r=e.Request,q$r=e.Response,U$r=e.Headers,$Ce=e.FormData,z$r=e.Blob,ree=e.File,qCe=e.ReadableStream,UCe=e.getMultipartRequestOptions,zCe=e.getDefaultAgent,nee=e.fileFromPath,HCe=e.isFsReadStream}var oee=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function q0t({manuallyImported:e}={}){let t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new oee(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:a=>!1}}LR||$0t(q0t(),{auto:!0});var VCe={};Kd(VCe,{APIConnectionError:()=>Jx,APIConnectionTimeoutError:()=>FR,APIError:()=>Zu,APIUserAbortError:()=>jP,AuthenticationError:()=>pk,BadRequestError:()=>fk,ConflictError:()=>gk,GroqError:()=>wl,InternalServerError:()=>_k,NotFoundError:()=>mk,PermissionDeniedError:()=>hk,RateLimitError:()=>bk,UnprocessableEntityError:()=>yk});var wl=class extends Error{},Zu=class e extends wl{constructor(t,r,n,o){super(`${e.makeMessage(t,r,n)}`),this.status=t,this.headers=o,this.error=r}static makeMessage(t,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,n,o){if(!t)return new Jx({cause:iee(r)});let i=r;return t===400?new fk(t,i,n,o):t===401?new pk(t,i,n,o):t===403?new hk(t,i,n,o):t===404?new mk(t,i,n,o):t===409?new gk(t,i,n,o):t===422?new yk(t,i,n,o):t===429?new bk(t,i,n,o):t>=500?new _k(t,i,n,o):new e(t,i,n,o)}},jP=class extends Zu{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Jx=class extends Zu{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}},FR=class extends Jx{constructor({message:t}={}){super({message:t??"Request timed out."})}},fk=class extends Zu{constructor(){super(...arguments),this.status=400}},pk=class extends Zu{constructor(){super(...arguments),this.status=401}},hk=class extends Zu{constructor(){super(...arguments),this.status=403}},mk=class extends Zu{constructor(){super(...arguments),this.status=404}},gk=class extends Zu{constructor(){super(...arguments),this.status=409}},yk=class extends Zu{constructor(){super(...arguments),this.status=422}},bk=class extends Zu{constructor(){super(...arguments),this.status=429}},_k=class extends Zu{};var aee=class e{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1,o=new WCe;async function*i(){if(!t.body)throw r.abort(),new wl("Attempted to iterate over a response with no body");let s=new vk,u=U0t(t.body);for await(let l of u)for(let c of s.decode(l)){let d=o.decode(c);d&&(yield d)}for(let l of s.flush()){let c=o.decode(l);c&&(yield c)}}async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let s=!1;try{for await(let u of i())if(!s){if(u.data.startsWith("[DONE]")){s=!0;continue}if(u.event===null){let l;try{l=JSON.parse(u.data)}catch(c){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),c}if(l&&l.error)throw new Zu(void 0,l.error,void 0,void 0);yield l}}s=!0}catch(u){if(u instanceof Error&&u.name==="AbortError")return;throw u}finally{s||r.abort()}}return new e(a,r)}static fromReadableStream(t,r){let n=!1;async function*o(){let a=new vk,s=U0t(t);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new e(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new e(()=>o(t),this.controller),new e(()=>o(r),this.controller)]}toReadableStream(){let t=this,r,n=new TextEncoder;return new qCe({async start(){r=t[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}},WCe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=V$r(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},vk=class e{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=e.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(e.NEWLINE_REGEXP);return o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new wl(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new wl(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new wl("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};vk.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","\x85","\u2028","\u2029"]);vk.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function V$r(e,t){let r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function U0t(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){let r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var z0t=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",H0t=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&see(e),see=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",W$r=e=>H0t(e)||z0t(e)||HCe(e);async function KCe(e,t,r){if(e=await e,r??(r=H0t(e)?{lastModified:e.lastModified,type:e.type}:{}),z0t(e)){let o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new ree([o],t,r)}let n=await J$r(e);if(t||(t=K$r(e)??"unknown_file"),!r.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new ree(n,t,r)}async function J$r(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(see(e))t.push(await e.arrayBuffer());else if(Y$r(e))for await(let r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${G$r(e)}`);return t}function G$r(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function K$r(e){return JCe(e.name)||JCe(e.filename)||JCe(e.path)?.split(/[\\/]/).pop()}var JCe=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Y$r=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",YCe=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var Z4=async e=>{let t=await V0t(e.body);return UCe(t,e)},V0t=async e=>{let t=new $Ce;return await Promise.all(Object.entries(e||{}).map(([r,n])=>GCe(t,r,n))),t};var GCe=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(W$r(r)){let n=await KCe(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>GCe(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>GCe(e,`${t}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var X$r=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Q$r=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},uee;async function Z0t(e){let{response:t}=e;if(e.options.stream)return wk("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):aee.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await t.json();return wk("response",t.status,t.url,t.headers,i),i}let o=await t.text();return wk("response",t.status,t.url,t.headers,o),o}var lee=class e extends Promise{constructor(t,r=Z0t){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new e(this.responsePromise,async r=>t(await this.parseResponse(r)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},cee=class{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e4,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=ZCe("maxRetries",r),this.timeout=ZCe("timeout",n),this.httpAgent=o,this.fetch=i??BCe}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...nqr(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${cqr()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&see(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:t,path:r,...o,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){let{method:r,path:n,query:o,headers:i={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:YCe(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,s=this.calculateContentLength(a),u=this.buildURL(n,o);"timeout"in t&&ZCe("timeout",t.timeout);let l=t.timeout??this.timeout,c=t.httpAgent??this.httpAgent??zCe(u),d=l+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);let f=this.buildHeaders({options:t,headers:i,contentLength:s});return{req:{method:r,...a&&{body:a},headers:f,...c&&{agent:c},signal:t.signal??null},url:u,timeout:l}}buildHeaders({options:t,headers:r,contentLength:n}){let o={};n&&(o["content-length"]=n);let i=this.defaultHeaders(t);return Y0t(o,i),Y0t(o,r),YCe(t.body)&&LR!=="node"&&delete o["content-type"],this.validateHeaders(o,r),o}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,o){return Zu.generate(t,r,n,o)}request(t,r=null){return new lee(this.makeRequest(t,r))}async makeRequest(t,r){let n=await t;r==null&&(r=n.maxRetries??this.maxRetries),await this.prepareOptions(n);let{req:o,url:i,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(o,{url:i,options:n}),wk("request",i,n,o.headers),n.signal?.aborted)throw new jP;let s=new AbortController,u=await this.fetchWithTimeout(i,o,a,s).catch(iee);if(u instanceof Error){if(n.signal?.aborted)throw new jP;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new FR:new Jx({cause:u})}let l=eqr(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){let m=`retrying, ${r} attempts remaining`;return wk(`response (error; ${m})`,u.status,i,l),this.retryRequest(n,r,l)}let c=await u.text().catch(m=>iee(m).message),d=oqr(c),f=d?void 0:c;throw wk(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,l,f),this.makeStatusError(u.status,d,f,l)}return{response:u,options:n,controller:s}}requestAPIList(t,r){let n=this.makeRequest(r,null);return new XCe(this,n,t)}buildURL(t,r){let n=aqr(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return uqr(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new wl(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n);return this.getRequestClient().fetch.call(void 0,t,{signal:o.signal,...a}).finally(()=>{clearTimeout(s)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){let r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await sqr(o),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){let i=r-t,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${NR}`}},W0t=class{constructor(t,r,n,o){uee.set(this,void 0),X$r(this,uee,t,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let t=this.nextPageInfo();if(!t)throw new wl("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){let n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(let[o,i]of n)t.url.searchParams.set(o,i);r.query=void 0,r.path=t.url.toString()}return await Q$r(this,uee,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(uee=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let r of t.getPaginatedItems())yield r}},XCe=class extends lee{constructor(t,r,n){super(r,async o=>new n(t,o.response,await Z0t(o),o.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let r of t)yield r}},eqr=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){let n=r.toString();return t[n.toLowerCase()]||t[n]}});var tqr=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":NR,"X-Stainless-OS":G0t(Deno.build.os),"X-Stainless-Arch":J0t(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":NR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":NR,"X-Stainless-OS":G0t(process.platform),"X-Stainless-Arch":J0t(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let e=rqr();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":NR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":NR,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rqr(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:r}of e){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:t,version:`${o}.${i}.${a}`}}}return null}var J0t=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",G0t=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),K0t,nqr=()=>K0t??(K0t=tqr()),oqr=e=>{try{return JSON.parse(e)}catch{return}},iqr=new RegExp("^(?:[a-z]+:)?//","i"),aqr=e=>iqr.test(e),sqr=e=>new Promise(t=>setTimeout(t,e)),ZCe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new wl(`${e} must be an integer`);if(t<0)throw new wl(`${e} must be a positive integer`);return t},iee=e=>e instanceof Error?e:new Error(e);var QCe=e=>{if(typeof process<"u")return process.env?.[e]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(e)?.trim()};function uqr(e){if(!e)return!0;for(let t in e)return!1;return!0}function lqr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Y0t(e,t){for(let r in t){if(!lqr(t,r))continue;let n=r.toLowerCase();if(!n)continue;let o=t[r];o===null?delete e[n]:o!==void 0&&(e[n]=o)}}function wk(e,...t){typeof process<"u"&&process?.env?.DEBUG==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}var cqr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),X0t=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";var Sl=class{constructor(t){this._client=t}};var kR=class extends Sl{create(t,r){return this._client.post("/openai/v1/audio/transcriptions",Z4({body:t,...r}))}};kR||(kR={});var BR=class extends Sl{create(t,r){return this._client.post("/openai/v1/audio/translations",Z4({body:t,...r}))}};BR||(BR={});var NP=class extends Sl{constructor(){super(...arguments),this.transcriptions=new kR(this._client),this.translations=new BR(this._client)}};(function(e){e.Transcriptions=kR,e.Translations=BR})(NP||(NP={}));var $R=class extends Sl{create(t,r){return this._client.post("/openai/v1/chat/completions",{body:t,...r,stream:t.stream??!1})}};$R||($R={});var LP=class extends Sl{constructor(){super(...arguments),this.completions=new $R(this._client)}};(function(e){e.Completions=$R})(LP||(LP={}));var FP=class extends Sl{};FP||(FP={});var kP=class extends Sl{create(t,r){return this._client.post("/openai/v1/embeddings",{body:t,...r})}};kP||(kP={});var BP=class extends Sl{retrieve(t,r){return this._client.get(`/openai/v1/models/${t}`,r)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,r){return this._client.delete(`/openai/v1/models/${t}`,r)}};BP||(BP={});var Q0t,ja=class extends cee{constructor({baseURL:t=QCe("GROQ_BASE_URL"),apiKey:r=QCe("GROQ_API_KEY"),...n}={}){if(r===void 0)throw new wl("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");let o={apiKey:r,...n,baseURL:t||"https://api.groq.com"};if(!o.dangerouslyAllowBrowser&&X0t())throw new wl(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:o.baseURL,timeout:o.timeout??6e4,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new FP(this),this.chat=new LP(this),this.embeddings=new kP(this),this.audio=new NP(this),this.models=new BP(this),this._options=o,this.apiKey=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}};Q0t=ja;ja.Groq=Q0t;ja.GroqError=wl;ja.APIError=Zu;ja.APIConnectionError=Jx;ja.APIConnectionTimeoutError=FR;ja.APIUserAbortError=jP;ja.NotFoundError=mk;ja.ConflictError=gk;ja.RateLimitError=bk;ja.BadRequestError=fk;ja.AuthenticationError=pk;ja.InternalServerError=_k;ja.PermissionDeniedError=hk;ja.UnprocessableEntityError=yk;ja.toFile=KCe;ja.fileFromPath=nee;var{GroqError:CEo,APIError:OEo,APIConnectionError:EEo,APIConnectionTimeoutError:PEo,APIUserAbortError:TEo,NotFoundError:MEo,ConflictError:IEo,RateLimitError:AEo,BadRequestError:REo,AuthenticationError:DEo,InternalServerError:jEo,PermissionDeniedError:NEo,UnprocessableEntityError:LEo}=VCe;(function(e){e.Completions=FP,e.Chat=LP,e.Embeddings=kP,e.Audio=NP,e.Models=BP})(ja||(ja={}));var ewt=ja;IS();SO();function gqr(e){let t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${t}`)}}function twt(e){return e.map(t=>{if(typeof t.content!="string")throw new Error("Non string message content not supported");let r={role:gqr(t),content:t.content,name:t.name,function_call:t.additional_kwargs.function_call,tool_calls:t.additional_kwargs.tool_calls,tool_call_id:t.tool_call_id};return Fu(t)&&t.tool_calls?.length?r.tool_calls=t.tool_calls.map(BF):(t.additional_kwargs.tool_calls!=null&&(r.tool_calls=t.additional_kwargs.tool_calls),t.tool_call_id!=null&&(r.tool_call_id=t.tool_call_id)),r})}function yqr(e,t){let r=e.tool_calls;switch(e.role){case"assistant":{let n=[],o=[];for(let i of r??[])try{n.push(wR(i,{returnId:!0}))}catch(a){o.push($F(i,a.message))}return new Po({content:e.content||"",additional_kwargs:{tool_calls:r},tool_calls:n,invalid_tool_calls:o,usage_metadata:t})}default:return new xd(e.content||"",e.role??"unknown")}}function bqr(e,t){if(e?.length)return e.map(r=>({id:r.id,name:r.function?.name,args:r.function?.arguments,type:"tool_call_chunk",index:t}))}function _qr(e,t,r){let{role:n}=e,o=e.content??"",i;e.function_call?i={function_call:e.function_call}:e.tool_calls?i={tool_calls:e.tool_calls}:i={};let a,s;if(r?.usage&&(a={input_tokens:r.usage.prompt_tokens,output_tokens:r.usage.completion_tokens,total_tokens:r.usage.total_tokens},s=r.id),n==="user")return{message:new jm({content:o})};if(n==="assistant"){let u=bqr(e.tool_calls,t);return{message:new Jr({content:o,additional_kwargs:i,tool_call_chunks:u?u.map(l=>({type:l.type,args:l.args,index:l.index})):void 0,usage_metadata:a,id:s}),toolCallData:u?u.map(l=>({id:l.id??"",name:l.name??"",index:l.index??t,type:"tool_call_chunk"})):void 0}}else return n==="system"?{message:new ry({content:o})}:{message:new Dm({content:o,role:n})}}var dee=class extends Qc{static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}constructor(t){super(t??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});let r=t?.apiKey||Jt("GROQ_API_KEY");if(!r)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');this.client=new ewt({apiKey:r,dangerouslyAllowBrowser:!0}),this.apiKey=r,this.temperature=t?.temperature??this.temperature,this.modelName=t?.model??t?.modelName??this.model,this.model=this.modelName,this.streaming=t?.streaming??this.streaming,this.stop=t?.stopSequences??(typeof t?.stop=="string"?[t.stop]:t?.stop)??[],this.stopSequences=this.stop,this.maxTokens=t?.maxTokens}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??this.temperature,ls_max_tokens:r.max_tokens??this.maxTokens,ls_stop:t.stop}}async completionWithRetry(t,r){return this.caller.call(async()=>this.client.chat.completions.create(t,r))}invocationParams(t){let r=super.invocationParams(t);return t.tool_choice!==void 0&&(r.tool_choice=t.tool_choice),t.tools!==void 0&&(r.tools=t.tools),t.response_format!==void 0&&(r.response_format=t.response_format),{...r,stop:t.stop??this.stopSequences,model:this.model,temperature:this.temperature,max_tokens:this.maxTokens}}bindTools(t,r){return this.bind({tools:t.map(n=>tF(n)),...r})}async*_streamResponseChunks(t,r,n){let o=this.invocationParams(r),i=twt(t),a=await this.completionWithRetry({...o,messages:i,stream:!0},{signal:r?.signal,headers:r?.headers}),s="",u=[],l;for await(let c of a){l=c;let d=c?.choices[0];if(!d)continue;d.delta?.role&&(s=d.delta.role);let{message:f,toolCallData:p}=_qr({...d.delta,role:s},d.index,c.x_groq);if(p){let m=p.filter(_=>u.every(g=>g.id!==_.id));u.push(...m),yield new oi({message:new Jr({content:"",tool_call_chunks:m}),text:""})}let h=new oi({message:f,text:d.delta.content??"",generationInfo:{finishReason:d.finish_reason}});yield h,n?.handleLLMNewToken(h.text??"")}if(l&&("choices"in l&&delete l.choices,yield new oi({message:new Jr({content:"",response_metadata:l}),text:""})),r.signal?.aborted)throw new Error("AbortError")}async _generate(t,r,n){if(this.streaming){let o={},i=this._streamResponseChunks(t,r,n),a={};for await(let u of i){let l=u.generationInfo?.completion??0;a[l]===void 0?a[l]=u:a[l]=a[l].concat(u)}return{generations:Object.entries(a).sort(([u],[l])=>parseInt(u,10)-parseInt(l,10)).map(([u,l])=>l),llmOutput:{estimatedTokenUsage:o}}}else return this._generateNonStreaming(t,r,n)}async _generateNonStreaming(t,r,n){let o={},i=this.invocationParams(r),a=twt(t),s=await this.completionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,headers:r?.headers});if("usage"in s&&s.usage){let{completion_tokens:l,prompt_tokens:c,total_tokens:d}=s.usage;l&&(o.completionTokens=(o.completionTokens??0)+l),c&&(o.promptTokens=(o.promptTokens??0)+c),d&&(o.totalTokens=(o.totalTokens??0)+d)}let u=[];if("choices"in s&&s.choices)for(let l of s.choices){let c=l.message?.content??"",d;o.totalTokens!==void 0&&(d={input_tokens:o.promptTokens??0,output_tokens:o.completionTokens??0,total_tokens:o.totalTokens});let f={text:c,message:yqr(l.message??{role:"assistant"},d)};f.generationInfo={...l.finish_reason?{finish_reason:l.finish_reason}:{},...l.logprobs?{logprobs:l.logprobs}:{}},u.push(f)}return{generations:u,llmOutput:{tokenUsage:o}}}withStructuredOutput(t,r){let n=t,o=r?.name,i=r?.method,a=r?.includeRaw,s=o??"extract",u,l;if(i==="jsonMode")l=this.bind({response_format:{type:"json_object"}}),Af(n)?u=PS.fromZodSchema(n):u=new TS;else if(Af(n)){let p=Li(n);l=this.bind({tools:[{type:"function",function:{name:s,description:p.description,parameters:p}}],tool_choice:{type:"function",function:{name:s}}}),u=new _g({returnSingle:!0,keyName:s,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,s=n.name):(s=n.title??s,p={name:s,description:n.description??"",parameters:n}),l=this.bind({tools:[{type:"function",function:p}],tool_choice:{type:"function",function:{name:s}}}),u=new _g({returnSingle:!0,keyName:s})}if(!a)return l.pipe(u).withConfig({runName:"ChatGroqStructuredOutput"});let c=Fi.assign({parsed:(p,h)=>u.invoke(p.raw,h)}),d=Fi.assign({parsed:()=>null}),f=c.withFallbacks({fallbacks:[d]});return Ha.from([{raw:l},f]).withConfig({runName:"ChatGroqStructuredOutput"})}};var ac=[];for(fee=0;fee<256;++fee)ac.push((fee+256).toString(16).slice(1));var fee;function rwt(e,t=0){return(ac[e[t+0]]+ac[e[t+1]]+ac[e[t+2]]+ac[e[t+3]]+"-"+ac[e[t+4]]+ac[e[t+5]]+"-"+ac[e[t+6]]+ac[e[t+7]]+"-"+ac[e[t+8]]+ac[e[t+9]]+"-"+ac[e[t+10]]+ac[e[t+11]]+ac[e[t+12]]+ac[e[t+13]]+ac[e[t+14]]+ac[e[t+15]]).toLowerCase()}var pee,vqr=new Uint8Array(16);function eOe(){if(!pee&&(pee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pee(vqr)}var wqr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tOe={randomUUID:wqr};function Sqr(e,t,r){if(tOe.randomUUID&&!t&&!e)return tOe.randomUUID();e=e||{};var n=e.random||(e.rng||eOe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return rwt(n)}var hee=Sqr;var dAt=B(sAt(),1),fAt=B(u3(),1);kh();kD();SO();IS();oh();var Srn=/^[a-zA-Z0-9]{9}$/;function xrn(e){return Srn.test(e)}function Crn(e){let t=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";if(t===0)return r[0];let n=[],o=r.length;for(;t;)n.push(r[t%o]),t=Math.floor(t/o);return n.reverse().join("")}function Orn(e){let t=0;for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return Math.abs(t)}function $Pe(e){if(xrn(e))return e;{let t=Orn(e),r=Crn(t);return r.length>=9?r.slice(0,9):r.padStart(9,"0")}}function qPe(e){return e?typeof e=="string"?e:e.map(t=>{if(t.type==="image_url"){if(typeof t.imageUrl!="string"&&t.imageUrl?.detail){let{detail:r}=t.imageUrl;if(r!=="high"&&r!=="auto"&&r!=="low")return{type:t.type,image_url:{url:t.imageUrl.url}}}return{type:t.type,image_url:t.imageUrl}}return t}):""}function uAt(e){let t=o=>{switch(o){case"human":return"user";case"ai":return"assistant";case"system":return"system";case"tool":return"tool";case"function":return"assistant";default:throw new Error(`Unknown message type: ${o}`)}},r=(o,i)=>{let a=(s,u)=>{if(s.type==="image_url"&&(u==="user"||u==="assistant"))return{type:s.type,imageUrl:s?.image_url};if(s.type==="text")return{type:s.type,text:s?.text};throw new Error(`ChatMistralAI only supports messages of "image_url" for roles "user" and "assistant", and "text" for all others.

Received: ${JSON.stringify(o,null,2)}`)};if(typeof o=="string")return o;if(Array.isArray(o)){let s=t(i),u=[];return o.forEach(l=>{if(l.type==="text"||l.type==="image_url")u.push(a(l,s));else throw new Error('Mistral only supports types "text" or "image_url" for complex message types.')}),u}throw new Error(`Message content must be a string or an array.

Received: ${JSON.stringify(o,null,2)}`)},n=o=>{if(Fu(o)&&o.tool_calls?.length)return o.tool_calls.map(i=>({...i,id:$Pe(i.id??"")})).map(BF)};return e.map(o=>{let i=n(o),a=r(o.content,o.getType());return"tool_call_id"in o&&typeof o.tool_call_id=="string"?{role:t(o.getType()),content:a,name:o.name,toolCallId:$Pe(o.tool_call_id)}:Fu(o)?i===void 0?{role:t(o.getType()),content:a}:{role:t(o.getType()),toolCalls:i}:{role:t(o.getType()),content:a}})}function Ern(e,t){let{message:r}=e;if(r===void 0)throw new Error("No message found in response");let n=[];"toolCalls"in r&&Array.isArray(r.toolCalls)&&(n=r.toolCalls);let o=qPe(r.content);switch(r.role){case"assistant":{let i=[],a=[];for(let s of n)try{let u=wR(s,{returnId:!0});i.push({...u,id:u.id??hee().replace(/-/g,"")})}catch(u){a.push($F(s,u.message))}return new Po({content:o,tool_calls:i,invalid_tool_calls:a,additional_kwargs:{},usage_metadata:t?{input_tokens:t.promptTokens,output_tokens:t.completionTokens,total_tokens:t.totalTokens}:void 0})}default:return new Ua({content:o})}}function Prn(e,t){if(!e.content&&!e.toolCalls)return t?new Jr({content:"",usage_metadata:t?{input_tokens:t.promptTokens,output_tokens:t.completionTokens,total_tokens:t.totalTokens}:void 0}):null;let r=e.toolCalls?.length?e.toolCalls?.map((s,u)=>({...s,index:u,id:s.id??hee().replace(/-/g,""),type:"function"})):void 0,n="assistant";e.role&&(n=e.role);let o=qPe(e.content),i,a=[];if(r!==void 0)for(let s of r){let u=s.function?.arguments,l=u===void 0||typeof u=="string"?u:JSON.stringify(u);a.push({name:s.function?.name,args:l,id:s.id,index:s.index,type:"tool_call_chunk"})}else i={};return n==="user"?new jm({content:o}):n==="assistant"?new Jr({content:o,tool_call_chunks:a,additional_kwargs:i,usage_metadata:t?{input_tokens:t.promptTokens,output_tokens:t.completionTokens,total_tokens:t.totalTokens}:void 0}):n==="tool"?new mO({content:o,additional_kwargs:i,tool_call_id:r?.[0].id??""}):n==="function"?new wS({content:o,additional_kwargs:i}):new Dm({content:o,role:n})}function lAt(e){return e.map(t=>{if("function"in t)return t;let r=t.description??`Tool: ${t.name}`;return{type:"function",function:{name:t.name,description:r,parameters:Li(t.schema)}}})}var vne=class extends Qc{static lc_name(){return"ChatMistralAI"}constructor(t){super(t??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","mistralai"]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mistral-small-latest"}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serverURL",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"safeMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"safePrompt",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"randomSeed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"beforeRequestHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestErrorHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responseHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCompletions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=t?.apiKey??Jt("MISTRAL_API_KEY");if(!r)throw new Error("API key MISTRAL_API_KEY is missing for MistralAI, but it is required.");this.apiKey=r,this.streaming=t?.streaming??this.streaming,this.serverURL=t?.serverURL??this.serverURL,this.temperature=t?.temperature??this.temperature,this.topP=t?.topP??this.topP,this.maxTokens=t?.maxTokens??this.maxTokens,this.safePrompt=t?.safePrompt??this.safePrompt,this.randomSeed=t?.seed??t?.randomSeed??this.seed,this.seed=this.randomSeed,this.maxRetries=t?.maxRetries,this.httpClient=t?.httpClient,this.model=t?.model??t?.modelName??this.model,this.streamUsage=t?.streamUsage??this.streamUsage,this.beforeRequestHooks=t?.beforeRequestHooks??this.beforeRequestHooks,this.requestErrorHooks=t?.requestErrorHooks??this.requestErrorHooks,this.responseHooks=t?.responseHooks??this.responseHooks,this.presencePenalty=t?.presencePenalty??this.presencePenalty,this.frequencyPenalty=t?.frequencyPenalty??this.frequencyPenalty,this.numCompletions=t?.numCompletions??this.numCompletions,this.addAllHooksToHttpClient()}get lc_secrets(){return{apiKey:"MISTRAL_API_KEY"}}get lc_aliases(){return{apiKey:"mistral_api_key"}}getLsParams(t){let r=this.invocationParams(t);return{ls_provider:"mistral",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.maxTokens??void 0}}_llmType(){return"mistral_ai"}invocationParams(t){let{response_format:r,tools:n,tool_choice:o}=t??{},i=n?.length?lAt(n):void 0;return{model:this.model,tools:i,temperature:this.temperature,maxTokens:this.maxTokens,topP:this.topP,randomSeed:this.seed,safePrompt:this.safePrompt,toolChoice:o,responseFormat:r,presencePenalty:this.presencePenalty,frequencyPenalty:this.frequencyPenalty,n:this.numCompletions}}bindTools(t,r){return this.bind({tools:lAt(t),...r})}async completionWithRetry(t,r){let n=new Qf({maxRetries:this.maxRetries}),o=new dAt.Mistral({apiKey:this.apiKey,serverURL:this.serverURL,...this.httpClient?{httpClient:this.httpClient}:{}});return n.call(async()=>{try{let i;return r?i=await o.chat.stream(t):i=await o.chat.complete(t),i}catch(i){throw(i.message?.includes("status: 400")||i.message?.toLowerCase().includes("status 400")||i.message?.includes("validation failed"))&&(i.status=400),i}})}async _generate(t,r,n){let o={},i=this.invocationParams(r),a=uAt(t),s={...i,messages:a},u=r.signal??!!r.timeout;if(this.streaming||u){let h=this._streamResponseChunks(t,r,n),m={};for await(let g of h){let v=g.generationInfo?.completion??0;m[v]===void 0?m[v]=g:m[v]=m[v].concat(g)}return{generations:Object.entries(m).sort(([g],[v])=>parseInt(g,10)-parseInt(v,10)).map(([g,v])=>v),llmOutput:{estimatedTokenUsage:o}}}let l=await this.completionWithRetry(s,!1),{completionTokens:c,promptTokens:d,totalTokens:f}=l?.usage??{};c&&(o.completionTokens=(o.completionTokens??0)+c),d&&(o.promptTokens=(o.promptTokens??0)+d),f&&(o.totalTokens=(o.totalTokens??0)+f);let p=[];for(let h of l?.choices??[]){if("delta"in h)throw new Error("Delta not supported in non-streaming mode.");if(!("message"in h))throw new Error("No message found in the choice.");let m=h.message?.content??"";Array.isArray(m)&&(m=m[0].type==="text"?m[0].text:"");let _={text:m,message:Ern(h,l?.usage)};h.finishReason&&(_.generationInfo={finishReason:h.finishReason}),p.push(_)}return{generations:p,llmOutput:{tokenUsage:o}}}async*_streamResponseChunks(t,r,n){let o=uAt(t),a={...this.invocationParams(r),messages:o},s=await this.completionWithRetry(a,!0);for await(let{data:u}of s){if(r.signal?.aborted)throw new Error("AbortError");let l=u?.choices[0];if(!l||!("delta"in l))continue;let{delta:c}=l;if(!c)continue;let d={prompt:0,completion:l.index??0},f=this.streamUsage||r.streamUsage,p=Prn(c,f?u.usage:null);if(p===null)continue;let h=c.content??"";Array.isArray(h)&&(h=h[0].type==="text"?h[0].text:"");let m=new oi({message:p,text:h,generationInfo:d});yield m,n?.handleLLMNewToken(m.text??"",d,void 0,void 0,void 0,{chunk:m})}}addAllHooksToHttpClient(){try{if(this.removeAllHooksFromHttpClient(),[this.beforeRequestHooks,this.requestErrorHooks,this.responseHooks].some(r=>r&&r.length>0)&&!this.httpClient&&(this.httpClient=new fAt.HTTPClient),this.beforeRequestHooks)for(let r of this.beforeRequestHooks)this.httpClient?.addHook("beforeRequest",r);if(this.requestErrorHooks)for(let r of this.requestErrorHooks)this.httpClient?.addHook("requestError",r);if(this.responseHooks)for(let r of this.responseHooks)this.httpClient?.addHook("response",r)}catch{throw new Error("Error in adding all hooks")}}removeAllHooksFromHttpClient(){try{if(this.beforeRequestHooks)for(let t of this.beforeRequestHooks)this.httpClient?.removeHook("beforeRequest",t);if(this.requestErrorHooks)for(let t of this.requestErrorHooks)this.httpClient?.removeHook("requestError",t);if(this.responseHooks)for(let t of this.responseHooks)this.httpClient?.removeHook("response",t)}catch{throw new Error("Error in removing hooks")}}removeHookFromHttpClient(t){try{this.httpClient?.removeHook("beforeRequest",t),this.httpClient?.removeHook("requestError",t),this.httpClient?.removeHook("response",t)}catch{throw new Error("Error in removing hook")}}_combineLLMOutput(){return[]}withStructuredOutput(t,r){let n=t,o=r?.name,i=r?.method,a=r?.includeRaw,s,u;if(i==="jsonMode")s=this.bind({response_format:{type:"json_object"}}),cAt(n)?u=PS.fromZodSchema(n):u=new TS;else{let f=o??"extract";if(cAt(n)){let p=Li(n);s=this.bind({tools:[{type:"function",function:{name:f,description:p.description,parameters:p}}],tool_choice:"any"}),u=new _g({returnSingle:!0,keyName:f,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,f=n.name):p={name:f,description:n.description??"",parameters:n},s=this.bind({tools:[{type:"function",function:p}],tool_choice:"any"}),u=new _g({returnSingle:!0,keyName:f})}}if(!a)return s.pipe(u);let l=Fi.assign({parsed:(f,p)=>u.invoke(f.raw,p)}),c=Fi.assign({parsed:()=>null}),d=l.withFallbacks({fallbacks:[c]});return Ha.from([{raw:s},d])}};function cAt(e){return typeof e?.parse=="function"}kh();var wne=require("obsidian"),Trn={openai:Mw,"azure openai":Mw,anthropic:tee,cohereai:kZ,google:HZ,openrouterai:Mw,ollama:GZ,"lm-studio":Mw,groq:dee,"3rd party (openai-format)":Mw,"copilot-plus":Mw,mistralai:vne},Ud=class e{constructor(){this.providerApiKeyMap={openai:()=>pe().openAIApiKey,google:()=>pe().googleApiKey,"azure openai":()=>pe().azureOpenAIApiKey,anthropic:()=>pe().anthropicApiKey,cohereai:()=>pe().cohereApiKey,openrouterai:()=>pe().openRouterAiApiKey,groq:()=>pe().groqApiKey,ollama:()=>"default-key","lm-studio":()=>"default-key","3rd party (openai-format)":()=>"default-key","copilot-plus":()=>pe().plusLicenseKey,mistralai:()=>pe().mistralApiKey};this.buildModelMap(),sl(()=>{this.buildModelMap(),this.validateCurrentModel()})}static getInstance(){return e.instance||(e.instance=new e),e.instance}async getModelConfig(t){let r=pe(),n=t.name,o=tI(n),i={modelName:n,temperature:t.temperature??r.temperature,streaming:t.stream??!0,maxRetries:3,maxConcurrency:3,enableCors:t.enableCors},s={openai:{modelName:n,openAIApiKey:await Zo(t.apiKey||r.openAIApiKey),configuration:{baseURL:t.baseUrl,fetch:t.enableCors?kl:void 0,organization:await Zo(t.openAIOrgId||r.openAIOrgId)},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},anthropic:{anthropicApiKey:await Zo(t.apiKey||r.anthropicApiKey),modelName:n,anthropicApiUrl:t.baseUrl,clientOptions:{defaultHeaders:{"anthropic-dangerous-direct-browser-access":"true"},fetch:t.enableCors?kl:void 0}},"azure openai":{modelName:t.azureOpenAIApiDeploymentName||r.azureOpenAIApiDeploymentName,openAIApiKey:await Zo(t.apiKey||r.azureOpenAIApiKey),configuration:{baseURL:`https://${t.azureOpenAIApiInstanceName||r.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${t.azureOpenAIApiDeploymentName||r.azureOpenAIApiDeploymentName}`,defaultQuery:{"api-version":t.azureOpenAIApiVersion||r.azureOpenAIApiVersion},defaultHeaders:{"Content-Type":"application/json","api-key":await Zo(t.apiKey||r.azureOpenAIApiKey)},fetch:t.enableCors?kl:void 0},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},cohereai:{apiKey:await Zo(t.apiKey||r.cohereApiKey),model:n},google:{apiKey:await Zo(t.apiKey||r.googleApiKey),modelName:n,safetySettings:[{category:JA.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:GA.BLOCK_NONE},{category:JA.HARM_CATEGORY_HATE_SPEECH,threshold:GA.BLOCK_NONE},{category:JA.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:GA.BLOCK_NONE},{category:JA.HARM_CATEGORY_HARASSMENT,threshold:GA.BLOCK_NONE}],baseUrl:t.baseUrl},openrouterai:{modelName:n,openAIApiKey:await Zo(t.apiKey||r.openRouterAiApiKey),configuration:{baseURL:t.baseUrl||"https://openrouter.ai/api/v1",fetch:t.enableCors?kl:void 0}},groq:{apiKey:await Zo(t.apiKey||r.groqApiKey),modelName:n},ollama:{model:n,apiKey:t.apiKey||"default-key",baseUrl:t.baseUrl||"http://localhost:11434"},"lm-studio":{modelName:n,openAIApiKey:t.apiKey||"default-key",configuration:{baseURL:t.baseUrl||"http://localhost:1234/v1",fetch:t.enableCors?kl:void 0}},"3rd party (openai-format)":{modelName:n,openAIApiKey:await Zo(t.apiKey||r.openAIApiKey),configuration:{baseURL:t.baseUrl,fetch:t.enableCors?kl:void 0,defaultHeaders:{"dangerously-allow-browser":"true"}},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},"copilot-plus":{modelName:n,openAIApiKey:await Zo(r.plusLicenseKey),configuration:{baseURL:nI,fetch:t.enableCors?kl:void 0}},mistralai:{model:n,apiKey:await Zo(t.apiKey||r.mistralApiKey),serverURL:t.baseUrl}}[t.provider]||{},u=this.handleOpenAIExtraArgs(o,t.maxTokens??r.maxTokens,t.temperature??r.temperature);return{...i,...s,...u}}handleOpenAIExtraArgs(t,r,n){return t?{maxCompletionTokens:r,temperature:1}:{maxTokens:r,temperature:n}}buildModelMap(){let t=pe().activeModels;e.modelMap={};let r=e.modelMap;(t??PO).forEach(o=>{if(o.enabled){if(!Object.values(rI).contains(o.provider)){console.warn(`Unknown provider: ${o.provider} for model: ${o.name}`);return}let i=this.getProviderConstructor(o),a=this.providerApiKeyMap[o.provider],s=o.apiKey||a(),u=Dr(o);r[u]={hasApiKey:!!(o.apiKey||s),AIConstructor:i,vendor:o.provider}}})}getProviderConstructor(t){let r=Trn[t.provider];if(!r)throw console.warn(`Unknown provider: ${t.provider} for model: ${t.name}`),new Error(`Unknown provider: ${t.provider} for model: ${t.name}`);return r}getChatModel(){if(!e.chatModel)throw new Error("No valid chat model available. Please check your API key settings.");return e.chatModel}async setChatModel(t){let r=Dr(t);h5(r);try{let n=await this.createModelInstance(t);e.chatModel=n}catch(n){Ur(n),new wne.Notice(`Error creating model: ${r}`)}}async createModelInstance(t){let r=Dr(t),n=e.modelMap[r];if(!n)throw new Error(`No model found for: ${r}`);if(!n.hasApiKey){let a=`API key is not provided for the model: ${r}.`;throw new wne.Notice(a),new Error(a)}let o=await this.getModelConfig(t);return new n.AIConstructor({...o})}validateChatModel(t){return t!=null}async countTokens(t){return e.chatModel?.getNumTokens(t)??0}validateCurrentModel(){if(!e.chatModel)return;let t=m5();if(!t)return;e.modelMap[t]?.hasApiKey||(e.chatModel=null,console.log("Failed to reinitialize model due to missing API key"))}async ping(t){let r=async n=>{let o={...t,enableCors:n},i=await this.getModelConfig(o),{streaming:a,maxTokens:s,maxCompletionTokens:u,...l}=i,c=tI(o.name),d=this.handleOpenAIExtraArgs(c,10,i.temperature);await new(this.getProviderConstructor(o))({...l,...d}).invoke([{role:"user",content:"hello"}],{timeout:3e3})};try{return await r(!1),!0}catch(n){console.log("First ping attempt failed, trying with CORS...");try{return await r(!0),new wne.Notice("Connection successful, but requires CORS to be enabled. Please enable CORS for this model once you add it above."),!0}catch(o){let i=`
without CORS Error: `+bi(n)+`
with CORS Error: `+bi(o);throw new Error(i)}}}findModelByName(t){return pe().activeModels.find(n=>n.name===t)}};async function Sne(e,t){let r=`Given the following conversation and a follow up question,
    summarize the conversation as context and keep the follow up question unchanged, in its original language.
    If the follow up question is unrelated to its preceding messages, return this follow up question directly.
    If it is related, then combine the summary and the follow up question to construct a standalone question.
    Make sure to keep any [[]] wrapped note titles in the question unchanged.
    If there's nothing in the chat history, just return the follow up question.

    Chat History:
    {chat_history}
    Follow Up Input: {question}
    Standalone question:`,n=t.map(([a,s])=>`Human: ${a}
Assistant: ${s}`).join(`
`),i=await Ud.getInstance().getChatModel().bind({temperature:0}).invoke([{role:"user",content:r.replace("{chat_history}",n).replace("{question}",e)}]);return aj(i.content)}var UPe=require("obsidian"),pAt=e=>{switch(e){case"@vault":return"Search through your vault for relevant information";case"@web":return"Search the web for information";case"@youtube":return"Get the transcript of a YouTube video. Example: @youtube <video_url>";case"@pomodoro":return"Start a pomodoro timer. Example: @pomodoro 25m";default:return""}},Kk=class{static async callTool(t,r){try{if(!t)throw new Error("Tool is undefined");let n=await t.call(r);return n??(console.warn(`Tool ${t.name} returned null/undefined result`),null)}catch(n){return console.error("Error calling tool:",n),n instanceof Error?new UPe.Notice(n.message):new UPe.Notice("An error occurred while executing the tool. Check console for details."),null}}};var M1t=require("obsidian");GM();bO();sf();ny();var xne=class extends nn{constructor(t){super(t),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=t?.callbacks,this.tags=t?.tags??[],this.metadata=t?.metadata??{},this.verbose=t?.verbose??!1}_getRelevantDocuments(t,r){throw new Error("Not implemented!")}async invoke(t,r){return this.getRelevantDocuments(t,Rr(r))}async getRelevantDocuments(t,r){let n=Rr(qM(r)),i=await(await ns.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}))?.handleRetrieverStart(this.toJSON(),t,n.runId,void 0,void 0,void 0,n.runName);try{let a=await this._getRelevantDocuments(t,i);return await i?.handleRetrieverEnd(a),a}catch(a){throw await i?.handleRetrieverError(a),a}}};var oT=class extends xne{constructor(r){super();this.options=r;this.lc_namespace=["hybrid_retriever"];this.queryRewritePrompt=ah.fromTemplate(`Please write a passage to answer the question. If you don't know the answer, just make up a passage. 
Question: {question}
Passage:`)}async getRelevantDocuments(r,n){let o=ly(r,app.vault),i=o.map(m=>m.basename),a=[...new Set([...this.options.salientTerms,...i])],s=await this.getExplicitChunks(o),u=r;n?.runName!=="no_hyde"&&(u=await this.rewriteQuery(r));let l=await this.getOramaChunks(u,a,this.options.textWeight),c=this.filterAndFormatChunks(l,s),d=c;if(c.length===0)return pe().debug&&console.log("No chunks found for query:",r),d;let f=c.reduce((m,_)=>{let g=_.metadata.score;return typeof g=="number"&&!isNaN(g)?Math.max(m,g):m},0),p=c.every(m=>typeof m.metadata.score!="number"||isNaN(m.metadata.score)),h=this.options.useRerankerThreshold&&(f<this.options.useRerankerThreshold||p);return h&&(d=(await _l.getInstance().rerank(r,c.map(_=>_.pageContent.slice(0,3e3)))).response.data.map(_=>({...c[_.index],metadata:{...c[_.index].metadata,rerank_score:_.relevance_score}}))),pe().debug&&(console.log("*** HYBRID RETRIEVER DEBUG INFO: ***"),n?.runName!=="no_hyde"&&(console.log(`
Original Query: `,r),console.log("Rewritten Query: ",u)),console.log(`
Explicit Chunks: `,s),console.log("Orama Chunks: ",l),console.log("Combined Chunks: ",c),console.log("Max Orama Score: ",f),h?console.log("Reranked Chunks: ",d):console.log("No reranking applied.")),d}async rewriteQuery(r){try{let n=await this.queryRewritePrompt.format({question:r}),i=await Ud.getInstance().getChatModel().bind({temperature:0}).invoke(n);return i&&"content"in i?aj(i.content):(console.warn("Unexpected rewrittenQuery format. Falling back to original query."),r)}catch(n){return console.error("Error in rewriteQuery:",n),r}}async getExplicitChunks(r){let n=[];for(let o of r){let i=await ma.getInstance().getDb(),a=await Ux.getDocsByPath(i,o.path);if(a){let s=a.map(u=>new zx({pageContent:u.document.content,metadata:{...u.document.metadata,score:u.score,path:u.document.path,mtime:u.document.mtime,ctime:u.document.ctime,title:u.document.title,id:u.document.id,embeddingModel:u.document.embeddingModel,tags:u.document.tags,extension:u.document.extension,created_at:u.document.created_at,nchars:u.document.nchars}}));n.push(...s)}}return n}async getOramaChunks(r,n,o){let i;try{i=await this.convertQueryToVector(r)}catch(l){throw console.error("Error in convertQueryToVector, please ensure your embedding model is working and has an adequate context length:",l,`
Query:`,r),l}let a=await ma.getInstance().getDb(),s={similarity:this.options.minSimilarityScore,limit:this.options.maxK,includeVectors:!0};if(n.length>0){let l;o||(o=.5),l=1-o;let c=!0;for(let d of n)if(!d.startsWith("#")){c=!1;break}c&&(pe().debug&&console.log("Tag only query detected, setting textWeight to 1 and vectorWeight to 0."),o=1,l=0),s.mode="hybrid",s.term=n.join(" "),s.vector={value:i,property:"embedding"},s.hybridWeights={text:o,vector:l}}else s.mode="vector",s.vector={value:i,property:"embedding"};if(this.options.timeRange){let{startTime:l,endTime:c}=this.options.timeRange,d=this.generateDailyNoteDateRange(l,c);br("==== Daily note date range: ====",d[0],d[d.length-1]);let f=ly(d.join(", "),app.vault),h=(await this.getExplicitChunks(f)).map(S=>({...S,metadata:{...S.metadata,includeInContext:!0}}));br("==== Modified time range: ====",l,c),s.where={mtime:{between:[l,c]}};let _=(await ic(a,s)).hits.map(S=>new zx({pageContent:S.document.content,metadata:{...S.document.metadata,score:S.score,path:S.document.path,mtime:S.document.mtime,ctime:S.document.ctime,title:S.document.title,id:S.document.id,embeddingModel:S.document.embeddingModel,tags:S.document.tags,extension:S.document.extension,created_at:S.document.created_at,nchars:S.document.nchars}})),g=[...h,..._];return Array.from(new Set(g.map(S=>S.metadata.id))).map(S=>g.find(x=>x.metadata.id===S)).filter(S=>S!==void 0)}pe().debug&&console.log(`==== Orama Search Params: ====
`,s);let u=await ic(a,s);return!u||!u.hits?(console.warn("Search results or hits are undefined"),[]):u.hits.map(l=>!l||!l.document?(console.warn("Invalid hit or document in search results"),null):((typeof l.score!="number"||isNaN(l.score))&&console.warn("NaN/invalid score detected:",{score:l.score,path:l.document.path,title:l.document.title}),new zx({pageContent:l.document.content||"",metadata:{...l.document.metadata||{},score:l.score,path:l.document.path||"",mtime:l.document.mtime,ctime:l.document.ctime,title:l.document.title||"",id:l.document.id,embeddingModel:l.document.embeddingModel,tags:l.document.tags||[],extension:l.document.extension,created_at:l.document.created_at,nchars:l.document.nchars}}))).filter(l=>l!==null)}async convertQueryToVector(r){let o=await(await ps.getInstance().getEmbeddingsAPI()).embedQuery(r);if(o.length===0)throw new Error("Query embedding returned an empty vector");return o}generateDailyNoteDateRange(r,n){let o=[],i=new Date(r),a=new Date(n),s=new Date(i);for(;s<=a;)o.push(`[[${s.toLocaleDateString("en-CA")}]]`),s.setDate(s.getDate()+1);return o}filterAndFormatChunks(r,n){let o=this.options.minSimilarityScore,i=r.filter(u=>{let l=u.metadata.score;return typeof l!="number"||isNaN(l)?!0:l>=o}),a=new Set(n.map(u=>u.pageContent)),s=[...n];for(let u of i){let l=u.pageContent;a.has(l)||(a.add(l),s.push(u))}return s.map(u=>({...u,metadata:{...u.metadata,includeInContext:!0}}))}};bd();var zPe=Ep(async({timeRange:e,query:t,salientTerms:r})=>{if(await ma.getInstance().isIndexEmpty())throw new dr(s5);let o=e!==void 0,i=pe().maxSourceChunks<Ale?Ale:pe().maxSourceChunks;pe().debug&&console.log("returnAll:",o);let u=(await new oT({minSimilarityScore:o?0:.1,maxK:o?1e3:i,salientTerms:r,timeRange:e?{startTime:e.startTime.epoch,endTime:e.endTime.epoch}:void 0,textWeight:oBe,returnAll:o,useRerankerThreshold:.5}).getRelevantDocuments(t)).map(l=>({title:l.metadata.title,content:l.pageContent,path:l.metadata.path,score:l.metadata.score,rerank_score:l.metadata.rerank_score,includeInContext:l.metadata.includeInContext}));return JSON.stringify(u)},{name:"localSearch",description:"Search for notes based on the time range and query",schema:Er.object({timeRange:Er.object({startTime:Er.any(),endTime:Er.any()}).optional(),query:Er.string().describe("The search query"),salientTerms:Er.array(Er.string()).describe("List of salient terms extracted from the query")})}),hAt=Ep(async()=>{try{let e=await ma.getInstance().indexVaultToVectorStore();return`Please report whether the indexing was successful.
If success is true, just say it is successful. If 0 files is indexed, say there are no new files to index.`+JSON.stringify({success:!0,message:e===0?"No new files to index.":`Indexed ${e} files in the vault.`})}catch(e){return console.error("Error indexing vault:",e),JSON.stringify({success:!1,message:"An error occurred while indexing the vault."})}},{name:"indexVault",description:"Index the vault to the Copilot index"}),HPe=Ep(async({query:e,chatHistory:t})=>{try{let r=await Sne(e,t),n=await _l.getInstance().webSearch(r),o=n.response.citations||[],i=o.length>0?`

Sources:
`+o.map((a,s)=>`[${s+1}] ${a}`).join(`
`):"";return`Here are the web search results. Please provide a response based on this information and include source citations listed at the end of your response under the heading '#### Sources' as a list of markdown links. For each URL, create a descriptive title based on the domain and path and return it in the markdown format '- [title](url)':

`+n.response.choices[0].message.content+i}catch(r){return console.error(`Error processing web search query ${e}:`,r),""}},{name:"webSearch",description:"Search the web for information",schema:Er.object({query:Er.string().describe("The search query"),chatHistory:Er.array(Er.tuple([Er.string(),Er.string()])).describe("Previous conversation turns")})});var bAt=B(mAt(),1),B3=B(iT(),1);var Rn;(function(e){e[e.AM=0]="AM",e[e.PM=1]="PM"})(Rn||(Rn={}));var Tu;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(Tu||(Tu={}));var Rp;(function(e){e[e.JANUARY=1]="JANUARY",e[e.FEBRUARY=2]="FEBRUARY",e[e.MARCH=3]="MARCH",e[e.APRIL=4]="APRIL",e[e.MAY=5]="MAY",e[e.JUNE=6]="JUNE",e[e.JULY=7]="JULY",e[e.AUGUST=8]="AUGUST",e[e.SEPTEMBER=9]="SEPTEMBER",e[e.OCTOBER=10]="OCTOBER",e[e.NOVEMBER=11]="NOVEMBER",e[e.DECEMBER=12]="DECEMBER"})(Rp||(Rp={}));function gAt(e,t){t=t.add(1,"day"),b1(e,t),Yk(e,t)}function Ag(e,t){e.assign("day",t.date()),e.assign("month",t.month()+1),e.assign("year",t.year())}function Cne(e,t){e.assign("hour",t.hour()),e.assign("minute",t.minute()),e.assign("second",t.second()),e.assign("millisecond",t.millisecond()),e.get("hour")<12?e.assign("meridiem",Rn.AM):e.assign("meridiem",Rn.PM)}function b1(e,t){e.imply("day",t.date()),e.imply("month",t.month()+1),e.imply("year",t.year())}function Yk(e,t){e.imply("hour",t.hour()),e.imply("minute",t.minute()),e.imply("second",t.second()),e.imply("millisecond",t.millisecond())}var KPe=B(iT(),1);var Mrn={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:e=>yAt(e,Rp.MARCH,Tu.SUNDAY,2),dstEnd:e=>yAt(e,Rp.OCTOBER,Tu.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:e=>aT(e,Rp.MARCH,Tu.SUNDAY,2,2),dstEnd:e=>aT(e,Rp.NOVEMBER,Tu.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:e=>aT(e,Rp.MARCH,Tu.SUNDAY,2,2),dstEnd:e=>aT(e,Rp.NOVEMBER,Tu.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:e=>aT(e,Rp.MARCH,Tu.SUNDAY,2,2),dstEnd:e=>aT(e,Rp.NOVEMBER,Tu.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:e=>aT(e,Rp.MARCH,Tu.SUNDAY,2,2),dstEnd:e=>aT(e,Rp.NOVEMBER,Tu.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function aT(e,t,r,n,o=0){let i=0,a=0;for(;a<n;)i++,new Date(e,t-1,i).getDay()===r&&a++;return new Date(e,t-1,i,o)}function yAt(e,t,r,n=0){let o=r===0?7:r,i=new Date(e,t-1+1,1,12),a=i.getDay()===0?7:i.getDay(),s;return a===o?s=7:a<o?s=7+a-o:s=a-o,i.setDate(i.getDate()-s),new Date(e,t-1,i.getDate(),n)}function One(e,t,r={}){if(e==null)return null;if(typeof e=="number")return e;let n=r[e]??Mrn[e];return n==null?null:typeof n=="number"?n:t==null?null:(0,KPe.default)(t).isAfter(n.dstStart(t.getFullYear()))&&!(0,KPe.default)(t).isAfter(n.dstEnd(t.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}B3.default.extend(bAt.default);var sT=class{constructor(t){t=t??new Date,t instanceof Date?this.instant=t:(this.instant=t.instant??new Date,this.timezoneOffset=One(t.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(t,r){(!t||t.getTime()<0)&&(t=new Date);let n=-t.getTimezoneOffset(),o=r??this.timezoneOffset??n;return n-o}},Dn=class e{constructor(t,r){if(this._tags=new Set,this.reference=t,this.knownValues={},this.impliedValues={},r)for(let o in r)this.knownValues[o]=r[o];let n=(0,B3.default)(t.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(t){return t in this.knownValues?this.knownValues[t]:t in this.impliedValues?this.impliedValues[t]:null}isCertain(t){return t in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(t,r){return t in this.knownValues?this:(this.impliedValues[t]=r,this)}assign(t,r){return this.knownValues[t]=r,delete this.impliedValues[t],this}delete(t){delete this.knownValues[t],delete this.impliedValues[t]}clone(){let t=new e(this.reference);t.knownValues={},t.impliedValues={};for(let r in this.knownValues)t.knownValues[r]=this.knownValues[r];for(let r in this.impliedValues)t.impliedValues[r]=this.impliedValues[r];return t}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let t=this.dateWithoutTimezoneAdjustment();return!(t.getFullYear()!==this.get("year")||t.getMonth()!==this.get("month")-1||t.getDate()!==this.get("day")||this.get("hour")!=null&&t.getHours()!=this.get("hour")||this.get("minute")!=null&&t.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return(0,B3.default)(this.date())}date(){let t=this.dateWithoutTimezoneAdjustment(),r=this.reference.getSystemTimezoneAdjustmentMinute(t,this.get("timezoneOffset"));return new Date(t.getTime()+r*6e4)}addTag(t){return this._tags.add(t),this}addTags(t){for(let r of t)this._tags.add(r);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){let t=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return t.setFullYear(this.get("year")),t}static createRelativeFromReference(t,r){let n=(0,B3.default)(t.instant);for(let i in r)n=n.add(r[i],i);let o=new e(t);return r.hour||r.minute||r.second?(Cne(o,n),Ag(o,n),t.timezoneOffset!==null&&o.assign("timezoneOffset",-t.instant.getTimezoneOffset())):(Yk(o,n),t.timezoneOffset!==null&&o.imply("timezoneOffset",-t.instant.getTimezoneOffset()),r.d?(o.assign("day",n.date()),o.assign("month",n.month()+1),o.assign("year",n.year())):r.week?(o.assign("day",n.date()),o.assign("month",n.month()+1),o.assign("year",n.year()),o.imply("weekday",n.day())):(o.imply("day",n.date()),r.month?(o.assign("month",n.month()+1),o.assign("year",n.year())):(o.imply("month",n.month()+1),r.year?o.assign("year",n.year()):o.imply("year",n.year())))),o}},jC=class e{constructor(t,r,n,o,i){this.reference=t,this.refDate=t.instant,this.index=r,this.text=n,this.start=o||new Dn(t),this.end=i}clone(){let t=new e(this.reference,this.index,this.text);return t.start=this.start?this.start.clone():null,t.end=this.end?this.end.clone():null,t}date(){return this.start.date()}tags(){let t=new Set(this.start.tags());if(this.end)for(let r of this.end.tags())t.add(r);return t}toString(){let t=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(t)} ...}]`}};function YPe(e,t,r="\\s{0,5},?\\s{0,5}"){let n=t.replace(/\((?!\?)/g,"(?:");return`${e}${n}(?:${r}${n}){0,10}`}function Irn(e){let t;return e instanceof Array?t=[...e]:e instanceof Map?t=Array.from(e.keys()):t=Object.keys(e),t}function fc(e){return`(?:${Irn(e).sort((r,n)=>n.length-r.length).join("|").replace(/\./g,"\\.")})`}var _At=B(iT(),1);function Ene(e){return e<100&&(e>50?e=e+1900:e=e+2e3),e}function uT(e,t,r){let n=(0,_At.default)(e),o=n;o=o.month(r-1),o=o.date(t),o=o.year(n.year());let i=o.add(1,"y"),a=o.add(-1,"y");return Math.abs(i.diff(n))<Math.abs(o.diff(n))?o=i:Math.abs(a.diff(n))<Math.abs(o.diff(n))&&(o=a),o.year()}var QPe={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},eTe={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},sm={...eTe,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},ZPe={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},XPe={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},wAt={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},$3={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...wAt},SAt=`(?:${fc(ZPe)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function Arn(e){let t=e.toLowerCase();return ZPe[t]!==void 0?ZPe[t]:t==="a"||t==="an"||t=="the"?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}var Zk=`(?:${fc(XPe)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Xk(e){let t=e.toLowerCase();return XPe[t]!==void 0?XPe[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}var lT="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function cT(e){if(/BE/i.test(e))return e=e.replace(/BE/i,""),parseInt(e)-543;if(/BCE?/i.test(e))return e=e.replace(/BCE?/i,""),-parseInt(e);if(/(AD|CE)/i.test(e))return e=e.replace(/(AD|CE)/i,""),parseInt(e);let t=parseInt(e);return Ene(t)}var xAt=`(${SAt})\\s{0,3}(${fc($3)})`,vAt=new RegExp(xAt,"i"),Rrn=`(${SAt})\\s{0,3}(${fc(wAt)})`,CAt="\\s{0,5},?(?:\\s*and)?\\s{0,5}",NC=YPe("(?:(?:about|around)\\s{0,3})?",xAt,CAt),dT=YPe("(?:(?:about|around)\\s{0,3})?",Rrn,CAt);function um(e){let t={},r=e,n=vAt.exec(r);for(;n;)Drn(t,n),r=r.substring(n[0].length).trim(),n=vAt.exec(r);return Object.keys(t).length==0?null:t}function Drn(e,t){if(t[0].match(/^[a-zA-Z]+$/))return;let r=Arn(t[1]),n=$3[t[2].toLowerCase()];e[n]=r}var Ao=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(t,r){return this.innerPattern(t)!==r}patternLeftBoundary(){return"(\\W|^)"}pattern(t){return this.cachedInnerPattern&&!this.innerPatternHasChange(t,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(t),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(t,r){let n=r[1]??"";r.index=r.index+n.length,r[0]=r[0].substring(n.length);for(let o=2;o<r.length;o++)r[o-1]=r[o];return this.innerExtract(t,r)}};var jrn=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${NC})(?=\\W|$)`,"i"),Nrn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${NC})(?=\\W|$)`,"i"),Lrn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${dT})(?=\\W|$)`,"i"),q3=class extends Ao{constructor(t){super(),this.strictMode=t}innerPattern(t){return this.strictMode?Lrn:t.option.forwardDate?jrn:Nrn}innerExtract(t,r){if(r[0].match(/^for\s*the\s*\w+/))return null;let n=um(r[1]);return n?Dn.createRelativeFromReference(t.reference,n):null}};var Frn=new RegExp(`(?:on\\s{0,3})?(${Zk})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Zk}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${fc(sm)})(?:(?:-|/|,?\\s{0,3})(${lT}(?!\\w)))?(?=\\W|$)`,"i"),OAt=1,EAt=2,krn=3,PAt=4,U3=class extends Ao{innerPattern(){return Frn}innerExtract(t,r){let n=t.createParsingResult(r.index,r[0]),o=sm[r[krn].toLowerCase()],i=Xk(r[OAt]);if(i>31)return r.index=r.index+r[OAt].length,null;if(n.start.assign("month",o),n.start.assign("day",i),r[PAt]){let a=cT(r[PAt]);n.start.assign("year",a)}else{let a=uT(t.refDate,i,o);n.start.imply("year",a)}if(r[EAt]){let a=Xk(r[EAt]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};var Brn=new RegExp(`(${fc(sm)})(?:-|/|\\s*,?\\s*)(${Zk})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Zk})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${lT}))?(?=\\W|$)(?!\\:\\d)`,"i"),$rn=1,TAt=2,tTe=3,rTe=4,z3=class extends Ao{constructor(t){super(),this.shouldSkipYearLikeDate=t}innerPattern(){return Brn}innerExtract(t,r){let n=sm[r[$rn].toLowerCase()],o=Xk(r[TAt]);if(o>31||this.shouldSkipYearLikeDate&&!r[tTe]&&!r[rTe]&&r[TAt].match(/^2[0-5]$/))return null;let i=t.createParsingComponents({day:o,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(r[rTe]){let u=cT(r[rTe]);i.assign("year",u)}else{let u=uT(t.refDate,o,n);i.imply("year",u)}if(!r[tTe])return i;let a=Xk(r[tTe]),s=t.createParsingResult(r.index,r[0]);return s.start=i,s.end=i.clone(),s.end.assign("day",a),s}};var qrn=new RegExp(`((?:in)\\s*)?(${fc(sm)})\\s*(?:[,-]?\\s*(${lT})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Urn=1,zrn=2,MAt=3,H3=class extends Ao{innerPattern(){return qrn}innerExtract(t,r){let n=r[zrn].toLowerCase();if(r[0].length<=3&&!eTe[n])return null;let o=t.createParsingResult(r.index+(r[Urn]||"").length,r.index+r[0].length);o.start.imply("day",1),o.start.addTag("parser/ENMonthNameParser");let i=sm[n];if(o.start.assign("month",i),r[MAt]){let a=cT(r[MAt]);o.start.assign("year",a)}else{let a=uT(t.refDate,1,i);o.start.imply("year",a)}return o}};var Hrn=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${fc(sm)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),Vrn=1,Wrn=2,IAt=3,Jrn=4,V3=class extends Ao{constructor(t){super(),this.strictMonthDateOrder=t}innerPattern(){return Hrn}innerExtract(t,r){let n=parseInt(r[Vrn]),o=parseInt(r[Jrn]),i=r[IAt]?parseInt(r[IAt]):sm[r[Wrn].toLowerCase()];if(i<1||i>12){if(this.strictMonthDateOrder)return null;o>=1&&o<=12&&([i,o]=[o,i])}return o<1||o>31?null:{day:o,month:i,year:n}}};var Grn=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),Krn=1,Yrn=2,W3=class extends Ao{innerPattern(){return Grn}innerExtract(t,r){let n=parseInt(r[Yrn]),o=parseInt(r[Krn]);return t.createParsingComponents().imply("day",1).assign("month",o).assign("year",n)}};function Zrn(e,t,r,n){return new RegExp(`${e}${t}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${r}`,n)}function Xrn(e,t){return new RegExp(`^(${e})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}var AAt=2,Qk=3,Pne=4,Tne=5,J3=6,Mne=class{constructor(t=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=t}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(t){return this.getPrimaryTimePatternThroughCache()}extract(t,r){let n=this.extractPrimaryTimeComponents(t,r);if(!n)return r[0].match(/^\d{4}/)?(r.index+=4,null):(r.index+=r[0].length,null);let o=r.index+r[1].length,i=r[0].substring(r[1].length),a=t.createParsingResult(o,i,n);r.index+=r[0].length;let s=t.text.substring(r.index),l=this.getFollowingTimePatternThroughCache().exec(s);return i.match(/^\d{3,4}/)&&l&&(l[0].match(/^\s*([+-])\s*\d{2,4}$/)||l[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!l||l[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(t,l,a),a.end&&(a.text+=l[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(t,r,n=!1){let o=t.createParsingComponents(),i=0,a=null,s=parseInt(r[AAt]);if(s>100){if(this.strictMode||r[Qk]!=null)return null;i=s%100,s=Math.floor(s/100)}if(s>24)return null;if(r[Qk]!=null){if(r[Qk].length==1&&!r[J3])return null;i=parseInt(r[Qk])}if(i>=60)return null;if(s>12&&(a=Rn.PM),r[J3]!=null){if(s>12)return null;let u=r[J3][0].toLowerCase();u=="a"&&(a=Rn.AM,s==12&&(s=0)),u=="p"&&(a=Rn.PM,s!=12&&(s+=12))}if(o.assign("hour",s),o.assign("minute",i),a!==null?o.assign("meridiem",a):s<12?o.imply("meridiem",Rn.AM):o.imply("meridiem",Rn.PM),r[Tne]!=null){let u=parseInt(r[Tne].substring(0,3));if(u>=1e3)return null;o.assign("millisecond",u)}if(r[Pne]!=null){let u=parseInt(r[Pne]);if(u>=60)return null;o.assign("second",u)}return o}extractFollowingTimeComponents(t,r,n){let o=t.createParsingComponents();if(r[Tne]!=null){let u=parseInt(r[Tne].substring(0,3));if(u>=1e3)return null;o.assign("millisecond",u)}if(r[Pne]!=null){let u=parseInt(r[Pne]);if(u>=60)return null;o.assign("second",u)}let i=parseInt(r[AAt]),a=0,s=-1;if(r[Qk]!=null?a=parseInt(r[Qk]):i>100&&(a=i%100,i=Math.floor(i/100)),a>=60||i>24)return null;if(i>=12&&(s=Rn.PM),r[J3]!=null){if(i>12)return null;let u=r[J3][0].toLowerCase();u=="a"&&(s=Rn.AM,i==12&&(i=0,o.isCertain("day")||o.imply("day",o.get("day")+1))),u=="p"&&(s=Rn.PM,i!=12&&(i+=12)),n.start.isCertain("meridiem")||(s==Rn.AM?(n.start.imply("meridiem",Rn.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",Rn.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return o.assign("hour",i),o.assign("minute",a),s>=0?o.assign("meridiem",s):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>i?o.imply("meridiem",Rn.AM):i<=12&&(o.assign("hour",i+12),o.assign("meridiem",Rn.PM)):i>12?o.imply("meridiem",Rn.PM):i<=12&&o.imply("meridiem",Rn.AM),o.date().getTime()<n.start.date().getTime()&&o.imply("day",o.get("day")+1),o}checkAndReturnWithoutFollowingPattern(t){if(t.text.match(/^\d$/)||t.text.match(/^\d\d\d+$/)||t.text.match(/\d[apAP]$/))return null;let r=t.text.match(/[^\d:.](\d[\d.]+)$/);if(r){let n=r[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return t}checkAndReturnWithFollowingPattern(t){if(t.text.match(/^\d+-\d+$/))return null;let r=t.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(r){if(this.strictMode)return null;let n=r[1],o=r[2];if(o.includes(".")&&!o.match(/\d(\.\d{2})+$/))return null;let i=parseInt(o),a=parseInt(n);if(i>24||a>24)return null}return t}getPrimaryTimePatternThroughCache(){let t=this.primaryPrefix(),r=this.primarySuffix();return this.cachedPrimaryPrefix===t&&this.cachedPrimarySuffix===r?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=Zrn(this.primaryPatternLeftBoundary(),t,r,this.patternFlags()),this.cachedPrimaryPrefix=t,this.cachedPrimarySuffix=r,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let t=this.followingPhase(),r=this.followingSuffix();return this.cachedFollowingPhase===t&&this.cachedFollowingSuffix===r?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=Xrn(t,r),this.cachedFollowingPhase=t,this.cachedFollowingSuffix=r,this.cachedFollowingTimePatten)}};var G3=class extends Mne{constructor(t){super(t)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,r){let n=super.extractPrimaryTimeComponents(t,r);if(!n)return n;if(r[0].endsWith("night")){let o=n.get("hour");o>=6&&o<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Rn.PM)):o<6&&n.assign("meridiem",Rn.AM)}if(r[0].endsWith("afternoon")){n.assign("meridiem",Rn.PM);let o=n.get("hour");o>=0&&o<=6&&n.assign("hour",n.get("hour")+12)}return r[0].endsWith("morning")&&(n.assign("meridiem",Rn.AM),n.get("hour")<12&&n.assign("hour",n.get("hour"))),n.addTag("parser/ENTimeExpressionParser")}};function fT(e){let t={};for(let r in e)t[r]=-e[r];return t}function RAt(e,t){let r=e.clone(),n=e.dayjs();for(let o in t)n=n.add(t[o],o);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(r.imply("day",n.date()),r.imply("month",n.month()+1),r.imply("year",n.year())),("second"in t||"minute"in t||"hour"in t)&&(r.imply("second",n.second()),r.imply("minute",n.minute()),r.imply("hour",n.hour())),r}var Qrn=new RegExp(`(${NC})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),enn=new RegExp(`(${dT})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),K3=class extends Ao{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?enn:Qrn}innerExtract(t,r){let n=um(r[1]);if(!n)return null;let o=fT(n);return Dn.createRelativeFromReference(t.reference,o)}};var tnn=new RegExp(`(${NC})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),rnn=new RegExp(`(${dT})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),nnn=1,Y3=class extends Ao{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?rnn:tnn}innerExtract(t,r){let n=um(r[nnn]);return n?Dn.createRelativeFromReference(t.reference,n):null}};var Ine=class{refine(t,r){return r.filter(n=>this.isValid(t,n))}},lm=class{refine(t,r){if(r.length<2)return r;let n=[],o=r[0],i=null;for(let a=1;a<r.length;a++){i=r[a];let s=t.text.substring(o.index+o.text.length,i.index);if(!this.shouldMergeResults(s,o,i,t))n.push(o),o=i;else{let u=o,l=i,c=this.mergeResults(s,u,l,t);t.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${l} into ${c}`)}),o=c}}return o!=null&&n.push(o),n}};var Z3=class extends lm{shouldMergeResults(t,r,n){return!r.end&&!n.end&&t.match(this.patternBetween())!=null}mergeResults(t,r,n){if(!r.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(i=>{r.start.isCertain(i)||r.start.imply(i,n.start.get(i))}),r.start.getCertainComponents().forEach(i=>{n.start.isCertain(i)||n.start.imply(i,r.start.get(i))})),r.start.date().getTime()>n.start.date().getTime()){let i=r.start.dayjs(),a=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(i)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):r.start.isOnlyWeekdayComponent()&&i.add(-7,"days").isBefore(a)?(i=i.add(-7,"days"),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year())):n.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(i)?(a=a.add(1,"years"),n.start.imply("year",a.year())):r.start.isDateWithUnknownYear()&&i.add(-1,"years").isBefore(a)?(i=i.add(-1,"years"),r.start.imply("year",i.year())):[n,r]=[r,n]}let o=r.clone();return o.start=r.start,o.end=n.start,o.index=Math.min(r.index,n.index),r.index<n.index?o.text=r.text+t+n.text:o.text=n.text+t+r.text,o}};var X3=class extends Z3{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}};function nTe(e,t){let r=e.clone(),n=e.start,o=t.start;if(r.start=DAt(n,o),e.end!=null||t.end!=null){let i=e.end==null?e.start:e.end,a=t.end==null?t.start:t.end,s=DAt(i,a);if(e.end==null&&s.date().getTime()<r.start.date().getTime()){let u=s.dayjs().add(1,"day");s.isCertain("day")?Ag(s,u):b1(s,u)}r.end=s}return r}function DAt(e,t){let r=e.clone();return t.isCertain("hour")?(r.assign("hour",t.get("hour")),r.assign("minute",t.get("minute")),t.isCertain("second")?(r.assign("second",t.get("second")),t.isCertain("millisecond")?r.assign("millisecond",t.get("millisecond")):r.imply("millisecond",t.get("millisecond"))):(r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond")))):(r.imply("hour",t.get("hour")),r.imply("minute",t.get("minute")),r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&r.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?r.assign("meridiem",t.get("meridiem")):t.get("meridiem")!=null&&r.get("meridiem")==null&&r.imply("meridiem",t.get("meridiem")),r.get("meridiem")==Rn.PM&&r.get("hour")<12&&(t.isCertain("hour")?r.assign("hour",r.get("hour")+12):r.imply("hour",r.get("hour")+12)),r.addTags(e.tags()),r.addTags(t.tags()),r}var Q3=class extends lm{shouldMergeResults(t,r,n){return(r.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&r.start.isOnlyTime())&&t.match(this.patternBetween())!=null}mergeResults(t,r,n){let o=r.start.isOnlyDate()?nTe(r,n):nTe(n,r);return o.index=r.index,o.text=r.text+t+n.text,o}};var eB=class extends Q3{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|\u2219|:)?\\s*$")}};var onn=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),e8=class{constructor(t){this.timezoneOverrides=t}refine(t,r){let n=t.option.timezones??{};return r.forEach(o=>{let i=t.text.substring(o.index+o.text.length),a=onn.exec(i);if(!a)return;let s=a[1].toUpperCase(),u=o.start.date()??o.refDate??new Date,l={...this.timezoneOverrides,...n},c=One(s,u,l);if(c==null)return;t.debug(()=>{console.log(`Extracting timezone: '${s}' into: ${c} for: ${o.start}`)});let d=o.start.get("timezoneOffset");d!==null&&c!=d&&(o.start.isCertain("timezoneOffset")||s!=a[1])||o.start.isOnlyDate()&&s!=a[1]||(o.text+=a[0],o.start.isCertain("timezoneOffset")||o.start.assign("timezoneOffset",c),o.end!=null&&!o.end.isCertain("timezoneOffset")&&o.end.assign("timezoneOffset",c))}),r}};var inn=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),ann=1,snn=2,unn=3,t8=class{refine(t,r){return r.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let o=t.text.substring(n.index+n.text.length),i=inn.exec(o);if(!i)return;t.debug(()=>{console.log(`Extracting timezone: '${i[0]}' into : ${n}`)});let a=parseInt(i[snn]),s=parseInt(i[unn]||"0"),u=a*60+s;u>14*60||(i[ann]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=i[0])}),r}};var pT=class{refine(t,r){if(r.length<2)return r;let n=[],o=r[0];for(let i=1;i<r.length;i++){let a=r[i];if(a.index>=o.index+o.text.length){n.push(o),o=a;continue}let s=null,u=null;a.text.length>o.text.length?(s=a,u=o):(s=o,u=a),t.debug(()=>{console.log(`${this.constructor.name} remove ${u} by ${s}`)}),o=s}return o!=null&&n.push(o),n}};var jAt=B(iT(),1);var r8=class{refine(t,r){return t.option.forwardDate&&r.forEach(n=>{let o=(0,jAt.default)(t.refDate);if(n.start.isOnlyTime()&&o.isAfter(n.start.dayjs())&&(o=o.add(1,"day"),b1(n.start,o),n.end&&n.end.isOnlyTime()&&(b1(n.end,o),n.start.dayjs().isAfter(n.end.dayjs())&&(o=o.add(1,"day"),b1(n.end,o))),t.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} time result (${n.start})`)})),n.start.isOnlyWeekdayComponent()&&o.isAfter(n.start.dayjs())&&(o.day()>=n.start.get("weekday")?o=o.day(n.start.get("weekday")+7):o=o.day(n.start.get("weekday")),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year()),t.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(o.day()>n.end.get("weekday")?o=o.day(n.end.get("weekday")+7):o=o.day(n.end.get("weekday")),n.end.imply("day",o.date()),n.end.imply("month",o.month()+1),n.end.imply("year",o.year()),t.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.end})`)}))),n.start.isDateWithUnknownYear()&&o.isAfter(n.start.dayjs()))for(let i=0;i<3&&o.isAfter(n.start.dayjs());i++)n.start.imply("year",n.start.get("year")+1),t.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} year (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),t.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} month (${n.start})`)}))}),r}};var n8=class extends Ine{constructor(t){super(),this.strictMode=t}isValid(t,r){return r.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(t.debug(()=>{console.log(`Removing unlikely result '${r.text}'`)}),!1):r.start.isValidDate()?r.end&&!r.end.isValidDate()?(t.debug(()=>{console.log(`Removing invalid result: ${r} (${r.end})`)}),!1):this.strictMode?this.isStrictModeValid(t,r):!0:(t.debug(()=>{console.log(`Removing invalid result: ${r} (${r.start})`)}),!1)}isStrictModeValid(t,r){return r.start.isOnlyWeekdayComponent()?(t.debug(()=>{console.log(`(Strict) Removing weekday only component: ${r} (${r.end})`)}),!1):r.start.isOnlyTime()&&(!r.start.isCertain("hour")||!r.start.isCertain("minute"))?(t.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${r} (${r.end})`)}),!1):!0}};var lnn=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),cnn=1,dnn=2,fnn=3,NAt=4,pnn=5,LAt=6,FAt=7,hnn=8,kAt=9,BAt=10,o8=class extends Ao{innerPattern(){return lnn}innerExtract(t,r){let n=t.createParsingComponents({year:parseInt(r[cnn]),month:parseInt(r[dnn]),day:parseInt(r[fnn])});if(r[NAt]!=null&&(n.assign("hour",parseInt(r[NAt])),n.assign("minute",parseInt(r[pnn])),r[LAt]!=null&&n.assign("second",parseInt(r[LAt])),r[FAt]!=null&&n.assign("millisecond",parseInt(r[FAt])),r[hnn]!=null)){let o=0;if(r[kAt]){let i=parseInt(r[kAt]),a=0;r[BAt]!=null&&(a=parseInt(r[BAt])),o=i*60,o<0?o-=a:o+=a}n.assign("timezoneOffset",o)}return n.addTag("parser/ISOFormatParser")}};var i8=class extends lm{mergeResults(t,r,n){let o=n.clone();return o.index=r.index,o.text=r.text+t+o.text,o.start.assign("weekday",r.start.get("weekday")),o.end&&o.end.assign("weekday",r.start.get("weekday")),o}shouldMergeResults(t,r,n){return r.start.isOnlyWeekdayComponent()&&!r.start.isCertain("hour")&&n.start.isCertain("day")&&t.match(/^,?\s*$/)!=null}};function $At(e,t=!1){return e.parsers.unshift(new o8),e.refiners.unshift(new i8),e.refiners.unshift(new t8),e.refiners.unshift(new pT),e.refiners.push(new e8),e.refiners.push(new pT),e.refiners.push(new r8),e.refiners.push(new n8(t)),e}var QAt=B(iT(),1);var tB=B(iT(),1);function qAt(e){let t=(0,tB.default)(e.instant),r=new Dn(e,{});return Ag(r,t),Cne(r,t),e.timezoneOffset!==null&&r.assign("timezoneOffset",t.utcOffset()),r.addTag("casualReference/now"),r}function UAt(e){let t=(0,tB.default)(e.instant),r=new Dn(e,{});return Ag(r,t),Yk(r,t),r.addTag("casualReference/today"),r}function zAt(e){return mnn(e,1).addTag("casualReference/yesterday")}function mnn(e,t){return VAt(e,-t)}function HAt(e){return VAt(e,1).addTag("casualReference/tomorrow")}function VAt(e,t){let r=(0,tB.default)(e.instant),n=new Dn(e,{});return r=r.add(t,"day"),Ag(n,r),Yk(n,r),n}function WAt(e,t=22){let r=(0,tB.default)(e.instant),n=new Dn(e,{});return Ag(n,r),n.imply("hour",t),n.imply("meridiem",Rn.PM),n.addTag("casualReference/tonight"),n}function JAt(e,t=20){let r=new Dn(e,{});return r.imply("meridiem",Rn.PM),r.imply("hour",t),r.addTag("casualReference/evening"),r}function GAt(e){let t=new Dn(e,{}),r=(0,tB.default)(e.instant);return r.hour()>2&&gAt(t,r),t.assign("hour",0),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/midnight"),t}function KAt(e,t=6){let r=new Dn(e,{});return r.imply("meridiem",Rn.AM),r.imply("hour",t),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/morning"),r}function YAt(e,t=15){let r=new Dn(e,{});return r.imply("meridiem",Rn.PM),r.imply("hour",t),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/afternoon"),r}function ZAt(e){let t=new Dn(e,{});return t.imply("meridiem",Rn.AM),t.imply("hour",12),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/noon"),t}var gnn=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,a8=class extends Ao{innerPattern(t){return gnn}innerExtract(t,r){let n=(0,QAt.default)(t.refDate),o=r[0].toLowerCase(),i=t.createParsingComponents();switch(o){case"now":i=qAt(t.reference);break;case"today":i=UAt(t.reference);break;case"yesterday":i=zAt(t.reference);break;case"tomorrow":case"tmr":case"tmrw":i=HAt(t.reference);break;case"tonight":i=WAt(t.reference);break;default:o.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),Ag(i,n),i.imply("hour",0));break}return i.addTag("parser/ENCasualDateParser"),i}};var ynn=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i,s8=class extends Ao{innerPattern(){return ynn}innerExtract(t,r){let n=null;switch(r[1].toLowerCase()){case"afternoon":n=YAt(t.reference);break;case"evening":case"night":n=JAt(t.reference);break;case"midnight":n=GAt(t.reference);break;case"morning":n=KAt(t.reference);break;case"noon":case"midday":n=ZAt(t.reference);break}return n&&n.addTag("parser/ENCasualTimeParser"),n}};function eRt(e,t,r){let n=e.getDateWithAdjustedTimezone(),o=bnn(n,t,r),i=new Dn(e);return i=RAt(i,{day:o}),i.assign("weekday",t),i}function bnn(e,t,r){let n=e.getDay();switch(r){case"this":return Ane(e,t);case"last":return tRt(e,t);case"next":return n==Tu.SUNDAY?t==Tu.SUNDAY?7:t:n==Tu.SATURDAY?t==Tu.SATURDAY?7:t==Tu.SUNDAY?8:1+t:t<n&&t!=Tu.SUNDAY?Ane(e,t):Ane(e,t)+7}return _nn(e,t)}function _nn(e,t){let r=tRt(e,t),n=Ane(e,t);return n<-r?n:r}function Ane(e,t){let r=e.getDay(),n=t-r;return n<0&&(n+=7),n}function tRt(e,t){let r=e.getDay(),n=t-r;return n>=0&&(n-=7),n}var vnn=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${fc(QPe)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),wnn=1,Snn=2,xnn=3,u8=class extends Ao{innerPattern(){return vnn}innerExtract(t,r){let n=r[Snn].toLowerCase(),o=QPe[n],i=r[wnn],a=r[xnn],s=i||a;s=s||"",s=s.toLowerCase();let u=null;return s=="last"||s=="past"?u="last":s=="next"?u="next":s=="this"&&(u="this"),eRt(t.reference,o,u)}};var rRt=B(iT(),1);var Cnn=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${fc($3)})(?=\\s*)(?=\\W|$)`,"i"),Onn=1,Enn=2,l8=class extends Ao{innerPattern(){return Cnn}innerExtract(t,r){let n=r[Onn].toLowerCase(),o=r[Enn].toLowerCase(),i=$3[o];if(n=="next"||n.startsWith("after")){let u={};return u[i]=1,Dn.createRelativeFromReference(t.reference,u)}if(n=="last"||n=="past"){let u={};return u[i]=-1,Dn.createRelativeFromReference(t.reference,u)}let a=t.createParsingComponents(),s=(0,rRt.default)(t.reference.instant);return o.match(/week/i)?(s=s.add(-s.get("d"),"d"),a.imply("day",s.date()),a.imply("month",s.month()+1),a.imply("year",s.year())):o.match(/month/i)?(s=s.add(-s.date()+1,"d"),a.imply("day",s.date()),a.assign("year",s.year()),a.assign("month",s.month()+1)):o.match(/year/i)&&(s=s.add(-s.date()+1,"d"),s=s.add(-s.month(),"month"),a.imply("day",s.date()),a.imply("month",s.month()+1),a.assign("year",s.year())),a}};var Pnn=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Tnn=1,Mnn=5,nRt=2,oRt=3,oTe=4,c8=class{constructor(t){this.groupNumberMonth=t?oRt:nRt,this.groupNumberDay=t?nRt:oRt}pattern(){return Pnn}extract(t,r){let n=r.index+r[Tnn].length,o=r.index+r[0].length-r[Mnn].length;if(n>0&&t.text.substring(0,n).match("\\d/?$")||o<t.text.length&&t.text.substring(o).match("^/?\\d"))return;let i=t.text.substring(n,o);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!r[oTe]&&i.indexOf("/")<0)return;let a=t.createParsingResult(n,i),s=parseInt(r[this.groupNumberMonth]),u=parseInt(r[this.groupNumberDay]);if((s<1||s>12)&&s>12)if(u>=1&&u<=12&&s<=31)[u,s]=[s,u];else return null;if(u<1||u>31)return null;if(a.start.assign("day",u),a.start.assign("month",s),r[oTe]){let l=parseInt(r[oTe]),c=Ene(l);a.start.assign("year",c)}else{let l=uT(t.refDate,u,s);a.start.imply("year",l)}return a}};var Inn=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${NC})(?=\\W|$)`,"i"),Ann=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${dT})(?=\\W|$)`,"i"),d8=class extends Ao{constructor(t=!0){super(),this.allowAbbreviations=t}innerPattern(){return this.allowAbbreviations?Inn:Ann}innerExtract(t,r){let n=r[1].toLowerCase(),o=um(r[2]);if(!o)return null;switch(n){case"last":case"past":case"-":o=fT(o);break}return Dn.createRelativeFromReference(t.reference,o)}};function Rnn(e){return e.text.match(/^[+-]/i)!=null}function iRt(e){return e.text.match(/^-/i)!=null}var f8=class extends lm{shouldMergeResults(t,r,n){return t.match(/^\s*$/i)?Rnn(n)||iRt(n):!1}mergeResults(t,r,n,o){let i=um(n.text);iRt(n)&&(i=fT(i));let a=Dn.createRelativeFromReference(new sT(r.start.date()),i);return new jC(r.reference,r.index,`${r.text}${t}${n.text}`,a)}};function aRt(e){return e.text.match(/\s+(before|from)$/i)!=null}function Dnn(e){return e.text.match(/\s+(after|since)$/i)!=null}var p8=class extends lm{patternBetween(){return/^\s*$/i}shouldMergeResults(t,r,n){return!t.match(this.patternBetween())||!aRt(r)&&!Dnn(r)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(t,r,n){let o=um(r.text);aRt(r)&&(o=fT(o));let i=Dn.createRelativeFromReference(new sT(n.start.date()),o);return new jC(n.reference,r.index,`${r.text}${t}${n.text}`,i)}};var jnn=new RegExp(`^\\s*(${lT})`,"i"),Nnn=1,h8=class{refine(t,r){return r.forEach(function(n){if(!n.start.isDateWithUnknownYear())return;let o=t.text.substring(n.index+n.text.length),i=jnn.exec(o);if(!i)return;t.debug(()=>{console.log(`Extracting year: '${i[0]}' into : ${n}`)});let a=cT(i[Nnn]);n.end!=null&&n.end.assign("year",a),n.start.assign("year",a),n.text+=i[0]}),r}};var _1=class{createCasualConfiguration(t=!1){let r=this.createConfiguration(!1,t);return r.parsers.push(new a8),r.parsers.push(new s8),r.parsers.push(new H3),r.parsers.push(new l8),r.parsers.push(new d8),r}createConfiguration(t=!0,r=!1){let n=$At({parsers:[new c8(r),new q3(t),new U3,new z3(r),new u8,new W3,new G3(t),new K3(t),new Y3(t)],refiners:[new eB]},t);return n.parsers.unshift(new V3(t)),n.refiners.unshift(new p8),n.refiners.unshift(new f8),n.refiners.unshift(new pT),n.refiners.push(new eB),n.refiners.push(new h8),n.refiners.push(new X3),n}};var rB=class e{constructor(t){this.defaultConfig=new _1,t=t||this.defaultConfig.createCasualConfiguration(),this.parsers=[...t.parsers],this.refiners=[...t.refiners]}clone(){return new e({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(t,r,n){let o=this.parse(t,r,n);return o.length>0?o[0].start.date():null}parse(t,r,n){let o=new iTe(t,r,n),i=[];return this.parsers.forEach(a=>{let s=e.executeParser(o,a);i=i.concat(s)}),i.sort((a,s)=>a.index-s.index),this.refiners.forEach(function(a){i=a.refine(o,i)}),i}static executeParser(t,r){let n=[],o=r.pattern(t),i=t.text,a=t.text,s=o.exec(a);for(;s;){let u=s.index+i.length-a.length;s.index=u;let l=r.extract(t,s);if(!l){a=i.substring(s.index+1),s=o.exec(a);continue}let c=null;l instanceof jC?c=l:l instanceof Dn?(c=t.createParsingResult(s.index,s[0]),c.start=l):c=t.createParsingResult(s.index,s[0],l);let d=c.index,f=c.text;t.debug(()=>console.log(`${r.constructor.name} extracted (at index=${d}) '${f}'`)),n.push(c),a=i.substring(d+f.length),s=o.exec(a)}return n}},iTe=class{constructor(t,r,n){this.text=t,this.reference=new sT(r),this.option=n??{},this.refDate=this.reference.instant}createParsingComponents(t){return t instanceof Dn?t:new Dn(this.reference,t)}createParsingResult(t,r,n,o){let i=typeof r=="string"?r:this.text.substring(t,r),a=n?this.createParsingComponents(n):null,s=o?this.createParsingComponents(o):null;return new jC(this.reference,t,i,a,s)}debug(t){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(t):this.option.debug.debug(t))}};var aTe=new _1,sRt=new rB(aTe.createCasualConfiguration(!1)),Lnn=new rB(aTe.createConfiguration(!0,!1)),Hjo=new rB(aTe.createCasualConfiguration(!0));var knn=sRt;function sTe(e,t,r){return knn.parse(e,t,r)}var LC=class extends Error{},Rne=class extends LC{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},Dne=class extends LC{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},jne=class extends LC{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},Rg=class extends LC{},nB=class extends LC{constructor(t){super(`Invalid unit ${t}`)}},La=class extends LC{},Dg=class extends LC{constructor(){super("Zone is an abstract class")}};var Ve="numeric",jg="short",Dp="long",hT={year:Ve,month:Ve,day:Ve},m8={year:Ve,month:jg,day:Ve},uTe={year:Ve,month:jg,day:Ve,weekday:jg},g8={year:Ve,month:Dp,day:Ve},y8={year:Ve,month:Dp,day:Ve,weekday:Dp},b8={hour:Ve,minute:Ve},_8={hour:Ve,minute:Ve,second:Ve},v8={hour:Ve,minute:Ve,second:Ve,timeZoneName:jg},w8={hour:Ve,minute:Ve,second:Ve,timeZoneName:Dp},S8={hour:Ve,minute:Ve,hourCycle:"h23"},x8={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23"},C8={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:jg},O8={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Dp},E8={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve},P8={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve,second:Ve},T8={year:Ve,month:jg,day:Ve,hour:Ve,minute:Ve},M8={year:Ve,month:jg,day:Ve,hour:Ve,minute:Ve,second:Ve},lTe={year:Ve,month:jg,day:Ve,weekday:jg,hour:Ve,minute:Ve},I8={year:Ve,month:Dp,day:Ve,hour:Ve,minute:Ve,timeZoneName:jg},A8={year:Ve,month:Dp,day:Ve,hour:Ve,minute:Ve,second:Ve,timeZoneName:jg},R8={year:Ve,month:Dp,day:Ve,weekday:Dp,hour:Ve,minute:Ve,timeZoneName:Dp},D8={year:Ve,month:Dp,day:Ve,weekday:Dp,hour:Ve,minute:Ve,second:Ve,timeZoneName:Dp};var zf=class{get type(){throw new Dg}get name(){throw new Dg}get ianaName(){return this.name}get isUniversal(){throw new Dg}offsetName(t,r){throw new Dg}formatOffset(t,r){throw new Dg}offset(t){throw new Dg}equals(t){throw new Dg}get isValid(){throw new Dg}};var cTe=null,mT=class e extends zf{static get instance(){return cTe===null&&(cTe=new e),cTe}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Lne(t,r,n)}formatOffset(t,r){return gT(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}};var kne={};function $nn(e){return kne[e]||(kne[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),kne[e]}var qnn={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Unn(e,t){let r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,o,i,a,s,u,l,c]=n;return[a,o,i,s,u,l,c]}function znn(e,t){let r=e.formatToParts(t),n=[];for(let o=0;o<r.length;o++){let{type:i,value:a}=r[o],s=qnn[i];i==="era"?n[s]=a:Dt(s)||(n[s]=parseInt(a,10))}return n}var Fne={},ad=class e extends zf{static create(t){return Fne[t]||(Fne[t]=new e(t)),Fne[t]}static resetCache(){Fne={},kne={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=e.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Lne(t,r,n,this.name)}formatOffset(t,r){return gT(this.offset(t),r)}offset(t){let r=new Date(t);if(isNaN(r))return NaN;let n=$nn(this.name),[o,i,a,s,u,l,c]=n.formatToParts?znn(n,r):Unn(n,r);s==="BC"&&(o=-Math.abs(o)+1);let f=oB({year:o,month:i,day:a,hour:u===24?0:u,minute:l,second:c,millisecond:0}),p=+r,h=p%1e3;return p-=h>=0?h:1e3+h,(f-p)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}};var uRt={};function Hnn(e,t={}){let r=JSON.stringify([e,t]),n=uRt[r];return n||(n=new Intl.ListFormat(e,t),uRt[r]=n),n}var dTe={};function fTe(e,t={}){let r=JSON.stringify([e,t]),n=dTe[r];return n||(n=new Intl.DateTimeFormat(e,t),dTe[r]=n),n}var pTe={};function Vnn(e,t={}){let r=JSON.stringify([e,t]),n=pTe[r];return n||(n=new Intl.NumberFormat(e,t),pTe[r]=n),n}var hTe={};function Wnn(e,t={}){let{base:r,...n}=t,o=JSON.stringify([e,n]),i=hTe[o];return i||(i=new Intl.RelativeTimeFormat(e,t),hTe[o]=i),i}var j8=null;function Jnn(){return j8||(j8=new Intl.DateTimeFormat().resolvedOptions().locale,j8)}var lRt={};function Gnn(e){let t=lRt[e];if(!t){let r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,lRt[e]=t}return t}function Knn(e){let t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));let r=e.indexOf("-u-");if(r===-1)return[e];{let n,o;try{n=fTe(e).resolvedOptions(),o=e}catch{let u=e.substring(0,r);n=fTe(u).resolvedOptions(),o=u}let{numberingSystem:i,calendar:a}=n;return[o,i,a]}}function Ynn(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function Znn(e){let t=[];for(let r=1;r<=12;r++){let n=xr.utc(2009,r,1);t.push(e(n))}return t}function Xnn(e){let t=[];for(let r=1;r<=7;r++){let n=xr.utc(2016,11,13+r);t.push(e(n))}return t}function Bne(e,t,r,n){let o=e.listingMode();return o==="error"?null:o==="en"?r(t):n(t)}function Qnn(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}var mTe=class{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:o,floor:i,...a}=n;if(!r||Object.keys(a).length>0){let s={useGrouping:!1,...n};n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=Vnn(t,s)}}format(t){if(this.inf){let r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{let r=this.floor?Math.floor(t):iB(t,3);return ya(r,this.padTo)}}},gTe=class{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let o;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let a=-1*(t.offset/60),s=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&ad.create(s).valid?(o=s,this.dt=t):(o="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,o=t.zone.name):(o="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=fTe(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},yTe=class{constructor(t,r,n){this.opts={style:"long",...n},!r&&$ne()&&(this.rtf=Wnn(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):cRt(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}},eon={firstDay:1,minimalDays:4,weekend:[6,7]},go=class e{static fromOpts(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,o,i=!1){let a=t||mo.defaultLocale,s=a||(i?"en-US":Jnn()),u=r||mo.defaultNumberingSystem,l=n||mo.defaultOutputCalendar,c=N8(o)||mo.defaultWeekSettings;return new e(s,u,l,c,a)}static resetCache(){j8=null,dTe={},pTe={},hTe={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:o}={}){return e.create(t,r,n,o)}constructor(t,r,n,o,i){let[a,s,u]=Knn(t);this.locale=a,this.numberingSystem=r||s||null,this.outputCalendar=n||u||null,this.weekSettings=o,this.intl=Ynn(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Qnn(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,N8(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Bne(this,t,bTe,()=>{let n=r?{month:t,day:"numeric"}:{month:t},o=r?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=Znn(i=>this.extract(i,n,"month"))),this.monthsCache[o][t]})}weekdays(t,r=!1){return Bne(this,t,_Te,()=>{let n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=r?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=Xnn(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[o][t]})}meridiems(){return Bne(this,void 0,()=>vTe,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xr.utc(2016,11,13,9),xr.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Bne(this,t,wTe,()=>{let r={era:t};return this.eraCache[t]||(this.eraCache[t]=[xr.utc(-40,1,1),xr.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){let o=this.dtFormatter(t,r),i=o.formatToParts(),a=i.find(s=>s.type.toLowerCase()===n);return a?a.value:null}numberFormatter(t={}){return new mTe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new gTe(t,this.intl,r)}relFormatter(t={}){return new yTe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Hnn(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:qne()?Gnn(this.locale):eon}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var xTe=null,Tl=class e extends zf{static get utcInstance(){return xTe===null&&(xTe=new e(0)),xTe}static instance(t){return t===0?e.utcInstance:new e(t)}static parseSpecifier(t){if(t){let r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new e(v1(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${gT(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${gT(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return gT(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}};var aB=class extends zf{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ng(e,t){let r;if(Dt(e)||e===null)return t;if(e instanceof zf)return e;if(dRt(e)){let n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?mT.instance:n==="utc"||n==="gmt"?Tl.utcInstance:Tl.parseSpecifier(n)||ad.create(e)}else return Lg(e)?Tl.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new aB(e)}var CTe={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},fRt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ton=CTe.hanidec.replace(/[\[|\]]/g,"").split("");function pRt(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(e[r].search(CTe.hanidec)!==-1)t+=ton.indexOf(e[r]);else for(let o in fRt){let[i,a]=fRt[o];n>=i&&n<=a&&(t+=n-i)}}return parseInt(t,10)}else return t}var sB={};function hRt(){sB={}}function cm({numberingSystem:e},t=""){let r=e||"latn";return sB[r]||(sB[r]={}),sB[r][t]||(sB[r][t]=new RegExp(`${CTe[r]}${t}`)),sB[r][t]}var mRt=()=>Date.now(),gRt="system",yRt=null,bRt=null,_Rt=null,vRt=60,wRt,SRt=null,mo=class{static get now(){return mRt}static set now(t){mRt=t}static set defaultZone(t){gRt=t}static get defaultZone(){return Ng(gRt,mT.instance)}static get defaultLocale(){return yRt}static set defaultLocale(t){yRt=t}static get defaultNumberingSystem(){return bRt}static set defaultNumberingSystem(t){bRt=t}static get defaultOutputCalendar(){return _Rt}static set defaultOutputCalendar(t){_Rt=t}static get defaultWeekSettings(){return SRt}static set defaultWeekSettings(t){SRt=N8(t)}static get twoDigitCutoffYear(){return vRt}static set twoDigitCutoffYear(t){vRt=t%100}static get throwOnInvalid(){return wRt}static set throwOnInvalid(t){wRt=t}static resetCaches(){go.resetCache(),ad.resetCache(),xr.resetCache(),hRt()}};var Ml=class{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var xRt=[0,31,59,90,120,151,181,212,243,273,304,334],CRt=[0,31,60,91,121,152,182,213,244,274,305,335];function dm(e,t){return new Ml("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Une(e,t,r){let n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let o=n.getUTCDay();return o===0?7:o}function ORt(e,t,r){return r+(S1(e)?CRt:xRt)[t-1]}function ERt(e,t){let r=S1(e)?CRt:xRt,n=r.findIndex(i=>i<t),o=t-r[n];return{month:n+1,day:o}}function zne(e,t){return(e-t+7)%7+1}function L8(e,t=4,r=1){let{year:n,month:o,day:i}=e,a=ORt(n,o,i),s=zne(Une(n,o,i),r),u=Math.floor((a-s+14-t)/7),l;return u<1?(l=n-1,u=w1(l,t,r)):u>w1(n,t,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:s,...k8(e)}}function OTe(e,t=4,r=1){let{weekYear:n,weekNumber:o,weekday:i}=e,a=zne(Une(n,1,t),r),s=yT(n),u=o*7+i-a-7+t,l;u<1?(l=n-1,u+=yT(l)):u>s?(l=n+1,u-=yT(n)):l=n;let{month:c,day:d}=ERt(l,u);return{year:l,month:c,day:d,...k8(e)}}function Hne(e){let{year:t,month:r,day:n}=e,o=ORt(t,r,n);return{year:t,ordinal:o,...k8(e)}}function ETe(e){let{year:t,ordinal:r}=e,{month:n,day:o}=ERt(t,r);return{year:t,month:n,day:o,...k8(e)}}function PTe(e,t){if(!Dt(e.localWeekday)||!Dt(e.localWeekNumber)||!Dt(e.localWeekYear)){if(!Dt(e.weekday)||!Dt(e.weekNumber)||!Dt(e.weekYear))throw new Rg("Cannot mix locale-based week fields with ISO-based week fields");return Dt(e.localWeekday)||(e.weekday=e.localWeekday),Dt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Dt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function PRt(e,t=4,r=1){let n=F8(e.weekYear),o=jp(e.weekNumber,1,w1(e.weekYear,t,r)),i=jp(e.weekday,1,7);return n?o?i?!1:dm("weekday",e.weekday):dm("week",e.weekNumber):dm("weekYear",e.weekYear)}function TRt(e){let t=F8(e.year),r=jp(e.ordinal,1,yT(e.year));return t?r?!1:dm("ordinal",e.ordinal):dm("year",e.year)}function TTe(e){let t=F8(e.year),r=jp(e.month,1,12),n=jp(e.day,1,uB(e.year,e.month));return t?r?n?!1:dm("day",e.day):dm("month",e.month):dm("year",e.year)}function MTe(e){let{hour:t,minute:r,second:n,millisecond:o}=e,i=jp(t,0,23)||t===24&&r===0&&n===0&&o===0,a=jp(r,0,59),s=jp(n,0,59),u=jp(o,0,999);return i?a?s?u?!1:dm("millisecond",o):dm("second",n):dm("minute",r):dm("hour",t)}function Dt(e){return typeof e>"u"}function Lg(e){return typeof e=="number"}function F8(e){return typeof e=="number"&&e%1===0}function dRt(e){return typeof e=="string"}function IRt(e){return Object.prototype.toString.call(e)==="[object Date]"}function $ne(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function qne(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ARt(e){return Array.isArray(e)?e:[e]}function ITe(e,t,r){if(e.length!==0)return e.reduce((n,o)=>{let i=[t(o),o];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function RRt(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function bT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N8(e){if(e==null)return null;if(typeof e!="object")throw new La("Week settings must be an object");if(!jp(e.firstDay,1,7)||!jp(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!jp(t,1,7)))throw new La("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function jp(e,t,r){return F8(e)&&e>=t&&e<=r}function ron(e,t){return e-t*Math.floor(e/t)}function ya(e,t=2){let r=e<0,n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function FC(e){if(!(Dt(e)||e===null||e===""))return parseInt(e,10)}function _T(e){if(!(Dt(e)||e===null||e===""))return parseFloat(e)}function B8(e){if(!(Dt(e)||e===null||e==="")){let t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function iB(e,t,r=!1){let n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function S1(e){return e%4===0&&(e%100!==0||e%400===0)}function yT(e){return S1(e)?366:365}function uB(e,t){let r=ron(t-1,12)+1,n=e+(t-r)/12;return r===2?S1(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function oB(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function MRt(e,t,r){return-zne(Une(e,1,t),r)+t-1}function w1(e,t=4,r=1){let n=MRt(e,t,r),o=MRt(e+1,t,r);return(yT(e)-n+o)/7}function $8(e){return e>99?e:e>mo.twoDigitCutoffYear?1900+e:2e3+e}function Lne(e,t,r,n=null){let o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);let a={timeZoneName:t,...i},s=new Intl.DateTimeFormat(r,a).formatToParts(o).find(u=>u.type.toLowerCase()==="timezonename");return s?s.value:null}function v1(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);let n=parseInt(t,10)||0,o=r<0||Object.is(r,-0)?-n:n;return r*60+o}function ATe(e){let t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new La(`Invalid unit value ${e}`);return t}function lB(e,t){let r={};for(let n in e)if(bT(e,n)){let o=e[n];if(o==null)continue;r[t(n)]=ATe(o)}return r}function gT(e,t){let r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${ya(r,2)}:${ya(n,2)}`;case"narrow":return`${o}${r}${n>0?`:${n}`:""}`;case"techie":return`${o}${ya(r,2)}${ya(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function k8(e){return RRt(e,["hour","minute","second","millisecond"])}var non=["January","February","March","April","May","June","July","August","September","October","November","December"],RTe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oon=["J","F","M","A","M","J","J","A","S","O","N","D"];function bTe(e){switch(e){case"narrow":return[...oon];case"short":return[...RTe];case"long":return[...non];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var DTe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],jTe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ion=["M","T","W","T","F","S","S"];function _Te(e){switch(e){case"narrow":return[...ion];case"short":return[...jTe];case"long":return[...DTe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var vTe=["AM","PM"],aon=["Before Christ","Anno Domini"],son=["BC","AD"],uon=["B","A"];function wTe(e){switch(e){case"narrow":return[...uon];case"short":return[...son];case"long":return[...aon];default:return null}}function DRt(e){return vTe[e.hour<12?0:1]}function jRt(e,t){return _Te(t)[e.weekday-1]}function NRt(e,t){return bTe(t)[e.month-1]}function LRt(e,t){return wTe(t)[e.year<0?0:1]}function cRt(e,t,r="always",n=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&i){let d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${o[e][0]}`;case-1:return d?"yesterday":`last ${o[e][0]}`;case 0:return d?"today":`this ${o[e][0]}`;default:}}let a=Object.is(t,-0)||t<0,s=Math.abs(t),u=s===1,l=o[e],c=n?u?l[1]:l[2]||l[1]:u?o[e][0]:e;return a?`${s} ${c} ago`:`in ${s} ${c}`}function FRt(e,t){let r="";for(let n of e)n.literal?r+=n.val:r+=t(n.val);return r}var lon={D:hT,DD:m8,DDD:g8,DDDD:y8,t:b8,tt:_8,ttt:v8,tttt:w8,T:S8,TT:x8,TTT:C8,TTTT:O8,f:E8,ff:T8,fff:I8,ffff:R8,F:P8,FF:M8,FFF:A8,FFFF:D8},Il=class e{static create(t,r={}){return new e(t,r)}static parseFormat(t){let r=null,n="",o=!1,i=[];for(let a=0;a<t.length;a++){let s=t.charAt(a);s==="'"?(n.length>0&&i.push({literal:o||/^\s+$/.test(n),val:n}),r=null,n="",o=!o):o||s===r?n+=s:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=s,r=s)}return n.length>0&&i.push({literal:o||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(t){return lon[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return ya(t,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){let n=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,h)=>this.loc.extract(t,p,h),a=p=>t.isOffsetFixed&&t.offset===0&&p.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,p.format):"",s=()=>n?DRt(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,h)=>n?NRt(t,p):i(h?{month:p}:{month:p,day:"numeric"},"month"),l=(p,h)=>n?jRt(t,p):i(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let h=e.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(t,h):p},d=p=>n?LRt(t,p):i({era:p},"era"),f=p=>{switch(p){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s();case"d":return o?i({day:"numeric"},"day"):this.num(t.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(t.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(t.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return c(p)}};return FRt(e.parseFormat(r),f)}formatDurationFromString(t,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=u=>l=>{let c=n(l);return c?this.num(u.get(c),l.length):l},i=e.parseFormat(r),a=i.reduce((u,{literal:l,val:c})=>l?u:u.concat(c),[]),s=t.shiftTo(...a.map(n).filter(u=>u));return FRt(i,o(s))}};var BRt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function dB(...e){let t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function fB(...e){return t=>e.reduce(([r,n,o],i)=>{let[a,s,u]=i(t,o);return[{...r,...a},s||n,u]},[{},null,1]).slice(0,2)}function pB(e,...t){if(e==null)return[null,null];for(let[r,n]of t){let o=r.exec(e);if(o)return n(o)}return[null,null]}function $Rt(...e){return(t,r)=>{let n={},o;for(o=0;o<e.length;o++)n[e[o]]=FC(t[r+o]);return[n,null,r+o]}}var qRt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,con=`(?:${qRt.source}?(?:\\[(${BRt.source})\\])?)?`,NTe=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,URt=RegExp(`${NTe.source}${con}`),LTe=RegExp(`(?:T${URt.source})?`),don=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,fon=/(\d{4})-?W(\d\d)(?:-?(\d))?/,pon=/(\d{4})-?(\d{3})/,hon=$Rt("weekYear","weekNumber","weekDay"),mon=$Rt("year","ordinal"),gon=/(\d{4})-(\d\d)-(\d\d)/,zRt=RegExp(`${NTe.source} ?(?:${qRt.source}|(${BRt.source}))?`),yon=RegExp(`(?: ${zRt.source})?`);function cB(e,t,r){let n=e[t];return Dt(n)?r:FC(n)}function bon(e,t){return[{year:cB(e,t),month:cB(e,t+1,1),day:cB(e,t+2,1)},null,t+3]}function hB(e,t){return[{hours:cB(e,t,0),minutes:cB(e,t+1,0),seconds:cB(e,t+2,0),milliseconds:B8(e[t+3])},null,t+4]}function q8(e,t){let r=!e[t]&&!e[t+1],n=v1(e[t+1],e[t+2]),o=r?null:Tl.instance(n);return[{},o,t+3]}function U8(e,t){let r=e[t]?ad.create(e[t]):null;return[{},r,t+1]}var _on=RegExp(`^T?${NTe.source}$`),von=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function won(e){let[t,r,n,o,i,a,s,u,l]=e,c=t[0]==="-",d=u&&u[0]==="-",f=(p,h=!1)=>p!==void 0&&(h||p&&c)?-p:p;return[{years:f(_T(r)),months:f(_T(n)),weeks:f(_T(o)),days:f(_T(i)),hours:f(_T(a)),minutes:f(_T(s)),seconds:f(_T(u),u==="-0"),milliseconds:f(B8(l),d)}]}var Son={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function FTe(e,t,r,n,o,i,a){let s={year:t.length===2?$8(FC(t)):FC(t),month:RTe.indexOf(r)+1,day:FC(n),hour:FC(o),minute:FC(i)};return a&&(s.second=FC(a)),e&&(s.weekday=e.length>3?DTe.indexOf(e)+1:jTe.indexOf(e)+1),s}var xon=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Con(e){let[,t,r,n,o,i,a,s,u,l,c,d]=e,f=FTe(t,o,n,r,i,a,s),p;return u?p=Son[u]:l?p=0:p=v1(c,d),[f,new Tl(p)]}function Oon(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Eon=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Pon=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ton=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function kRt(e){let[,t,r,n,o,i,a,s]=e;return[FTe(t,o,n,r,i,a,s),Tl.utcInstance]}function Mon(e){let[,t,r,n,o,i,a,s]=e;return[FTe(t,s,r,n,o,i,a),Tl.utcInstance]}var Ion=dB(don,LTe),Aon=dB(fon,LTe),Ron=dB(pon,LTe),Don=dB(URt),HRt=fB(bon,hB,q8,U8),jon=fB(hon,hB,q8,U8),Non=fB(mon,hB,q8,U8),Lon=fB(hB,q8,U8);function VRt(e){return pB(e,[Ion,HRt],[Aon,jon],[Ron,Non],[Don,Lon])}function WRt(e){return pB(Oon(e),[xon,Con])}function JRt(e){return pB(e,[Eon,kRt],[Pon,kRt],[Ton,Mon])}function GRt(e){return pB(e,[von,won])}var Fon=fB(hB);function KRt(e){return pB(e,[_on,Fon])}var kon=dB(gon,yon),Bon=dB(zRt),$on=fB(hB,q8,U8);function YRt(e){return pB(e,[kon,HRt],[Bon,$on])}var ZRt="Invalid Duration",QRt={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},qon={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...QRt},fm=146097/400,mB=146097/4800,Uon={years:{quarters:4,months:12,weeks:fm/7,days:fm,hours:fm*24,minutes:fm*24*60,seconds:fm*24*60*60,milliseconds:fm*24*60*60*1e3},quarters:{months:3,weeks:fm/28,days:fm/4,hours:fm*24/4,minutes:fm*24*60/4,seconds:fm*24*60*60/4,milliseconds:fm*24*60*60*1e3/4},months:{weeks:mB/7,days:mB,hours:mB*24,minutes:mB*24*60,seconds:mB*24*60*60,milliseconds:mB*24*60*60*1e3},...QRt},x1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],zon=x1.slice(0).reverse();function vT(e,t,r=!1){let n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ba(n)}function e1t(e,t){let r=t.milliseconds??0;for(let n of zon.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function XRt(e,t){let r=e1t(e,t)<0?-1:1;x1.reduceRight((n,o)=>{if(Dt(t[o]))return n;if(n){let i=t[n]*r,a=e[o][n],s=Math.floor(i/a);t[o]+=s*r,t[n]-=s*a*r}return o},null),x1.reduce((n,o)=>{if(Dt(t[o]))return n;if(n){let i=t[n]%1;t[n]-=i,t[o]+=i*e[n][o]}return o},null)}function Hon(e){let t={};for(let[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}var ba=class e{constructor(t){let r=t.conversionAccuracy==="longterm"||!1,n=r?Uon:qon;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||go.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return e.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new La(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new e({values:lB(t,e.normalizeUnit),loc:go.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Lg(t))return e.fromMillis(t);if(e.isDuration(t))return t;if(typeof t=="object")return e.fromObject(t);throw new La(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){let[n]=GRt(t);return n?e.fromObject(n,r):e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){let[n]=KRt(t);return n?e.fromObject(n,r):e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new La("need to specify a reason the Duration is invalid");let n=t instanceof Ml?t:new Ml(t,r);if(mo.throwOnInvalid)throw new jne(n);return new e({invalid:n})}static normalizeUnit(t){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new nB(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Il.create(this.loc,n).formatDurationFromString(this,t):ZRt}toHuman(t={}){if(!this.isValid)return ZRt;let r=x1.map(n=>{let o=this.values[n];return Dt(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(o)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=iB(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},xr.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?e1t(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let r=e.fromDurationLike(t),n={};for(let o of x1)(bT(r.values,o)||bT(this.values,o))&&(n[o]=r.get(o)+this.get(o));return vT(this,{values:n},!0)}minus(t){if(!this.isValid)return this;let r=e.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=ATe(t(this.values[n],n));return vT(this,{values:r},!0)}get(t){return this[e.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let r={...this.values,...lB(t,e.normalizeUnit)};return vT(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:o}={}){let a={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:o,conversionAccuracy:n};return vT(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return XRt(this.matrix,t),vT(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=Hon(this.normalize().shiftToAll().toObject());return vT(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>e.normalizeUnit(a));let r={},n={},o=this.toObject(),i;for(let a of x1)if(t.indexOf(a)>=0){i=a;let s=0;for(let l in n)s+=this.matrix[l][a]*n[l],n[l]=0;Lg(o[a])&&(s+=o[a]);let u=Math.trunc(s);r[a]=u,n[a]=(s*1e3-u*1e3)/1e3}else Lg(o[a])&&(n[a]=o[a]);for(let a in n)n[a]!==0&&(r[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return XRt(this.matrix,r),vT(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return vT(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,o){return n===void 0||n===0?o===void 0||o===0:n===o}for(let n of x1)if(!r(this.values[n],t.values[n]))return!1;return!0}};var gB="Invalid Interval";function Von(e,t){return!e||!e.isValid?kC.invalid("missing or invalid start"):!t||!t.isValid?kC.invalid("missing or invalid end"):t<e?kC.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}var kC=class e{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new La("need to specify a reason the Interval is invalid");let n=t instanceof Ml?t:new Ml(t,r);if(mo.throwOnInvalid)throw new Dne(n);return new e({invalid:n})}static fromDateTimes(t,r){let n=yB(t),o=yB(r),i=Von(n,o);return i??new e({start:n,end:o})}static after(t,r){let n=ba.fromDurationLike(r),o=yB(t);return e.fromDateTimes(o,o.plus(n))}static before(t,r){let n=ba.fromDurationLike(r),o=yB(t);return e.fromDateTimes(o.minus(n),o)}static fromISO(t,r){let[n,o]=(t||"").split("/",2);if(n&&o){let i,a;try{i=xr.fromISO(n,r),a=i.isValid}catch{a=!1}let s,u;try{s=xr.fromISO(o,r),u=s.isValid}catch{u=!1}if(a&&u)return e.fromDateTimes(i,s);if(a){let l=ba.fromISO(o,r);if(l.isValid)return e.after(i,l)}else if(u){let l=ba.fromISO(n,r);if(l.isValid)return e.before(s,l)}}return e.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;let n=this.start.startOf(t,r),o;return r?.useLocaleWeeks?o=this.end.reconfigure({locale:n.locale}):o=this.end,o=o.startOf(t,r),Math.floor(o.diff(n,t).get(t))+(o.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?e.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];let r=t.map(yB).filter(a=>this.contains(a)).sort((a,s)=>a.toMillis()-s.toMillis()),n=[],{s:o}=this,i=0;for(;o<this.e;){let a=r[i]||this.e,s=+a>+this.e?this.e:a;n.push(e.fromDateTimes(o,s)),o=s,i+=1}return n}splitBy(t){let r=ba.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,o=1,i,a=[];for(;n<this.e;){let s=this.start.plus(r.mapUnits(u=>u*o));i=+s>+this.e?this.e:s,a.push(e.fromDateTimes(n,i)),n=i,o+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:e.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;let r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return e.fromDateTimes(r,n)}static merge(t){let[r,n]=t.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0,o=[],i=t.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),s=a.sort((u,l)=>u.time-l.time);for(let u of s)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&o.push(e.fromDateTimes(r,u.time)),r=null);return e.merge(o)}difference(...t){return e.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:gB}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=hT,r={}){return this.isValid?Il.create(this.s.loc.clone(r),t).formatInterval(this):gB}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:gB}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:gB}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:gB}toFormat(t,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:gB}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):ba.invalid(this.invalidReason)}mapEndpoints(t){return e.fromDateTimes(t(this.s),t(this.e))}};var BC=class{static hasDST(t=mo.defaultZone){let r=xr.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ad.isValidZone(t)}static normalizeZone(t){return Ng(t,mo.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||go.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||go.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||go.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||go.create(r,n,i)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||go.create(r,n,i)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:o=null}={}){return(o||go.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:o=null}={}){return(o||go.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return go.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return go.create(r,null,"gregory").eras(t)}static features(){return{relative:$ne(),localeWeek:qne()}}};function t1t(e,t){let r=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(ba.fromMillis(n).as("days"))}function Won(e,t,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let c=t1t(u,l);return(c-c%7)/7}],["days",t1t]],o={},i=e,a,s;for(let[u,l]of n)r.indexOf(u)>=0&&(a=u,o[u]=l(e,t),s=i.plus(o),s>t?(o[u]--,e=i.plus(o),e>t&&(s=e,o[u]--,e=i.plus(o))):e=s);return[e,o,s,a]}function r1t(e,t,r,n){let[o,i,a,s]=Won(e,t,r),u=t-o,l=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);l.length===0&&(a<t&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+u/(a-o)));let c=ba.fromObject(i,n);return l.length>0?ba.fromMillis(u,n).shiftTo(...l).plus(c):c}var Jon="missing Intl.DateTimeFormat.formatToParts support";function Oo(e,t=r=>r){return{regex:e,deser:([r])=>t(pRt(r))}}var Gon="\xA0",i1t=`[ ${Gon}]`,a1t=new RegExp(i1t,"g");function Kon(e){return e.replace(/\./g,"\\.?").replace(a1t,i1t)}function n1t(e){return e.replace(/\./g,"").replace(a1t," ").toLowerCase()}function Fg(e,t){return e===null?null:{regex:RegExp(e.map(Kon).join("|")),deser:([r])=>e.findIndex(n=>n1t(r)===n1t(n))+t}}function o1t(e,t){return{regex:e,deser:([,r,n])=>v1(r,n),groups:t}}function Vne(e){return{regex:e,deser:([t])=>t}}function Yon(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Zon(e,t){let r=cm(t),n=cm(t,"{2}"),o=cm(t,"{3}"),i=cm(t,"{4}"),a=cm(t,"{6}"),s=cm(t,"{1,2}"),u=cm(t,"{1,3}"),l=cm(t,"{1,6}"),c=cm(t,"{1,9}"),d=cm(t,"{2,4}"),f=cm(t,"{4,6}"),p=_=>({regex:RegExp(Yon(_.val)),deser:([g])=>g,literal:!0}),m=(_=>{if(e.literal)return p(_);switch(_.val){case"G":return Fg(t.eras("short"),0);case"GG":return Fg(t.eras("long"),0);case"y":return Oo(l);case"yy":return Oo(d,$8);case"yyyy":return Oo(i);case"yyyyy":return Oo(f);case"yyyyyy":return Oo(a);case"M":return Oo(s);case"MM":return Oo(n);case"MMM":return Fg(t.months("short",!0),1);case"MMMM":return Fg(t.months("long",!0),1);case"L":return Oo(s);case"LL":return Oo(n);case"LLL":return Fg(t.months("short",!1),1);case"LLLL":return Fg(t.months("long",!1),1);case"d":return Oo(s);case"dd":return Oo(n);case"o":return Oo(u);case"ooo":return Oo(o);case"HH":return Oo(n);case"H":return Oo(s);case"hh":return Oo(n);case"h":return Oo(s);case"mm":return Oo(n);case"m":return Oo(s);case"q":return Oo(s);case"qq":return Oo(n);case"s":return Oo(s);case"ss":return Oo(n);case"S":return Oo(u);case"SSS":return Oo(o);case"u":return Vne(c);case"uu":return Vne(s);case"uuu":return Oo(r);case"a":return Fg(t.meridiems(),0);case"kkkk":return Oo(i);case"kk":return Oo(d,$8);case"W":return Oo(s);case"WW":return Oo(n);case"E":case"c":return Oo(r);case"EEE":return Fg(t.weekdays("short",!1),1);case"EEEE":return Fg(t.weekdays("long",!1),1);case"ccc":return Fg(t.weekdays("short",!0),1);case"cccc":return Fg(t.weekdays("long",!0),1);case"Z":case"ZZ":return o1t(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return o1t(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return Vne(/[a-z_+-/]{1,256}?/i);case" ":return Vne(/[^\S\n\r]/);default:return p(_)}})(e)||{invalidReason:Jon};return m.token=e,m}var Xon={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qon(e,t,r){let{type:n,value:o}=e;if(n==="literal"){let u=/^\s+$/.test(o);return{literal:!u,val:u?" ":o}}let i=t[n],a=n;n==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let s=Xon[a];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function ein(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function tin(e,t,r){let n=e.match(t);if(n){let o={},i=1;for(let a in r)if(bT(r,a)){let s=r[a],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(o[s.token.val[0]]=s.deser(n.slice(i,i+u))),i+=u}return[n,o]}else return[n,{}]}function rin(e){let t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return Dt(e.z)||(r=ad.create(e.z)),Dt(e.Z)||(r||(r=new Tl(e.Z)),n=e.Z),Dt(e.q)||(e.M=(e.q-1)*3+1),Dt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Dt(e.u)||(e.S=B8(e.u)),[Object.keys(e).reduce((i,a)=>{let s=t(a);return s&&(i[s]=e[a]),i},{}),r,n]}var kTe=null;function nin(){return kTe||(kTe=xr.fromMillis(1555555555555)),kTe}function oin(e,t){if(e.literal)return e;let r=Il.macroTokenToFormatOpts(e.val),n=qTe(r,t);return n==null||n.includes(void 0)?e:n}function BTe(e,t){return Array.prototype.concat(...e.map(r=>oin(r,t)))}var z8=class{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=BTe(Il.parseFormat(r),t),this.units=this.tokens.map(n=>Zon(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){let[n,o]=ein(this.units);this.regex=RegExp(n,"i"),this.handlers=o}}explainFromTokens(t){if(this.isValid){let[r,n]=tin(t,this.regex,this.handlers),[o,i,a]=n?rin(n):[null,null,void 0];if(bT(n,"a")&&bT(n,"H"))throw new Rg("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:o,zone:i,specificOffset:a}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function $Te(e,t,r){return new z8(e,r).explainFromTokens(t)}function s1t(e,t,r){let{result:n,zone:o,specificOffset:i,invalidReason:a}=$Te(e,t,r);return[n,o,i,a]}function qTe(e,t){if(!e)return null;let n=Il.create(t,e).dtFormatter(nin()),o=n.formatToParts(),i=n.resolvedOptions();return o.map(a=>Qon(a,e,i))}var UTe="Invalid DateTime",u1t=864e13;function H8(e){return new Ml("unsupported zone",`the zone "${e.name}" is not supported`)}function zTe(e){return e.weekData===null&&(e.weekData=L8(e.c)),e.weekData}function HTe(e){return e.localWeekData===null&&(e.localWeekData=L8(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function C1(e,t){let r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new xr({...r,...t,old:r})}function m1t(e,t,r){let n=e-t*60*1e3,o=r.offset(n);if(t===o)return[n,t];n-=(o-t)*60*1e3;let i=r.offset(n);return o===i?[n,o]:[e-Math.min(o,i)*60*1e3,Math.max(o,i)]}function Wne(e,t){e+=t*60*1e3;let r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Gne(e,t,r){return m1t(oB(e),t,r)}function l1t(e,t){let r=e.o,n=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:n,month:o,day:Math.min(e.c.day,uB(n,o))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=ba.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=oB(i),[u,l]=m1t(s,r,e.zone);return a!==0&&(u+=a,l=e.zone.offset(u)),{ts:u,o:l}}function bB(e,t,r,n,o,i){let{setZone:a,zone:s}=r;if(e&&Object.keys(e).length!==0||t){let u=t||s,l=xr.fromObject(e,{...r,zone:u,specificOffset:i});return a?l:l.setZone(s)}else return xr.invalid(new Ml("unparsable",`the input "${o}" can't be parsed as ${n}`))}function Jne(e,t,r=!0){return e.isValid?Il.create(go.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function VTe(e,t){let r=e.c.year>9999||e.c.year<0,n="";return r&&e.c.year>=0&&(n+="+"),n+=ya(e.c.year,r?6:4),t?(n+="-",n+=ya(e.c.month),n+="-",n+=ya(e.c.day)):(n+=ya(e.c.month),n+=ya(e.c.day)),n}function c1t(e,t,r,n,o,i){let a=ya(e.c.hour);return t?(a+=":",a+=ya(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=":")):a+=ya(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=ya(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=ya(e.c.millisecond,3))),o&&(e.isOffsetFixed&&e.offset===0&&!i?a+="Z":e.o<0?(a+="-",a+=ya(Math.trunc(-e.o/60)),a+=":",a+=ya(Math.trunc(-e.o%60))):(a+="+",a+=ya(Math.trunc(e.o/60)),a+=":",a+=ya(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}var g1t={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},iin={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ain={ordinal:1,hour:0,minute:0,second:0,millisecond:0},y1t=["year","month","day","hour","minute","second","millisecond"],sin=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],uin=["year","ordinal","hour","minute","second","millisecond"];function lin(e){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new nB(e);return t}function d1t(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return lin(e)}}function cin(e){return Yne[e]||(Kne===void 0&&(Kne=mo.now()),Yne[e]=e.offset(Kne)),Yne[e]}function f1t(e,t){let r=Ng(t.zone,mo.defaultZone);if(!r.isValid)return xr.invalid(H8(r));let n=go.fromObject(t),o,i;if(Dt(e.year))o=mo.now();else{for(let u of y1t)Dt(e[u])&&(e[u]=g1t[u]);let a=TTe(e)||MTe(e);if(a)return xr.invalid(a);let s=cin(r);[o,i]=Gne(e,s,r)}return new xr({ts:o,zone:r,loc:n,o:i})}function p1t(e,t,r){let n=Dt(r.round)?!0:r.round,o=(a,s)=>(a=iB(a,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,s)),i=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return o(i(r.unit),r.unit);for(let a of r.units){let s=i(a);if(Math.abs(s)>=1)return o(s,a)}return o(e>t?-0:0,r.units[r.units.length-1])}function h1t(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}var Kne,Yne={},xr=class e{constructor(t){let r=t.zone||mo.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new Ml("invalid input"):null)||(r.isValid?null:H8(r));this.ts=Dt(t.ts)?mo.now():t.ts;let o=null,i=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[o,i]=[t.old.c,t.old.o];else{let s=Lg(t.o)&&!t.old?t.o:r.offset(this.ts);o=Wne(this.ts,s),n=Number.isNaN(o.year)?new Ml("invalid input"):null,o=n?null:o,i=n?null:s}this._zone=r,this.loc=t.loc||go.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new e({})}static local(){let[t,r]=h1t(arguments),[n,o,i,a,s,u,l]=r;return f1t({year:n,month:o,day:i,hour:a,minute:s,second:u,millisecond:l},t)}static utc(){let[t,r]=h1t(arguments),[n,o,i,a,s,u,l]=r;return t.zone=Tl.utcInstance,f1t({year:n,month:o,day:i,hour:a,minute:s,second:u,millisecond:l},t)}static fromJSDate(t,r={}){let n=IRt(t)?t.valueOf():NaN;if(Number.isNaN(n))return e.invalid("invalid input");let o=Ng(r.zone,mo.defaultZone);return o.isValid?new e({ts:n,zone:o,loc:go.fromObject(r)}):e.invalid(H8(o))}static fromMillis(t,r={}){if(Lg(t))return t<-u1t||t>u1t?e.invalid("Timestamp out of range"):new e({ts:t,zone:Ng(r.zone,mo.defaultZone),loc:go.fromObject(r)});throw new La(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Lg(t))return new e({ts:t*1e3,zone:Ng(r.zone,mo.defaultZone),loc:go.fromObject(r)});throw new La("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};let n=Ng(r.zone,mo.defaultZone);if(!n.isValid)return e.invalid(H8(n));let o=go.fromObject(r),i=lB(t,d1t),{minDaysInFirstWeek:a,startOfWeek:s}=PTe(i,o),u=mo.now(),l=Dt(r.specificOffset)?n.offset(u):r.specificOffset,c=!Dt(i.ordinal),d=!Dt(i.year),f=!Dt(i.month)||!Dt(i.day),p=d||f,h=i.weekYear||i.weekNumber;if((p||c)&&h)throw new Rg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Rg("Can't mix ordinal dates with month/day");let m=h||i.weekday&&!p,_,g,v=Wne(u,l);m?(_=sin,g=iin,v=L8(v,a,s)):c?(_=uin,g=ain,v=Hne(v)):(_=y1t,g=g1t);let S=!1;for(let j of _){let N=i[j];Dt(N)?S?i[j]=g[j]:i[j]=v[j]:S=!0}let x=m?PRt(i,a,s):c?TRt(i):TTe(i),O=x||MTe(i);if(O)return e.invalid(O);let T=m?OTe(i,a,s):c?ETe(i):i,[E,M]=Gne(T,l,n),A=new e({ts:E,zone:n,o:M,loc:o});return i.weekday&&p&&t.weekday!==A.weekday?e.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${A.toISO()}`):A.isValid?A:e.invalid(A.invalid)}static fromISO(t,r={}){let[n,o]=VRt(t);return bB(n,o,r,"ISO 8601",t)}static fromRFC2822(t,r={}){let[n,o]=WRt(t);return bB(n,o,r,"RFC 2822",t)}static fromHTTP(t,r={}){let[n,o]=JRt(t);return bB(n,o,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Dt(t)||Dt(r))throw new La("fromFormat requires an input string and a format");let{locale:o=null,numberingSystem:i=null}=n,a=go.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[s,u,l,c]=s1t(a,t,r);return c?e.invalid(c):bB(s,u,n,`format ${r}`,t,l)}static fromString(t,r,n={}){return e.fromFormat(t,r,n)}static fromSQL(t,r={}){let[n,o]=YRt(t);return bB(n,o,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new La("need to specify a reason the DateTime is invalid");let n=t instanceof Ml?t:new Ml(t,r);if(mo.throwOnInvalid)throw new Rne(n);return new e({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){let n=qTe(t,go.fromObject(r));return n?n.map(o=>o?o.val:null).join(""):null}static expandFormat(t,r={}){return BTe(Il.parseFormat(t),go.fromObject(r)).map(o=>o.val).join("")}static resetCache(){Kne=void 0,Yne={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zTe(this).weekYear:NaN}get weekNumber(){return this.isValid?zTe(this).weekNumber:NaN}get weekday(){return this.isValid?zTe(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?HTe(this).weekday:NaN}get localWeekNumber(){return this.isValid?HTe(this).weekNumber:NaN}get localWeekYear(){return this.isValid?HTe(this).weekYear:NaN}get ordinal(){return this.isValid?Hne(this.c).ordinal:NaN}get monthShort(){return this.isValid?BC.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?BC.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?BC.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?BC.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,r=6e4,n=oB(this.c),o=this.zone.offset(n-t),i=this.zone.offset(n+t),a=this.zone.offset(n-o*r),s=this.zone.offset(n-i*r);if(a===s)return[this];let u=n-a*r,l=n-s*r,c=Wne(u,a),d=Wne(l,s);return c.hour===d.hour&&c.minute===d.minute&&c.second===d.second&&c.millisecond===d.millisecond?[C1(this,{ts:u}),C1(this,{ts:l})]:[this]}get isInLeapYear(){return S1(this.year)}get daysInMonth(){return uB(this.year,this.month)}get daysInYear(){return this.isValid?yT(this.year):NaN}get weeksInWeekYear(){return this.isValid?w1(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?w1(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:r,numberingSystem:n,calendar:o}=Il.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:o}}toUTC(t=0,r={}){return this.setZone(Tl.instance(t),r)}toLocal(){return this.setZone(mo.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Ng(t,mo.defaultZone),t.equals(this.zone))return this;if(t.isValid){let o=this.ts;if(r||n){let i=t.offset(this.ts),a=this.toObject();[o]=Gne(a,i,t)}return C1(this,{ts:o,zone:t})}else return e.invalid(H8(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){let o=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return C1(this,{loc:o})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let r=lB(t,d1t),{minDaysInFirstWeek:n,startOfWeek:o}=PTe(r,this.loc),i=!Dt(r.weekYear)||!Dt(r.weekNumber)||!Dt(r.weekday),a=!Dt(r.ordinal),s=!Dt(r.year),u=!Dt(r.month)||!Dt(r.day),l=s||u,c=r.weekYear||r.weekNumber;if((l||a)&&c)throw new Rg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Rg("Can't mix ordinal dates with month/day");let d;i?d=OTe({...L8(this.c,n,o),...r},n,o):Dt(r.ordinal)?(d={...this.toObject(),...r},Dt(r.day)&&(d.day=Math.min(uB(d.year,d.month),d.day))):d=ETe({...Hne(this.c),...r});let[f,p]=Gne(d,this.o,this.zone);return C1(this,{ts:f,o:p})}plus(t){if(!this.isValid)return this;let r=ba.fromDurationLike(t);return C1(this,l1t(this,r))}minus(t){if(!this.isValid)return this;let r=ba.fromDurationLike(t).negate();return C1(this,l1t(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;let n={},o=ba.normalizeUnit(t);switch(o){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(o==="weeks")if(r){let i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(o==="quarters"){let i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?Il.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):UTe}toLocaleString(t=hT,r={}){return this.isValid?Il.create(this.loc.clone(r),t).formatDateTime(this):UTe}toLocaleParts(t={}){return this.isValid?Il.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;let a=t==="extended",s=VTe(this,a);return s+="T",s+=c1t(this,a,r,n,o,i),s}toISODate({format:t="extended"}={}){return this.isValid?VTe(this,t==="extended"):null}toISOWeekDate(){return Jne(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+c1t(this,a==="extended",r,t,n,i):null}toRFC2822(){return Jne(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Jne(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?VTe(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let o="HH:mm:ss.SSS";return(r||t)&&(n&&(o+=" "),r?o+="z":t&&(o+="ZZ")),Jne(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():UTe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return ba.invalid("created by diffing an invalid DateTime");let o={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=ARt(r).map(ba.normalizeUnit),a=t.valueOf()>this.valueOf(),s=a?this:t,u=a?t:this,l=r1t(s,u,i,o);return a?l.negate():l}diffNow(t="milliseconds",r={}){return this.diff(e.now(),t,r)}until(t){return this.isValid?kC.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;let o=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(r,n)<=o&&o<=i.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let r=t.base||e.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0,o=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(o=t.unit,i=void 0),p1t(r,this.plus(n),{...t,numeric:"always",units:o,unit:i})}toRelativeCalendar(t={}){return this.isValid?p1t(t.base||e.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(e.isDateTime))throw new La("min requires all arguments be DateTimes");return ITe(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(e.isDateTime))throw new La("max requires all arguments be DateTimes");return ITe(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){let{locale:o=null,numberingSystem:i=null}=n,a=go.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return $Te(a,t,r)}static fromStringExplain(t,r,n={}){return e.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){let{locale:n=null,numberingSystem:o=null}=r,i=go.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return new z8(i,t)}static fromFormatParser(t,r,n={}){if(Dt(t)||Dt(r))throw new La("fromFormatParser requires an input string and a format parser");let{locale:o=null,numberingSystem:i=null}=n,a=go.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});if(!a.equals(r.locale))throw new La(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);let{result:s,zone:u,specificOffset:l,invalidReason:c}=r.explainFromTokens(t);return c?e.invalid(c):bB(s,u,n,`format ${r.format}`,t,l)}static get DATE_SHORT(){return hT}static get DATE_MED(){return m8}static get DATE_MED_WITH_WEEKDAY(){return uTe}static get DATE_FULL(){return g8}static get DATE_HUGE(){return y8}static get TIME_SIMPLE(){return b8}static get TIME_WITH_SECONDS(){return _8}static get TIME_WITH_SHORT_OFFSET(){return v8}static get TIME_WITH_LONG_OFFSET(){return w8}static get TIME_24_SIMPLE(){return S8}static get TIME_24_WITH_SECONDS(){return x8}static get TIME_24_WITH_SHORT_OFFSET(){return C8}static get TIME_24_WITH_LONG_OFFSET(){return O8}static get DATETIME_SHORT(){return E8}static get DATETIME_SHORT_WITH_SECONDS(){return P8}static get DATETIME_MED(){return T8}static get DATETIME_MED_WITH_SECONDS(){return M8}static get DATETIME_MED_WITH_WEEKDAY(){return lTe}static get DATETIME_FULL(){return I8}static get DATETIME_FULL_WITH_SECONDS(){return A8}static get DATETIME_HUGE(){return R8}static get DATETIME_HUGE_WITH_SECONDS(){return D8}};function yB(e){if(xr.isDateTime(e))return e;if(e&&e.valueOf&&Lg(e.valueOf()))return xr.fromJSDate(e);if(e&&typeof e=="object")return xr.fromObject(e);throw new La(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var b1t=require("obsidian");bd();async function din(){let e=new Date,t=e.getTimezoneOffset(),r=new Intl.DateTimeFormat("en",{timeZoneName:"short"}).formatToParts(e).find(n=>n.type==="timeZoneName")?.value||"Unknown";return{epoch:Math.floor(e.getTime()),isoString:e.toISOString(),userLocaleString:e.toLocaleString(),localDateString:e.toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),timezoneOffset:-t,timezone:r}}var _1t=Ep(async()=>din(),{name:"getCurrentTime",description:"Get the current time in various formats, including timezone information",schema:Er.object({})}),v1t={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};function fin(e,t){let r=e.match(/^(last|past|previous|prior)\s+(\d+)\s+(days?|weeks?|months?|years?)$/i);if(!r)return;let[,,n,o]=r,i=parseInt(n);if(i<=0)return;let a=o.replace(/s$/,""),s=t.startOf("day");return{start:s.minus({[a+"s"]:i}),end:s}}function pin(e,t){switch(e){case"yesterday":return{start:t.minus({days:1}).startOf("day"),end:t.minus({days:1}).endOf("day")};case"last week":return{start:t.minus({weeks:1}).startOf("week"),end:t.minus({weeks:1}).endOf("week")};case"this week":return{start:t.startOf("week"),end:t.endOf("week")};case"next week":return{start:t.plus({weeks:1}).startOf("week"),end:t.plus({weeks:1}).endOf("week")};case"last month":return{start:t.minus({months:1}).startOf("month"),end:t.minus({months:1}).endOf("month")};case"this month":return{start:t.startOf("month"),end:t.endOf("month")};case"next month":return{start:t.plus({months:1}).startOf("month"),end:t.plus({months:1}).endOf("month")};case"last year":return{start:t.minus({years:1}).startOf("year"),end:t.minus({years:1}).endOf("year")};case"this year":return{start:t.startOf("year"),end:t.endOf("year")};case"next year":return{start:t.plus({years:1}).startOf("year"),end:t.plus({years:1}).endOf("year")};case"last quarter":return{start:t.minus({quarters:1}).startOf("quarter"),end:t.minus({quarters:1}).endOf("quarter")};case"this quarter":return{start:t.startOf("quarter"),end:t.endOf("quarter")};case"next quarter":return{start:t.plus({quarters:1}).startOf("quarter"),end:t.plus({quarters:1}).endOf("quarter")}}}function hin(e,t){let r=e.match(/(?:the\s+)?week\s+of\s+(.+)/i);if(!r)return;let n=r[1],o=sTe(n,t.toJSDate(),{forwardDate:!1});if(o.length===0)return;let i=xr.fromJSDate(o[0].start.date()).startOf("week"),a=i.endOf("week");return i>t&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function min(e,t){let r=e.match(/^(jan|january|feb|february|mar|march|apr|april|may|jun|june|jul|july|aug|august|sep|september|oct|october|nov|november|dec|december)$/i);if(!r)return;let n=v1t[r[1]],o=t.year;n>t.month&&o--;let i=xr.fromObject({year:o,month:n,day:1}),a=i.endOf("month");return i>t&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function gin(e,t){let r=e.match(/^(?:(?:the\s+)?(?:year|yr)(?:\s+(?:of|in))?\s+)?(\d{4})$/i);if(!r)return;let n=parseInt(r[1]),o=xr.fromObject({year:n,month:1,day:1}),i=xr.fromObject({year:n,month:12,day:31});return o>t&&(o=o.minus({years:1}),i=i.minus({years:1})),{start:o,end:i}}function yin(e,t){let r=e.match(/^(?:(?:q|Q)(\d{1})\s+(\d{4})|(\d{4})\s+(?:q|Q)(\d{1}))$/),n=e.match(/^(?:q|Q)(\d{1})$/),o,i;if(r)o=parseInt(r[1]||r[4]),i=parseInt(r[2]||r[3]);else if(n){o=parseInt(n[1]),i=t.year;let l=Math.floor((t.month-1)/3)+1;o>l&&i--}else return;if(o<1||o>4)return;let a=(o-1)*3+1,s=xr.fromObject({year:i,month:a,day:1}).startOf("day"),u=s.plus({months:3}).minus({days:1}).endOf("day");return s>t&&(s=s.minus({years:1}),u=u.minus({years:1})),{start:s,end:u}}function bin(e,t){let r=e.match(/^(jan|january|feb|february|mar|march|apr|april|may|jun|june|jul|july|aug|august|sep|september|oct|october|nov|november|dec|december)\s+(\d{4})$/i);if(!r)return;let n=v1t[r[1].toLowerCase()],o=parseInt(r[2]),i=xr.fromObject({year:o,month:n,day:1}).startOf("day"),a=i.endOf("month");return i>t&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function _in(e){let t=xr.now(),r=e.toLowerCase().replace("@vault","").trim(),n=fin(r,t)||pin(r,t)||hin(r,t)||min(r,t)||bin(r,t)||yin(r,t)||gin(r,t);if(n)return{startTime:V8(n.start),endTime:V8(n.end)};let o=sTe(e,t.toJSDate(),{forwardDate:!1});if(o.length>0){let i=xr.fromJSDate(o[0].start.date()).startOf("day"),a=o[0].end?xr.fromJSDate(o[0].end.date()).endOf("day"):i.endOf("day");return i>t&&(i.minus({years:1}),a.minus({years:1})),{startTime:V8(i),endTime:V8(a)}}console.warn(`Unable to parse time expression: ${e}`)}function V8(e){let t=e.toJSDate(),r=t.getTimezoneOffset(),n=new Intl.DateTimeFormat("en",{timeZoneName:"short"}).formatToParts(t).find(o=>o.type==="timeZoneName")?.value||"Unknown";return{epoch:Math.floor(t.getTime()),isoString:t.toISOString(),userLocaleString:t.toLocaleString(),localDateString:t.toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),timezoneOffset:-r,timezone:n}}var w1t=Ep(async({timeExpression:e})=>_in(e),{name:"getTimeRangeMs",description:"Get a time range in milliseconds based on a natural language time expression",schema:Er.object({timeExpression:Er.string().describe("A natural language time expression (e.g., 'last week', 'from July 1 to July 15')")})});function vin(e){let t=e.toString().length===10?e*1e3:e,r=xr.fromMillis(t);return V8(r)}var S1t=Ep(async({epoch:e})=>vin(e),{name:"getTimeInfoByEpoch",description:"Convert a Unix timestamp (in seconds or milliseconds) to detailed time information",schema:Er.object({epoch:Er.number().describe("Unix timestamp in seconds or milliseconds")})});function win(e){let t=e.match(/^(\d+)\s*(s|sec|seconds?|m|min|minutes?|h|hr|hours?)$/i);if(!t)throw new Error(`Invalid time interval format: ${e}`);let r=parseInt(t[1],10),n=t[2].toLowerCase();switch(n){case"s":case"sec":case"second":case"seconds":return r*1e3;case"m":case"min":case"minute":case"minutes":return r*60*1e3;case"h":case"hr":case"hour":case"hours":return r*60*60*1e3;default:throw new Error(`Unsupported time unit: ${n}`)}}async function Sin(e="25min"){let t=win(e);return new Promise(r=>{setTimeout(()=>{new b1t.Notice(`Pomodoro timer (${e}) completed! Take a break!`),r()},t)})}var WTe=Ep(async({interval:e="25min"})=>(Sin(e),`Pomodoro timer started. It will end in ${e}.`),{name:"startPomodoro",description:"Start a Pomodoro timer with a customizable interval",schema:Er.object({interval:Er.string().optional().describe("Time interval (e.g., '25min', '5s', '1h'). Default is 25min.")})});bd();function xin(e){return"children"in e&&"path"in e}function Cin(e){return"path"in e&&!("children"in e)}function Oin(e){let t=e.split(".");return t.length>1&&t.pop()?.toLowerCase()||""}function JTe(e,t=!0){let r=[],n={},o={},{inclusions:i,exclusions:a}=MR();for(let u of e.children)if(Cin(u)){if(TP(u,i,a)){t&&r.push(u.name);let l=Oin(u.name)||"unknown";l&&(n[l]=(n[l]||0)+1)}}else if(xin(u)){let l=JTe(u,t);if(Object.keys(l).length>0&&(o[u.name]=l[u.name],l[u.name].extensionCounts))for(let[c,d]of Object.entries(l[u.name].extensionCounts))n[c]=(n[c]||0)+d}let s={};return Object.keys(n).length>0&&(s.extensionCounts=n),t&&r.length>0&&(s.files=r),Object.keys(o).length>0&&(s.subFolders=o),Object.keys(s).length===0?{}:e.name?{[e.name]:s}:{vault:s}}var x1t=e=>Ep(async()=>{let t=JTe(e,!0),r=`A JSON represents the file tree as a nested structure:
* The root object has a key "vault" which contains a FileTreeNode object.
* Each FileTreeNode has these properties:
  * files: An array of filenames in the current directory (if any files exist)
  * subFolders: An object mapping folder names to their FileTreeNode objects (if any subfolders exist)
  * extensionCounts: An object with counts of file extensions in this folder and all subfolders

`,n=JSON.stringify(t);if(n.length>15e5){let o=JTe(e,!1);return r+JSON.stringify(o)}return r+n},{name:"getFileTree",description:"Get the file tree as a nested structure of folders and files",schema:Er.void()});bd();var GTe=Ep(async({url:e})=>{try{let t=await _l.getInstance().youtube4llm(e);return t.response.transcript?JSON.stringify({success:!0,transcript:t.response.transcript,elapsed_time_ms:t.elapsed_time_ms}):JSON.stringify({success:!1,message:"Transcript not available. Only English videos with the auto transcript option turned on are supported at the moment"})}catch(t){return console.error(`Error transcribing YouTube video ${e}:`,t),JSON.stringify({success:!1,message:"An error occurred while transcribing the YouTube video."})}},{name:"youtubeTranscription",description:"Get the transcript of a YouTube video",schema:Er.object({url:Er.string().describe("The YouTube video URL"),brevilabsClient:Er.any().describe("The BrevilabsClient instance")})});var _B=class{},C1t=(e,t)=>{if(t!==void 0)return e[t];let r=Object.keys(e);if(r.length===1)return e[r[0]]},Zne=(e,t)=>{let r=C1t(e,t);if(!r){let n=Object.keys(e);throw new Error(`input values have ${n.length} keys, you must specify an input key or pass only 1 key as input`)}return r},KTe=(e,t)=>{let r=C1t(e,t);if(!r&&r!==""){let n=Object.keys(e);throw new Error(`output values have ${n.length} keys, you must specify an output key or pass only 1 key as output`)}return r};NM();UM();var YTe=class extends tf{addUserMessage(t){return this.addMessage(new Ua(t))}addAIChatMessage(t){return this.addMessage(new Po(t))}addAIMessage(t){return this.addMessage(new Po(t))}async addMessages(t){for(let r of t)await this.addMessage(r)}clear(){throw new Error("Not implemented.")}},vB=class extends YTe{constructor(t){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=t??[]}async getMessages(){return this.messages}async addMessage(t){this.messages.push(t)}async clear(){this.messages=[]}};var Ww=class extends _B{constructor(t){super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=t?.chatHistory??new vB,this.returnMessages=t?.returnMessages??this.returnMessages,this.inputKey=t?.inputKey??this.inputKey,this.outputKey=t?.outputKey??this.outputKey}async saveContext(t,r){await this.chatHistory.addUserMessage(Zne(t,this.inputKey)),await this.chatHistory.addAIChatMessage(KTe(r,this.outputKey))}async clear(){await this.chatHistory.clear()}};ZTe();GM();var W8=class extends Ww{constructor(t){super({returnMessages:t?.returnMessages??!1,chatHistory:t?.chatHistory,inputKey:t?.inputKey,outputKey:t?.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:5}),this.humanPrefix=t?.humanPrefix??this.humanPrefix,this.aiPrefix=t?.aiPrefix??this.aiPrefix,this.memoryKey=t?.memoryKey??this.memoryKey,this.k=t?.k??this.k}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(t){let r=await this.chatHistory.getMessages();return this.returnMessages?{[this.memoryKey]:r.slice(-this.k*2)}:{[this.memoryKey]:of(r.slice(-this.k*2),this.humanPrefix,this.aiPrefix)}}};NM();ZTe();var O1=class e{constructor(){this.initMemory(),sl(()=>this.initMemory())}static getInstance(){return e.instance||(e.instance=new e),e.instance}initMemory(){let t=pe().contextTurns;this.memory=new W8({k:t*2,memoryKey:"history",inputKey:"input",returnMessages:!0}),this.debug&&console.log("Memory initialized with context turns:",t)}getMemory(){return this.memory}async clearChatMemory(){this.debug&&console.log("Clearing chat memory"),await this.memory.clear()}async loadMemoryVariables(){let t=await this.memory.loadMemoryVariables({});return this.debug&&console.log("Loaded memory variables:",t),t}async saveContext(t,r){this.debug&&console.log("Saving to memory - Input:",t,"Output:",r),await this.memory.saveContext(t,r)}};var J8=["@vault","@web","@youtube","@pomodoro"],E1=class{static initTools(t){this.tools.length===0&&(this.tools=[_1t,S1t,w1t,zPe,hAt,WTe,HPe,GTe,x1t(t.getRoot())])}static async analyzeIntent(t){try{let r=await _l.getInstance().broca(t);if(!r?.response)throw new Error(r?.detail||"Broca API call failed");let n=r.response.tool_calls,o=r.response.salience_terms,i=[],a;for(let s of n){let u=this.tools.find(l=>l.name===s.tool);if(u){let l=s.args||{};u.name==="getTimeRangeMs"&&(a=await Kk.callTool(u,l)),i.push({tool:u,args:l})}}return await this.processAtCommands(t,i,{timeRange:a,salientTerms:o}),i}catch(r){throw console.error("Error in intent analysis:",r),r}}static async processAtCommands(t,r,n){let o=t.toLowerCase(),{timeRange:i,salientTerms:a}=n;if(o.includes("@vault")&&(a.length>0||i)){let s=this.removeAtCommands(t);r.push({tool:zPe,args:{timeRange:i||void 0,query:s,salientTerms:a}})}if(o.includes("@web")){let s=this.removeAtCommands(t),l=await O1.getInstance().getMemory().loadMemoryVariables({}),c=ij(l);r.push({tool:HPe,args:{query:s,chatHistory:c}})}if(o.includes("@pomodoro")){let s=t.match(/@pomodoro\s+(\S+)/i),u=s?s[1]:"25min";r.push({tool:WTe,args:{interval:u}})}if(o.includes("@youtube")){let s=gq(t);s&&r.push({tool:GTe,args:{url:s}})}}static removeAtCommands(t){return t.split(" ").filter(r=>!J8.includes(r.toLowerCase())).join(" ").trim()}};E1.tools=[];var G8=class{constructor(t){this.chainManager=t}async handleResponse(t,r,n,o,i,a,s){return t&&n.signal.reason!=="new-chat"&&(await this.chainManager.memoryManager.getMemory().saveContext({input:r.message},{output:t}),o({message:t,sender:cy,isVisible:!0,timestamp:ll(new Date),sources:s})),i(""),a&&(console.log(`==== Chat Memory ====
`,this.chainManager.memoryManager.getMemory().chatHistory.messages.map(u=>u.content)),console.log(`==== Final AI Response ====
`,t)),t}async handleError(t,r,n,o){let i=bi(t);r&&console.error("Error during LLM invocation:",i);let a=t?.response?.data?.error||i,s=a?.code||i,u="";if(t?.message?.includes("Invalid license key")?u="Invalid Copilot Plus license key. Please check your license key in settings.":s==="model_not_found"?u="You do not have access to this model or the model does not exist, please check with your API provider.":u=`${s}`,console.error(a),n&&o){o("");let l=u.search("Troubleshooting URL");u=l!==-1?u.slice(0,l):u,i.search(/401|invalid|not valid/gi)!==-1&&(u=`Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys.
Or check model config
Error Details: `+u),n({message:u,isErrorMessage:!0,sender:cy,isVisible:!0,timestamp:ll(new Date)})}else new M1t.Notice(u),console.error(a)}},Xne=class extends G8{async run(t,r,n,o,i){let{debug:a=!1}=i,s="";try{let l=await $C.getChain().stream({input:t.message});for await(let c of l){if(r.signal.aborted)break;s+=c.content,n(s)}}catch(u){await this.handleError(u,a,o,n)}return this.handleResponse(s,t,r,o,n,a)}},Qne=class extends G8{async run(t,r,n,o,i){let{debug:a=!1}=i,s="";try{if(await this.chainManager.vectorStoreManager.isIndexEmpty())return this.handleResponse(s5,t,r,o,n,a);let c=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),d=ij(c),f=await $C.getRetrievalChain().stream({question:t.message,chat_history:d});for await(let p of f){if(r.signal.aborted)break;s+=p.content,n(s)}s=this.addSourcestoResponse(s)}catch(u){await this.handleError(u,a,o,n)}return this.handleResponse(s,t,r,o,n,a)}addSourcestoResponse(t){let r=Yke($C.retrievedDocuments);if(r.length>0){let n=r.map(o=>`- [[${o}]]`).join(`
`);t+=`

#### Sources:

`+n}return t}},eoe=class extends G8{isYoutubeOnlyMessage(t){let r=t.trim(),n=r.includes("@youtube"),o=gq(r),i=r.split(/\s+/).filter(a=>a!=="@youtube"&&a.length>0);return n&&o!==null&&i.length===1}async processImageUrls(t){try{return(await Promise.all(t.map(async n=>await DS.isImageUrl(n)?await DS.convertToBase64(n,this.chainManager.app.vault):null))).filter(n=>n!==null)}catch(r){return console.error("Error processing image URLs:",r),[]}}async processExistingImages(t){try{return await Promise.all(t.filter(n=>n.type==="image_url"&&!!n.image_url?.url).map(async n=>await DS.convertToBase64(n.image_url.url,this.chainManager.app.vault)))}catch(r){throw console.error("Error processing images:",r),r}}async buildMessageContent(t,r){let n=[{type:"text",text:t}];if(r.context?.urls&&r.context.urls.length>0){let o=await this.processImageUrls(r.context.urls);n.push(...o)}if(r.content&&r.content.length>0){let o=await this.processExistingImages(r.content);n.push(...o)}return n}hasCapability(t,r){let n=t.modelName||t.model||"";return this.chainManager.chatModelManager.findModelByName(n)?.capabilities?.includes(r)??!1}isMultimodalModel(t){return this.hasCapability(t,"vision")}async streamMultimodalResponse(t,r,n,o,i){let s=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),u=ij(s),l=[],c=ZM();u.length>0&&(c+=`

The following is the relevant conversation history. Use this context to maintain consistency in your responses:`);let d=this.chainManager.chatModelManager.getChatModel();c&&l.push({role:rBe(d),content:`${c}
IMPORTANT: Maintain consistency with previous responses in the conversation. If you've provided information about a person or topic before, use that same information in follow-up questions.`});for(let[g,v]of u)l.push({role:"user",content:g}),l.push({role:"assistant",content:v});let f=this.chainManager.chatModelManager.getChatModel(),h=this.isMultimodalModel(f)?await this.buildMessageContent(t,r):t;l.push({role:"user",content:h}),i&&console.log(`==== Final Request to AI ====
`,l);let m="",_=await this.chainManager.chatModelManager.getChatModel().stream(l);for await(let g of _){if(n.signal.aborted)break;m+=g.content,o(m)}return m}async run(t,r,n,o,i){let{debug:a=!1,updateLoadingMessage:s}=i,u="",l=[];try{if(this.isYoutubeOnlyMessage(t.message)){let h=gq(t.message),m="Transcript not available. Only videos with the auto transcript option turned on are supported at the moment.";if(h)try{let _=await _l.getInstance().youtube4llm(h);return _.response.transcript?this.handleResponse(_.response.transcript,t,r,o,n,a):this.handleResponse(m,t,r,o,n,a)}catch(_){return console.error("Error processing YouTube video:",_),this.handleResponse(m,t,r,o,n,a)}}a&&console.log("==== Step 1: Analyzing intent ====");let c;try{let h=t.originalMessage||t.message;c=await E1.analyzeIntent(h)}catch(h){return this.handleResponse(Vke(h),t,r,o,n,a)}let d=t.message.split(" ").filter(h=>!J8.includes(h.toLowerCase())).join(" ").trim(),f=await this.executeToolCalls(c,a,s),p=f.find(h=>h.tool==="localSearch"&&h.output&&h.output.length>0);if(p){a&&console.log("==== Step 2: Processing local search results ====");let h=JSON.parse(p.output),_=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),g=ij(_);a&&console.log("==== Step 3: Condensing Question ====");let v=await Sne(d,g);a&&console.log("Condensed standalone question: ",v),a&&console.log("==== Step 4: Preparing context ====");let S=this.getTimeExpression(c),x=this.prepareLocalSearchResult(h,S),O=f.filter(M=>M.tool==="getCurrentTime"),T=this.prepareEnhancedUserMessage(v,O);a&&console.log(x),a&&console.log("==== Step 5: Invoking QA Chain ====");let E=await this.chainManager.promptManager.getQAPrompt({question:T,context:x,systemMessage:""});u=await this.streamMultimodalResponse(E,t,r,n,a),l=this.getSources(h)}else{let h=this.prepareEnhancedUserMessage(d,f);a&&(console.log("No local search results. Using standard LLM Chain."),console.log("Enhanced user message:",h)),u=await this.streamMultimodalResponse(h,t,r,n,a)}}catch(c){s?.(jS.DEFAULT),await this.handleError(c,a,o,n)}return this.handleResponse(u,t,r,o,n,a,l)}getSources(t){return!t||!Array.isArray(t)?(console.warn("No valid documents provided to getSources"),[]):this.sortUniqueDocsByScore(t)}sortUniqueDocsByScore(t){let r=new Map;for(let n of t){if(!n.title||!n?.score&&!n?.rerank_score){console.warn("Invalid document structure:",n);continue}let o=r.get(n.title),i=n&&"rerank_score"in n,a=i?n.rerank_score:n.score;(!o||a>(o.score??0))&&r.set(n.title,{title:n.title,score:a,isReranked:i})}return Array.from(r.values()).sort((n,o)=>(o.score??0)-(n.score??0))}async executeToolCalls(t,r,n){let o=[];for(let i of t){r&&console.log(`==== Step 2: Calling tool: ${i.tool.name} ====`),i.tool.name==="localSearch"?n?.(jS.READING_FILES):i.tool.name==="webSearch"?n?.(jS.SEARCHING_WEB):i.tool.name==="getFileTree"&&n?.(jS.READING_FILE_TREE);let a=await Kk.callTool(i.tool,i.args);o.push({tool:i.tool.name,output:a})}return o}prepareEnhancedUserMessage(t,r){let n="";if(r.length>0){let o=r.filter(i=>i.output!=null);o.length>0&&(n=`

# Additional context:

`+o.map(i=>`<${i.tool}>
${typeof i.output!="string"?JSON.stringify(i.output):i.output}
</${i.tool}>`).join(`

`))}return`User message: ${t}${n}`}getTimeExpression(t){let r=t.find(n=>n.tool.name==="getTimeRangeMs");return r?r.args.timeExpression:""}prepareLocalSearchResult(t,r){let n=t.filter(s=>s.includeInContext),o=n.reduce((s,u)=>s+u.content.length,0),i=n;if(o>Rle){let s=Rle/o;console.log("Truncating documents to fit context length. Truncation ratio:",s),i=n.map(u=>({...u,content:u.content.slice(0,Math.floor(u.content.length*s))}))}let a=i.map(s=>`Note in Vault: ${s.content}`).join(`

`);return r?`Local Search Result for ${r}:
${a}`:`Local Search Result:
${a}`}};GM();var I1t=require("obsidian");GM();var K8=class e{constructor(){this.initChatPrompt(),this.initQAPrompt(),sl(()=>{this.initChatPrompt(),this.initQAPrompt()})}static getInstance(){return e.instance||(e.instance=new e),e.instance}initChatPrompt(){let t=this.escapeTemplateString(ZM());this.chatPrompt=ah.fromMessages([KD.fromTemplate(t),new xO("history"),CO.fromTemplate("{input}")])}initQAPrompt(){let t=`{system_message}

Answer the question with as detailed as possible based only on the following context:
{context}

Question: {question}
`;this.qaPrompt=ah.fromMessages([KD.fromTemplate(t)])}escapeTemplateString(t){return t.replace(/\{/g,"{{").replace(/\}/g,"}}")}getChatPrompt(){return this.chatPrompt}async getQAPrompt({question:t,context:r,systemMessage:n}){return await this.qaPrompt.format({question:t,context:r,system_message:n})}};var Np=class Np{constructor(t,r){this.app=t,this.vectorStoreManager=r,this.memoryManager=O1.getInstance(),this.chatModelManager=Ud.getInstance(),this.promptManager=K8.getInstance(),this.initialize(),pBe(async()=>await this.createChainWithNewModel()),hBe(()=>this.setChain(qm(),{refreshIndex:pe().indexVaultToVectorStore==="ON MODE SWITCH"&&(qm()==="vault_qa"||qm()==="copilot_plus")})),sl(async()=>await this.createChainWithNewModel())}async initialize(){await this.createChainWithNewModel()}static getChain(){return Np.chain}static getRetrievalChain(){return Np.retrievalChain}validateChainType(t){if(t==null)throw new Error("No chain type set")}validateChatModel(){if(!this.chatModelManager.validateChatModel(this.chatModelManager.getChatModel())){let t="Chat model is not initialized properly, check your API key in Copilot setting and make sure you have API access.";throw new I1t.Notice(t),new Error(t)}}validateChainInitialization(){(!Np.chain||!Jke(Np.chain))&&(console.error("Chain is not initialized properly, re-initializing chain: ",qm()),this.setChain(qm()))}static storeRetrieverDocuments(t){Np.retrievedDocuments=t}async createChainWithNewModel(){let t=m5();try{let r=n5(t,pe().activeModels);r||(console.error("Resetting default model. No model configuration found for: ",t),r=PO[0],t=r.name+"|"+r.provider),await this.chatModelManager.setChatModel(r),this.setChain(qm()),br(`Setting model to ${t}`)}catch(r){Ur(`createChainWithNewModel failed: ${r}`),br(`modelKey: ${t}`)}}async setChain(t,r={}){if(!this.chatModelManager.validateChatModel(this.chatModelManager.getChatModel())){console.error("setChain failed: No chat model set.");return}this.validateChainType(t);let n=this.chatModelManager.getChatModel(),o=this.memoryManager.getMemory(),i=this.promptManager.getChatPrompt();switch(t){case"llm_chain":{Np.chain=a5.createNewLLMChain({llm:n,memory:o,prompt:r.prompt||i,abortController:r.abortController}),cj("llm_chain");break}case"vault_qa":{await this.initializeQAChain(r);let a=new oT({minSimilarityScore:.01,maxK:pe().maxSourceChunks,salientTerms:[]});Np.retrievalChain=a5.createConversationalRetrievalChain({llm:n,retriever:a,systemMessage:ZM()},Np.storeRetrieverDocuments.bind(Np),pe().debug),cj("vault_qa"),pe().debug&&(console.log("New Vault QA chain with hybrid retriever created for entire vault"),console.log("Set chain:","vault_qa"));break}case"copilot_plus":{await this.initializeQAChain(r),Np.chain=a5.createNewLLMChain({llm:n,memory:o,prompt:r.prompt||i,abortController:r.abortController}),cj("copilot_plus");break}default:this.validateChainType(t);break}}getChainRunner(){let t=qm();switch(t){case"llm_chain":return new Xne(this);case"vault_qa":return new Qne(this);case"copilot_plus":return new eoe(this);default:throw new Error(`Unsupported chain type: ${t}`)}}async initializeQAChain(t){t.refreshIndex&&await this.vectorStoreManager.indexVaultToVectorStore()}async runChain(t,r,n,o,i={}){let{debug:a=!1,ignoreSystemMessage:s=!1}=i;a&&console.log(`==== Step 0: Initial user message ====
`,t),this.validateChatModel(),this.validateChainInitialization();let u=this.chatModelManager.getChatModel();if(s||tI(u)){let c=ah.fromMessages([new xO("history"),CO.fromTemplate("{input}")]);tI(u)&&(c=ah.fromMessages([[Uo,ZM()||""],c])),this.setChain(qm(),{prompt:c})}return await this.getChainRunner().run(t,r,n,o,i)}async updateMemoryWithLoadedMessages(t){await this.memoryManager.clearChatMemory();for(let r=0;r<t.length;r+=2){let n=t[r],o=t[r+1];n&&o&&n.sender===Uo&&await this.memoryManager.getMemory().saveContext({input:n.message},{output:o.message})}}};Np.retrievedDocuments=[];var $C=Np;function A1t(e){let t=e.split(`
`),r=[],n="",o="",i="";for(let a of t)a.startsWith("**user**:")||a.startsWith("**ai**:")?(n&&o&&r.push({sender:n===Uo?Uo:cy,message:o.trim(),isVisible:!0,timestamp:i?Cle(i):null}),n=a.startsWith("**user**:")?Uo:cy,o=a.substring(a.indexOf(":")+1).trim(),i=""):a.startsWith("[Timestamp:")?i=a.substring(11,a.length-1).trim():o+=`
`+a;return n&&o&&r.push({sender:n===Uo?Uo:cy,message:o.trim(),isVisible:!0,timestamp:i?Cle(i):null}),r}async function Y8(e,t){await t.clearChatMemory();for(let r=0;r<e.length-1;r++){let n=e[r];if(n.sender===Uo){let o=e[r+1];o?.sender===cy&&await t.getMemory().saveContext({input:n.message},{output:o.message})}}}var wB=require("obsidian"),pr=B(Y()),R1t=B(gh());var toe=B(Y());var ti=toe.forwardRef(({className:e,type:t,...r},n)=>toe.createElement("input",{type:t,className:_e("!h-9 !min-w-[50px] !border border-border border-solid !rounded-md !bg-transparent !px-3 !py-1 md:!text-base !text-sm !transition-colors","focus-visible:!shadow-sm focus-visible:!outline-none focus-visible:!ring-1 focus-visible:!ring-ring","placeholder:text-xs","flex w-full shadow-sm placeholder:text-muted disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ti.displayName="Input";var pm=B(Y());var P1=pm.forwardRef(({className:e,value:t,...r},n)=>{let o=pm.useRef(null),i=pm.useCallback(()=>{let s=o.current;if(s){s.style.height="auto";let u=Math.min(s.scrollHeight,300);s.style.height=`${u}px`}},[]);pm.useLayoutEffect(()=>{i()},[t,i]),pm.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[i]);let a=s=>{o.current=s,typeof n=="function"?n(s):n&&(n.current=s)};return pm.createElement("textarea",{className:_e("border-solid resize-y min-w-fit overflow-auto","flex min-h-[60px] max-h-[300px] w-full rounded-md border border-primary-alt bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),value:t,ref:a,onChange:s=>{i(),r.onChange?.(s)},onInput:i,onCompositionEnd:i,onPaste:()=>{setTimeout(i,0)},...r})});P1.displayName="Textarea";function Iin({initialTitle:e="",initialPrompt:t="",disabledTitle:r=!1,onSave:n,onCancel:o}){let[i,a]=(0,pr.useState)(e),[s,u]=(0,pr.useState)(t),[l,c]=(0,pr.useState)({title:!1,prompt:!1}),[d,f]=(0,pr.useState)(!1),h=i&&/[<>:"/\\|?*\x00-\x1F]/g.test(i),m=async()=>{if(h){new wB.Notice("Title contains invalid characters. Please remove them before saving.");return}if(i&&s)try{f(!0),await n(i,s)}catch(S){new wB.Notice(bi(S))}finally{f(!1)}else c({title:!0,prompt:!0}),new wB.Notice("Please fill in both fields: Title and Prompt.")},_=l.title&&!i,g=l.prompt&&!s,v=i.trim()!==""&&s.trim()!==""&&!h;return pr.default.createElement("div",{className:"flex flex-col gap-4 p-4"},pr.default.createElement("div",{className:"text-xl font-bold text-normal mb-2"},"User Custom Prompt"),pr.default.createElement("div",{className:"flex flex-col"},pr.default.createElement("div",{className:"flex items-center gap-1"},pr.default.createElement("div",{className:"text-base font-medium text-normal"},"Title"),pr.default.createElement("span",{className:"text-error"},"*")),pr.default.createElement("div",{className:"flex flex-col gap-1"},pr.default.createElement("div",{className:"text-sm text-muted"},"The title of the prompt, must be unique."),pr.default.createElement("div",{className:"text-xs text-warning"},"Note: Title will be used as filename. Avoid using: ",'< > : " / \\ | ? *')),pr.default.createElement(ti,{type:"text",value:i,onChange:S=>{a(S.target.value),l.title||c(x=>({...x,title:!0}))},onBlur:()=>c(S=>({...S,title:!0})),disabled:r,className:"w-full mt-1",required:!0}),_&&pr.default.createElement("div",{className:"text-error text-xs mt-1"},"Title is required"),h&&pr.default.createElement("div",{className:"text-error text-xs mt-1"},"Title contains invalid characters")),pr.default.createElement("div",{className:"flex flex-col gap-1"},pr.default.createElement("div",{className:"space-y-2"},pr.default.createElement("div",{className:"flex items-center gap-1"},pr.default.createElement("div",{className:"text-base font-medium text-normal"},"Prompt"),pr.default.createElement("span",{className:"text-error"},"*")),pr.default.createElement("div",{className:"text-sm text-muted -mt-1"},"Use the following syntax in your prompt:")),pr.default.createElement("div",{className:"text-sm flex flex-col gap-1 bg-secondary/30 rounded-md p-2"},pr.default.createElement("strong",null,"- ","{}"," represents the selected text (not required). "),pr.default.createElement("strong",null,"- ","{[[Note Title]]}"," represents a note. "),pr.default.createElement("strong",null,"- ","{activeNote}"," represents the active note. "),pr.default.createElement("strong",null,"- ","{FolderPath}"," represents a folder of notes. "),pr.default.createElement("strong",null,"- ","{#tag1, #tag2}"," represents ALL notes with ANY of the specified tags in their property (an OR operation)."," "),pr.default.createElement("div",{className:"mt-1"},pr.default.createElement("span",{className:"text-muted"},"Tip: turn on debug mode to show the processed prompt in the chat window."))),pr.default.createElement(P1,{value:s,onChange:S=>{u(S.target.value),l.prompt||c(x=>({...x,prompt:!0}))},onBlur:()=>c(S=>({...S,prompt:!0})),className:"!min-h-[8rem] mt-1",required:!0}),g&&pr.default.createElement("div",{className:"text-error text-xs mt-1"},"Prompt is required"),pr.default.createElement("div",{className:"flex flex-col text-xs text-muted gap-2 mt-2"},pr.default.createElement("div",null,"Save the prompt to the local prompt library. You can then use it with the Copilot command: ",pr.default.createElement("strong",null,"Apply custom prompt to selection.")),pr.default.createElement("div",null,"Check out the"," ",pr.default.createElement("a",{href:"https://github.com/f/awesome-chatgpt-prompts",target:"_blank",className:"text-accent hover:text-accent-hover",rel:"noreferrer"},"awesome chatGPT prompts")," ","for inspiration."))),pr.default.createElement("div",{className:"flex items-center justify-end gap-2"},pr.default.createElement(qe,{variant:"secondary",onClick:o,disabled:d},"Cancel"),pr.default.createElement(qe,{onClick:m,disabled:!v||d},d?"Saving...":"Save")))}var Z8=class extends wB.Modal{constructor(r,n,o="",i="",a){super(r);this.onSave=n;this.initialTitle=o;this.initialPrompt=i;this.disabledTitle=a}onOpen(){let{contentEl:r}=this;this.root=(0,R1t.createRoot)(r);let n=async(i,a)=>{await this.onSave(i,a),this.close()},o=()=>{this.close()};this.root.render(pr.default.createElement(Iin,{initialTitle:this.initialTitle,initialPrompt:this.initialPrompt,disabledTitle:this.disabledTitle,onSave:n,onCancel:o}))}onClose(){this.root.unmount()}};var D1t=require("obsidian"),roe=class extends D1t.Modal{constructor(r,n){super(r);this.placeholderText="Please enter your custom ad-hoc prompt here, press enter to send.";this.onSubmit=n}onOpen(){let{contentEl:r}=this,n=createFragment(i=>{i.createEl("strong",{text:"- {} represents the selected text (not required). "}),i.createEl("br"),i.createEl("strong",{text:"- {[[Note Title]]} represents a note. "}),i.createEl("br"),i.createEl("strong",{text:"- {activeNote} represents the active note. "}),i.createEl("br"),i.createEl("strong",{text:"- {FolderPath} represents a folder of notes. "}),i.createEl("br"),i.createEl("strong",{text:"- {#tag1, #tag2} represents ALL notes with ANY of the specified tags in their property (an OR operation). "}),i.createEl("br"),i.createEl("br"),i.appendText("Tip: turn on debug mode to show the processed prompt in the chat window."),i.createEl("br"),i.createEl("br")});r.appendChild(n);let o=r.createEl("textarea",{attr:{placeholder:this.placeholderText}});o.style.width="100%",o.style.height="100px",o.style.padding="10px",o.style.resize="vertical",o.addEventListener("input",i=>{this.result=i.target.value}),o.addEventListener("keydown",i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),this.close(),this.onSubmit(this.result))})}onClose(){let{contentEl:r}=this;r.empty()}};var wT=require("obsidian"),noe=class extends wT.Modal{constructor(t,r){super(t),this.plugin=r}onOpen(){let{contentEl:t}=this;t.empty(),t.createEl("h2",{text:"Debug: Search OramaDB"});let r=t.createEl("p");r.innerHTML='Enter a JSON search params object. Example:<br><pre>{<br>  "term": "#tag",<br>  "mode": "hybrid",<br>  "limit": 10,<br>  "includeVectors": true<br>}</pre>',this.searchInput=t.createEl("textarea",{attr:{placeholder:"Enter search params JSON...",rows:"10",style:"width: 100%; min-height: 200px; margin: 10px 0; padding: 10px; font-family: monospace;"}}),t.createEl("div",{cls:"search-button-container"}).createEl("button",{text:"Search",cls:"mod-cta"}).addEventListener("click",async()=>{try{let i=JSON.parse(this.searchInput.value);i.vector?.value&&!Array.isArray(i.vector.value)&&(i.vector.value=Object.values(i.vector.value));let a=await this.plugin.vectorStoreManager.getDb();if(!a){new wT.Notice("Database not found");return}let s=await ic(a,i),u=["## Search Parameters","```json",JSON.stringify(i,null,2),"```","","## Results",`Total hits: ${s.hits.length}`,"","### Hits","```json",JSON.stringify(s.hits,null,2),"```"].join(`
`),l="OramaDB-Debug-Search.md",c=this.app.vault.getAbstractFileByPath(l);c instanceof wT.TFile?await this.app.vault.modify(c,u):await this.app.vault.create(l,u);let d=this.app.vault.getAbstractFileByPath(l);d instanceof wT.TFile&&(await this.app.workspace.getLeaf().openFile(d),this.close())}catch(i){console.error("Error in debug search:",i),new wT.Notice("Error executing search. Check console for details.")}})}onClose(){let{contentEl:t}=this;t.empty()}};function SB(e){return e.replace(/\s+/g,"-").toLowerCase()}function j1t(e,t){if(!e)throw new Error("Command name is required");if(e.length>Mle)throw new Error(`Command name must be less than ${Mle} characters`);if(!/^[a-zA-Z0-9\s]+$/.test(e))throw new Error("Command name must only contain alphanumeric characters and spaces");if(T1().some(n=>n.name.toLowerCase()===e.toLowerCase()&&n.name.toLowerCase()!==t?.toLowerCase()))throw new Error("A command with this name already exists")}function N1t(e){return T1().find(r=>SB(r.name)===e)}function T1(){return pe().inlineEditCommands??uj}function L1t(){return qo().inlineEditCommands??uj}function F1t(e,t){let r=e.indexOf(cf);return r===-1?e+`

`+t:e.slice(0,r)+t+e.slice(r+cf.length)}function k1t(){return T1()!==uj}var Jw=B(Y());var XTe=({capabilities:e=[],iconSize:t=16})=>Jw.default.createElement(Jw.default.Fragment,null,e.sort((r,n)=>r.localeCompare(n)).map((r,n)=>{switch(r){case"reasoning":return Jw.default.createElement(KS,{key:n,className:"text-model-capabilities-blue",style:{width:t,height:t}});case"vision":return Jw.default.createElement(GS,{key:n,className:"text-model-capabilities-green",style:{width:t,height:t}});case"websearch":return Jw.default.createElement(EI,{key:n,className:"text-model-capabilities-blue",style:{width:t,height:t}});default:return null}})),QTe=({model:e,iconSize:t=14})=>{let r=e.displayName||e.name;return Jw.default.createElement("div",{className:"flex items-center gap-1"},Jw.default.createElement("span",null,r),e.capabilities&&e.capabilities.length>0&&Jw.default.createElement("div",{className:"flex gap-0.5 items-center"},Jw.default.createElement(XTe,{capabilities:e.capabilities,iconSize:t})))},ooe=e=>{let t=e.displayName||e.name,r=`(${uh(e.provider)})`;return`${t} ${r}`},eMe=e=>{let t=e.displayName||e.name,r=`(${uh(e.provider,e)})`,n=e.capabilities?.map(o=>{switch(o){case"reasoning":return"Reasoning";case"vision":return"Vision";case"websearch":return"Websearch";default:return""}}).join("|")||"";return`${t} ${r} ${n}`};var aoe=require("obsidian"),di=B(Y()),B1t=B(gh());function Ain({originalText:e,command:t,onInsert:r,onReplace:n,onClose:o}){let[i,a]=(0,di.useState)(null),[s,u]=(0,di.useState)(null),[l]=lj(),c=qo(),d=(0,di.useMemo)(()=>n5(t.modelKey||l,c.activeModels),[t.modelKey,l,c.activeModels]),f=t.name,p=(0,di.useCallback)(h=>{u(h.message)},[]);return(0,di.useEffect)(()=>{let h=new AbortController;async function m(){let _=F1t(t.prompt,e),g="",S=await(await Ud.getInstance().createModelInstance(d)).stream(_);for await(let x of S){if(h?.signal.aborted)break;g+=x.content,a(g)}h?.signal.aborted||u(g)}return m(),()=>{h.abort()}},[t.prompt,e,p,d]),di.default.createElement("div",{className:"flex flex-col gap-4"},di.default.createElement("div",{className:"max-h-60 overflow-y-auto text-muted whitespace-pre-wrap"},e),di.default.createElement("div",{className:"flex flex-col gap-2"},f&&di.default.createElement("div",{className:"text-normal flex items-center gap-2 font-bold"},di.default.createElement(oE,{className:"w-4 h-4"}),f),di.default.createElement("div",{className:"text-muted flex items-center gap-2 font-bold"},di.default.createElement(_I,{className:"w-4 h-4"}),ooe(d))),di.default.createElement("div",{className:"relative group"},di.default.createElement("textarea",{className:"w-full h-60 text-text peer",value:s??i??"loading...",disabled:s==null,onChange:h=>u(h.target.value)}),s&&di.default.createElement("button",{className:"absolute top-2 right-2 opacity-0 peer-focus-visible:!opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{navigator.clipboard.writeText(s),new aoe.Notice("Copied to clipboard")}},di.default.createElement(SI,{className:"w-4 h-4 text-muted-foreground hover:text-accent"}))),di.default.createElement("div",{className:"flex justify-end gap-2"},di.default.createElement("button",{onClick:o},"Close"),di.default.createElement("button",{disabled:s==null,className:"!bg-interactive-accent !text-on-accent cursor-pointer",onClick:()=>r(s??"")},"Insert"),di.default.createElement("button",{disabled:s==null,className:"!bg-interactive-accent !text-on-accent cursor-pointer",onClick:()=>n(s??"")},"Replace")))}var ioe=class extends aoe.Modal{constructor(r,n){super(r);this.configs=n}onOpen(){let{contentEl:r}=this;this.root=(0,B1t.createRoot)(r);let{selectedText:n,command:o}=this.configs,i=u=>{yq(u),this.close()},a=u=>{yq(u,!0),this.close()},s=()=>{this.close()};this.root.render(di.default.createElement(Ain,{originalText:n,command:o,onInsert:i,onReplace:a,onClose:s}))}onClose(){this.root.unmount()}};var $1t=require("obsidian"),qC=class extends $1t.FuzzySuggestModal{constructor(t,r,n,o=[]){super(t),this.promptTitles=r,this.onChoosePromptTitle=n,this.descriptions=o}getItems(){return this.promptTitles}getItemText(t){let r=this.promptTitles.indexOf(t),n=this.descriptions[r];return n?`${t} - ${n}`:t}onChooseItem(t,r){let n=t.split(" - ")[0];this.onChoosePromptTitle(n)}};var X8=require("obsidian"),soe=class extends X8.Modal{constructor(t,r){super(t),this.plugin=r}onOpen(){let{contentEl:t}=this;t.empty(),t.createEl("h2",{text:"Inspect Copilot Index by Note Paths"}),this.searchInput=t.createEl("textarea",{attr:{placeholder:`Enter note paths as markdown list:
- [[Note 1]]
- [[Note 2]]`,rows:"10",style:"width: 100%; min-height: 200px; margin: 10px 0; padding: 10px; font-family: monospace;"}}),t.createEl("div",{cls:"search-button-container"}).createEl("button",{text:"Show Index Data",cls:"mod-cta"}).addEventListener("click",async()=>{let o=this.searchInput.value,i=ly(o,this.app.vault).map(a=>a.path);if(i.length===0){new X8.Notice("No valid note paths found. Use format: - [[Note Name]]");return}try{let s=await(await this.plugin.vectorStoreManager.getDbOps()).getDocsJsonByPaths(i),u="CopilotDB-Search-Results.md",l=["## Searched Paths",...i.map(f=>`- [[${f}]]`),"","## Index Data","```json",JSON.stringify(s,null,2),"```"].join(`
`),c=this.app.vault.getAbstractFileByPath(u);c?await this.app.vault.modify(c,l):await this.app.vault.create(u,l);let d=this.app.vault.getAbstractFileByPath(u);d&&await this.app.workspace.getLeaf().openFile(d),this.close()}catch(a){console.error("Error searching DB:",a),new X8.Notice("Error searching database. Check console for details.")}})}onClose(){let{contentEl:t}=this;t.empty()}};var Q8=require("obsidian"),uoe=class extends Q8.Modal{constructor(r,n){super(r);this.filePaths="";this.onSubmit=n}onOpen(){let{contentEl:r}=this;r.createEl("h2",{text:"Remove Files from Copilot Index"});let n=r.createDiv({cls:"remove-files-container"});new Q8.Setting(n).setName("File paths").setDesc("Paste the markdown list of file paths to remove from the index. You can get the list by running the command `List all indexed files`.").setClass("remove-files-setting").addTextArea(o=>o.setPlaceholder(`- [[path/to/file1.md]]
- [[path/to/file2.md]]`).setValue(this.filePaths).onChange(i=>{this.filePaths=i})),new Q8.Setting(n).addButton(o=>o.setButtonText("Remove").setCta().onClick(()=>{let i=this.filePaths.split(`
`).map(a=>{let s=a.match(/\[\[(.*?)\]\]/);return s?s[1].trim():""}).filter(a=>a.length>0);this.onSubmit(i),this.close()})),r.createEl("style",{text:`
        .remove-files-container {
          width: 100%;
          margin-top: 12px;
        }
        .remove-files-setting {
          display: block;
        }
        .remove-files-setting .setting-item-control {
          padding: 0;
        }
        .remove-files-setting textarea {
          width: 100%;
          height: 300px;
          margin-top: 12px;
        }
        .remove-files-setting textarea::placeholder {
          opacity: 0.5;
        }
      `})}onClose(){let{contentEl:r}=this;r.empty()}};var loe=class{get usageData(){return pe().promptUsageTimestamps}recordUsage(t){It("promptUsageTimestamps",{...this.usageData,[t]:Date.now()})}updateUsage(t,r){let n={...this.usageData};n[r]=n[t],delete n[t],It("promptUsageTimestamps",n)}removeUnusedPrompts(t){let r={...this.usageData};for(let n of Object.keys(r))t.includes(n)||delete r[n];It("promptUsageTimestamps",r)}compare(t,r){return(this.usageData[t]||0)-(this.usageData[r]||0)}};var ST=require("obsidian"),UC=class e{constructor(t){this.vault=t;this.lastProcessedPrompt=null;this.usageStrategy=new loe}get customPromptsFolder(){return pe().customPromptsFolder}static getInstance(t){return e.instance||(e.instance=new e(t)),e.instance}recordPromptUsage(t){this.usageStrategy.recordUsage(t)}async getAllPrompts(){let t=this.customPromptsFolder,r=this.vault.getFiles().filter(o=>o.path.startsWith(t)&&o.extension==="md"),n=[];for(let o of r){let i=await this.vault.read(o);n.push({title:o.basename,content:i})}return this.usageStrategy.removeUnusedPrompts(n.map(o=>o.title)),n.sort((o,i)=>this.usageStrategy.compare(i.title,o.title)||0)}async getPrompt(t){let r=`${this.customPromptsFolder}/${t}.md`,n=this.vault.getAbstractFileByPath(r);if(n instanceof ST.TFile){let o=await this.vault.read(n);return{title:t,content:o}}return null}async savePrompt(t,r){let n=(0,ST.normalizePath)(this.customPromptsFolder),o=`${n}/${t}.md`;await this.vault.adapter.exists(n)||await this.vault.createFolder(n),await this.vault.create(o,r)}async updatePrompt(t,r,n){let o=`${this.customPromptsFolder}/${t}.md`,i=this.vault.getAbstractFileByPath(o);if(i instanceof ST.TFile){if(t!==r){let a=`${this.customPromptsFolder}/${r}.md`;if(this.vault.getAbstractFileByPath(a))throw new dr("Error saving custom prompt. Please check if the title already exists.");this.usageStrategy.updateUsage(t,r),await this.vault.rename(i,a)}await this.vault.modify(i,n)}}async deletePrompt(t){let r=`${this.customPromptsFolder}/${t}.md`,n=this.vault.getAbstractFileByPath(r);n instanceof ST.TFile&&(this.usageStrategy.removeUnusedPrompts([t]),await this.vault.delete(n))}async extractVariablesFromPrompt(t,r){let n=[],o=/\{([^}]+)\}/g,i;for(;(i=o.exec(t))!==null;){let a=i[1].trim(),s=[];if(a.toLowerCase()==="activenote")if(r){let u=await oj(r,this.vault);u&&s.push({name:r5(r),content:u})}else new ST.Notice("No active note found.");else if(a.startsWith("#")){let u=a.slice(1).split(",").map(c=>c.trim()),l=await Wke(this.vault,u);for(let c of l){let d=await oj(c,this.vault);d&&s.push({name:r5(c),content:d})}}else{let u=Kke(a),l=await xle(this.vault,u);for(let c of l){let d=await oj(c,this.vault);d&&s.push({name:r5(c),content:d})}}if(s.length>0){let u=s.map(l=>`## ${l.name}

${l.content}`).join(`

`);n.push(u)}else console.warn(`No notes found for variable: ${a}`)}return n}async processCustomPrompt(t,r,n){this.lastProcessedPrompt=t;let o=await this.extractVariablesFromPrompt(t,n),i=t,a=[...i.matchAll(/\{([^}]+)\}/g)],s="",u=null;i.includes("{}")&&(i=i.replace(/\{\}/g,"{selectedText}"),r?s+=`selectedText:

 ${r}`:n?(u=await oj(n,this.vault),s+=`selectedText (entire active note):

 ${u}`):s+=`selectedText:

 (No selected text or active note available)`);for(let c=0;c<o.length;c++)if(a[c]){let d=a[c][1];if(d.toLowerCase()==="activenote"&&u)continue;s+=`

${d}:

${o[c]}`}let l=ly(i,this.vault);for(let c of l)if(!a.some(d=>d[1].includes(`[[${c.basename}]]`))){let d=await oj(c,this.vault);d&&(s+=`

Title: [[${c.basename}]]
Path: ${c.path}

${d}`)}return i+`

`+s}async getProcessedVariables(){let t=new Set,r=this.lastProcessedPrompt?.matchAll(/\{([^}]+)\}/g)||[];for(let o of r)t.add(o[1]);let n=ly(this.lastProcessedPrompt||"",this.vault);for(let o of n)t.add(`[[${o.basename}]]`);return t}};var yo=require("obsidian");function sd(e,t,r){e.addCommand({id:t,name:u5[t],callback:r})}function Rin(e,t,r){e.addCommand({id:t,name:u5[t],editorCallback:r})}function q1t(e,t,r){e.addCommand({id:t,name:u5[t],checkCallback:r})}async function Din(e,t){let r=e.getSelection().trim();if(!r)return;let n=N1t(t);if(!n){Ur(`Command not found for id ${t}`);return}new ioe(app,{selectedText:r,command:n}).open()}function jin(e,t,r){t.forEach(n=>{let o=SB(n.name);o&&e.removeCommand(o)}),r.forEach(n=>{let o=SB(n.name);e.addCommand({id:o,name:n.name,editorCallback:i=>{Din(i,o)}})})}function tMe(e,t,r){jin(e,t?.inlineEditCommands??[],r.inlineEditCommands??T1());let n=UC.getInstance(e.app.vault);Rin(e,rr.COUNT_WORD_AND_TOKENS_SELECTION,async o=>{let i=await o.getSelection(),a=i.split(" ").length,s=await e.chainManager.chatModelManager.countTokens(i);new yo.Notice(`Selected text contains ${a} words and ${s} tokens.`)}),sd(e,rr.COUNT_TOTAL_VAULT_TOKENS,async()=>{try{let o=await e0t(e.app),i=await e.chainManager.chatModelManager.countTokens(o);new yo.Notice(`Total tokens in your vault: ${i}`)}catch(o){console.error("Error counting tokens: ",o),new yo.Notice("An error occurred while counting tokens.")}}),sd(e,rr.TOGGLE_COPILOT_CHAT_WINDOW,()=>{e.toggleView()}),sd(e,rr.OPEN_COPILOT_CHAT_WINDOW,()=>{e.activateView()}),sd(e,rr.ADD_CUSTOM_PROMPT,()=>{new Z8(e.app,async(o,i)=>{try{await n.savePrompt(o,i),new yo.Notice("Custom prompt saved successfully.")}catch(a){let s="An error occurred while saving the custom prompt: "+bi(a);throw console.error(s),new Error(s)}}).open()}),sd(e,rr.APPLY_CUSTOM_PROMPT,async()=>{let i=(await n.getAllPrompts()).map(a=>a.title);new qC(e.app,i,async a=>{if(!a){new yo.Notice("Please select a prompt title.");return}try{let s=await n.getPrompt(a);if(!s){new yo.Notice(`No prompt found with the title "${a}".`);return}e.processCustomPrompt(rr.APPLY_CUSTOM_PROMPT,s.content)}catch(s){console.error(s),new yo.Notice("An error occurred.")}}).open()}),sd(e,rr.APPLY_ADHOC_PROMPT,async()=>{new roe(e.app,async i=>{try{e.processCustomPrompt(rr.APPLY_ADHOC_PROMPT,i)}catch(a){console.error(a),new yo.Notice("An error occurred.")}}).open()}),q1t(e,rr.DELETE_CUSTOM_PROMPT,o=>(o||n.getAllPrompts().then(i=>{let a=i.map(s=>s.title);new qC(e.app,a,async s=>{if(!s){new yo.Notice("Please select a prompt title.");return}try{await n.deletePrompt(s),new yo.Notice(`Prompt "${s}" has been deleted.`)}catch(u){console.error(u),new yo.Notice("An error occurred while deleting the prompt.")}}).open()}),!0)),q1t(e,rr.EDIT_CUSTOM_PROMPT,o=>(o||n.getAllPrompts().then(i=>{let a=i.map(s=>s.title);new qC(e.app,a,async s=>{if(!s){new yo.Notice("Please select a prompt title.");return}try{let u=await n.getPrompt(s);u?new Z8(e.app,async(l,c)=>{try{await n.updatePrompt(s,l,c),new yo.Notice(`Prompt "${l}" has been updated.`)}catch(d){let f="An error occurred while updating the custom prompt: "+bi(d);throw console.error(f),new Error(f)}},u.title,u.content,!1).open():new yo.Notice(`No prompt found with the title "${s}".`)}catch(u){console.error(u),new yo.Notice("An error occurred.")}}).open()}),!0)),sd(e,rr.CLEAR_LOCAL_COPILOT_INDEX,async()=>{await e.vectorStoreManager.clearIndex()}),sd(e,rr.GARBAGE_COLLECT_COPILOT_INDEX,async()=>{try{let o=await e.vectorStoreManager.garbageCollectVectorStore();new yo.Notice(`${o} documents removed from Copilot index.`)}catch(o){console.error("Error garbage collecting the Copilot index:",o),new yo.Notice("An error occurred while garbage collecting the Copilot index.")}}),sd(e,rr.INDEX_VAULT_TO_COPILOT_INDEX,async()=>{try{let o=await e.vectorStoreManager.indexVaultToVectorStore();new yo.Notice(`${o} vault files indexed to Copilot index.`)}catch(o){console.error("Error indexing vault to Copilot index:",o),new yo.Notice("An error occurred while indexing vault to Copilot index.")}}),sd(e,rr.FORCE_REINDEX_VAULT_TO_COPILOT_INDEX,async()=>{try{let o=await e.vectorStoreManager.indexVaultToVectorStore(!0);new yo.Notice(`${o} vault files re-indexed to Copilot index.`)}catch(o){console.error("Error re-indexing vault to Copilot index:",o),new yo.Notice("An error occurred while re-indexing vault to Copilot index.")}}),sd(e,rr.LOAD_COPILOT_CHAT_CONVERSATION,()=>{e.loadCopilotChatHistory()}),sd(e,rr.INSPECT_COPILOT_INDEX_BY_NOTE_PATHS,()=>{new soe(e.app,e).open()}),sd(e,rr.SEARCH_ORAMA_DB,()=>{new noe(e.app,e).open()}),sd(e,rr.LIST_INDEXED_FILES,async()=>{try{let o=await e.vectorStoreManager.getIndexedFiles(),i=new Set(o),a=e.app.vault.getMarkdownFiles(),s=new Set,u=new Set,l=new Set,c=await e.vectorStoreManager.getDbOps();for(let _ of a){let g=await e.app.vault.cachedRead(_);!g||g.trim().length===0?s.add(_.path):i.has(_.path)?await c.hasEmbeddings(_.path)||l.add(_.path):u.add(_.path)}if(o.length===0&&s.size===0&&u.size===0){new yo.Notice("No files found to list.");return}let d=["# Copilot Files Status",`- Indexed files: ${o.length}`,`	- Files missing embeddings: ${l.size}`,`- Unindexed files: ${u.size}`,`- Empty files: ${s.size}`,"","## Indexed Files",...o.map(_=>{let g=l.has(_);return`- [[${_}]]${g?" *(embedding missing)*":""}`}),"","## Unindexed Files",...u.size>0?Array.from(u).sort().map(_=>`- [[${_}]]`):["No unindexed files found."],"","## Empty Files",...s.size>0?Array.from(s).sort().map(_=>`- [[${_}]]`):["No empty files found."]].join(`
`),p=`${`Copilot-Indexed-Files-${new Date().toLocaleDateString().replace(/\//g,"-")}.md`}`,h=e.app.vault.getAbstractFileByPath(p);h instanceof yo.TFile?await e.app.vault.modify(h,d):await e.app.vault.create(p,d);let m=e.app.vault.getAbstractFileByPath(p);m instanceof yo.TFile&&(await e.app.workspace.getLeaf().openFile(m),new yo.Notice(`Listed ${o.length} indexed files`))}catch(o){console.error("Error listing indexed files:",o),new yo.Notice("Failed to list indexed files.")}}),sd(e,rr.REMOVE_FILES_FROM_COPILOT_INDEX,async()=>{new uoe(e.app,async o=>{let i=await e.vectorStoreManager.getDbOps();try{for(let a of o)await i.removeDocs(a);await i.saveDB(),new yo.Notice(`Successfully removed ${o.length} files from the index.`)}catch(a){console.error("Error removing files from index:",a),new yo.Notice("An error occurred while removing files from the index.")}}).open()}),sd(e,rr.CLEAR_COPILOT_CACHE,async()=>{try{await e.fileParserManager.clearPDFCache(),new yo.Notice("Copilot cache cleared successfully")}catch(o){console.error("Error clearing Copilot cache:",o),new yo.Notice("Failed to clear Copilot cache")}})}var hr=B(Y());var el=B(Y(),1);function eH(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var Nin=B(Y(),1);function U1t(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function coe(...e){return t=>{let r=!1,n=e.map(o=>{let i=U1t(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():U1t(e[o],null)}}}}var hm=B(Y(),1),rMe=B(lt(),1);function z1t(e,t){let r=hm.createContext(t),n=i=>{let{children:a,...s}=i,u=hm.useMemo(()=>s,Object.values(s));return(0,rMe.jsx)(r.Provider,{value:u,children:a})};n.displayName=e+"Provider";function o(i){let a=hm.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,o]}function Ro(e,t=[]){let r=[];function n(i,a){let s=hm.createContext(a),u=r.length;r=[...r,a];let l=d=>{let{scope:f,children:p,...h}=d,m=f?.[e]?.[u]||s,_=hm.useMemo(()=>h,Object.values(h));return(0,rMe.jsx)(m.Provider,{value:_,children:p})};l.displayName=i+"Provider";function c(d,f){let p=f?.[e]?.[u]||s,h=hm.useContext(p);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,c]}let o=()=>{let i=r.map(a=>hm.createContext(a));return function(s){let u=s?.[e]||i;return hm.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[n,Lin(o,...t)]}function Lin(...e){let t=e[0];if(e.length===1)return t;let r=()=>{let n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return hm.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var xT=B(Y(),1);var xB=B(Y(),1);function Wt(e){let t=xB.useRef(e);return xB.useEffect(()=>{t.current=e}),xB.useMemo(()=>(...r)=>t.current?.(...r),[])}function Qu({prop:e,defaultProp:t,onChange:r=()=>{}}){let[n,o]=Fin({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,s=Wt(r),u=xT.useCallback(l=>{if(i){let d=typeof l=="function"?l(e):l;d!==e&&s(d)}else o(l)},[i,e,o,s]);return[a,u]}function Fin({defaultProp:e,onChange:t}){let r=xT.useState(e),[n]=r,o=xT.useRef(n),i=Wt(t);return xT.useEffect(()=>{o.current!==n&&(i(n),o.current=n)},[n,o,i]),r}var H1t=B(Y(),1),Uin=B(as(),1);var pc=B(Y(),1);var CB=B(lt(),1),oMe=pc.forwardRef((e,t)=>{let{children:r,...n}=e,o=pc.Children.toArray(r),i=o.find(Bin);if(i){let a=i.props.children,s=o.map(u=>u===i?pc.Children.count(a)>1?pc.Children.only(null):pc.isValidElement(a)?a.props.children:null:u);return(0,CB.jsx)(nMe,{...n,ref:t,children:pc.isValidElement(a)?pc.cloneElement(a,void 0,s):null})}return(0,CB.jsx)(nMe,{...n,ref:t,children:r})});oMe.displayName="Slot";var nMe=pc.forwardRef((e,t)=>{let{children:r,...n}=e;if(pc.isValidElement(r)){let o=qin(r);return pc.cloneElement(r,{...$in(n,r.props),ref:t?coe(t,o):o})}return pc.Children.count(r)>1?pc.Children.only(null):null});nMe.displayName="SlotClone";var kin=({children:e})=>(0,CB.jsx)(CB.Fragment,{children:e});function Bin(e){return pc.isValidElement(e)&&e.type===kin}function $in(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function qin(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var V1t=B(lt(),1),zin=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],W1t=zin.reduce((e,t)=>{let r=H1t.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?oMe:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,V1t.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var vt=B(Y(),1);function fi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var OT=B(Y(),1);var G1t=B(Y(),1);function J1t(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tH(...e){return t=>{let r=!1,n=e.map(o=>{let i=J1t(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():J1t(e[o],null)}}}}function hc(...e){return G1t.useCallback(tH(...e),e)}var mc=B(Y(),1);var OB=B(lt(),1),CT=mc.forwardRef((e,t)=>{let{children:r,...n}=e,o=mc.Children.toArray(r),i=o.find(Vin);if(i){let a=i.props.children,s=o.map(u=>u===i?mc.Children.count(a)>1?mc.Children.only(null):mc.isValidElement(a)?a.props.children:null:u);return(0,OB.jsx)(iMe,{...n,ref:t,children:mc.isValidElement(a)?mc.cloneElement(a,void 0,s):null})}return(0,OB.jsx)(iMe,{...n,ref:t,children:r})});CT.displayName="Slot";var iMe=mc.forwardRef((e,t)=>{let{children:r,...n}=e;if(mc.isValidElement(r)){let o=Jin(r);return mc.cloneElement(r,{...Win(n,r.props),ref:t?tH(t,o):o})}return mc.Children.count(r)>1?mc.Children.only(null):null});iMe.displayName="SlotClone";var Hin=({children:e})=>(0,OB.jsx)(OB.Fragment,{children:e});function Vin(e){return mc.isValidElement(e)&&e.type===Hin}function Win(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Jin(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var doe=B(lt(),1);function K1t(e){let t=e+"CollectionProvider",[r,n]=Ro(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:h,children:m}=p,_=OT.default.useRef(null),g=OT.default.useRef(new Map).current;return(0,doe.jsx)(o,{scope:h,itemMap:g,collectionRef:_,children:m})};a.displayName=t;let s=e+"CollectionSlot",u=OT.default.forwardRef((p,h)=>{let{scope:m,children:_}=p,g=i(s,m),v=hc(h,g.collectionRef);return(0,doe.jsx)(CT,{ref:v,children:_})});u.displayName=s;let l=e+"CollectionItemSlot",c="data-radix-collection-item",d=OT.default.forwardRef((p,h)=>{let{scope:m,children:_,...g}=p,v=OT.default.useRef(null),S=hc(h,v),x=i(l,m);return OT.default.useEffect(()=>(x.itemMap.set(v,{ref:v,...g}),()=>void x.itemMap.delete(v))),(0,doe.jsx)(CT,{[c]:"",ref:S,children:_})});d.displayName=l;function f(p){let h=i(e+"CollectionConsumer",p);return OT.default.useCallback(()=>{let _=h.collectionRef.current;if(!_)return[];let g=Array.from(_.querySelectorAll(`[${c}]`));return Array.from(h.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var foe=B(Y(),1),Gin=B(lt(),1),Kin=foe.createContext(void 0);function ET(e){let t=foe.useContext(Kin);return e||t||"ltr"}var _a=B(Y(),1);var Y1t=B(Y(),1),Z1t=B(as(),1);var X1t=B(lt(),1),Yin=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Al=Yin.reduce((e,t)=>{let r=Y1t.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?CT:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,X1t.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function poe(e,t){e&&Z1t.flushSync(()=>e.dispatchEvent(t))}var Q1t=B(Y(),1);function Gw(e,t=globalThis?.document){let r=Wt(e);Q1t.useEffect(()=>{let n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sMe=B(lt(),1),Zin="DismissableLayer",aMe="dismissableLayer.update",Xin="dismissableLayer.pointerDownOutside",Qin="dismissableLayer.focusOutside",eDt,rDt=_a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uMe=_a.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=_a.useContext(rDt),[c,d]=_a.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=_a.useState({}),h=hc(t,E=>d(E)),m=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(_),v=c?m.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,O=ran(E=>{let M=E.target,A=[...l.branches].some(j=>j.contains(M));!x||A||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=nan(E=>{let M=E.target;[...l.branches].some(j=>j.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return Gw(E=>{v===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),_a.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(eDt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),tDt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=eDt)}},[c,f,r,l]),_a.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),tDt())},[c,l]),_a.useEffect(()=>{let E=()=>p({});return document.addEventListener(aMe,E),()=>document.removeEventListener(aMe,E)},[]),(0,sMe.jsx)(Al.div,{...u,ref:h,style:{pointerEvents:S?x?"auto":"none":void 0,...e.style},onFocusCapture:fi(e.onFocusCapture,T.onFocusCapture),onBlurCapture:fi(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:fi(e.onPointerDownCapture,O.onPointerDownCapture)})});uMe.displayName=Zin;var ean="DismissableLayerBranch",tan=_a.forwardRef((e,t)=>{let r=_a.useContext(rDt),n=_a.useRef(null),o=hc(t,n);return _a.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,sMe.jsx)(Al.div,{...e,ref:o})});tan.displayName=ean;function ran(e,t=globalThis?.document){let r=Wt(e),n=_a.useRef(!1),o=_a.useRef(()=>{});return _a.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){nDt(Xin,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function nan(e,t=globalThis?.document){let r=Wt(e),n=_a.useRef(!1);return _a.useEffect(()=>{let o=i=>{i.target&&!n.current&&nDt(Qin,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tDt(){let e=new CustomEvent(aMe);document.dispatchEvent(e)}function nDt(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?poe(o,i):o.dispatchEvent(i)}var iDt=B(Y(),1),lMe=0;function PT(){iDt.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??oDt()),document.body.insertAdjacentElement("beforeend",e[1]??oDt()),lMe++,()=>{lMe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lMe--}},[])}function oDt(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mm=B(Y(),1);var cDt=B(lt(),1),cMe="focusScope.autoFocusOnMount",dMe="focusScope.autoFocusOnUnmount",aDt={bubbles:!1,cancelable:!0},oan="FocusScope",fMe=mm.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=mm.useState(null),l=Wt(o),c=Wt(i),d=mm.useRef(null),f=hc(t,m=>u(m)),p=mm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;mm.useEffect(()=>{if(n){let v=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:TT(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||TT(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&TT(s)};var m=v,_=S,g=x;document.addEventListener("focusin",v),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),mm.useEffect(()=>{if(s){uDt.add(p);let m=document.activeElement;if(!s.contains(m)){let g=new CustomEvent(cMe,aDt);s.addEventListener(cMe,l),s.dispatchEvent(g),g.defaultPrevented||(ian(can(dDt(s)),{select:!0}),document.activeElement===m&&TT(s))}return()=>{s.removeEventListener(cMe,l),setTimeout(()=>{let g=new CustomEvent(dMe,aDt);s.addEventListener(dMe,c),s.dispatchEvent(g),g.defaultPrevented||TT(m??document.body,{select:!0}),s.removeEventListener(dMe,c),uDt.remove(p)},0)}}},[s,l,c,p]);let h=mm.useCallback(m=>{if(!r&&!n||p.paused)return;let _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(_&&g){let v=m.currentTarget,[S,x]=aan(v);S&&x?!m.shiftKey&&g===x?(m.preventDefault(),r&&TT(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&TT(x,{select:!0})):g===v&&m.preventDefault()}},[r,n,p.paused]);return(0,cDt.jsx)(Al.div,{tabIndex:-1,...a,ref:f,onKeyDown:h})});fMe.displayName=oan;function ian(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(TT(n,{select:t}),document.activeElement!==r)return}function aan(e){let t=dDt(e),r=sDt(t,e),n=sDt(t.reverse(),e);return[r,n]}function dDt(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sDt(e,t){for(let r of e)if(!san(r,{upTo:t}))return r}function san(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uan(e){return e instanceof HTMLInputElement&&"select"in e}function TT(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uan(e)&&t&&e.select()}}var uDt=lan();function lan(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),e=lDt(e,t),e.unshift(t)},remove(t){e=lDt(e,t),e[0]?.resume()}}}function lDt(e,t){let r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function can(e){return e.filter(t=>t.tagName!=="A")}var hoe=B(Y(),1);var fDt=B(Y(),1),Br=globalThis?.document?fDt.useLayoutEffect:()=>{};var dan=hoe.useId||(()=>{}),fan=0;function Fa(e){let[t,r]=hoe.useState(dan());return Br(()=>{e||r(n=>n??String(fan++))},[e]),e||(t?`radix-${t}`:"")}var Lp=B(Y(),1);var pDt=["top","right","bottom","left"];var Kw=Math.min,zd=Math.max,nH=Math.round,oH=Math.floor,kg=e=>({x:e,y:e}),pan={left:"right",right:"left",bottom:"top",top:"bottom"},han={start:"end",end:"start"};function goe(e,t,r){return zd(e,Kw(t,r))}function Yw(e,t){return typeof e=="function"?e(t):e}function Zw(e){return e.split("-")[0]}function M1(e){return e.split("-")[1]}function yoe(e){return e==="x"?"y":"x"}function boe(e){return e==="y"?"height":"width"}function zC(e){return["top","bottom"].includes(Zw(e))?"y":"x"}function _oe(e){return yoe(zC(e))}function hDt(e,t,r){r===void 0&&(r=!1);let n=M1(e),o=_oe(e),i=boe(o),a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=rH(a)),[a,rH(a)]}function mDt(e){let t=rH(e);return[moe(e),t,moe(t)]}function moe(e){return e.replace(/start|end/g,t=>han[t])}function man(e,t,r){let n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:a;default:return[]}}function gDt(e,t,r,n){let o=M1(e),i=man(Zw(e),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(moe)))),i}function rH(e){return e.replace(/left|right|bottom|top/g,t=>pan[t])}function gan(e){return{top:0,right:0,bottom:0,left:0,...e}}function pMe(e){return typeof e!="number"?gan(e):{top:e,right:e,bottom:e,left:e}}function I1(e){let{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function yDt(e,t,r){let{reference:n,floating:o}=e,i=zC(t),a=_oe(t),s=boe(a),u=Zw(t),l=i==="y",c=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,f=n[s]/2-o[s]/2,p;switch(u){case"top":p={x:c,y:n.y-o.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-o.width,y:d};break;default:p={x:n.x,y:n.y}}switch(M1(t)){case"start":p[a]-=f*(r&&l?-1:1);break;case"end":p[a]+=f*(r&&l?-1:1);break}return p}var vDt=async(e,t,r)=>{let{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t)),l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=yDt(l,n,u),f=n,p={},h=0;for(let m=0;m<s.length;m++){let{name:_,fn:g}=s[m],{x:v,y:S,data:x,reset:O}=await g({x:c,y:d,initialPlacement:n,placement:f,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});c=v??c,d=S??d,p={...p,[_]:{...p[_],...x}},O&&h<=50&&(h++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(l=O.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:c,y:d}=yDt(l,f,u)),m=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:p}};async function EB(e,t){var r;t===void 0&&(t={});let{x:n,y:o,platform:i,rects:a,elements:s,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Yw(t,e),h=pMe(p),_=s[f?d==="floating"?"reference":"floating":d],g=I1(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),v=d==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=I1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:S,strategy:u}):v);return{top:(g.top-O.top+h.top)/x.y,bottom:(O.bottom-g.bottom+h.bottom)/x.y,left:(g.left-O.left+h.left)/x.x,right:(O.right-g.right+h.right)/x.x}}var wDt=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:u}=t,{element:l,padding:c=0}=Yw(e,t)||{};if(l==null)return{};let d=pMe(c),f={x:r,y:n},p=_oe(o),h=boe(p),m=await a.getDimensions(l),_=p==="y",g=_?"top":"left",v=_?"bottom":"right",S=_?"clientHeight":"clientWidth",x=i.reference[h]+i.reference[p]-f[p]-i.floating[h],O=f[p]-i.reference[p],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l)),E=T?T[S]:0;(!E||!await(a.isElement==null?void 0:a.isElement(T)))&&(E=s.floating[S]||i.floating[h]);let M=x/2-O/2,A=E/2-m[h]/2-1,j=Kw(d[g],A),N=Kw(d[v],A),F=j,k=E-m[h]-N,L=E/2-m[h]/2+M,q=goe(F,L,k),U=!u.arrow&&M1(o)!=null&&L!==q&&i.reference[h]/2-(L<F?j:N)-m[h]/2<0,G=U?L<F?L-F:L-k:0;return{[p]:f[p]+G,data:{[p]:q,centerOffset:L-q-G,...U&&{alignmentOffset:G}},reset:U}}});var SDt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;let{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,..._}=Yw(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};let g=Zw(o),v=zC(s),S=Zw(s)===s,x=await(u.isRTL==null?void 0:u.isRTL(l.floating)),O=f||(S||!m?[rH(s)]:mDt(s)),T=h!=="none";!f&&T&&O.push(...gDt(s,m,h,x));let E=[s,...O],M=await EB(t,_),A=[],j=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&A.push(M[g]),d){let L=hDt(o,a,x);A.push(M[L[0]],M[L[1]])}if(j=[...j,{placement:o,overflows:A}],!A.every(L=>L<=0)){var N,F;let L=(((N=i.flip)==null?void 0:N.index)||0)+1,q=E[L];if(q)return{data:{index:L,overflows:j},reset:{placement:q}};let U=(F=j.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(p){case"bestFit":{var k;let G=(k=j.filter(V=>{if(T){let D=zC(V.placement);return D===v||D==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(D=>D>0).reduce((D,z)=>D+z,0)]).sort((V,D)=>V[1]-D[1])[0])==null?void 0:k[0];G&&(U=G);break}case"initialPlacement":U=s;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function bDt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _Dt(e){return pDt.some(t=>e[t]>=0)}var xDt=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...o}=Yw(e,t);switch(n){case"referenceHidden":{let i=await EB(t,{...o,elementContext:"reference"}),a=bDt(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:_Dt(a)}}}case"escaped":{let i=await EB(t,{...o,altBoundary:!0}),a=bDt(i,r.floating);return{data:{escapedOffsets:a,escaped:_Dt(a)}}}default:return{}}}}};async function yan(e,t){let{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=Zw(r),s=M1(r),u=zC(r)==="y",l=["left","top"].includes(a)?-1:1,c=i&&u?-1:1,d=Yw(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof h=="number"&&(p=s==="end"?h*-1:h),u?{x:p*c,y:f*l}:{x:f*l,y:p*c}}var CDt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:o,y:i,placement:a,middlewareData:s}=t,u=await yan(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}},ODt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:_=>{let{x:g,y:v}=_;return{x:g,y:v}}},...u}=Yw(e,t),l={x:r,y:n},c=await EB(t,u),d=zC(Zw(o)),f=yoe(d),p=l[f],h=l[d];if(i){let _=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=p+c[_],S=p-c[g];p=goe(v,p,S)}if(a){let _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+c[_],S=h-c[g];h=goe(v,h,S)}let m=s.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:i,[d]:a}}}}}},EDt=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:u=!0,crossAxis:l=!0}=Yw(e,t),c={x:r,y:n},d=zC(o),f=yoe(d),p=c[f],h=c[d],m=Yw(s,t),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){let S=f==="y"?"height":"width",x=i.reference[f]-i.floating[S]+_.mainAxis,O=i.reference[f]+i.reference[S]-_.mainAxis;p<x?p=x:p>O&&(p=O)}if(l){var g,v;let S=f==="y"?"width":"height",x=["top","left"].includes(Zw(o)),O=i.reference[d]-i.floating[S]+(x&&((g=a.offset)==null?void 0:g[d])||0)+(x?0:_.crossAxis),T=i.reference[d]+i.reference[S]+(x?0:((v=a.offset)==null?void 0:v[d])||0)-(x?_.crossAxis:0);h<O?h=O:h>T&&(h=T)}return{[f]:p,[d]:h}}}},PDt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;let{placement:o,rects:i,platform:a,elements:s}=t,{apply:u=()=>{},...l}=Yw(e,t),c=await EB(t,l),d=Zw(o),f=M1(o),p=zC(o)==="y",{width:h,height:m}=i.floating,_,g;d==="top"||d==="bottom"?(_=d,g=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,_=f==="end"?"top":"bottom");let v=m-c.top-c.bottom,S=h-c.left-c.right,x=Kw(m-c[_],v),O=Kw(h-c[g],S),T=!t.middlewareData.shift,E=x,M=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=v),T&&!f){let j=zd(c.left,0),N=zd(c.right,0),F=zd(c.top,0),k=zd(c.bottom,0);p?M=h-2*(j!==0||N!==0?j+N:zd(c.left,c.right)):E=m-2*(F!==0||k!==0?F+k:zd(c.top,c.bottom))}await u({...t,availableWidth:M,availableHeight:E});let A=await a.getDimensions(s.floating);return h!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function voe(){return typeof window<"u"}function R1(e){return MDt(e)?(e.nodeName||"").toLowerCase():"#document"}function Hf(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bg(e){var t;return(t=(MDt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MDt(e){return voe()?e instanceof Node||e instanceof Hf(e).Node:!1}function gm(e){return voe()?e instanceof Element||e instanceof Hf(e).Element:!1}function $g(e){return voe()?e instanceof HTMLElement||e instanceof Hf(e).HTMLElement:!1}function TDt(e){return!voe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hf(e).ShadowRoot}function PB(e){let{overflow:t,overflowX:r,overflowY:n,display:o}=ym(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function IDt(e){return["table","td","th"].includes(R1(e))}function iH(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function woe(e){let t=Soe(),r=gm(e)?ym(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ADt(e){let t=HC(e);for(;$g(t)&&!D1(t);){if(woe(t))return t;if(iH(t))return null;t=HC(t)}return null}function Soe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function D1(e){return["html","body","#document"].includes(R1(e))}function ym(e){return Hf(e).getComputedStyle(e)}function aH(e){return gm(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function HC(e){if(R1(e)==="html")return e;let t=e.assignedSlot||e.parentNode||TDt(e)&&e.host||Bg(e);return TDt(t)?t.host:t}function RDt(e){let t=HC(e);return D1(t)?e.ownerDocument?e.ownerDocument.body:e.body:$g(t)&&PB(t)?t:RDt(t)}function A1(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);let o=RDt(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=Hf(o);if(i){let s=xoe(a);return t.concat(a,a.visualViewport||[],PB(o)?o:[],s&&r?A1(s):[])}return t.concat(o,A1(o,[],r))}function xoe(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NDt(e){let t=ym(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,o=$g(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=nH(r)!==i||nH(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function mMe(e){return gm(e)?e:e.contextElement}function TB(e){let t=mMe(e);if(!$g(t))return kg(1);let r=t.getBoundingClientRect(),{width:n,height:o,$:i}=NDt(t),a=(i?nH(r.width):r.width)/n,s=(i?nH(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var ban=kg(0);function LDt(e){let t=Hf(e);return!Soe()||!t.visualViewport?ban:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _an(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hf(e)?!1:t}function j1(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);let o=e.getBoundingClientRect(),i=mMe(e),a=kg(1);t&&(n?gm(n)&&(a=TB(n)):a=TB(e));let s=_an(i,r,n)?LDt(i):kg(0),u=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){let f=Hf(i),p=n&&gm(n)?Hf(n):n,h=f,m=xoe(h);for(;m&&n&&p!==h;){let _=TB(m),g=m.getBoundingClientRect(),v=ym(m),S=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*_.x,x=g.top+(m.clientTop+parseFloat(v.paddingTop))*_.y;u*=_.x,l*=_.y,c*=_.x,d*=_.y,u+=S,l+=x,h=Hf(m),m=xoe(h)}}return I1({width:c,height:d,x:u,y:l})}function gMe(e,t){let r=aH(e).scrollLeft;return t?t.left+r:j1(Bg(e)).left+r}function FDt(e,t,r){r===void 0&&(r=!1);let n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:gMe(e,n)),i=n.top+t.scrollTop;return{x:o,y:i}}function van(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e,i=o==="fixed",a=Bg(n),s=t?iH(t.floating):!1;if(n===a||s&&i)return r;let u={scrollLeft:0,scrollTop:0},l=kg(1),c=kg(0),d=$g(n);if((d||!d&&!i)&&((R1(n)!=="body"||PB(a))&&(u=aH(n)),$g(n))){let p=j1(n);l=TB(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}let f=a&&!d&&!i?FDt(a,u,!0):kg(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-u.scrollLeft*l.x+c.x+f.x,y:r.y*l.y-u.scrollTop*l.y+c.y+f.y}}function wan(e){return Array.from(e.getClientRects())}function San(e){let t=Bg(e),r=aH(e),n=e.ownerDocument.body,o=zd(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=zd(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+gMe(e),s=-r.scrollTop;return ym(n).direction==="rtl"&&(a+=zd(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function xan(e,t){let r=Hf(e),n=Bg(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;let l=Soe();(!l||l&&t==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s,y:u}}function Can(e,t){let r=j1(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=$g(e)?TB(e):kg(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,u=o*i.x,l=n*i.y;return{width:a,height:s,x:u,y:l}}function DDt(e,t,r){let n;if(t==="viewport")n=xan(e,r);else if(t==="document")n=San(Bg(e));else if(gm(t))n=Can(t,r);else{let o=LDt(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return I1(n)}function kDt(e,t){let r=HC(e);return r===t||!gm(r)||D1(r)?!1:ym(r).position==="fixed"||kDt(r,t)}function Oan(e,t){let r=t.get(e);if(r)return r;let n=A1(e,[],!1).filter(s=>gm(s)&&R1(s)!=="body"),o=null,i=ym(e).position==="fixed",a=i?HC(e):e;for(;gm(a)&&!D1(a);){let s=ym(a),u=woe(a);!u&&s.position==="fixed"&&(o=null),(i?!u&&!o:!u&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||PB(a)&&!u&&kDt(e,a))?n=n.filter(c=>c!==a):o=s,a=HC(a)}return t.set(e,n),n}function Ean(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[...r==="clippingAncestors"?iH(t)?[]:Oan(t,this._c):[].concat(r),n],s=a[0],u=a.reduce((l,c)=>{let d=DDt(t,c,o);return l.top=zd(d.top,l.top),l.right=Kw(d.right,l.right),l.bottom=Kw(d.bottom,l.bottom),l.left=zd(d.left,l.left),l},DDt(t,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Pan(e){let{width:t,height:r}=NDt(e);return{width:t,height:r}}function Tan(e,t,r){let n=$g(t),o=Bg(t),i=r==="fixed",a=j1(e,!0,i,t),s={scrollLeft:0,scrollTop:0},u=kg(0);if(n||!n&&!i)if((R1(t)!=="body"||PB(o))&&(s=aH(t)),n){let f=j1(t,!0,i,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else o&&(u.x=gMe(o));let l=o&&!n&&!i?FDt(o,s):kg(0),c=a.left+s.scrollLeft-u.x-l.x,d=a.top+s.scrollTop-u.y-l.y;return{x:c,y:d,width:a.width,height:a.height}}function hMe(e){return ym(e).position==="static"}function jDt(e,t){if(!$g(e)||ym(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bg(e)===r&&(r=r.ownerDocument.body),r}function BDt(e,t){let r=Hf(e);if(iH(e))return r;if(!$g(e)){let o=HC(e);for(;o&&!D1(o);){if(gm(o)&&!hMe(o))return o;o=HC(o)}return r}let n=jDt(e,t);for(;n&&IDt(n)&&hMe(n);)n=jDt(n,t);return n&&D1(n)&&hMe(n)&&!woe(n)?r:n||ADt(e)||r}var Man=async function(e){let t=this.getOffsetParent||BDt,r=this.getDimensions,n=await r(e.floating);return{reference:Tan(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ian(e){return ym(e).direction==="rtl"}var $Dt={convertOffsetParentRelativeRectToViewportRelativeRect:van,getDocumentElement:Bg,getClippingRect:Ean,getOffsetParent:BDt,getElementRects:Man,getClientRects:wan,getDimensions:Pan,getScale:TB,isElement:gm,isRTL:Ian};function Aan(e,t){let r=null,n,o=Bg(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();let{left:l,top:c,width:d,height:f}=e.getBoundingClientRect();if(s||t(),!d||!f)return;let p=oH(c),h=oH(o.clientWidth-(l+d)),m=oH(o.clientHeight-(c+f)),_=oH(l),v={rootMargin:-p+"px "+-h+"px "+-m+"px "+-_+"px",threshold:zd(0,Kw(1,u))||1},S=!0;function x(O){let T=O[0].intersectionRatio;if(T!==u){if(!S)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(x,{...v,root:o.ownerDocument})}catch{r=new IntersectionObserver(x,v)}r.observe(e)}return a(!0),i}function VC(e,t,r,n){n===void 0&&(n={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=mMe(e),c=o||i?[...l?A1(l):[],...A1(t)]:[];c.forEach(g=>{o&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});let d=l&&s?Aan(l,r):null,f=-1,p=null;a&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),l&&!u&&p.observe(l),p.observe(t));let h,m=u?j1(e):null;u&&_();function _(){let g=j1(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,h=requestAnimationFrame(_)}return r(),()=>{var g;c.forEach(v=>{o&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),d?.(),(g=p)==null||g.disconnect(),p=null,u&&cancelAnimationFrame(h)}}var qDt=CDt;var UDt=ODt,zDt=SDt,HDt=PDt,VDt=xDt,yMe=wDt;var WDt=EDt,bMe=(e,t,r)=>{let n=new Map,o={platform:$Dt,...r},i={...o.platform,_c:n};return vDt(e,t,{...o,platform:i})};var Mu=B(Y(),1),Eoe=B(Y(),1),GDt=B(as(),1),Coe=typeof document<"u"?Eoe.useLayoutEffect:Eoe.useEffect;function Ooe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ooe(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){let i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!Ooe(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function KDt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JDt(e,t){let r=KDt(e);return Math.round(t*r)/r}function _Me(e){let t=Mu.useRef(e);return Coe(()=>{t.current=e}),t}function MT(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:u,open:l}=e,[c,d]=Mu.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=Mu.useState(n);Ooe(f,n)||p(n);let[h,m]=Mu.useState(null),[_,g]=Mu.useState(null),v=Mu.useCallback(V=>{V!==T.current&&(T.current=V,m(V))},[]),S=Mu.useCallback(V=>{V!==E.current&&(E.current=V,g(V))},[]),x=i||h,O=a||_,T=Mu.useRef(null),E=Mu.useRef(null),M=Mu.useRef(c),A=u!=null,j=_Me(u),N=_Me(o),F=_Me(l),k=Mu.useCallback(()=>{if(!T.current||!E.current)return;let V={placement:t,strategy:r,middleware:f};N.current&&(V.platform=N.current),bMe(T.current,E.current,V).then(D=>{let z={...D,isPositioned:F.current!==!1};L.current&&!Ooe(M.current,z)&&(M.current=z,GDt.flushSync(()=>{d(z)}))})},[f,t,r,N,F]);Coe(()=>{l===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[l]);let L=Mu.useRef(!1);Coe(()=>(L.current=!0,()=>{L.current=!1}),[]),Coe(()=>{if(x&&(T.current=x),O&&(E.current=O),x&&O){if(j.current)return j.current(x,O,k);k()}},[x,O,k,j,A]);let q=Mu.useMemo(()=>({reference:T,floating:E,setReference:v,setFloating:S}),[v,S]),U=Mu.useMemo(()=>({reference:x,floating:O}),[x,O]),G=Mu.useMemo(()=>{let V={position:r,left:0,top:0};if(!U.floating)return V;let D=JDt(U.floating,c.x),z=JDt(U.floating,c.y);return s?{...V,transform:"translate("+D+"px, "+z+"px)",...KDt(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:z}},[r,s,U.floating,c.x,c.y]);return Mu.useMemo(()=>({...c,update:k,refs:q,elements:U,floatingStyles:G}),[c,k,q,U,G])}var Ran=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?yMe({element:n.current,padding:o}).fn(r):{}:n?yMe({element:n,padding:o}).fn(r):{}}}},IT=(e,t)=>({...qDt(e),options:[e,t]}),AT=(e,t)=>({...UDt(e),options:[e,t]}),RT=(e,t)=>({...WDt(e),options:[e,t]}),DT=(e,t)=>({...zDt(e),options:[e,t]}),jT=(e,t)=>({...HDt(e),options:[e,t]});var NT=(e,t)=>({...VDt(e),options:[e,t]});var LT=(e,t)=>({...Ran(e),options:[e,t]});var YDt=B(Y(),1);var vMe=B(lt(),1),Dan="Arrow",ZDt=YDt.forwardRef((e,t)=>{let{children:r,width:n=10,height:o=5,...i}=e;return(0,vMe.jsx)(Al.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,vMe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});ZDt.displayName=Dan;var XDt=ZDt;var QDt=B(Y(),1);function bm(e){let[t,r]=QDt.useState(void 0);return Br(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;let i=o[0],a,s;if("borderBoxSize"in i){let u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;a=l.inlineSize,s=l.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var FT=B(lt(),1);var wMe="Popper",[ejt,SMe]=Ro(wMe),[Nan,tjt]=ejt(wMe),rjt=e=>{let{__scopePopper:t,children:r}=e,[n,o]=Lp.useState(null);return(0,FT.jsx)(Nan,{scope:t,anchor:n,onAnchorChange:o,children:r})};rjt.displayName=wMe;var njt="PopperAnchor",ojt=Lp.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...o}=e,i=tjt(njt,r),a=Lp.useRef(null),s=hc(t,a);return Lp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,FT.jsx)(Al.div,{...o,ref:s})});ojt.displayName=njt;var xMe="PopperContent",[Lan,Fan]=ejt(xMe),ijt=Lp.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:h,...m}=e,_=tjt(xMe,r),[g,v]=Lp.useState(null),S=hc(t,ue=>v(ue)),[x,O]=Lp.useState(null),T=bm(x),E=T?.width??0,M=T?.height??0,A=n+(i!=="center"?"-"+i:""),j=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(l)?l:[l],F=N.length>0,k={padding:j,boundary:N.filter(Ban),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:G,middlewareData:V}=MT({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>VC(...ue,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[IT({mainAxis:o+M,alignmentAxis:a}),u&&AT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?RT():void 0,...k}),u&&DT({...k}),jT({...k,apply:({elements:ue,rects:Me,availableWidth:ht,availableHeight:we})=>{let{width:ie,height:ee}=Me.reference,ge=ue.floating.style;ge.setProperty("--radix-popper-available-width",`${ht}px`),ge.setProperty("--radix-popper-available-height",`${we}px`),ge.setProperty("--radix-popper-anchor-width",`${ie}px`),ge.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&LT({element:x,padding:s}),$an({arrowWidth:E,arrowHeight:M}),f&&NT({strategy:"referenceHidden",...k})]}),[D,z]=ujt(U),W=Wt(h);Br(()=>{G&&W?.()},[G,W]);let J=V.arrow?.x,te=V.arrow?.y,Ae=V.arrow?.centerOffset!==0,[Z,Q]=Lp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,FT.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,FT.jsx)(Lan,{scope:r,placedSide:D,onArrowChange:O,arrowX:J,arrowY:te,shouldHideArrow:Ae,children:(0,FT.jsx)(Al.div,{"data-side":D,"data-align":z,...m,ref:S,style:{...m.style,animation:G?void 0:"none"}})})})});ijt.displayName=xMe;var ajt="PopperArrow",kan={top:"bottom",right:"left",bottom:"top",left:"right"},sjt=Lp.forwardRef(function(t,r){let{__scopePopper:n,...o}=t,i=Fan(ajt,n),a=kan[i.placedSide];return(0,FT.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,FT.jsx)(XDt,{...o,ref:r,style:{...o.style,display:"block"}})})});sjt.displayName=ajt;function Ban(e){return e!==null}var $an=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[l,c]=ujt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,h="",m="";return l==="bottom"?(h=a?d:`${f}px`,m=`${-u}px`):l==="top"?(h=a?d:`${f}px`,m=`${n.floating.height+u}px`):l==="right"?(h=`${-u}px`,m=a?d:`${p}px`):l==="left"&&(h=`${n.floating.width+u}px`,m=a?d:`${p}px`),{data:{x:h,y:m}}}});function ujt(e){let[t,r="center"]=e.split("-");return[t,r]}var CMe=rjt,ljt=ojt,cjt=ijt,djt=sjt;var Poe=B(Y(),1),fjt=B(as(),1);var pjt=B(lt(),1),Uan="Portal",OMe=Poe.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=Poe.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?fjt.default.createPortal((0,pjt.jsx)(Al.div,{...n,ref:t}),a):null});OMe.displayName=Uan;var Vf=B(Y(),1);var mjt=B(Y(),1);function hjt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zan(...e){return t=>{let r=!1,n=e.map(o=>{let i=hjt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():hjt(e[o],null)}}}}function gjt(...e){return mjt.useCallback(zan(...e),e)}var yjt=B(Y(),1);function Han(e,t){return yjt.useReducer((r,n)=>t[r][n]??r,e)}var Iu=e=>{let{present:t,children:r}=e,n=Van(t),o=typeof r=="function"?r({present:n.isPresent}):Vf.Children.only(r),i=gjt(n.ref,Wan(o));return typeof r=="function"||n.isPresent?Vf.cloneElement(o,{ref:i}):null};Iu.displayName="Presence";function Van(e){let[t,r]=Vf.useState(),n=Vf.useRef({}),o=Vf.useRef(e),i=Vf.useRef("none"),a=e?"mounted":"unmounted",[s,u]=Han(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Vf.useEffect(()=>{let l=Toe(n.current);i.current=s==="mounted"?l:"none"},[s]),Br(()=>{let l=n.current,c=o.current;if(c!==e){let f=i.current,p=Toe(l);e?u("MOUNT"):p==="none"||l?.display==="none"?u("UNMOUNT"):u(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Br(()=>{if(t){let l,c=t.ownerDocument.defaultView??window,d=p=>{let m=Toe(n.current).includes(p.animationName);if(p.target===t&&m&&(u("ANIMATION_END"),!o.current)){let _=t.style.animationFillMode;t.style.animationFillMode="forwards",l=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},f=p=>{p.target===t&&(i.current=Toe(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:Vf.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function Toe(e){return e?.animationName||"none"}function Wan(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rl=B(Y(),1);function N1(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var kT=B(Y(),1);var _jt=B(Y(),1);function bjt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EMe(...e){return t=>{let r=!1,n=e.map(o=>{let i=bjt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():bjt(e[o],null)}}}}function sH(...e){return _jt.useCallback(EMe(...e),e)}var gc=B(Y(),1);var MB=B(lt(),1),IB=gc.forwardRef((e,t)=>{let{children:r,...n}=e,o=gc.Children.toArray(r),i=o.find(Gan);if(i){let a=i.props.children,s=o.map(u=>u===i?gc.Children.count(a)>1?gc.Children.only(null):gc.isValidElement(a)?a.props.children:null:u);return(0,MB.jsx)(PMe,{...n,ref:t,children:gc.isValidElement(a)?gc.cloneElement(a,void 0,s):null})}return(0,MB.jsx)(PMe,{...n,ref:t,children:r})});IB.displayName="Slot";var PMe=gc.forwardRef((e,t)=>{let{children:r,...n}=e;if(gc.isValidElement(r)){let o=Yan(r);return gc.cloneElement(r,{...Kan(n,r.props),ref:t?EMe(t,o):o})}return gc.Children.count(r)>1?gc.Children.only(null):null});PMe.displayName="SlotClone";var Jan=({children:e})=>(0,MB.jsx)(MB.Fragment,{children:e});function Gan(e){return gc.isValidElement(e)&&e.type===Jan}function Kan(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Yan(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Moe=B(lt(),1);function vjt(e){let t=e+"CollectionProvider",[r,n]=Ro(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:h,children:m}=p,_=kT.default.useRef(null),g=kT.default.useRef(new Map).current;return(0,Moe.jsx)(o,{scope:h,itemMap:g,collectionRef:_,children:m})};a.displayName=t;let s=e+"CollectionSlot",u=kT.default.forwardRef((p,h)=>{let{scope:m,children:_}=p,g=i(s,m),v=sH(h,g.collectionRef);return(0,Moe.jsx)(IB,{ref:v,children:_})});u.displayName=s;let l=e+"CollectionItemSlot",c="data-radix-collection-item",d=kT.default.forwardRef((p,h)=>{let{scope:m,children:_,...g}=p,v=kT.default.useRef(null),S=sH(h,v),x=i(l,m);return kT.default.useEffect(()=>(x.itemMap.set(v,{ref:v,...g}),()=>void x.itemMap.delete(v))),(0,Moe.jsx)(IB,{[c]:"",ref:S,children:_})});d.displayName=l;function f(p){let h=i(e+"CollectionConsumer",p);return kT.default.useCallback(()=>{let _=h.collectionRef.current;if(!_)return[];let g=Array.from(_.querySelectorAll(`[${c}]`));return Array.from(h.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var wjt=B(Y(),1),Zan=B(as(),1);var Sjt=B(lt(),1),Xan=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],TMe=Xan.reduce((e,t)=>{let r=wjt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?IB:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,Sjt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var BT=B(lt(),1),MMe="rovingFocusGroup.onEntryFocus",Qan={bubbles:!1,cancelable:!0},Ioe="RovingFocusGroup",[IMe,xjt,esn]=vjt(Ioe),[tsn,AMe]=Ro(Ioe,[esn]),[rsn,nsn]=tsn(Ioe),Cjt=Rl.forwardRef((e,t)=>(0,BT.jsx)(IMe.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,BT.jsx)(IMe.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,BT.jsx)(osn,{...e,ref:t})})}));Cjt.displayName=Ioe;var osn=Rl.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:c=!1,...d}=e,f=Rl.useRef(null),p=sH(t,f),h=ET(i),[m=null,_]=Qu({prop:a,defaultProp:s,onChange:u}),[g,v]=Rl.useState(!1),S=Wt(l),x=xjt(r),O=Rl.useRef(!1),[T,E]=Rl.useState(0);return Rl.useEffect(()=>{let M=f.current;if(M)return M.addEventListener(MMe,S),()=>M.removeEventListener(MMe,S)},[S]),(0,BT.jsx)(rsn,{scope:r,orientation:n,dir:h,loop:o,currentTabStopId:m,onItemFocus:Rl.useCallback(M=>_(M),[_]),onItemShiftTab:Rl.useCallback(()=>v(!0),[]),onFocusableItemAdd:Rl.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:Rl.useCallback(()=>E(M=>M-1),[]),children:(0,BT.jsx)(TMe.div,{tabIndex:g||T===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:N1(e.onMouseDown,()=>{O.current=!0}),onFocus:N1(e.onFocus,M=>{let A=!O.current;if(M.target===M.currentTarget&&A&&!g){let j=new CustomEvent(MMe,Qan);if(M.currentTarget.dispatchEvent(j),!j.defaultPrevented){let N=x().filter(U=>U.focusable),F=N.find(U=>U.active),k=N.find(U=>U.id===m),q=[F,k,...N].filter(Boolean).map(U=>U.ref.current);Pjt(q,c)}}O.current=!1}),onBlur:N1(e.onBlur,()=>v(!1))})})}),Ojt="RovingFocusGroupItem",Ejt=Rl.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,...a}=e,s=Fa(),u=i||s,l=nsn(Ojt,r),c=l.currentTabStopId===u,d=xjt(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=l;return Rl.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),(0,BT.jsx)(IMe.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:(0,BT.jsx)(TMe.span,{tabIndex:c?0:-1,"data-orientation":l.orientation,...a,ref:t,onMouseDown:N1(e.onMouseDown,h=>{n?l.onItemFocus(u):h.preventDefault()}),onFocus:N1(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:N1(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){l.onItemShiftTab();return}if(h.target!==h.currentTarget)return;let m=ssn(h,l.orientation,l.dir);if(m!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let g=d().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();let v=g.indexOf(h.currentTarget);g=l.loop?usn(g,v+1):g.slice(v+1)}setTimeout(()=>Pjt(g))}})})})});Ejt.displayName=Ojt;var isn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function asn(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ssn(e,t,r){let n=asn(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return isn[n]}function Pjt(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function usn(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tjt=Cjt,Mjt=Ejt;var csn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},AB=new WeakMap,Aoe=new WeakMap,Roe={},RMe=0,Ijt=function(e){return e&&(e.host||Ijt(e.parentNode))},dsn=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ijt(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},fsn=function(e,t,r,n){var o=dsn(t,Array.isArray(e)?e:[e]);Roe[r]||(Roe[r]=new WeakMap);var i=Roe[r],a=[],s=new Set,u=new Set(o),l=function(d){!d||s.has(d)||(s.add(d),l(d.parentNode))};o.forEach(l);var c=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))c(f);else try{var p=f.getAttribute(n),h=p!==null&&p!=="false",m=(AB.get(f)||0)+1,_=(i.get(f)||0)+1;AB.set(f,m),i.set(f,_),a.push(f),m===1&&h&&Aoe.set(f,!0),_===1&&f.setAttribute(r,"true"),h||f.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return c(t),s.clear(),RMe++,function(){a.forEach(function(d){var f=AB.get(d)-1,p=i.get(d)-1;AB.set(d,f),i.set(d,p),f||(Aoe.has(d)||d.removeAttribute(n),Aoe.delete(d)),p||d.removeAttribute(r)}),RMe--,RMe||(AB=new WeakMap,AB=new WeakMap,Aoe=new WeakMap,Roe={})}},$T=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=t||csn(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),fsn(n,o,r,"aria-hidden")):function(){return null}};var Do=function(){return Do=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Do.apply(this,arguments)};function qT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function RB(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Foe=B(Y());var ud=B(Y());var qg="right-scroll-bar-position",Ug="width-before-scroll-bar",DMe="with-scroll-bars-hidden",jMe="--removed-body-scroll-bar-size";function Doe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}var Ajt=B(Y());function Rjt(e,t){var r=(0,Ajt.useState)(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var joe=B(Y());var psn=typeof window<"u"?joe.useLayoutEffect:joe.useEffect,Djt=new WeakMap;function L1(e,t){var r=Rjt(t||null,function(n){return e.forEach(function(o){return Doe(o,n)})});return psn(function(){var n=Djt.get(r);if(n){var o=new Set(n),i=new Set(e),a=r.current;o.forEach(function(s){i.has(s)||Doe(s,null)}),i.forEach(function(s){o.has(s)||Doe(s,a)})}Djt.set(r,e)},[e]),r}function hsn(e){return e}function msn(e,t){t===void 0&&(t=hsn);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(i),a=r}var u=function(){var c=a;a=[],c.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),r={push:function(c){a.push(c),l()},filter:function(c){return a=a.filter(c),r}}}};return o}function F1(e){e===void 0&&(e={});var t=msn(null);return t.options=Do({async:!0,ssr:!1},e),t}var jjt=B(Y()),Njt=function(e){var t=e.sideCar,r=qT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return jjt.createElement(n,Do({},r))};Njt.isSideCarExport=!0;function k1(e,t){return e.useMedium(t),Njt}var Noe=F1();var NMe=function(){},uH=ud.forwardRef(function(e,t){var r=ud.useRef(null),n=ud.useState({onScrollCapture:NMe,onWheelCapture:NMe,onTouchMoveCapture:NMe}),o=n[0],i=n[1],a=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,_=e.as,g=_===void 0?"div":_,v=e.gapMode,S=qT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=L1([r,t]),T=Do(Do({},S),o);return ud.createElement(ud.Fragment,null,c&&ud.createElement(x,{sideCar:Noe,removeScrollBar:l,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),a?ud.cloneElement(ud.Children.only(s),Do(Do({},T),{ref:O})):ud.createElement(g,Do({},T,{className:u,ref:O}),s))});uH.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uH.classNames={fullWidth:Ug,zeroRight:qg};var Ii=B(Y());var jB=B(Y());var kjt=B(Y());var Ljt;var Fjt=function(){if(Ljt)return Ljt;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gsn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Fjt();return t&&e.setAttribute("nonce",t),e}function ysn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bsn(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LMe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gsn())&&(ysn(t,r),bsn(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var FMe=function(){var e=LMe();return function(t,r){kjt.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}};var WC=function(){var e=FMe(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t};var _sn={left:0,top:0,right:0,gap:0},kMe=function(e){return parseInt(e||"",10)||0},vsn=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[kMe(r),kMe(n),kMe(o)]},BMe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _sn;var t=vsn(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}};var wsn=WC(),DB="data-scroll-locked",Ssn=function(e,t,r,n){var o=e.left,i=e.top,a=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(DMe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(DB,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qg,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Ug,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(qg," .").concat(qg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ug," .").concat(Ug,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(DB,`] {
    `).concat(jMe,": ").concat(s,`px;
  }
`)},Bjt=function(){var e=parseInt(document.body.getAttribute(DB)||"0",10);return isFinite(e)?e:0},xsn=function(){jB.useEffect(function(){return document.body.setAttribute(DB,(Bjt()+1).toString()),function(){var e=Bjt()-1;e<=0?document.body.removeAttribute(DB):document.body.setAttribute(DB,e.toString())}},[])},B1=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;xsn();var i=jB.useMemo(function(){return BMe(o)},[o]);return jB.createElement(wsn,{styles:Ssn(i,!t,o,r?"":"!important")})};var $Me=!1;if(typeof window<"u")try{lH=Object.defineProperty({},"passive",{get:function(){return $Me=!0,!0}}),window.addEventListener("test",lH,lH),window.removeEventListener("test",lH,lH)}catch{$Me=!1}var lH,$1=$Me?{passive:!1}:!1;var Csn=function(e){return e.tagName==="TEXTAREA"},$jt=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Csn(e)&&r[t]==="visible")},Osn=function(e){return $jt(e,"overflowY")},Esn=function(e){return $jt(e,"overflowX")},qMe=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=qjt(e,n);if(o){var i=Ujt(e,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Psn=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Tsn=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qjt=function(e,t){return e==="v"?Osn(t):Esn(t)},Ujt=function(e,t){return e==="v"?Psn(t):Tsn(t)},Msn=function(e,t){return e==="h"&&t==="rtl"?-1:1},zjt=function(e,t,r,n,o){var i=Msn(e,window.getComputedStyle(t).direction),a=i*n,s=r.target,u=t.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=Ujt(e,s),h=p[0],m=p[1],_=p[2],g=m-_-i*h;(h||g)&&qjt(e,s)&&(d+=g,f+=h),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var Loe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hjt=function(e){return[e.deltaX,e.deltaY]},Vjt=function(e){return e&&"current"in e?e.current:e},Isn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Asn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rsn=0,NB=[];function Wjt(e){var t=Ii.useRef([]),r=Ii.useRef([0,0]),n=Ii.useRef(),o=Ii.useState(Rsn++)[0],i=Ii.useState(WC)[0],a=Ii.useRef(e);Ii.useEffect(function(){a.current=e},[e]),Ii.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=RB([e.lockRef.current],(e.shards||[]).map(Vjt),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=Ii.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=Loe(m),v=r.current,S="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],O,T=m.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in m&&E==="h"&&T.type==="range")return!1;var M=qMe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=qMe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in m&&(S||x)&&(n.current=O),!O)return!0;var A=n.current||O;return zjt(A,_,m,A==="h"?S:x,!0)},[]),u=Ii.useCallback(function(m){var _=m;if(!(!NB.length||NB[NB.length-1]!==i)){var g="deltaY"in _?Hjt(_):Loe(_),v=t.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&Isn(O.delta,g)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var S=(a.current.shards||[]).map(Vjt).filter(Boolean).filter(function(O){return O.contains(_.target)}),x=S.length>0?s(_,S[0]):!a.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),l=Ii.useCallback(function(m,_,g,v){var S={name:m,delta:_,target:g,should:v,shadowParent:Dsn(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(x){return x!==S})},1)},[]),c=Ii.useCallback(function(m){r.current=Loe(m),n.current=void 0},[]),d=Ii.useCallback(function(m){l(m.type,Hjt(m),m.target,s(m,e.lockRef.current))},[]),f=Ii.useCallback(function(m){l(m.type,Loe(m),m.target,s(m,e.lockRef.current))},[]);Ii.useEffect(function(){return NB.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,$1),document.addEventListener("touchmove",u,$1),document.addEventListener("touchstart",c,$1),function(){NB=NB.filter(function(m){return m!==i}),document.removeEventListener("wheel",u,$1),document.removeEventListener("touchmove",u,$1),document.removeEventListener("touchstart",c,$1)}},[]);var p=e.removeScrollBar,h=e.inert;return Ii.createElement(Ii.Fragment,null,h?Ii.createElement(i,{styles:Asn(o)}):null,p?Ii.createElement(B1,{gapMode:e.gapMode}):null)}function Dsn(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var Jjt=k1(Noe,Wjt);var Gjt=Foe.forwardRef(function(e,t){return Foe.createElement(uH,Do({},e,{ref:t,sideCar:Jjt}))});Gjt.classNames=uH.classNames;var UMe=Gjt;var tr=B(lt(),1),zMe=["Enter"," "],jsn=["ArrowDown","PageUp","Home"],Yjt=["ArrowUp","PageDown","End"],Nsn=[...jsn,...Yjt],Lsn={ltr:[...zMe,"ArrowRight"],rtl:[...zMe,"ArrowLeft"]},Fsn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pH="Menu",[dH,ksn,Bsn]=K1t(pH),[q1,HMe]=Ro(pH,[Bsn,SMe,AMe]),hH=SMe(),Zjt=AMe(),[Xjt,UT]=q1(pH),[$sn,mH]=q1(pH),Qjt=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:i,modal:a=!0}=e,s=hH(t),[u,l]=vt.useState(null),c=vt.useRef(!1),d=Wt(i),f=ET(o);return vt.useEffect(()=>{let p=()=>{c.current=!0,document.addEventListener("pointerdown",h,{capture:!0,once:!0}),document.addEventListener("pointermove",h,{capture:!0,once:!0})},h=()=>c.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",h,{capture:!0}),document.removeEventListener("pointermove",h,{capture:!0})}},[]),(0,tr.jsx)(CMe,{...s,children:(0,tr.jsx)(Xjt,{scope:t,open:r,onOpenChange:d,content:u,onContentChange:l,children:(0,tr.jsx)($sn,{scope:t,onClose:vt.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:f,modal:a,children:n})})})};Qjt.displayName=pH;var qsn="MenuAnchor",VMe=vt.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=hH(r);return(0,tr.jsx)(ljt,{...o,...n,ref:t})});VMe.displayName=qsn;var WMe="MenuPortal",[Usn,eNt]=q1(WMe,{forceMount:void 0}),tNt=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:o}=e,i=UT(WMe,t);return(0,tr.jsx)(Usn,{scope:t,forceMount:r,children:(0,tr.jsx)(Iu,{present:r||i.open,children:(0,tr.jsx)(OMe,{asChild:!0,container:o,children:n})})})};tNt.displayName=WMe;var _m="MenuContent",[zsn,JMe]=q1(_m),rNt=vt.forwardRef((e,t)=>{let r=eNt(_m,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=UT(_m,e.__scopeMenu),a=mH(_m,e.__scopeMenu);return(0,tr.jsx)(dH.Provider,{scope:e.__scopeMenu,children:(0,tr.jsx)(Iu,{present:n||i.open,children:(0,tr.jsx)(dH.Slot,{scope:e.__scopeMenu,children:a.modal?(0,tr.jsx)(Hsn,{...o,ref:t}):(0,tr.jsx)(Vsn,{...o,ref:t})})})})}),Hsn=vt.forwardRef((e,t)=>{let r=UT(_m,e.__scopeMenu),n=vt.useRef(null),o=hc(t,n);return vt.useEffect(()=>{let i=n.current;if(i)return $T(i)},[]),(0,tr.jsx)(GMe,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fi(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Vsn=vt.forwardRef((e,t)=>{let r=UT(_m,e.__scopeMenu);return(0,tr.jsx)(GMe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),GMe=vt.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:h,...m}=e,_=UT(_m,r),g=mH(_m,r),v=hH(r),S=Zjt(r),x=ksn(r),[O,T]=vt.useState(null),E=vt.useRef(null),M=hc(t,E,_.onContentChange),A=vt.useRef(0),j=vt.useRef(""),N=vt.useRef(0),F=vt.useRef(null),k=vt.useRef("right"),L=vt.useRef(0),q=h?UMe:vt.Fragment,U=h?{as:CT,allowPinchZoom:!0}:void 0,G=D=>{let z=j.current+D,W=x().filter(ue=>!ue.disabled),J=document.activeElement,te=W.find(ue=>ue.ref.current===J)?.textValue,Ae=W.map(ue=>ue.textValue),Z=oun(Ae,z,te),Q=W.find(ue=>ue.textValue===Z)?.ref.current;(function ue(Me){j.current=Me,window.clearTimeout(A.current),Me!==""&&(A.current=window.setTimeout(()=>ue(""),1e3))})(z),Q&&setTimeout(()=>Q.focus())};vt.useEffect(()=>()=>window.clearTimeout(A.current),[]),PT();let V=vt.useCallback(D=>k.current===F.current?.side&&aun(D,F.current?.area),[]);return(0,tr.jsx)(zsn,{scope:r,searchRef:j,onItemEnter:vt.useCallback(D=>{V(D)&&D.preventDefault()},[V]),onItemLeave:vt.useCallback(D=>{V(D)||(E.current?.focus(),T(null))},[V]),onTriggerLeave:vt.useCallback(D=>{V(D)&&D.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:vt.useCallback(D=>{F.current=D},[]),children:(0,tr.jsx)(q,{...U,children:(0,tr.jsx)(fMe,{asChild:!0,trapped:o,onMountAutoFocus:fi(i,D=>{D.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:(0,tr.jsx)(uMe,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:(0,tr.jsx)(Tjt,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:O,onCurrentTabStopIdChange:T,onEntryFocus:fi(u,D=>{g.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,tr.jsx)(cjt,{role:"menu","aria-orientation":"vertical","data-state":bNt(_.open),"data-radix-menu-content":"",dir:g.dir,...v,...m,ref:M,style:{outline:"none",...m.style},onKeyDown:fi(m.onKeyDown,D=>{let W=D.target.closest("[data-radix-menu-content]")===D.currentTarget,J=D.ctrlKey||D.altKey||D.metaKey,te=D.key.length===1;W&&(D.key==="Tab"&&D.preventDefault(),!J&&te&&G(D.key));let Ae=E.current;if(D.target!==Ae||!Nsn.includes(D.key))return;D.preventDefault();let Q=x().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);Yjt.includes(D.key)&&Q.reverse(),run(Q)}),onBlur:fi(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(A.current),j.current="")}),onPointerMove:fi(e.onPointerMove,fH(D=>{let z=D.target,W=L.current!==D.clientX;if(D.currentTarget.contains(z)&&W){let J=D.clientX>L.current?"right":"left";k.current=J,L.current=D.clientX}}))})})})})})})});rNt.displayName=_m;var Wsn="MenuGroup",KMe=vt.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,tr.jsx)(Al.div,{role:"group",...n,ref:t})});KMe.displayName=Wsn;var Jsn="MenuLabel",nNt=vt.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,tr.jsx)(Al.div,{...n,ref:t})});nNt.displayName=Jsn;var koe="MenuItem",Kjt="menu.itemSelect",$oe=vt.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...o}=e,i=vt.useRef(null),a=mH(koe,e.__scopeMenu),s=JMe(koe,e.__scopeMenu),u=hc(t,i),l=vt.useRef(!1),c=()=>{let d=i.current;if(!r&&d){let f=new CustomEvent(Kjt,{bubbles:!0,cancelable:!0});d.addEventListener(Kjt,p=>n?.(p),{once:!0}),poe(d,f),f.defaultPrevented?l.current=!1:a.onClose()}};return(0,tr.jsx)(oNt,{...o,ref:u,disabled:r,onClick:fi(e.onClick,c),onPointerDown:d=>{e.onPointerDown?.(d),l.current=!0},onPointerUp:fi(e.onPointerUp,d=>{l.current||d.currentTarget?.click()}),onKeyDown:fi(e.onKeyDown,d=>{let f=s.searchRef.current!=="";r||f&&d.key===" "||zMe.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});$oe.displayName=koe;var oNt=vt.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=e,a=JMe(koe,r),s=Zjt(r),u=vt.useRef(null),l=hc(t,u),[c,d]=vt.useState(!1),[f,p]=vt.useState("");return vt.useEffect(()=>{let h=u.current;h&&p((h.textContent??"").trim())},[i.children]),(0,tr.jsx)(dH.ItemSlot,{scope:r,disabled:n,textValue:o??f,children:(0,tr.jsx)(Mjt,{asChild:!0,...s,focusable:!n,children:(0,tr.jsx)(Al.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:fi(e.onPointerMove,fH(h=>{n?a.onItemLeave(h):(a.onItemEnter(h),h.defaultPrevented||h.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fi(e.onPointerLeave,fH(h=>a.onItemLeave(h))),onFocus:fi(e.onFocus,()=>d(!0)),onBlur:fi(e.onBlur,()=>d(!1))})})})}),Gsn="MenuCheckboxItem",iNt=vt.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...o}=e;return(0,tr.jsx)(cNt,{scope:e.__scopeMenu,checked:r,children:(0,tr.jsx)($oe,{role:"menuitemcheckbox","aria-checked":Boe(r)?"mixed":r,...o,ref:t,"data-state":XMe(r),onSelect:fi(o.onSelect,()=>n?.(Boe(r)?!0:!r),{checkForDefaultPrevented:!1})})})});iNt.displayName=Gsn;var aNt="MenuRadioGroup",[Ksn,Ysn]=q1(aNt,{value:void 0,onValueChange:()=>{}}),sNt=vt.forwardRef((e,t)=>{let{value:r,onValueChange:n,...o}=e,i=Wt(n);return(0,tr.jsx)(Ksn,{scope:e.__scopeMenu,value:r,onValueChange:i,children:(0,tr.jsx)(KMe,{...o,ref:t})})});sNt.displayName=aNt;var uNt="MenuRadioItem",lNt=vt.forwardRef((e,t)=>{let{value:r,...n}=e,o=Ysn(uNt,e.__scopeMenu),i=r===o.value;return(0,tr.jsx)(cNt,{scope:e.__scopeMenu,checked:i,children:(0,tr.jsx)($oe,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":XMe(i),onSelect:fi(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});lNt.displayName=uNt;var YMe="MenuItemIndicator",[cNt,Zsn]=q1(YMe,{checked:!1}),dNt=vt.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...o}=e,i=Zsn(YMe,r);return(0,tr.jsx)(Iu,{present:n||Boe(i.checked)||i.checked===!0,children:(0,tr.jsx)(Al.span,{...o,ref:t,"data-state":XMe(i.checked)})})});dNt.displayName=YMe;var Xsn="MenuSeparator",fNt=vt.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,tr.jsx)(Al.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});fNt.displayName=Xsn;var Qsn="MenuArrow",pNt=vt.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=hH(r);return(0,tr.jsx)(djt,{...o,...n,ref:t})});pNt.displayName=Qsn;var ZMe="MenuSub",[eun,hNt]=q1(ZMe),tun=e=>{let{__scopeMenu:t,children:r,open:n=!1,onOpenChange:o}=e,i=UT(ZMe,t),a=hH(t),[s,u]=vt.useState(null),[l,c]=vt.useState(null),d=Wt(o);return vt.useEffect(()=>(i.open===!1&&d(!1),()=>d(!1)),[i.open,d]),(0,tr.jsx)(CMe,{...a,children:(0,tr.jsx)(Xjt,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:(0,tr.jsx)(eun,{scope:t,contentId:Fa(),triggerId:Fa(),trigger:s,onTriggerChange:u,children:r})})})};tun.displayName=ZMe;var cH="MenuSubTrigger",mNt=vt.forwardRef((e,t)=>{let r=UT(cH,e.__scopeMenu),n=mH(cH,e.__scopeMenu),o=hNt(cH,e.__scopeMenu),i=JMe(cH,e.__scopeMenu),a=vt.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:u}=i,l={__scopeMenu:e.__scopeMenu},c=vt.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return vt.useEffect(()=>c,[c]),vt.useEffect(()=>{let d=s.current;return()=>{window.clearTimeout(d),u(null)}},[s,u]),(0,tr.jsx)(VMe,{asChild:!0,...l,children:(0,tr.jsx)(oNt,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":bNt(r.open),...e,ref:tH(t,o.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fi(e.onPointerMove,fH(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:fi(e.onPointerLeave,fH(d=>{c();let f=r.content?.getBoundingClientRect();if(f){let p=r.content?.dataset.side,h=p==="right",m=h?-5:5,_=f[h?"left":"right"],g=f[h?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+m,y:d.clientY},{x:_,y:f.top},{x:g,y:f.top},{x:g,y:f.bottom},{x:_,y:f.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fi(e.onKeyDown,d=>{let f=i.searchRef.current!=="";e.disabled||f&&d.key===" "||Lsn[n.dir].includes(d.key)&&(r.onOpenChange(!0),r.content?.focus(),d.preventDefault())})})})});mNt.displayName=cH;var gNt="MenuSubContent",yNt=vt.forwardRef((e,t)=>{let r=eNt(_m,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=UT(_m,e.__scopeMenu),a=mH(_m,e.__scopeMenu),s=hNt(gNt,e.__scopeMenu),u=vt.useRef(null),l=hc(t,u);return(0,tr.jsx)(dH.Provider,{scope:e.__scopeMenu,children:(0,tr.jsx)(Iu,{present:n||i.open,children:(0,tr.jsx)(dH.Slot,{scope:e.__scopeMenu,children:(0,tr.jsx)(GMe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{a.isUsingKeyboardRef.current&&u.current?.focus(),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:fi(e.onFocusOutside,c=>{c.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fi(e.onEscapeKeyDown,c=>{a.onClose(),c.preventDefault()}),onKeyDown:fi(e.onKeyDown,c=>{let d=c.currentTarget.contains(c.target),f=Fsn[a.dir].includes(c.key);d&&f&&(i.onOpenChange(!1),s.trigger?.focus(),c.preventDefault())})})})})})});yNt.displayName=gNt;function bNt(e){return e?"open":"closed"}function Boe(e){return e==="indeterminate"}function XMe(e){return Boe(e)?"indeterminate":e?"checked":"unchecked"}function run(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function nun(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function oun(e,t,r){let o=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1,a=nun(e,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));let u=a.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function iun(e,t){let{x:r,y:n}=e,o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){let s=t[i].x,u=t[i].y,l=t[a].x,c=t[a].y;u>n!=c>n&&r<(l-s)*(n-u)/(c-u)+s&&(o=!o)}return o}function aun(e,t){if(!t)return!1;let r={x:e.clientX,y:e.clientY};return iun(r,t)}function fH(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _Nt=Qjt,vNt=VMe,wNt=tNt,SNt=rNt,xNt=KMe,CNt=nNt,ONt=$oe,ENt=iNt,PNt=sNt,TNt=lNt,MNt=dNt,INt=fNt,ANt=pNt;var RNt=mNt,DNt=yNt;var Dl=B(lt(),1),QMe="DropdownMenu",[uun,C2o]=Ro(QMe,[HMe]),Hd=HMe(),[lun,jNt]=uun(QMe),gH=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,u=Hd(t),l=el.useRef(null),[c=!1,d]=Qu({prop:o,defaultProp:i,onChange:a});return(0,Dl.jsx)(lun,{scope:t,triggerId:Fa(),triggerRef:l,contentId:Fa(),open:c,onOpenChange:d,onOpenToggle:el.useCallback(()=>d(f=>!f),[d]),modal:s,children:(0,Dl.jsx)(_Nt,{...u,open:c,onOpenChange:d,dir:n,modal:s,children:r})})};gH.displayName=QMe;var NNt="DropdownMenuTrigger",yH=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,i=jNt(NNt,r),a=Hd(r);return(0,Dl.jsx)(vNt,{asChild:!0,...a,children:(0,Dl.jsx)(W1t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:coe(t,i.triggerRef),onPointerDown:eH(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:eH(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});yH.displayName=NNt;var cun="DropdownMenuPortal",LNt=e=>{let{__scopeDropdownMenu:t,...r}=e,n=Hd(t);return(0,Dl.jsx)(wNt,{...n,...r})};LNt.displayName=cun;var FNt="DropdownMenuContent",kNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=jNt(FNt,r),i=Hd(r),a=el.useRef(!1);return(0,Dl.jsx)(SNt,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:t,onCloseAutoFocus:eH(e.onCloseAutoFocus,s=>{a.current||o.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:eH(e.onInteractOutside,s=>{let u=s.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,c=u.button===2||l;(!o.modal||c)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kNt.displayName=FNt;var dun="DropdownMenuGroup",fun=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(xNt,{...o,...n,ref:t})});fun.displayName=dun;var pun="DropdownMenuLabel",BNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(CNt,{...o,...n,ref:t})});BNt.displayName=pun;var hun="DropdownMenuItem",$Nt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(ONt,{...o,...n,ref:t})});$Nt.displayName=hun;var mun="DropdownMenuCheckboxItem",qNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(ENt,{...o,...n,ref:t})});qNt.displayName=mun;var gun="DropdownMenuRadioGroup",yun=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(PNt,{...o,...n,ref:t})});yun.displayName=gun;var bun="DropdownMenuRadioItem",UNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(TNt,{...o,...n,ref:t})});UNt.displayName=bun;var _un="DropdownMenuItemIndicator",zNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(MNt,{...o,...n,ref:t})});zNt.displayName=_un;var vun="DropdownMenuSeparator",HNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(INt,{...o,...n,ref:t})});HNt.displayName=vun;var wun="DropdownMenuArrow",Sun=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(ANt,{...o,...n,ref:t})});Sun.displayName=wun;var xun="DropdownMenuSubTrigger",VNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(RNt,{...o,...n,ref:t})});VNt.displayName=xun;var Cun="DropdownMenuSubContent",WNt=el.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Hd(r);return(0,Dl.jsx)(DNt,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WNt.displayName=Cun;var JNt=gH,GNt=yH,KNt=LNt,eIe=kNt;var tIe=BNt,rIe=$Nt,nIe=qNt;var oIe=UNt,iIe=zNt,aIe=HNt;var sIe=VNt,uIe=WNt;var ri=B(Y());var qoe=JNt,Uoe=GNt;var Eun=ri.forwardRef(({className:e,inset:t,children:r,...n},o)=>ri.createElement(sIe,{ref:o,className:_e("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-dropdown-hover data-[state=open]:bg-dropdown-hover [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n},r,ri.createElement(JS,{className:"ml-auto"})));Eun.displayName=sIe.displayName;var Pun=ri.forwardRef(({className:e,...t},r)=>ri.createElement(uIe,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-primary p-1 text-normal shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Pun.displayName=uIe.displayName;var zT=ri.forwardRef(({className:e,sideOffset:t=4,container:r,...n},o)=>ri.createElement(KNt,{container:r??activeDocument.body},ri.createElement(eIe,{ref:o,sideOffset:t,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border border-solid bg-primary p-1 text-normal shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})));zT.displayName=eIe.displayName;var yc=ri.forwardRef(({className:e,inset:t,...r},n)=>ri.createElement(rIe,{ref:n,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));yc.displayName=rIe.displayName;var Tun=ri.forwardRef(({className:e,children:t,checked:r,...n},o)=>ri.createElement(nIe,{ref:o,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n},ri.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ri.createElement(iIe,null,ri.createElement(Ym,{className:"h-4 w-4"}))),t));Tun.displayName=nIe.displayName;var Mun=ri.forwardRef(({className:e,children:t,...r},n)=>ri.createElement(oIe,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r},ri.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ri.createElement(iIe,null,ri.createElement(mU,{className:"h-2 w-2 fill-current"}))),t));Mun.displayName=oIe.displayName;var Iun=ri.forwardRef(({className:e,inset:t,...r},n)=>ri.createElement(tIe,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Iun.displayName=tIe.displayName;var Aun=ri.forwardRef(({className:e,...t},r)=>ri.createElement(aIe,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));Aun.displayName=aIe.displayName;var Run=({className:e,...t})=>ri.createElement("span",{className:_e("ml-auto text-xs tracking-widest opacity-60",e),...t});Run.displayName="DropdownMenuShortcut";var bH=B(Y());var LB=bH.forwardRef(({checked:e=!1,onCheckedChange:t,disabled:r=!1,className:n,...o},i)=>{let a=()=>{r||t?.(!e)},s=u=>{r||(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),t?.(!e))};return bH.createElement("div",{role:"switch","aria-checked":e,"aria-disabled":r,"data-state":e?"checked":"unchecked","data-disabled":r?"":void 0,ref:i,tabIndex:r?-1:0,className:_e("relative inline-flex h-5.5 w-10 shrink-0 cursor-pointer items-center rounded-full transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e?"bg-interactive-accent":"bg-[--background-modifier-border-hover]",r&&"cursor-not-allowed opacity-50",n),onClick:a,onKeyDown:s,...o},bH.createElement("div",{className:_e("pointer-events-none block h-4 w-4 rounded-full bg-toggle-thumb shadow-lg ring-0 transition-transform",e?"translate-x-5.5":"translate-x-0.5")}))});LB.displayName="SettingSwitch";var vH=B(Y());var Cr=B(Y(),1);function zg(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var ZNt=B(Y(),1);function YNt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lIe(...e){return t=>{let r=!1,n=e.map(o=>{let i=YNt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():YNt(e[o],null)}}}}function JC(...e){return ZNt.useCallback(lIe(...e),e)}var va=B(Y(),1);var XNt=B(Y(),1),QNt=B(as(),1);var bc=B(Y(),1);var FB=B(lt(),1),dIe=bc.forwardRef((e,t)=>{let{children:r,...n}=e,o=bc.Children.toArray(r),i=o.find(Dun);if(i){let a=i.props.children,s=o.map(u=>u===i?bc.Children.count(a)>1?bc.Children.only(null):bc.isValidElement(a)?a.props.children:null:u);return(0,FB.jsx)(cIe,{...n,ref:t,children:bc.isValidElement(a)?bc.cloneElement(a,void 0,s):null})}return(0,FB.jsx)(cIe,{...n,ref:t,children:r})});dIe.displayName="Slot";var cIe=bc.forwardRef((e,t)=>{let{children:r,...n}=e;if(bc.isValidElement(r)){let o=Nun(r);return bc.cloneElement(r,{...jun(n,r.props),ref:t?lIe(t,o):o})}return bc.Children.count(r)>1?bc.Children.only(null):null});cIe.displayName="SlotClone";var fIe=({children:e})=>(0,FB.jsx)(FB.Fragment,{children:e});function Dun(e){return bc.isValidElement(e)&&e.type===fIe}function jun(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Nun(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eLt=B(lt(),1),Lun=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vm=Lun.reduce((e,t)=>{let r=XNt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?dIe:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,eLt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tLt(e,t){e&&QNt.flushSync(()=>e.dispatchEvent(t))}var hIe=B(lt(),1),Fun="DismissableLayer",pIe="dismissableLayer.update",kun="dismissableLayer.pointerDownOutside",$un="dismissableLayer.focusOutside",rLt,oLt=va.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mIe=va.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=va.useContext(oLt),[c,d]=va.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=va.useState({}),h=JC(t,E=>d(E)),m=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(_),v=c?m.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,O=zun(E=>{let M=E.target,A=[...l.branches].some(j=>j.contains(M));!x||A||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=Hun(E=>{let M=E.target;[...l.branches].some(j=>j.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return Gw(E=>{v===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),va.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(rLt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),nLt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=rLt)}},[c,f,r,l]),va.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),nLt())},[c,l]),va.useEffect(()=>{let E=()=>p({});return document.addEventListener(pIe,E),()=>document.removeEventListener(pIe,E)},[]),(0,hIe.jsx)(vm.div,{...u,ref:h,style:{pointerEvents:S?x?"auto":"none":void 0,...e.style},onFocusCapture:zg(e.onFocusCapture,T.onFocusCapture),onBlurCapture:zg(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:zg(e.onPointerDownCapture,O.onPointerDownCapture)})});mIe.displayName=Fun;var qun="DismissableLayerBranch",Uun=va.forwardRef((e,t)=>{let r=va.useContext(oLt),n=va.useRef(null),o=JC(t,n);return va.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,hIe.jsx)(vm.div,{...e,ref:o})});Uun.displayName=qun;function zun(e,t=globalThis?.document){let r=Wt(e),n=va.useRef(!1),o=va.useRef(()=>{});return va.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){iLt(kun,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Hun(e,t=globalThis?.document){let r=Wt(e),n=va.useRef(!1);return va.useEffect(()=>{let o=i=>{i.target&&!n.current&&iLt($un,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function nLt(){let e=new CustomEvent(pIe);document.dispatchEvent(e)}function iLt(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?tLt(o,i):o.dispatchEvent(i)}var Fp=B(Y(),1);var aLt=B(Y(),1);var gIe=B(lt(),1),Vun="Arrow",sLt=aLt.forwardRef((e,t)=>{let{children:r,width:n=10,height:o=5,...i}=e;return(0,gIe.jsx)(vm.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,gIe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});sLt.displayName=Vun;var uLt=sLt;var HT=B(lt(),1);var yIe="Popper",[lLt,bIe]=Ro(yIe),[Jun,cLt]=lLt(yIe),dLt=e=>{let{__scopePopper:t,children:r}=e,[n,o]=Fp.useState(null);return(0,HT.jsx)(Jun,{scope:t,anchor:n,onAnchorChange:o,children:r})};dLt.displayName=yIe;var fLt="PopperAnchor",pLt=Fp.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...o}=e,i=cLt(fLt,r),a=Fp.useRef(null),s=JC(t,a);return Fp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,HT.jsx)(vm.div,{...o,ref:s})});pLt.displayName=fLt;var _Ie="PopperContent",[Gun,Kun]=lLt(_Ie),hLt=Fp.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:h,...m}=e,_=cLt(_Ie,r),[g,v]=Fp.useState(null),S=JC(t,ue=>v(ue)),[x,O]=Fp.useState(null),T=bm(x),E=T?.width??0,M=T?.height??0,A=n+(i!=="center"?"-"+i:""),j=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(l)?l:[l],F=N.length>0,k={padding:j,boundary:N.filter(Zun),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:G,middlewareData:V}=MT({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>VC(...ue,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[IT({mainAxis:o+M,alignmentAxis:a}),u&&AT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?RT():void 0,...k}),u&&DT({...k}),jT({...k,apply:({elements:ue,rects:Me,availableWidth:ht,availableHeight:we})=>{let{width:ie,height:ee}=Me.reference,ge=ue.floating.style;ge.setProperty("--radix-popper-available-width",`${ht}px`),ge.setProperty("--radix-popper-available-height",`${we}px`),ge.setProperty("--radix-popper-anchor-width",`${ie}px`),ge.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&LT({element:x,padding:s}),Xun({arrowWidth:E,arrowHeight:M}),f&&NT({strategy:"referenceHidden",...k})]}),[D,z]=yLt(U),W=Wt(h);Br(()=>{G&&W?.()},[G,W]);let J=V.arrow?.x,te=V.arrow?.y,Ae=V.arrow?.centerOffset!==0,[Z,Q]=Fp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,HT.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,HT.jsx)(Gun,{scope:r,placedSide:D,onArrowChange:O,arrowX:J,arrowY:te,shouldHideArrow:Ae,children:(0,HT.jsx)(vm.div,{"data-side":D,"data-align":z,...m,ref:S,style:{...m.style,animation:G?void 0:"none"}})})})});hLt.displayName=_Ie;var mLt="PopperArrow",Yun={top:"bottom",right:"left",bottom:"top",left:"right"},gLt=Fp.forwardRef(function(t,r){let{__scopePopper:n,...o}=t,i=Kun(mLt,n),a=Yun[i.placedSide];return(0,HT.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,HT.jsx)(uLt,{...o,ref:r,style:{...o.style,display:"block"}})})});gLt.displayName=mLt;function Zun(e){return e!==null}var Xun=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[l,c]=yLt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,h="",m="";return l==="bottom"?(h=a?d:`${f}px`,m=`${-u}px`):l==="top"?(h=a?d:`${f}px`,m=`${n.floating.height+u}px`):l==="right"?(h=`${-u}px`,m=a?d:`${p}px`):l==="left"&&(h=`${n.floating.width+u}px`,m=a?d:`${p}px`),{data:{x:h,y:m}}}});function yLt(e){let[t,r="center"]=e.split("-");return[t,r]}var bLt=dLt,_Lt=pLt,vLt=hLt,wLt=gLt;var zoe=B(Y(),1),SLt=B(as(),1);var xLt=B(lt(),1),eln="Portal",vIe=zoe.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=zoe.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?SLt.default.createPortal((0,xLt.jsx)(vm.div,{...n,ref:t}),a):null});vIe.displayName=eln;var MLt=B(Y(),1);var ELt=B(Y(),1),aln=B(as(),1);var _c=B(Y(),1);var tln=B(Y(),1);function CLt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OLt(...e){return t=>{let r=!1,n=e.map(o=>{let i=CLt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():CLt(e[o],null)}}}}var kB=B(lt(),1),SIe=_c.forwardRef((e,t)=>{let{children:r,...n}=e,o=_c.Children.toArray(r),i=o.find(nln);if(i){let a=i.props.children,s=o.map(u=>u===i?_c.Children.count(a)>1?_c.Children.only(null):_c.isValidElement(a)?a.props.children:null:u);return(0,kB.jsx)(wIe,{...n,ref:t,children:_c.isValidElement(a)?_c.cloneElement(a,void 0,s):null})}return(0,kB.jsx)(wIe,{...n,ref:t,children:r})});SIe.displayName="Slot";var wIe=_c.forwardRef((e,t)=>{let{children:r,...n}=e;if(_c.isValidElement(r)){let o=iln(r);return _c.cloneElement(r,{...oln(n,r.props),ref:t?OLt(t,o):o})}return _c.Children.count(r)>1?_c.Children.only(null):null});wIe.displayName="SlotClone";var rln=({children:e})=>(0,kB.jsx)(kB.Fragment,{children:e});function nln(e){return _c.isValidElement(e)&&e.type===rln}function oln(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function iln(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var PLt=B(lt(),1),sln=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],TLt=sln.reduce((e,t)=>{let r=ELt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?SIe:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,PLt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var ILt=B(lt(),1),uln="VisuallyHidden",ALt=MLt.forwardRef((e,t)=>(0,ILt.jsx)(TLt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ALt.displayName=uln;var RLt=ALt;var Au=B(lt(),1),[Hoe,_4o]=Ro("Tooltip",[bIe]),Voe=bIe(),DLt="TooltipProvider",cln=700,xIe="tooltip.open",[dln,OIe]=Hoe(DLt),jLt=e=>{let{__scopeTooltip:t,delayDuration:r=cln,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,[a,s]=Cr.useState(!0),u=Cr.useRef(!1),l=Cr.useRef(0);return Cr.useEffect(()=>{let c=l.current;return()=>window.clearTimeout(c)},[]),(0,Au.jsx)(dln,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:Cr.useCallback(()=>{window.clearTimeout(l.current),s(!1)},[]),onClose:Cr.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:Cr.useCallback(c=>{u.current=c},[]),disableHoverableContent:o,children:i})};jLt.displayName=DLt;var Woe="Tooltip",[fln,_H]=Hoe(Woe),NLt=e=>{let{__scopeTooltip:t,children:r,open:n,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:s}=e,u=OIe(Woe,e.__scopeTooltip),l=Voe(t),[c,d]=Cr.useState(null),f=Fa(),p=Cr.useRef(0),h=a??u.disableHoverableContent,m=s??u.delayDuration,_=Cr.useRef(!1),[g=!1,v]=Qu({prop:n,defaultProp:o,onChange:E=>{E?(u.onOpen(),document.dispatchEvent(new CustomEvent(xIe))):u.onClose(),i?.(E)}}),S=Cr.useMemo(()=>g?_.current?"delayed-open":"instant-open":"closed",[g]),x=Cr.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_.current=!1,v(!0)},[v]),O=Cr.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),T=Cr.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,v(!0),p.current=0},m)},[m,v]);return Cr.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,Au.jsx)(bLt,{...l,children:(0,Au.jsx)(fln,{scope:t,contentId:f,open:g,stateAttribute:S,trigger:c,onTriggerChange:d,onTriggerEnter:Cr.useCallback(()=>{u.isOpenDelayed?T():x()},[u.isOpenDelayed,T,x]),onTriggerLeave:Cr.useCallback(()=>{h?O():(window.clearTimeout(p.current),p.current=0)},[O,h]),onOpen:x,onClose:O,disableHoverableContent:h,children:r})})};NLt.displayName=Woe;var CIe="TooltipTrigger",LLt=Cr.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,o=_H(CIe,r),i=OIe(CIe,r),a=Voe(r),s=Cr.useRef(null),u=JC(t,s,o.onTriggerChange),l=Cr.useRef(!1),c=Cr.useRef(!1),d=Cr.useCallback(()=>l.current=!1,[]);return Cr.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),(0,Au.jsx)(_Lt,{asChild:!0,...a,children:(0,Au.jsx)(vm.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:u,onPointerMove:zg(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:zg(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:zg(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:zg(e.onFocus,()=>{l.current||o.onOpen()}),onBlur:zg(e.onBlur,o.onClose),onClick:zg(e.onClick,o.onClose)})})});LLt.displayName=CIe;var EIe="TooltipPortal",[pln,hln]=Hoe(EIe,{forceMount:void 0}),FLt=e=>{let{__scopeTooltip:t,forceMount:r,children:n,container:o}=e,i=_H(EIe,t);return(0,Au.jsx)(pln,{scope:t,forceMount:r,children:(0,Au.jsx)(Iu,{present:r||i.open,children:(0,Au.jsx)(vIe,{asChild:!0,container:o,children:n})})})};FLt.displayName=EIe;var BB="TooltipContent",kLt=Cr.forwardRef((e,t)=>{let r=hln(BB,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=e,a=_H(BB,e.__scopeTooltip);return(0,Au.jsx)(Iu,{present:n||a.open,children:a.disableHoverableContent?(0,Au.jsx)(BLt,{side:o,...i,ref:t}):(0,Au.jsx)(mln,{side:o,...i,ref:t})})}),mln=Cr.forwardRef((e,t)=>{let r=_H(BB,e.__scopeTooltip),n=OIe(BB,e.__scopeTooltip),o=Cr.useRef(null),i=JC(t,o),[a,s]=Cr.useState(null),{trigger:u,onClose:l}=r,c=o.current,{onPointerInTransitChange:d}=n,f=Cr.useCallback(()=>{s(null),d(!1)},[d]),p=Cr.useCallback((h,m)=>{let _=h.currentTarget,g={x:h.clientX,y:h.clientY},v=_ln(g,_.getBoundingClientRect()),S=vln(g,v),x=wln(m.getBoundingClientRect()),O=xln([...S,...x]);s(O),d(!0)},[d]);return Cr.useEffect(()=>()=>f(),[f]),Cr.useEffect(()=>{if(u&&c){let h=_=>p(_,c),m=_=>p(_,u);return u.addEventListener("pointerleave",h),c.addEventListener("pointerleave",m),()=>{u.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",m)}}},[u,c,p,f]),Cr.useEffect(()=>{if(a){let h=m=>{let _=m.target,g={x:m.clientX,y:m.clientY},v=u?.contains(_)||c?.contains(_),S=!Sln(g,a);v?f():S&&(f(),l())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[u,c,a,l,f]),(0,Au.jsx)(BLt,{...e,ref:i})}),[gln,yln]=Hoe(Woe,{isInside:!1}),BLt=Cr.forwardRef((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...s}=e,u=_H(BB,r),l=Voe(r),{onClose:c}=u;return Cr.useEffect(()=>(document.addEventListener(xIe,c),()=>document.removeEventListener(xIe,c)),[c]),Cr.useEffect(()=>{if(u.trigger){let d=f=>{f.target?.contains(u.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[u.trigger,c]),(0,Au.jsx)(mIe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:(0,Au.jsxs)(vLt,{"data-state":u.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,Au.jsx)(fIe,{children:n}),(0,Au.jsx)(gln,{scope:r,isInside:!0,children:(0,Au.jsx)(RLt,{id:u.contentId,role:"tooltip",children:o||n})})]})})});kLt.displayName=BB;var $Lt="TooltipArrow",bln=Cr.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,o=Voe(r);return yln($Lt,r).isInside?null:(0,Au.jsx)(wLt,{...o,...n,ref:t})});bln.displayName=$Lt;function _ln(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vln(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wln(e){let{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function Sln(e,t){let{x:r,y:n}=e,o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){let s=t[i].x,u=t[i].y,l=t[a].x,c=t[a].y;u>n!=c>n&&r<(l-s)*(n-u)/(c-u)+s&&(o=!o)}return o}function xln(e){let t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Cln(t)}function Cln(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let o=e[n];for(;t.length>=2;){let i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();let r=[];for(let n=e.length-1;n>=0;n--){let o=e[n];for(;r.length>=2;){let i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Joe=jLt,qLt=NLt,ULt=LLt,zLt=FLt,PIe=kLt;var vc=Joe,Kr=qLt,Yr=ULt,Hr=vH.forwardRef(({className:e,sideOffset:t=4,...r},n)=>vH.createElement(zLt,{container:activeDocument.body},vH.createElement(PIe,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md bg-secondary border-border border border-solid px-3 py-1.5 text-xs text-normal animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})));Hr.displayName=PIe.displayName;var TIe=require("obsidian");async function Oln(){try{await ma.getInstance().indexVaultToVectorStore(),new TIe.Notice("Vault index refreshed.")}catch(e){console.error("Error refreshing vault index:",e),new TIe.Notice("Failed to refresh vault index. Check console for details.")}}function VLt({onNewChat:e,onSaveAsNote:t}){let r=qo(),[n,o]=dy(),i=IQ();return hr.default.createElement("div",{className:"w-full py-1 flex justify-between items-center px-1"},hr.default.createElement("div",{className:"flex-1"},hr.default.createElement(gH,null,hr.default.createElement(yH,{asChild:!0},hr.default.createElement(qe,{variant:"ghost2",size:"fit",className:"ml-1"},n==="llm_chain"&&"chat",n==="vault_qa"&&"vault QA",n==="copilot_plus"&&hr.default.createElement("div",{className:"flex items-center gap-1"},hr.default.createElement(_y,{className:"size-4"}),"copilot plus (beta)"),hr.default.createElement(ss,{className:"size-5 mt-0.5"}))),hr.default.createElement(zT,{align:"start"},hr.default.createElement(yc,{onSelect:()=>o("llm_chain")},"chat"),hr.default.createElement(yc,{onSelect:()=>o("vault_qa")},"vault QA"),i?hr.default.createElement(yc,{onSelect:()=>o("copilot_plus")},hr.default.createElement("div",{className:"flex items-center gap-1"},hr.default.createElement(_y,{className:"size-4"}),"copilot plus (beta)")):hr.default.createElement(yc,{onSelect:()=>{Jj(AO.CHAT_MODE_SELECT)}},"copilot plus (beta)",hr.default.createElement(iE,{className:"size-3"}))))),hr.default.createElement("div",null,hr.default.createElement(Kr,null,hr.default.createElement(Yr,{asChild:!0},hr.default.createElement(qe,{variant:"ghost2",size:"icon",title:"New Chat",onClick:e},hr.default.createElement(MU,{className:"size-4"}))),hr.default.createElement(Hr,null,"New Chat")),hr.default.createElement(Kr,null,hr.default.createElement(Yr,{asChild:!0},hr.default.createElement(qe,{variant:"ghost2",size:"icon",title:"Save Chat as Note",onClick:t},hr.default.createElement(_U,{className:"size-4"}))),hr.default.createElement(Hr,null,"Save Chat as Note")),hr.default.createElement(gH,null,hr.default.createElement(yH,{asChild:!0},hr.default.createElement(qe,{variant:"ghost2",size:"icon",title:"Advanced Settings"},hr.default.createElement(nE,{className:"size-4"}))),hr.default.createElement(zT,{align:"end",className:"w-64"},hr.default.createElement(yc,{className:"flex justify-between",onSelect:a=>{a.preventDefault(),It("showSuggestedPrompts",!r.showSuggestedPrompts)}},hr.default.createElement("div",{className:"flex items-center gap-2"},hr.default.createElement(_y,{className:"size-4"}),"Suggested Prompt"),hr.default.createElement(LB,{checked:r.showSuggestedPrompts})),hr.default.createElement(yc,{className:"flex justify-between",onSelect:a=>{a.preventDefault(),It("showRelevantNotes",!r.showRelevantNotes)}},hr.default.createElement("div",{className:"flex items-center gap-2"},hr.default.createElement(OI,{className:"size-4"}),"Relevant Note"),hr.default.createElement(LB,{checked:r.showRelevantNotes})),hr.default.createElement(yc,{className:"flex items-center gap-2",onSelect:()=>Oln()},hr.default.createElement(RU,{className:"size-4"}),"Refresh Vault Index")))))}var WLt=require("obsidian");var Koe=require("obsidian"),Goe=class extends Koe.FuzzySuggestModal{constructor(t){super(t),this.activeNote=t.workspace.getActiveFile()}getOrderedNotes(t=[]){let r=this.app.workspace.getLastOpenFiles().map(i=>this.app.vault.getAbstractFileByPath(i)).filter(i=>i instanceof Koe.TFile&&(i.extension==="md"||i.extension==="pdf")&&!t.includes(i.path)&&i.path!==this.activeNote?.path),o=this.app.vault.getFiles().filter(i=>i.extension==="md"||i.extension==="pdf").filter(i=>!r.some(a=>a.path===i.path)&&!t.includes(i.path)&&i.path!==this.activeNote?.path);return[...this.activeNote?[this.activeNote]:[],...r,...o]}formatNoteTitle(t,r,n){let o=t;return r&&(o+=" (current)"),n==="pdf"&&(o+=" (PDF)"),o}};var VT=class extends Goe{constructor({app:t,onNoteSelect:r,excludeNotePaths:n,titleOnly:o=!1}){super(t),this.onNoteSelect=r,this.availableNotes=this.getOrderedNotes(n),this.titleOnly=o}getItems(){if(this.titleOnly){let t=new Map;return this.availableNotes.forEach(r=>{t.set(r.basename,r)}),Array.from(t.values())}return this.availableNotes}getItemText(t){let r=t.path===this.activeNote?.path;return this.formatNoteTitle(t.basename,r,t.extension)}onChooseItem(t,r){this.onNoteSelect(t)}renderSuggestion(t,r){let n=r.createDiv({cls:"pointer-events-none"});if(t.item instanceof WLt.TFile){let o=n.createDiv(),i=t.item;o.setText(this.formatNoteTitle(i.basename,i===this.activeNote,i.extension)),this.titleOnly||n.createDiv({cls:"mt-1 text-muted text-xs"}).setText(i.path)}}};var Yoe=class{constructor(t,r){this.app=t,this.onImagesSelected=r}open(){let t=document.createElement("input");t.type="file",t.accept="image/*",t.multiple=!0,t.style.display="none",t.addEventListener("change",()=>{let r=Array.from(t.files||[]);this.onImagesSelected(r),document.body.removeChild(t)}),document.body.appendChild(t),t.click()}};var JLt=require("obsidian"),$B=class e{constructor(){}static getInstance(){return e.instance||(e.instance=new e),e.instance}async processEmbeddedPDFs(t,r,n){let o=/!\[\[(.*?\.pdf)\]\]/g,i=[...t.matchAll(o)];for(let a of i){let s=a[1],u=r.getAbstractFileByPath(s);if(u instanceof JLt.TFile)try{let l=await n.parseFile(u,r);t=t.replace(a[0],`

Embedded PDF (${s}):
${l}

`)}catch(l){console.error(`Error processing embedded PDF ${s}:`,l),t=t.replace(a[0],`

Embedded PDF (${s}): [Error: Could not process PDF]

`)}}return t}async processContextNotes(t,r,n,o,i,a,s){let u=await t.getProcessedVariables(),l="",c=async d=>{try{let f=`[[${d.basename}]]`;if(u.has(f))return;if(s!=="copilot_plus"&&d.extension!=="md"){r.supportsExtension(d.extension)?console.warn(`File type ${d.extension} only supported in Copilot Plus mode`):console.warn(`Unsupported file type: ${d.extension}`);return}if(!r.supportsExtension(d.extension)){console.warn(`Unsupported file type: ${d.extension}`);return}let p=await r.parseFile(d,n);d.extension==="md"&&s==="copilot_plus"&&(p=await this.processEmbeddedPDFs(p,n,r)),l+=`

Title: [[${d.basename}]]
Path: ${d.path}

${p}`}catch(f){console.error(`Error processing file ${d.path}:`,f),l+=`

Title: [[${d.basename}]]
Path: ${d.path}

[Error: Could not process file]`}};if(i&&a){let d="activeNote",f=`[[${a.basename}]]`;!u.has(d)&&!u.has(f)&&await c(a)}for(let d of o)await c(d);return l}async hasEmbeddedPDFs(t){return/!\[\[(.*?\.pdf)\]\]/g.test(t)}async addNoteToContext(t,r,n,o,i,a){if(n.some(l=>l.path===t.path))return;let s=await r.read(t),u=await this.hasEmbeddedPDFs(s);o&&t.path===o.path&&a(!0),i(l=>[...l,Object.assign(t,{wasAddedViaReference:!0,hasEmbeddedPDFs:u})])}};var qB=require("obsidian"),Ge=B(Y());var Vr=B(Y()),Go=B(tFt());function WT(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}var Tln=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function U1(e,t,r){let n=Mln(e),{webkitRelativePath:o}=e,i=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${e.name}`;return typeof n.path!="string"&&rFt(n,"path",i),r!==void 0&&Object.defineProperty(n,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),rFt(n,"relativePath",i),n}function Mln(e){let{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){let n=t.split(".").pop().toLowerCase(),o=Tln.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}function rFt(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}var Iln=[".DS_Store","Thumbs.db"];function IIe(e){return WT(this,void 0,void 0,function*(){return Zoe(e)&&Aln(e.dataTransfer)?Nln(e.dataTransfer,e.type):Rln(e)?Dln(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?jln(e):[]})}function Aln(e){return Zoe(e)}function Rln(e){return Zoe(e)&&Zoe(e.target)}function Zoe(e){return typeof e=="object"&&e!==null}function Dln(e){return MIe(e.target.files).map(t=>U1(t))}function jln(e){return WT(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>U1(r))})}function Nln(e,t){return WT(this,void 0,void 0,function*(){if(e.items){let r=MIe(e.items).filter(o=>o.kind==="file");if(t!=="drop")return r;let n=yield Promise.all(r.map(Lln));return nFt(iFt(n))}return nFt(MIe(e.files).map(r=>U1(r)))})}function nFt(e){return e.filter(t=>Iln.indexOf(t.name)===-1)}function MIe(e){if(e===null)return[];let t=[];for(let r=0;r<e.length;r++){let n=e[r];t.push(n)}return t}function Lln(e){if(typeof e.webkitGetAsEntry!="function")return oFt(e);let t=e.webkitGetAsEntry();return t&&t.isDirectory?aFt(t):oFt(e,t)}function iFt(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?iFt(r):[r]],[])}function oFt(e,t){return WT(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){let i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){let a=yield i.getFile();return a.handle=i,U1(a)}}let n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return U1(n,(r=t?.fullPath)!==null&&r!==void 0?r:void 0)})}function Fln(e){return WT(this,void 0,void 0,function*(){return e.isDirectory?aFt(e):kln(e)})}function aFt(e){let t=e.createReader();return new Promise((r,n)=>{let o=[];function i(){t.readEntries(a=>WT(this,void 0,void 0,function*(){if(a.length){let s=Promise.all(a.map(Fln));o.push(s),i()}else try{let s=yield Promise.all(o);r(s)}catch(s){n(s)}}),a=>{n(a)})}i()})}function kln(e){return WT(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{let o=U1(n,e.fullPath);t(o)},n=>{r(n)})})})}var Xoe=B(sFt());function uFt(e){return qln(e)||$ln(e)||hFt(e)||Bln()}function Bln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ln(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qln(e){if(Array.isArray(e))return RIe(e)}function lFt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function cFt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lFt(Object(r),!0).forEach(function(n){pFt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lFt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pFt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e,t){return Hln(e)||zln(e,t)||hFt(e,t)||Uln()}function Uln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hFt(e,t){if(e){if(typeof e=="string")return RIe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RIe(e,t)}}function RIe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zln(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(u){i=!0,s=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Hln(e){if(Array.isArray(e))return e}var Vln=typeof Xoe.default=="function"?Xoe.default:Xoe.default.default,Wln="file-invalid-type",Jln="file-too-large",Gln="file-too-small",Kln="too-many-files";var Yln=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Wln,message:"File type must be ".concat(n)}},dFt=function(t){return{code:Jln,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},fFt=function(t){return{code:Gln,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},mFt={code:Kln,message:"Too many files"};function DIe(e,t){var r=e.type==="application/x-moz-file"||Vln(e,t);return[r,r?null:Yln(t)]}function jIe(e,t,r){if(z1(e.size))if(z1(t)&&z1(r)){if(e.size>r)return[!1,dFt(r)];if(e.size<t)return[!1,fFt(t)]}else{if(z1(t)&&e.size<t)return[!1,fFt(t)];if(z1(r)&&e.size>r)return[!1,dFt(r)]}return[!0,null]}function z1(e){return e!=null}function gFt(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,a=e.maxFiles,s=e.validator;return!i&&t.length>1||i&&a>=1&&t.length>a?!1:t.every(function(u){var l=DIe(u,r),c=wH(l,1),d=c[0],f=jIe(u,n,o),p=wH(f,1),h=p[0],m=s?s(u):null;return d&&h&&!m})}function SH(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function xH(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function NIe(e){e.preventDefault()}function Zln(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Xln(e){return e.indexOf("Edge/")!==-1}function yFt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zln(e)||Xln(e)}function Hg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.some(function(s){return!SH(n)&&s&&s.apply(void 0,[n].concat(i)),SH(n)})}}function bFt(){return"showOpenFilePicker"in window}function _Ft(e){if(z1(e)){var t=Object.entries(e).filter(function(r){var n=wH(r,2),o=n[0],i=n[1],a=!0;return xFt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(i)||!i.every(CFt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var o=wH(n,2),i=o[0],a=o[1];return cFt(cFt({},r),{},pFt({},i,a))},{});return[{description:"Files",accept:t}]}return e}function vFt(e){if(z1(e))return Object.entries(e).reduce(function(t,r){var n=wH(r,2),o=n[0],i=n[1];return[].concat(uFt(t),[o],uFt(i))},[]).filter(function(t){return xFt(t)||CFt(t)}).join(",")}function wFt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function SFt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function xFt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function CFt(e){return/^.*\.[\w]+$/.test(e)}var Qln=["children"],ecn=["open"],tcn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],rcn=["refKey","onChange","onClick"];function ncn(e){return acn(e)||icn(e)||PFt(e)||ocn()}function ocn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function icn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function acn(e){if(Array.isArray(e))return FIe(e)}function LIe(e,t){return lcn(e)||ucn(e,t)||PFt(e,t)||scn()}function scn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PFt(e,t){if(e){if(typeof e=="string")return FIe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FIe(e,t)}}function FIe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ucn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(u){i=!0,s=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function lcn(e){if(Array.isArray(e))return e}function OFt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OFt(Object(r),!0).forEach(function(n){kIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OFt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kIe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e,t){if(e==null)return{};var r=ccn(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ccn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var $Ie=(0,Vr.forwardRef)(function(e,t){var r=e.children,n=Qoe(e,Qln),o=qIe(n),i=o.open,a=Qoe(o,ecn);return(0,Vr.useImperativeHandle)(t,function(){return{open:i}},[i]),Vr.default.createElement(Vr.Fragment,null,r(wa(wa({},a),{},{open:i})))});$Ie.displayName="Dropzone";var TFt={disabled:!1,getFilesFromEvent:IIe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};$Ie.defaultProps=TFt;$Ie.propTypes={children:Go.default.func,accept:Go.default.objectOf(Go.default.arrayOf(Go.default.string)),multiple:Go.default.bool,preventDropOnDocument:Go.default.bool,noClick:Go.default.bool,noKeyboard:Go.default.bool,noDrag:Go.default.bool,noDragEventsBubbling:Go.default.bool,minSize:Go.default.number,maxSize:Go.default.number,maxFiles:Go.default.number,disabled:Go.default.bool,getFilesFromEvent:Go.default.func,onFileDialogCancel:Go.default.func,onFileDialogOpen:Go.default.func,useFsAccessApi:Go.default.bool,autoFocus:Go.default.bool,onDragEnter:Go.default.func,onDragLeave:Go.default.func,onDragOver:Go.default.func,onDrop:Go.default.func,onDropAccepted:Go.default.func,onDropRejected:Go.default.func,onError:Go.default.func,validator:Go.default.func};var BIe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function qIe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=wa(wa({},TFt),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,a=t.minSize,s=t.multiple,u=t.maxFiles,l=t.onDragEnter,c=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,h=t.onDropRejected,m=t.onFileDialogCancel,_=t.onFileDialogOpen,g=t.useFsAccessApi,v=t.autoFocus,S=t.preventDropOnDocument,x=t.noClick,O=t.noKeyboard,T=t.noDrag,E=t.noDragEventsBubbling,M=t.onError,A=t.validator,j=(0,Vr.useMemo)(function(){return vFt(r)},[r]),N=(0,Vr.useMemo)(function(){return _Ft(r)},[r]),F=(0,Vr.useMemo)(function(){return typeof _=="function"?_:EFt},[_]),k=(0,Vr.useMemo)(function(){return typeof m=="function"?m:EFt},[m]),L=(0,Vr.useRef)(null),q=(0,Vr.useRef)(null),U=(0,Vr.useReducer)(dcn,BIe),G=LIe(U,2),V=G[0],D=G[1],z=V.isFocused,W=V.isFileDialogActive,J=(0,Vr.useRef)(typeof window<"u"&&window.isSecureContext&&g&&bFt()),te=function(){!J.current&&W&&setTimeout(function(){if(q.current){var Ze=q.current.files;Ze.length||(D({type:"closeDialog"}),k())}},300)};(0,Vr.useEffect)(function(){return window.addEventListener("focus",te,!1),function(){window.removeEventListener("focus",te,!1)}},[q,W,k,J]);var Ae=(0,Vr.useRef)([]),Z=function(Ze){L.current&&L.current.contains(Ze.target)||(Ze.preventDefault(),Ae.current=[])};(0,Vr.useEffect)(function(){return S&&(document.addEventListener("dragover",NIe,!1),document.addEventListener("drop",Z,!1)),function(){S&&(document.removeEventListener("dragover",NIe),document.removeEventListener("drop",Z))}},[L,S]),(0,Vr.useEffect)(function(){return!n&&v&&L.current&&L.current.focus(),function(){}},[L,v,n]);var Q=(0,Vr.useCallback)(function(Ie){M?M(Ie):console.error(Ie)},[M]),ue=(0,Vr.useCallback)(function(Ie){Ie.preventDefault(),Ie.persist(),Bt(Ie),Ae.current=[].concat(ncn(Ae.current),[Ie.target]),xH(Ie)&&Promise.resolve(o(Ie)).then(function(Ze){if(!(SH(Ie)&&!E)){var lr=Ze.length,Xe=lr>0&&gFt({files:Ze,accept:j,minSize:a,maxSize:i,multiple:s,maxFiles:u,validator:A}),Bn=lr>0&&!Xe;D({isDragAccept:Xe,isDragReject:Bn,isDragActive:!0,type:"setDraggedFiles"}),l&&l(Ie)}}).catch(function(Ze){return Q(Ze)})},[o,l,Q,E,j,a,i,s,u,A]),Me=(0,Vr.useCallback)(function(Ie){Ie.preventDefault(),Ie.persist(),Bt(Ie);var Ze=xH(Ie);if(Ze&&Ie.dataTransfer)try{Ie.dataTransfer.dropEffect="copy"}catch{}return Ze&&d&&d(Ie),!1},[d,E]),ht=(0,Vr.useCallback)(function(Ie){Ie.preventDefault(),Ie.persist(),Bt(Ie);var Ze=Ae.current.filter(function(Xe){return L.current&&L.current.contains(Xe)}),lr=Ze.indexOf(Ie.target);lr!==-1&&Ze.splice(lr,1),Ae.current=Ze,!(Ze.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xH(Ie)&&c&&c(Ie))},[L,c,E]),we=(0,Vr.useCallback)(function(Ie,Ze){var lr=[],Xe=[];Ie.forEach(function(Bn){var Qi=DIe(Bn,j),ol=LIe(Qi,2),Pc=ol[0],Pm=ol[1],Tm=jIe(Bn,a,i),Oa=LIe(Tm,2),Wp=Oa[0],Gf=Oa[1],Jp=A?A(Bn):null;if(Pc&&Wp&&!Jp)lr.push(Bn);else{var hn=[Pm,Gf];Jp&&(hn=hn.concat(Jp)),Xe.push({file:Bn,errors:hn.filter(function(nO){return nO})})}}),(!s&&lr.length>1||s&&u>=1&&lr.length>u)&&(lr.forEach(function(Bn){Xe.push({file:Bn,errors:[mFt]})}),lr.splice(0)),D({acceptedFiles:lr,fileRejections:Xe,isDragReject:Xe.length>0,type:"setFiles"}),f&&f(lr,Xe,Ze),Xe.length>0&&h&&h(Xe,Ze),lr.length>0&&p&&p(lr,Ze)},[D,s,j,a,i,u,f,p,h,A]),ie=(0,Vr.useCallback)(function(Ie){Ie.preventDefault(),Ie.persist(),Bt(Ie),Ae.current=[],xH(Ie)&&Promise.resolve(o(Ie)).then(function(Ze){SH(Ie)&&!E||we(Ze,Ie)}).catch(function(Ze){return Q(Ze)}),D({type:"reset"})},[o,we,Q,E]),ee=(0,Vr.useCallback)(function(){if(J.current){D({type:"openDialog"}),F();var Ie={multiple:s,types:N};window.showOpenFilePicker(Ie).then(function(Ze){return o(Ze)}).then(function(Ze){we(Ze,null),D({type:"closeDialog"})}).catch(function(Ze){wFt(Ze)?(k(Ze),D({type:"closeDialog"})):SFt(Ze)?(J.current=!1,q.current?(q.current.value=null,q.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(Ze)});return}q.current&&(D({type:"openDialog"}),F(),q.current.value=null,q.current.click())},[D,F,k,g,we,Q,N,s]),ge=(0,Vr.useCallback)(function(Ie){!L.current||!L.current.isEqualNode(Ie.target)||(Ie.key===" "||Ie.key==="Enter"||Ie.keyCode===32||Ie.keyCode===13)&&(Ie.preventDefault(),ee())},[L,ee]),Ue=(0,Vr.useCallback)(function(){D({type:"focus"})},[]),ct=(0,Vr.useCallback)(function(){D({type:"blur"})},[]),Je=(0,Vr.useCallback)(function(){x||(yFt()?setTimeout(ee,0):ee())},[x,ee]),sr=function(Ze){return n?null:Ze},Xr=function(Ze){return O?null:sr(Ze)},ur=function(Ze){return T?null:sr(Ze)},Bt=function(Ze){E&&Ze.stopPropagation()},Bo=(0,Vr.useMemo)(function(){return function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Ie.refKey,lr=Ze===void 0?"ref":Ze,Xe=Ie.role,Bn=Ie.onKeyDown,Qi=Ie.onFocus,ol=Ie.onBlur,Pc=Ie.onClick,Pm=Ie.onDragEnter,Tm=Ie.onDragOver,Oa=Ie.onDragLeave,Wp=Ie.onDrop,Gf=Qoe(Ie,tcn);return wa(wa(kIe({onKeyDown:Xr(Hg(Bn,ge)),onFocus:Xr(Hg(Qi,Ue)),onBlur:Xr(Hg(ol,ct)),onClick:sr(Hg(Pc,Je)),onDragEnter:ur(Hg(Pm,ue)),onDragOver:ur(Hg(Tm,Me)),onDragLeave:ur(Hg(Oa,ht)),onDrop:ur(Hg(Wp,ie)),role:typeof Xe=="string"&&Xe!==""?Xe:"presentation"},lr,L),!n&&!O?{tabIndex:0}:{}),Gf)}},[L,ge,Ue,ct,Je,ue,Me,ht,ie,O,T,n]),Xi=(0,Vr.useCallback)(function(Ie){Ie.stopPropagation()},[]),jo=(0,Vr.useMemo)(function(){return function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Ie.refKey,lr=Ze===void 0?"ref":Ze,Xe=Ie.onChange,Bn=Ie.onClick,Qi=Qoe(Ie,rcn),ol=kIe({accept:j,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:sr(Hg(Xe,ie)),onClick:sr(Hg(Bn,Xi)),tabIndex:-1},lr,q);return wa(wa({},ol),Qi)}},[q,r,s,ie,n]);return wa(wa({},V),{},{isFocused:z&&!n,getRootProps:Bo,getInputProps:jo,rootRef:L,inputRef:q,open:sr(ee)})}function dcn(e,t){switch(t.type){case"focus":return wa(wa({},e),{},{isFocused:!0});case"blur":return wa(wa({},e),{},{isFocused:!1});case"openDialog":return wa(wa({},BIe),{},{isFileDialogActive:!0});case"closeDialog":return wa(wa({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return wa(wa({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return wa(wa({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return wa({},BIe);default:return e}}function EFt(){}var AFt=B(Y());var Ai=B(Y());var eie=B(Y());var fcn=qj("inline-flex items-center rounded-md px-2.5 py-0.5 text-normal text-ui-smaller transition-colors focus:outline-none",{variants:{variant:{default:"bg-primary-alt shadow",secondary:"bg-secondary-alt",destructive:"bg-modifier-error shadow",outline:"border border-border border-solid"}},defaultVariants:{variant:"default"}}),Vg=eie.forwardRef(({className:e,variant:t,...r},n)=>eie.createElement("div",{ref:n,className:_e(fcn({variant:t}),e),...r}));Vg.displayName="Badge";function MFt({note:e,isActive:t=!1,onRemoveContext:r}){return Ai.default.createElement(Vg,{className:"text-xs pl-2 pr-0.5 py-0 items-center"},Ai.default.createElement("div",{className:"flex items-center gap-1"},Ai.default.createElement("span",{className:"max-w-40 truncate"},e.basename),t&&Ai.default.createElement("span",{className:"text-xs text-faint"},"Current"),e.extension==="pdf"&&Ai.default.createElement("span",{className:"text-xs text-faint"},"pdf")),Ai.default.createElement(qe,{variant:"ghost2",size:"fit",onClick:()=>r(e.path),"aria-label":"Remove from context"},Ai.default.createElement(bh,{className:"size-4"})))}function pcn({url:e,onRemoveUrl:t}){return Ai.default.createElement(Vg,{className:"text-xs pl-2 pr-0.5 py-0 items-center"},Ai.default.createElement("div",{className:"flex items-center gap-1"},Ai.default.createElement("span",{className:"max-w-40 truncate"},e),Ai.default.createElement("span",{className:"text-xs text-faint"},"Link")),Ai.default.createElement(qe,{variant:"ghost2",size:"fit",onClick:()=>t(e),"aria-label":"Remove from context"},Ai.default.createElement(bh,{className:"size-4"})))}var IFt=({activeNote:e,contextNotes:t,contextUrls:r,onAddContext:n,onRemoveContext:o,onRemoveUrl:i})=>{let a=Ai.default.useMemo(()=>{let l=new Map(t.map(c=>[c.path,c]));return Array.from(l.values()).filter(c=>c.wasAddedManually?!0:!(e&&c.path===e.path))},[t,e]),s=Ai.default.useMemo(()=>Array.from(new Set(r)),[r]),u=a.length>0||s.length>0||!!e;return Ai.default.createElement("div",{className:"flex items-center w-full gap-1"},Ai.default.createElement("div",{className:"flex items-start h-full"},Ai.default.createElement(qe,{onClick:n,variant:"ghost2",size:"fit",className:"border border-border border-solid rounded-sm ml-1"},Ai.default.createElement(YS,{className:"size-4"}),!u&&Ai.default.createElement("span",{className:"text-xs leading-4 pr-1"},"Add context"))),Ai.default.createElement("div",{className:"flex gap-1 flex-wrap flex-1"},e&&Ai.default.createElement(MFt,{key:e.path,note:e,isActive:!0,onRemoveContext:o}),a.map(l=>Ai.default.createElement(MFt,{key:l.path,note:l,isActive:!1,onRemoveContext:o})),s.map(l=>Ai.default.createElement(pcn,{key:l,url:l,onRemoveUrl:i}))))};var hcn=({app:e,excludeNotePaths:t,contextNotes:r,setContextNotes:n,includeActiveNote:o,setIncludeActiveNote:i,activeNote:a,contextUrls:s,onRemoveUrl:u})=>{let[l]=dy(),c=()=>{new VT({app:e,onNoteSelect:f=>{a&&f.path===a.path?(i(!0),n(p=>p.filter(h=>h.path!==f.path))):n(p=>[...p,Object.assign(f,{wasAddedManually:!0})])},excludeNotePaths:t}).open()},d=f=>{let p=r.find(m=>m.path===f);p&&p.wasAddedManually?n(m=>m.filter(_=>_.path!==f)):(i(!1),n(m=>m.filter(_=>_.path!==f)))};return l!=="copilot_plus"?null:AFt.default.createElement(IFt,{activeNote:o?a:null,contextNotes:r,onAddContext:c,onRemoveContext:d,contextUrls:s,onRemoveUrl:u})},RFt=hcn;var DFt=(0,Ge.forwardRef)(({inputMessage:e,setInputMessage:t,handleSendMessage:r,isGenerating:n,onStopGenerating:o,app:i,navigateHistory:a,contextNotes:s,setContextNotes:u,includeActiveNote:l,setIncludeActiveNote:c,mention:d,selectedImages:f,onAddImage:p,setSelectedImages:h},m)=>{let[_,g]=(0,Ge.useState)(-1),[v,S]=(0,Ge.useState)(""),[x,O]=(0,Ge.useState)(!1),[T,E]=(0,Ge.useState)([]),M=(0,Ge.useRef)(null),A=(0,Ge.useRef)(null),[j,N]=lj(),[F,k]=(0,Ge.useState)(null),[L]=dy(),[q,U]=(0,Ge.useState)(i.workspace.getActiveFile()),G=qo(),V=L==="copilot_plus";(0,Ge.useImperativeHandle)(m,()=>({focus:()=>{M.current?.focus()}}));let D=ie=>{if(!V){r();return}r({toolCalls:ie?["@vault"]:[],contextNotes:s,urls:T})},z=async ie=>{let ee=ie.target.value,ge=ie.target.selectionStart;t(ee),W();let ct=d.extractAllUrls(ee).filter(Je=>!T.includes(Je));ct.length>0&&E(Je=>Array.from(new Set([...Je,...ct]))),ge>=2&&ee.slice(ge-2,ge)==="[["?J(ge):ee==="/"?te():ee.slice(-1)==="@"&&V&&Ae()},W=()=>{M.current&&(M.current.style.height="auto",M.current.style.height=`${M.current.scrollHeight}px`)};(0,Ge.useEffect)(()=>{W()},[e]);let J=ie=>{(async()=>{let ge=$B.getInstance();new VT({app:i,onNoteSelect:async Ue=>{let ct=e.slice(0,ie-2),Je=e.slice(ie-1),Xr=Ole(Ue.basename,i.vault)?Ue.basename:Ue.path,ur=`${ct}[[${Xr}]]${Je}`;t(ur);let Bt=i.workspace.getActiveFile();Ue&&await ge.addNoteToContext(Ue,i.vault,s,Bt,u,c),setTimeout(()=>{if(M.current){let Bo=ie+Xr.length+2;M.current.setSelectionRange(Bo,Bo)}},0)},excludeNotePaths:we}).open()})()},te=async()=>{let ie=UC.getInstance(i.vault),ee=await ie.getAllPrompts(),ge=ee.map(Ue=>Ue.title);new qC(i,ge,async Ue=>{let ct=ee.find(Je=>Je.title===Ue);ct&&(ie.recordPromptUsage(ct.title),t(ct.content))}).open()},Ae=()=>{let ie=J8.map(ee=>({title:ee,description:pAt(ee)}));new qC(i,ie.map(ee=>ee.title),ee=>{t(e+ee+" ")},ie.map(ee=>ee.description)).open()},Z=ie=>{if(ie.nativeEvent.isComposing)return;let ee=M.current;if(!ee)return;let{selectionStart:ge,value:Ue}=ee,ct=Ue.split(`
`),Je=Ue.substring(0,ge).split(`
`).length-1;if(ie.key==="Enter"&&ie.shiftKey&&(qB.Platform.isMacOS?ie.metaKey:ie.ctrlKey)){ie.preventDefault(),ie.stopPropagation(),D(!0),g(-1),S("");return}if(ie.key==="Enter"&&!ie.shiftKey)ie.preventDefault(),D(!1),g(-1),S("");else if(ie.key==="ArrowUp"){if(Je>0||ge>0)return;ie.preventDefault(),_===-1&&Ue.trim()!==""&&S(Ue);let sr=a("up");sr!==e&&(g(_+1),t(sr),setTimeout(()=>{ee&&(ee.selectionStart=ee.selectionEnd=0)},0))}else if(ie.key==="ArrowDown"){if(Je<ct.length-1||ge<Ue.length)return;if(ie.preventDefault(),_>-1){let sr=a("down");g(_-1),t(_===0?v:sr),setTimeout(()=>{ee&&(ee.selectionStart=ee.selectionEnd=0)},0)}}},Q=(0,Ge.useCallback)(async ie=>{let ee=ie.clipboardData?.items;if(!ee||!V)return;let ge=Array.from(ee).filter(Ue=>Ue.type.indexOf("image")!==-1);if(ge.length>0){ie.preventDefault();let ct=(await Promise.all(ge.map(Je=>{let sr=Je.getAsFile();return sr||null}))).filter(Je=>Je!==null);ct.length>0&&p(ct)}},[p,V]);(0,Ge.useEffect)(()=>{let ie=new Set(ly(e,i.vault)),ee=d.extractAllUrls(e);u(ge=>ge.filter(Ue=>{if(Ue.wasAddedManually===!0)return!0;let Je=Ue.wasAddedViaReference===!0;return Ue.path===q?.path?Je?ie.has(Ue):l:Je?ie.has(Ue):!0})),E(ge=>ge.filter(Ue=>ee.includes(Ue)))},[e,l,q,d,u,i.vault]),(0,Ge.useEffect)(()=>{let ie,ee=()=>{clearTimeout(ie),ie=setTimeout(()=>{let Ue=i.workspace.getActiveFile();U(Ue)},100)},ge=i.workspace.on("active-leaf-change",ee);return()=>{clearTimeout(ie),i.workspace.offref(ge)}},[i.workspace]);let{getRootProps:ue,getInputProps:Me,isDragActive:ht}=qIe({accept:{"image/*":[".png",".gif",".jpeg",".jpg",".webp"]},onDrop:ie=>{p(ie)},noClick:!0,noDragEventsBubbling:!0}),we=(0,Ge.useMemo)(()=>[...s.map(ie=>ie.path),...l&&q?[q.path]:[]].filter(ie=>ie!=null),[s,l,q]);return Ge.default.createElement("div",{className:"flex flex-col gap-0.5 w-full border border-border border-solid rounded-md pt-2 pb-1 px-1 @container/chat-input",ref:A},Ge.default.createElement(RFt,{app:i,excludeNotePaths:we,contextNotes:s,setContextNotes:u,includeActiveNote:l,setIncludeActiveNote:c,activeNote:q,contextUrls:T,onRemoveUrl:ie=>E(ee=>ee.filter(ge=>ge!==ie))}),f.length>0&&Ge.default.createElement("div",{className:"selected-images"},f.map((ie,ee)=>Ge.default.createElement("div",{key:ee,className:"image-preview-container"},Ge.default.createElement("img",{src:URL.createObjectURL(ie),alt:ie.name,className:"selected-image-preview"}),Ge.default.createElement("button",{className:"remove-image-button",onClick:()=>h(ge=>ge.filter((Ue,ct)=>ct!==ee)),title:"Remove image"},Ge.default.createElement(bh,{className:"size-4"}))))),Ge.default.createElement("div",{className:"relative",...V?ue():{}},Ge.default.createElement("textarea",{ref:M,className:"w-full bg-transparent focus-visible:ring-0 border-none min-h-[60px] max-h-40 overflow-y-auto resize-none px-2 rounded-md text-sm text-normal",placeholder:"Ask anything. [[ for notes. / for custom prompts. "+(V?"@ for tools.":""),value:e,onChange:z,onKeyDown:Z,onPaste:Q}),V&&Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement("input",{...Me()}),ht&&Ge.default.createElement("div",{className:"absolute inset-0 bg-primary border border-dashed border-primary rounded-md flex items-center justify-center"},Ge.default.createElement("span",{className:"text-primary"},"Drop images here...")))),Ge.default.createElement("div",{className:"flex gap-1 justify-between px-1 h-6"},n?Ge.default.createElement("div",{className:"flex items-center gap-1 px-1 text-faint text-sm"},Ge.default.createElement(Uc,{className:"size-3 animate-spin"}),Ge.default.createElement("span",null,"Generating...")):Ge.default.createElement(qoe,{open:x,onOpenChange:O},Ge.default.createElement(Uoe,{asChild:!0},Ge.default.createElement(qe,{variant:"ghost2",size:"fit"},F?Ge.default.createElement("span",{className:"text-error"},"Model Load Failed"):G.activeModels.find(ie=>ie.enabled&&Dr(ie)===j)?Ge.default.createElement(QTe,{model:G.activeModels.find(ie=>ie.enabled&&Dr(ie)===j),iconSize:8}):"Select Model",Ge.default.createElement(ss,{className:"size-5 mt-0.5"}))),Ge.default.createElement(zT,{align:"start"},G.activeModels.filter(ie=>ie.enabled).map(ie=>{let{hasApiKey:ee,errorNotice:ge}=o5(ie,G);return Ge.default.createElement(yc,{key:Dr(ie),onSelect:async Ue=>{if(!ee&&ge){Ue.preventDefault(),new qB.Notice(ge);return}try{k(null),N(Dr(ie))}catch(ct){let Je="Model switch failed: "+bi(ct);k(Je),new qB.Notice(Je);let sr=G.activeModels.find(Xr=>Xr.enabled&&Dr(Xr)===j);sr&&N(Dr(sr))}},className:ee?"":"opacity-50 cursor-not-allowed"},Ge.default.createElement(QTe,{model:ie,iconSize:12}))}))),Ge.default.createElement("div",{className:"flex items-center gap-1"},n?Ge.default.createElement(qe,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>o()},Ge.default.createElement(rE,{className:"size-4"}),"Stop"):Ge.default.createElement(Ge.default.Fragment,null,V&&Ge.default.createElement(qe,{variant:"ghost2",size:"fit",onClick:()=>{new Yoe(i,p).open()}},Ge.default.createElement(OU,{className:"w-4 h-4"})),Ge.default.createElement(qe,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>D(!1)},Ge.default.createElement(xI,{className:"!size-3"}),Ge.default.createElement("span",null,"chat")),L==="copilot_plus"&&Ge.default.createElement(qe,{variant:"ghost2",size:"fit",className:"text-muted @xs/chat-input:inline-flex hidden",onClick:()=>D(!0)},Ge.default.createElement("div",{className:"flex items-center gap-1"},qB.Platform.isMacOS?Ge.default.createElement("div",{className:"flex items-center"},Ge.default.createElement(wI,{className:"!size-3"}),Ge.default.createElement(Hj,{className:"!size-3"}),Ge.default.createElement(xI,{className:"!size-3"})):Ge.default.createElement("div",{className:"flex items-center"},Ge.default.createElement("span",null,"Ctrl"),Ge.default.createElement(Hj,{className:"size-4"}),Ge.default.createElement(xI,{className:"!size-3"})),Ge.default.createElement("span",null,"vault")))))))});DFt.displayName="ChatInput";var jFt=DFt;var NFt=require("obsidian"),Or=B(Y()),LFt=({message:e,onCopy:t,isCopied:r,onInsertIntoEditor:n,onRegenerate:o,onEdit:i,onDelete:a,onShowSources:s,hasSources:u})=>Or.default.createElement("div",{className:_e("flex",{"group-hover:opacity-100 opacity-0":!NFt.Platform.isMobile})},Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{variant:"ghost2",size:"fit",onClick:t,title:"Copy"},r?Or.default.createElement(Ym,{className:"size-4"}):Or.default.createElement(SI,{className:"size-4"}))),Or.default.createElement(Hr,null,"Copy")),e.sender===Uo?Or.default.createElement(Or.default.Fragment,null,Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:i,variant:"ghost2",size:"fit",title:"Edit"},Or.default.createElement(gf,{className:"size-4"}))),Or.default.createElement(Hr,null,"Edit")),Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:a,variant:"ghost2",size:"fit",title:"Delete"},Or.default.createElement(ZS,{className:"size-4"}))),Or.default.createElement(Hr,null,"Delete"))):Or.default.createElement(Or.default.Fragment,null,u&&Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:s,variant:"ghost2",size:"fit",title:"Show Sources"},Or.default.createElement(TU,{className:"size-4"}))),Or.default.createElement(Hr,null,"Show Sources")),Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:n,variant:"ghost2",size:"fit",title:"Insert / Replace at cursor"},Or.default.createElement(NU,{className:"size-4"}))),Or.default.createElement(Hr,null,"Insert / Replace at cursor")),Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:o,variant:"ghost2",size:"fit",title:"Regenerate"},Or.default.createElement(DU,{className:"size-4"}))),Or.default.createElement(Hr,null,"Regenerate")),Or.default.createElement(Kr,null,Or.default.createElement(Yr,{asChild:!0},Or.default.createElement(qe,{onClick:a,variant:"ghost2",size:"fit",title:"Delete"},Or.default.createElement(ZS,{className:"size-4"}))),Or.default.createElement(Hr,null,"Delete"))));var FFt=require("obsidian"),tie=class extends FFt.Modal{constructor(t,r){super(t),this.sources=r}onOpen(){let{contentEl:t}=this;t.empty(),t.createEl("h2",{text:"Sources"});let r=this.sources.filter(o=>o.score>=Ile),n=this.sources.filter(o=>o.score<Ile);r.length>0&&(t.createEl("h3",{text:"High Relevance Sources"}),this.createSourceList(t,r)),n.length>0&&(t.createEl("h3",{text:"Lower Relevance Sources"}),this.createSourceList(t,n))}createSourceList(t,r){let n=t.createEl("ul");n.style.listStyleType="none",n.style.padding="0",r.forEach(o=>{let i=n.createEl("li");i.style.marginBottom="1em",i.createEl("a",{href:`obsidian://open?vault=${encodeURIComponent(this.app.vault.getName())}&file=${encodeURIComponent(o.title)}`,text:o.title}).addEventListener("click",s=>{s.preventDefault(),this.app.workspace.openLinkText(o.title,"")}),o.score&&o.score<=1&&i.appendChild(document.createTextNode(` - Relevance score: ${o.score.toFixed(3)}`))})}onClose(){let{contentEl:t}=this;t.empty()}};var H1=require("obsidian"),Gt=B(Y());function mcn({context:e}){return!e||e.notes.length===0&&e.urls.length===0?null:Gt.default.createElement("div",{className:"flex gap-2 flex-wrap"},e.notes.map(t=>Gt.default.createElement(Kr,{key:t.path},Gt.default.createElement(Yr,{asChild:!0},Gt.default.createElement(Vg,{variant:"secondary"},Gt.default.createElement("span",{className:"max-w-40 truncate"},t.basename))),Gt.default.createElement(Hr,null,t.path))),e.urls.map(t=>Gt.default.createElement(Kr,{key:t},Gt.default.createElement(Yr,{asChild:!0},Gt.default.createElement(Vg,{variant:"secondary"},Gt.default.createElement("span",{className:"max-w-40 truncate"},t))),Gt.default.createElement(Hr,null,t))))}var gcn=({message:e,app:t,isStreaming:r,onRegenerate:n,onEdit:o,onDelete:i})=>{let[a,s]=(0,Gt.useState)(!1),[u,l]=(0,Gt.useState)(!1),[c,d]=(0,Gt.useState)(e.message),f=(0,Gt.useRef)(null),p=(0,Gt.useRef)(null),h=(0,Gt.useRef)(null),m=()=>{!navigator.clipboard||!navigator.clipboard.writeText||navigator.clipboard.writeText(e.message).then(()=>{s(!0),setTimeout(()=>{s(!1)},2e3)})},_=(0,Gt.useCallback)(j=>{let N=t.workspace.getActiveFile(),F=N?N.path:"",k=z=>{let W="margin: 0.5rem 0 1.5rem; padding: 0.75rem; border: 1px solid var(--background-modifier-border); border-radius: 4px; background-color: var(--background-secondary)",J="cursor: pointer; color: var(--text-muted); font-size: 0.8em; margin-bottom: 0.5rem; user-select: none",te="margin-top: 0.75rem; padding: 0.75rem; border-radius: 4px; background-color: var(--background-primary)";if(r&&z.includes("<think>"))return z=z.replace(/<think>([\s\S]*?)<\/think>/g,(Z,Q)=>`<details style="${W}">
              <summary style="${J}">Thought for a second</summary>
              <div class="text-muted" style="${te}">${Q.trim()}</div>
            </details>

`),z=z.replace(/<think>([\s\S]*)$/,(Z,Q)=>`<div style="${W}">
              <div style="${J}">Thinking...</div>
              <div class="text-muted" style="${te}">${Q.trim()}</div>
            </div>`),z;let Ae=/<think>([\s\S]*?)<\/think>/g;return z.replace(Ae,(Z,Q)=>`<details style="${W}">
            <summary style="${J}">Thought for a second</summary>
            <div class="text-muted" style="${te}">${Q.trim()}</div>
          </details>

`)},L=(z,W,J)=>z.replace(W,(te,Ae)=>{let Z=t.metadataCache.getFirstLinkpathDest(Ae,F);return Z?J(Z):te}),q=j.replace(/\\\[\s*/g,"$$").replace(/\s*\\\]/g,"$$").replace(/\\\(\s*/g,"$").replace(/\s*\\\)/g,"$"),U=L(q,/!\[\[(.*?)]]/g,z=>`![](${t.vault.getResourcePath(z)})`),G=k(U),V=g(G);return L(V,/(?<!!)\[\[([^\]]+)]]/g,z=>`<a href="obsidian://open?file=${encodeURIComponent(z.path)}">${z.basename}</a>`)},[t,r]),g=j=>{let N=j.split(`

#### Sources:

`);if(N.length!==2)return j;let[F,k]=N,L=k.split(`
`).map(q=>{let U=q.match(/- \[\[(.*?)\]\]/);return U?`<li>[[${U[1]}]]</li>`:q}).join(`
`);return F+`

<br/>
<details><summary>Sources</summary>
<ul>
`+L+`
</ul>
</details>`};(0,Gt.useEffect)(()=>{if(f.current&&e.sender!==Uo){f.current.innerHTML="",p.current||(p.current=new H1.Component);let j=_(e.message);H1.MarkdownRenderer.renderMarkdown(j,f.current,"",p.current)}return()=>{p.current&&(p.current.unload(),p.current=null)}},[e,t,p,r,_]),(0,Gt.useEffect)(()=>{u&&h.current&&v(h.current)},[u]),(0,Gt.useEffect)(()=>{d(e.message)},[e.message]);let v=j=>{j.style.height="auto",j.style.height=`${j.scrollHeight}px`},S=j=>{d(j.target.value),v(j.target)},x=j=>{j.nativeEvent.isComposing||j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),T())},O=()=>{l(!0)},T=()=>{l(!1),o&&o(c)},E=()=>{e.sources&&e.sources.length>0&&new tie(t,e.sources).open()},M=()=>{let j=t.workspace.getMostRecentLeaf();if((!j||!(j.view instanceof H1.MarkdownView))&&(j=t.workspace.getLeaf(!1),!j||!(j.view instanceof H1.MarkdownView)))return;let F=j.view.editor.getSelection().length>0;yq(e.message,F)},A=()=>e.content?Gt.default.createElement("div",{className:"message-content-items"},e.content.map((j,N)=>j.type==="text"?Gt.default.createElement("div",{key:N,className:"message-text-content"},e.sender===Uo&&u?Gt.default.createElement("textarea",{ref:h,value:c,onChange:S,onKeyDown:x,onBlur:T,autoFocus:!0,className:"edit-textarea"}):e.sender===Uo?Gt.default.createElement("div",{className:"whitespace-pre-wrap break-words font-normal text-[calc(var(--font-text-size)_-_2px)]"},e.message):Gt.default.createElement("div",{ref:f,className:e.isErrorMessage?"text-error":""})):j.type==="image_url"?Gt.default.createElement("div",{key:N,className:"message-image-content"},Gt.default.createElement("img",{src:j.image_url.url,alt:"User uploaded image",className:"chat-message-image"})):null)):e.sender===Uo&&u?Gt.default.createElement("textarea",{ref:h,value:c,onChange:S,onKeyDown:x,onBlur:T,autoFocus:!0,className:"edit-textarea"}):e.sender===Uo?Gt.default.createElement("div",{className:"whitespace-pre-wrap break-words font-normal text-[calc(var(--font-text-size)_-_2px)]"},e.message):Gt.default.createElement("div",{ref:f,className:e.isErrorMessage?"text-error":""});return Gt.default.createElement("div",{className:"flex flex-col w-full my-1"},Gt.default.createElement("div",{className:_e("flex rounded-md p-2 mx-2 gap-2 group",e.sender===Uo&&"border border-border border-solid")},Gt.default.createElement("div",{className:"w-6 shrink-0"},e.sender===Uo?Gt.default.createElement(LU,null):Gt.default.createElement(_I,null)),Gt.default.createElement("div",{className:"flex flex-col flex-grow max-w-full gap-2"},!u&&Gt.default.createElement(mcn,{context:e.context}),Gt.default.createElement("div",{className:"message-content"},A()),!r&&Gt.default.createElement("div",{className:"flex justify-between items-center"},Gt.default.createElement("div",{className:"text-faint text-xs"},e.timestamp?.display),Gt.default.createElement(LFt,{message:e,onCopy:m,isCopied:a,onInsertIntoEditor:M,onRegenerate:n,onEdit:O,onDelete:i,onShowSources:E,hasSources:!!(e.sources&&e.sources.length>0)})))))},UIe=gcn;var Sc=B(Y(),1);function kFt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var $Ft=B(Y(),1);function BFt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zIe(...e){return t=>{let r=!1,n=e.map(o=>{let i=BFt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():BFt(e[o],null)}}}}function qFt(...e){return $Ft.useCallback(zIe(...e),e)}var UFt=B(Y(),1),wcn=B(as(),1);var wc=B(Y(),1);var UB=B(lt(),1),VIe=wc.forwardRef((e,t)=>{let{children:r,...n}=e,o=wc.Children.toArray(r),i=o.find(bcn);if(i){let a=i.props.children,s=o.map(u=>u===i?wc.Children.count(a)>1?wc.Children.only(null):wc.isValidElement(a)?a.props.children:null:u);return(0,UB.jsx)(HIe,{...n,ref:t,children:wc.isValidElement(a)?wc.cloneElement(a,void 0,s):null})}return(0,UB.jsx)(HIe,{...n,ref:t,children:r})});VIe.displayName="Slot";var HIe=wc.forwardRef((e,t)=>{let{children:r,...n}=e;if(wc.isValidElement(r)){let o=vcn(r);return wc.cloneElement(r,{..._cn(n,r.props),ref:t?zIe(t,o):o})}return wc.Children.count(r)>1?wc.Children.only(null):null});HIe.displayName="SlotClone";var ycn=({children:e})=>(0,UB.jsx)(UB.Fragment,{children:e});function bcn(e){return wc.isValidElement(e)&&e.type===ycn}function _cn(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function vcn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zFt=B(lt(),1),Scn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rie=Scn.reduce((e,t)=>{let r=UFt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?VIe:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,zFt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var V1=B(lt(),1),WIe="Collapsible",[xcn,v8o]=Ro(WIe),[Ccn,JIe]=xcn(WIe),HFt=Sc.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:i,onOpenChange:a,...s}=e,[u=!1,l]=Qu({prop:n,defaultProp:o,onChange:a});return(0,V1.jsx)(Ccn,{scope:r,disabled:i,contentId:Fa(),open:u,onOpenToggle:Sc.useCallback(()=>l(c=>!c),[l]),children:(0,V1.jsx)(rie.div,{"data-state":ZIe(u),"data-disabled":i?"":void 0,...s,ref:t})})});HFt.displayName=WIe;var VFt="CollapsibleTrigger",GIe=Sc.forwardRef((e,t)=>{let{__scopeCollapsible:r,...n}=e,o=JIe(VFt,r);return(0,V1.jsx)(rie.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":ZIe(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:kFt(e.onClick,o.onOpenToggle)})});GIe.displayName=VFt;var KIe="CollapsibleContent",YIe=Sc.forwardRef((e,t)=>{let{forceMount:r,...n}=e,o=JIe(KIe,e.__scopeCollapsible);return(0,V1.jsx)(Iu,{present:r||o.open,children:({present:i})=>(0,V1.jsx)(Ocn,{...n,ref:t,present:i})})});YIe.displayName=KIe;var Ocn=Sc.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:n,children:o,...i}=e,a=JIe(KIe,r),[s,u]=Sc.useState(n),l=Sc.useRef(null),c=qFt(t,l),d=Sc.useRef(0),f=d.current,p=Sc.useRef(0),h=p.current,m=a.open||s,_=Sc.useRef(m),g=Sc.useRef(void 0);return Sc.useEffect(()=>{let v=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(v)},[]),Br(()=>{let v=l.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";let S=v.getBoundingClientRect();d.current=S.height,p.current=S.width,_.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),u(n)}},[a.open,n]),(0,V1.jsx)(rie.div,{"data-state":ZIe(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...i,ref:c,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...e.style},children:m&&o})});function ZIe(e){return e?"open":"closed"}var WFt=HFt;var CH=WFt,OH=GIe,EH=YIe;var AH=B(Y());var Yi=B(Y(),1);function Xw(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var GFt=B(Y(),1);function JFt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function XIe(...e){return t=>{let r=!1,n=e.map(o=>{let i=JFt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():JFt(e[o],null)}}}}function Wg(...e){return GFt.useCallback(XIe(...e),e)}var Sa=B(Y(),1);var KFt=B(Y(),1),YFt=B(as(),1);var xc=B(Y(),1);var zB=B(lt(),1),PH=xc.forwardRef((e,t)=>{let{children:r,...n}=e,o=xc.Children.toArray(r),i=o.find(Tcn);if(i){let a=i.props.children,s=o.map(u=>u===i?xc.Children.count(a)>1?xc.Children.only(null):xc.isValidElement(a)?a.props.children:null:u);return(0,zB.jsx)(QIe,{...n,ref:t,children:xc.isValidElement(a)?xc.cloneElement(a,void 0,s):null})}return(0,zB.jsx)(QIe,{...n,ref:t,children:r})});PH.displayName="Slot";var QIe=xc.forwardRef((e,t)=>{let{children:r,...n}=e;if(xc.isValidElement(r)){let o=Icn(r);return xc.cloneElement(r,{...Mcn(n,r.props),ref:t?XIe(t,o):o})}return xc.Children.count(r)>1?xc.Children.only(null):null});QIe.displayName="SlotClone";var Pcn=({children:e})=>(0,zB.jsx)(zB.Fragment,{children:e});function Tcn(e){return xc.isValidElement(e)&&e.type===Pcn}function Mcn(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Icn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZFt=B(lt(),1),Acn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Vd=Acn.reduce((e,t)=>{let r=KFt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?PH:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,ZFt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function XFt(e,t){e&&YFt.flushSync(()=>e.dispatchEvent(t))}var tAe=B(lt(),1),Rcn="DismissableLayer",eAe="dismissableLayer.update",Dcn="dismissableLayer.pointerDownOutside",jcn="dismissableLayer.focusOutside",QFt,tkt=Sa.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rAe=Sa.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=Sa.useContext(tkt),[c,d]=Sa.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Sa.useState({}),h=Wg(t,E=>d(E)),m=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(_),v=c?m.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,O=Fcn(E=>{let M=E.target,A=[...l.branches].some(j=>j.contains(M));!x||A||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=kcn(E=>{let M=E.target;[...l.branches].some(j=>j.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return Gw(E=>{v===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Sa.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(QFt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),ekt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=QFt)}},[c,f,r,l]),Sa.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),ekt())},[c,l]),Sa.useEffect(()=>{let E=()=>p({});return document.addEventListener(eAe,E),()=>document.removeEventListener(eAe,E)},[]),(0,tAe.jsx)(Vd.div,{...u,ref:h,style:{pointerEvents:S?x?"auto":"none":void 0,...e.style},onFocusCapture:Xw(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Xw(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Xw(e.onPointerDownCapture,O.onPointerDownCapture)})});rAe.displayName=Rcn;var Ncn="DismissableLayerBranch",Lcn=Sa.forwardRef((e,t)=>{let r=Sa.useContext(tkt),n=Sa.useRef(null),o=Wg(t,n);return Sa.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,tAe.jsx)(Vd.div,{...e,ref:o})});Lcn.displayName=Ncn;function Fcn(e,t=globalThis?.document){let r=Wt(e),n=Sa.useRef(!1),o=Sa.useRef(()=>{});return Sa.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){rkt(Dcn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function kcn(e,t=globalThis?.document){let r=Wt(e),n=Sa.useRef(!1);return Sa.useEffect(()=>{let o=i=>{i.target&&!n.current&&rkt(jcn,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ekt(){let e=new CustomEvent(eAe);document.dispatchEvent(e)}function rkt(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?XFt(o,i):o.dispatchEvent(i)}var wm=B(Y(),1);var skt=B(lt(),1),nAe="focusScope.autoFocusOnMount",oAe="focusScope.autoFocusOnUnmount",nkt={bubbles:!1,cancelable:!0},Bcn="FocusScope",iAe=wm.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=wm.useState(null),l=Wt(o),c=Wt(i),d=wm.useRef(null),f=Wg(t,m=>u(m)),p=wm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;wm.useEffect(()=>{if(n){let v=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:JT(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||JT(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&JT(s)};var m=v,_=S,g=x;document.addEventListener("focusin",v),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),wm.useEffect(()=>{if(s){ikt.add(p);let m=document.activeElement;if(!s.contains(m)){let g=new CustomEvent(nAe,nkt);s.addEventListener(nAe,l),s.dispatchEvent(g),g.defaultPrevented||($cn(Vcn(ukt(s)),{select:!0}),document.activeElement===m&&JT(s))}return()=>{s.removeEventListener(nAe,l),setTimeout(()=>{let g=new CustomEvent(oAe,nkt);s.addEventListener(oAe,c),s.dispatchEvent(g),g.defaultPrevented||JT(m??document.body,{select:!0}),s.removeEventListener(oAe,c),ikt.remove(p)},0)}}},[s,l,c,p]);let h=wm.useCallback(m=>{if(!r&&!n||p.paused)return;let _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(_&&g){let v=m.currentTarget,[S,x]=qcn(v);S&&x?!m.shiftKey&&g===x?(m.preventDefault(),r&&JT(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&JT(x,{select:!0})):g===v&&m.preventDefault()}},[r,n,p.paused]);return(0,skt.jsx)(Vd.div,{tabIndex:-1,...a,ref:f,onKeyDown:h})});iAe.displayName=Bcn;function $cn(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(JT(n,{select:t}),document.activeElement!==r)return}function qcn(e){let t=ukt(e),r=okt(t,e),n=okt(t.reverse(),e);return[r,n]}function ukt(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function okt(e,t){for(let r of e)if(!Ucn(r,{upTo:t}))return r}function Ucn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zcn(e){return e instanceof HTMLInputElement&&"select"in e}function JT(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zcn(e)&&t&&e.select()}}var ikt=Hcn();function Hcn(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),e=akt(e,t),e.unshift(t)},remove(t){e=akt(e,t),e[0]?.resume()}}}function akt(e,t){let r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Vcn(e){return e.filter(t=>t.tagName!=="A")}var kp=B(Y(),1);var lkt=B(Y(),1);var aAe=B(lt(),1),Wcn="Arrow",ckt=lkt.forwardRef((e,t)=>{let{children:r,width:n=10,height:o=5,...i}=e;return(0,aAe.jsx)(Vd.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,aAe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});ckt.displayName=Wcn;var dkt=ckt;var GT=B(lt(),1);var sAe="Popper",[fkt,uAe]=Ro(sAe),[Gcn,pkt]=fkt(sAe),hkt=e=>{let{__scopePopper:t,children:r}=e,[n,o]=kp.useState(null);return(0,GT.jsx)(Gcn,{scope:t,anchor:n,onAnchorChange:o,children:r})};hkt.displayName=sAe;var mkt="PopperAnchor",gkt=kp.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...o}=e,i=pkt(mkt,r),a=kp.useRef(null),s=Wg(t,a);return kp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,GT.jsx)(Vd.div,{...o,ref:s})});gkt.displayName=mkt;var lAe="PopperContent",[Kcn,Ycn]=fkt(lAe),ykt=kp.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:h,...m}=e,_=pkt(lAe,r),[g,v]=kp.useState(null),S=Wg(t,ue=>v(ue)),[x,O]=kp.useState(null),T=bm(x),E=T?.width??0,M=T?.height??0,A=n+(i!=="center"?"-"+i:""),j=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(l)?l:[l],F=N.length>0,k={padding:j,boundary:N.filter(Xcn),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:G,middlewareData:V}=MT({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>VC(...ue,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[IT({mainAxis:o+M,alignmentAxis:a}),u&&AT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?RT():void 0,...k}),u&&DT({...k}),jT({...k,apply:({elements:ue,rects:Me,availableWidth:ht,availableHeight:we})=>{let{width:ie,height:ee}=Me.reference,ge=ue.floating.style;ge.setProperty("--radix-popper-available-width",`${ht}px`),ge.setProperty("--radix-popper-available-height",`${we}px`),ge.setProperty("--radix-popper-anchor-width",`${ie}px`),ge.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&LT({element:x,padding:s}),Qcn({arrowWidth:E,arrowHeight:M}),f&&NT({strategy:"referenceHidden",...k})]}),[D,z]=vkt(U),W=Wt(h);Br(()=>{G&&W?.()},[G,W]);let J=V.arrow?.x,te=V.arrow?.y,Ae=V.arrow?.centerOffset!==0,[Z,Q]=kp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,GT.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,GT.jsx)(Kcn,{scope:r,placedSide:D,onArrowChange:O,arrowX:J,arrowY:te,shouldHideArrow:Ae,children:(0,GT.jsx)(Vd.div,{"data-side":D,"data-align":z,...m,ref:S,style:{...m.style,animation:G?void 0:"none"}})})})});ykt.displayName=lAe;var bkt="PopperArrow",Zcn={top:"bottom",right:"left",bottom:"top",left:"right"},_kt=kp.forwardRef(function(t,r){let{__scopePopper:n,...o}=t,i=Ycn(bkt,n),a=Zcn[i.placedSide];return(0,GT.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,GT.jsx)(dkt,{...o,ref:r,style:{...o.style,display:"block"}})})});_kt.displayName=bkt;function Xcn(e){return e!==null}var Qcn=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[l,c]=vkt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,h="",m="";return l==="bottom"?(h=a?d:`${f}px`,m=`${-u}px`):l==="top"?(h=a?d:`${f}px`,m=`${n.floating.height+u}px`):l==="right"?(h=`${-u}px`,m=a?d:`${p}px`):l==="left"&&(h=`${n.floating.width+u}px`,m=a?d:`${p}px`),{data:{x:h,y:m}}}});function vkt(e){let[t,r="center"]=e.split("-");return[t,r]}var wkt=hkt,cAe=gkt,Skt=ykt,xkt=_kt;var nie=B(Y(),1),Ckt=B(as(),1);var Okt=B(lt(),1),tdn="Portal",dAe=nie.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=nie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?Ckt.default.createPortal((0,Okt.jsx)(Vd.div,{...n,ref:t}),a):null});dAe.displayName=tdn;var aie=B(Y());var ld=B(Y());var oie=F1();var fAe=function(){},TH=ld.forwardRef(function(e,t){var r=ld.useRef(null),n=ld.useState({onScrollCapture:fAe,onWheelCapture:fAe,onTouchMoveCapture:fAe}),o=n[0],i=n[1],a=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,_=e.as,g=_===void 0?"div":_,v=e.gapMode,S=qT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=L1([r,t]),T=Do(Do({},S),o);return ld.createElement(ld.Fragment,null,c&&ld.createElement(x,{sideCar:oie,removeScrollBar:l,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),a?ld.cloneElement(ld.Children.only(s),Do(Do({},T),{ref:O})):ld.createElement(g,Do({},T,{className:u,ref:O}),s))});TH.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};TH.classNames={fullWidth:Ug,zeroRight:qg};var Ri=B(Y());var pAe=!1;if(typeof window<"u")try{MH=Object.defineProperty({},"passive",{get:function(){return pAe=!0,!0}}),window.addEventListener("test",MH,MH),window.removeEventListener("test",MH,MH)}catch{pAe=!1}var MH,W1=pAe?{passive:!1}:!1;var rdn=function(e){return e.tagName==="TEXTAREA"},Ekt=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rdn(e)&&r[t]==="visible")},ndn=function(e){return Ekt(e,"overflowY")},odn=function(e){return Ekt(e,"overflowX")},hAe=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Pkt(e,n);if(o){var i=Tkt(e,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},idn=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},adn=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Pkt=function(e,t){return e==="v"?ndn(t):odn(t)},Tkt=function(e,t){return e==="v"?idn(t):adn(t)},sdn=function(e,t){return e==="h"&&t==="rtl"?-1:1},Mkt=function(e,t,r,n,o){var i=sdn(e,window.getComputedStyle(t).direction),a=i*n,s=r.target,u=t.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=Tkt(e,s),h=p[0],m=p[1],_=p[2],g=m-_-i*h;(h||g)&&Pkt(e,s)&&(d+=g,f+=h),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var iie=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ikt=function(e){return[e.deltaX,e.deltaY]},Akt=function(e){return e&&"current"in e?e.current:e},udn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ldn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cdn=0,HB=[];function Rkt(e){var t=Ri.useRef([]),r=Ri.useRef([0,0]),n=Ri.useRef(),o=Ri.useState(cdn++)[0],i=Ri.useState(WC)[0],a=Ri.useRef(e);Ri.useEffect(function(){a.current=e},[e]),Ri.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=RB([e.lockRef.current],(e.shards||[]).map(Akt),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=Ri.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=iie(m),v=r.current,S="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],O,T=m.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in m&&E==="h"&&T.type==="range")return!1;var M=hAe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=hAe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in m&&(S||x)&&(n.current=O),!O)return!0;var A=n.current||O;return Mkt(A,_,m,A==="h"?S:x,!0)},[]),u=Ri.useCallback(function(m){var _=m;if(!(!HB.length||HB[HB.length-1]!==i)){var g="deltaY"in _?Ikt(_):iie(_),v=t.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&udn(O.delta,g)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var S=(a.current.shards||[]).map(Akt).filter(Boolean).filter(function(O){return O.contains(_.target)}),x=S.length>0?s(_,S[0]):!a.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),l=Ri.useCallback(function(m,_,g,v){var S={name:m,delta:_,target:g,should:v,shadowParent:ddn(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(x){return x!==S})},1)},[]),c=Ri.useCallback(function(m){r.current=iie(m),n.current=void 0},[]),d=Ri.useCallback(function(m){l(m.type,Ikt(m),m.target,s(m,e.lockRef.current))},[]),f=Ri.useCallback(function(m){l(m.type,iie(m),m.target,s(m,e.lockRef.current))},[]);Ri.useEffect(function(){return HB.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,W1),document.addEventListener("touchmove",u,W1),document.addEventListener("touchstart",c,W1),function(){HB=HB.filter(function(m){return m!==i}),document.removeEventListener("wheel",u,W1),document.removeEventListener("touchmove",u,W1),document.removeEventListener("touchstart",c,W1)}},[]);var p=e.removeScrollBar,h=e.inert;return Ri.createElement(Ri.Fragment,null,h?Ri.createElement(i,{styles:ldn(o)}):null,p?Ri.createElement(B1,{gapMode:e.gapMode}):null)}function ddn(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var Dkt=k1(oie,Rkt);var jkt=aie.forwardRef(function(e,t){return aie.createElement(TH,Do({},e,{ref:t,sideCar:Dkt}))});jkt.classNames=TH.classNames;var mAe=jkt;var Ru=B(lt(),1),gAe="Popover",[Nkt,NHo]=Ro(gAe,[uAe]),IH=uAe(),[fdn,KT]=Nkt(gAe),Lkt=e=>{let{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!1}=e,s=IH(t),u=Yi.useRef(null),[l,c]=Yi.useState(!1),[d=!1,f]=Qu({prop:n,defaultProp:o,onChange:i});return(0,Ru.jsx)(wkt,{...s,children:(0,Ru.jsx)(fdn,{scope:t,contentId:Fa(),triggerRef:u,open:d,onOpenChange:f,onOpenToggle:Yi.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:l,onCustomAnchorAdd:Yi.useCallback(()=>c(!0),[]),onCustomAnchorRemove:Yi.useCallback(()=>c(!1),[]),modal:a,children:r})})};Lkt.displayName=gAe;var Fkt="PopoverAnchor",pdn=Yi.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=KT(Fkt,r),i=IH(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=o;return Yi.useEffect(()=>(a(),()=>s()),[a,s]),(0,Ru.jsx)(cAe,{...i,...n,ref:t})});pdn.displayName=Fkt;var kkt="PopoverTrigger",Bkt=Yi.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=KT(kkt,r),i=IH(r),a=Wg(t,o.triggerRef),s=(0,Ru.jsx)(Vd.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Hkt(o.open),...n,ref:a,onClick:Xw(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?s:(0,Ru.jsx)(cAe,{asChild:!0,...i,children:s})});Bkt.displayName=kkt;var yAe="PopoverPortal",[hdn,mdn]=Nkt(yAe,{forceMount:void 0}),$kt=e=>{let{__scopePopover:t,forceMount:r,children:n,container:o}=e,i=KT(yAe,t);return(0,Ru.jsx)(hdn,{scope:t,forceMount:r,children:(0,Ru.jsx)(Iu,{present:r||i.open,children:(0,Ru.jsx)(dAe,{asChild:!0,container:o,children:n})})})};$kt.displayName=yAe;var VB="PopoverContent",qkt=Yi.forwardRef((e,t)=>{let r=mdn(VB,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,i=KT(VB,e.__scopePopover);return(0,Ru.jsx)(Iu,{present:n||i.open,children:i.modal?(0,Ru.jsx)(gdn,{...o,ref:t}):(0,Ru.jsx)(ydn,{...o,ref:t})})});qkt.displayName=VB;var gdn=Yi.forwardRef((e,t)=>{let r=KT(VB,e.__scopePopover),n=Yi.useRef(null),o=Wg(t,n),i=Yi.useRef(!1);return Yi.useEffect(()=>{let a=n.current;if(a)return $T(a)},[]),(0,Ru.jsx)(mAe,{as:PH,allowPinchZoom:!0,children:(0,Ru.jsx)(Ukt,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xw(e.onCloseAutoFocus,a=>{a.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Xw(e.onPointerDownOutside,a=>{let s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0,l=s.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Xw(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ydn=Yi.forwardRef((e,t)=>{let r=KT(VB,e.__scopePopover),n=Yi.useRef(!1),o=Yi.useRef(!1);return(0,Ru.jsx)(Ukt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Ukt=Yi.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:c,...d}=e,f=KT(VB,r),p=IH(r);return PT(),(0,Ru.jsx)(iAe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,Ru.jsx)(rAe,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:(0,Ru.jsx)(Skt,{"data-state":Hkt(f.open),role:"dialog",id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zkt="PopoverClose",bdn=Yi.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=KT(zkt,r);return(0,Ru.jsx)(Vd.button,{type:"button",...n,ref:t,onClick:Xw(e.onClick,()=>o.onOpenChange(!1))})});bdn.displayName=zkt;var _dn="PopoverArrow",vdn=Yi.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=IH(r);return(0,Ru.jsx)(xkt,{...o,...n,ref:t})});vdn.displayName=_dn;function Hkt(e){return e?"open":"closed"}var Vkt=Lkt;var Wkt=Bkt,Jkt=$kt,bAe=qkt;var Gkt=Vkt,Kkt=Wkt;var _Ae=AH.forwardRef(({className:e,align:t="center",sideOffset:r=4,container:n,...o},i)=>AH.createElement(Jkt,{container:n??activeDocument.body},AH.createElement(bAe,{ref:i,align:t,sideOffset:r,className:_e("z-popover w-72 rounded-md border border-border bg-primary p-4 text-normal  shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})));_Ae.displayName=bAe.displayName;var vAe=B(Y()),sie=vAe.createContext(void 0),WB=vAe.createContext(void 0);var JB=B(Y());function wAe(){let[e,t]=(0,JB.useState)(null),r=(0,JB.useContext)(WB);return(0,JB.useEffect)(()=>{let n=()=>{let o=app.workspace.getActiveFile();t(o)};return r?.addEventListener(NS.ACTIVE_LEAF_CHANGE,n),()=>{r?.removeEventListener(NS.ACTIVE_LEAF_CHANGE,n)}},[r]),e}var Ykt=require("obsidian");function Zkt(e,t=20){let r=app.metadataCache.getFileCache(e),n=[];if(r?.links)for(let o of r.links){let i=app.metadataCache.getFirstLinkpathDest(o.link,e.path);if(i&&(n.push(i),n.length>=t))break}if(r?.embeds&&n.length<t)for(let o of r.embeds){let i=app.metadataCache.getFirstLinkpathDest(o.link,e.path);if(i&&(n.push(i),n.length>=t))break}return[...new Set(n)]}function Xkt(e,t=20){let r=[],n=app.metadataCache.getBacklinksForFile(e);if(n?.data)for(let[o]of n.data){let i=app.vault.getAbstractFileByPath(o);if(i instanceof Ykt.TFile&&(r.push(i),r.length>=t))break}return r}var SAe=require("obsidian"),Sdn=.4,xdn=20,Qkt=.7,uie=.3;async function Cdn(e,t){let r=pe().debug,n=await Ux.getDocsByPath(t,e);if(!n)return r&&console.log("No hits found for note:",e),[];let o=[];for(let i of n){if(!i?.document?.embedding){r&&console.log("No embedding found for note:",e);continue}o.push(i.document.embedding)}return o}function Odn(e){if(e.length===0)return[];let t=e[0].length,r=Array(t).fill(0);return e.forEach(n=>{n.forEach((o,i)=>{r[i]+=o/t})}),r}function Edn(e,t){let r=new Map;for(let n of e){let o=r.get(n.document.path);o?n.score>o&&r.set(n.document.path,n.score):r.set(n.document.path,n.score)}return r.delete(t),r}async function Pdn({db:e,filePath:t}){let r=pe().debug,n=await Cdn(t,e),o=Odn(n);if(o.length===0)return r&&console.log("No embeddings found for note:",t),new Map;let i=await Ux.getDocsByEmbedding(e,o,{limit:xdn,similarity:Sdn});return Edn(i,t)}function Tdn(e){let t=new Map,n=Zkt(e).map(a=>a.path);for(let a of n)t.set(a,{links:!0,backlinks:!1});let i=Xkt(e).map(a=>a.path);for(let a of i)t.has(a)?t.set(a,{links:!0,backlinks:!0}):t.set(a,{links:!1,backlinks:!0});return t}function Mdn(e,t){let r=new Map,n=Qkt+uie;for(let[o,i]of e)r.set(o,i*Qkt/n);for(let[o,i]of t){let a=0;i.links&&i.backlinks?a=uie:(i.links||i.backlinks)&&(a=uie*.8),r.set(o,(r.get(o)??0)+a)}return r}async function eBt({db:e,filePath:t}){let r=app.vault.getAbstractFileByPath(t);if(!(r instanceof SAe.TFile))return[];let n=await Pdn({db:e,filePath:t}),o=Tdn(r),i=Mdn(n,o);return Array.from(i.entries()).sort((s,u)=>{let l=s[0],c=u[0],d=lie(n.get(l)??0),f=lie(n.get(c)??0);return d!==f?f-d:u[1]-s[1]}).map(([s,u])=>{let l=app.vault.getAbstractFileByPath(s);return l instanceof SAe.TFile?{document:{path:s,title:l.basename},metadata:{score:u,similarityScore:n.get(s),hasOutgoingLinks:o.get(s)?.links??!1,hasBacklinks:o.get(s)?.backlinks??!1}}:null}).filter(s=>s!==null)}function lie(e){return e>.7?3:e>.55?2:1}var RH=require("obsidian"),De=B(Y());function Idn(e){let[t,r]=(0,De.useState)([]),n=wAe();return(0,De.useEffect)(()=>{async function o(){if(!n?.path)return;let i=await ma.getInstance().getDb(),a=await eBt({db:i,filePath:n.path});r(a)}o()},[n?.path,e]),t}function Adn(e,t){let[r,n]=(0,De.useState)(!0);return(0,De.useEffect)(()=>{if(!e)return;async function o(){let i=await ma.getInstance().hasIndex(e);n(i)}o()},[e,t]),r}function Rdn({score:e}){let t=lie(e),r="\u{1F534}";return t===2&&(r="\u{1F7E0}"),t===3&&(r="\u{1F7E2}"),De.default.createElement("span",{className:"text-sm"},r)}function Ddn({note:e,onAddToChat:t,onNavigateToNote:r}){let[n,o]=(0,De.useState)(!1),[i,a]=(0,De.useState)(null),s=(0,De.useCallback)(async()=>{if(i)return;let u=app.vault.getAbstractFileByPath(e.document.path);if(u instanceof RH.TFile){let l=await app.vault.cachedRead(u),c=l;if(l.startsWith("---")){let d=l.indexOf("---",3);d!==-1&&(c=l.slice(d+3).trim())}a(c.slice(0,1e3)+(c.length>1e3?"...":""))}},[i,e.document.path]);return(0,De.useEffect)(()=>{n&&s()},[n,s]),De.default.createElement(CH,{open:n,onOpenChange:o,className:"rounded-md border border-border border-solid"},De.default.createElement("div",{className:_e("flex gap-2 p-2 justify-between items-center")},De.default.createElement(qe,{variant:"ghost2",size:"icon",className:"shrink-0",asChild:!0},De.default.createElement(OH,null,De.default.createElement(JS,{className:_e("size-4 transition-transform duration-200",{"transform rotate-90":n})}))),De.default.createElement("div",{className:"flex items-center gap-2 shrink-0"},De.default.createElement(Rdn,{score:e.metadata.similarityScore??0})),De.default.createElement("div",{className:"flex-1 overflow-hidden"},De.default.createElement("a",{onClick:u=>{u.preventDefault();let l=u.metaKey||u.ctrlKey;r(l)},onAuxClick:u=>{u.button===1&&(u.preventDefault(),r(!0))},className:"text-sm text-normal font-bold text-ellipsis overflow-hidden whitespace-nowrap w-full block"},e.document.title)),De.default.createElement(Kr,null,De.default.createElement(Yr,{asChild:!0},De.default.createElement(qe,{variant:"ghost2",size:"icon",onClick:t,className:"shrink-0"},De.default.createElement(Zm,{className:"size-4"}))),De.default.createElement(Hr,null,"Add to Chat"))),De.default.createElement(EH,null,De.default.createElement("div",{className:"px-4 py-2 border-[0px] border-t border-border border-solid"},De.default.createElement("div",{className:"text-xs text-muted text-wrap opacity-75 break-all whitespace-pre-wrap"},e.document.path),i&&De.default.createElement("div",{className:"text-xs text-normal whitespace-pre-wrap pt-2 pb-4 border-t border-border overflow-hidden"},i)),De.default.createElement("div",{className:"flex item-center gap-4 px-4 py-2 border-[0px] border-t border-solid border-border text-xs text-muted"},e.metadata.similarityScore!=null&&De.default.createElement("div",{className:"flex items-center gap-1"},De.default.createElement("span",null,"Similarity: ",(e.metadata.similarityScore*100).toFixed(1),"%")),e.metadata.hasOutgoingLinks&&De.default.createElement("div",{className:"flex items-center gap-1"},De.default.createElement(SU,{className:"size-4"}),De.default.createElement("span",null,"Outgoing links")),e.metadata.hasBacklinks&&De.default.createElement("div",{className:"flex items-center gap-1"},De.default.createElement(wU,{className:"size-4"}),De.default.createElement("span",null,"Backlinks")))))}function jdn({note:e,onAddToChat:t,onNavigateToNote:r,children:n}){return De.default.createElement(Gkt,{key:e.document.path},De.default.createElement(Kkt,{asChild:!0},n),De.default.createElement(_Ae,{className:"flex flex-col gap-2 overflow-hidden w-fit min-w-72 max-w-96"},De.default.createElement("span",{className:"text-sm text-normal"},e.document.title),De.default.createElement("span",{className:"text-xs text-muted"},e.document.path),De.default.createElement("div",{className:"flex gap-2"},De.default.createElement("button",{onClick:t,className:"!bg-transparent inline-flex items-center gap-2 border border-border border-solid !shadow-none hover:!bg-interactive-hover"},"Add to Chat ",De.default.createElement(Zm,{className:"size-4"})),De.default.createElement("button",{onClick:o=>{let i=o.metaKey||o.ctrlKey;r(i)},className:"!bg-transparent inline-flex items-center gap-2 border border-border border-solid !shadow-none hover:!bg-interactive-hover"},"Navigate to Note ",De.default.createElement(hU,{className:"size-4"})))))}var cie=(0,De.memo)(({className:e,onInsertToChat:t,defaultOpen:r=!1})=>{let[n,o]=(0,De.useState)(0),[i,a]=(0,De.useState)(r),s=Idn(n),u=wAe(),l=Adn(u?.path??"",n),c=(p,h=!1)=>{let m=app.vault.getAbstractFileByPath(p);m instanceof RH.TFile&&app.workspace.getLeaf(h).openFile(m)},d=p=>{t(`[[${p}]]`)},f=async()=>{u&&(await ma.getInstance().reindexFile(u),new RH.Notice(`Reindexed ${u.name}`),o(n+1))};return De.default.createElement("div",{className:_e("w-full border border-transparent border-b-border border-solid pb-2",e)},De.default.createElement(CH,{open:i,onOpenChange:a},De.default.createElement("div",{className:"flex justify-between items-center pl-1 pb-2"},De.default.createElement("div",{className:"flex gap-2 items-center flex-1"},De.default.createElement("span",{className:"font-semibold text-normal"},"Relevant Notes"),De.default.createElement(Kr,null,De.default.createElement(Yr,{asChild:!0},De.default.createElement(EU,{className:"size-4 text-muted"})),De.default.createElement(Hr,{side:"bottom",className:"w-64"},"Relevance is a combination of semantic similarity and links.")),!l&&De.default.createElement(Kr,null,De.default.createElement(Yr,{asChild:!0},De.default.createElement(yh,{className:"size-4 text-warning"})),De.default.createElement(Hr,{side:"bottom"},"Note has not been indexed"))),De.default.createElement("div",{className:"flex items-center"},De.default.createElement(Kr,null,De.default.createElement(Yr,{asChild:!0},De.default.createElement(qe,{variant:"ghost2",size:"icon",onClick:f},De.default.createElement(AU,{className:"size-4"}))),De.default.createElement(Hr,{side:"bottom"},"Reindex Current Note")),s.length>0&&De.default.createElement(OH,{asChild:!0},De.default.createElement(qe,{variant:"ghost2",size:"icon"},i?De.default.createElement(vI,{className:"size-5"}):De.default.createElement(ss,{className:"size-5"}))))),s.length===0&&De.default.createElement("div",{className:"flex flex-wrap gap-x-2 gap-y-1 max-h-12 overflow-y-hidden px-1"},De.default.createElement("span",{className:"text-xs text-muted"},"No relevant notes found")),!i&&s.length>0&&De.default.createElement("div",{className:"flex flex-wrap gap-x-2 gap-y-1 max-h-6 overflow-y-hidden px-1"},s.map(p=>De.default.createElement(jdn,{key:p.document.path,note:p,onAddToChat:()=>d(p.document.title),onNavigateToNote:h=>c(p.document.path,h)},De.default.createElement(Vg,{variant:"outline",key:p.document.path,className:"text-xs max-w-40 text-muted hover:cursor-pointer hover:bg-interactive-hover"},De.default.createElement("span",{className:"text-ellipsis overflow-hidden whitespace-nowrap"},p.document.title))))),De.default.createElement(EH,null,De.default.createElement("div",{className:"px-1 py-2 max-h-screen overflow-y-auto flex flex-col gap-2"},s.map(p=>De.default.createElement(Ddn,{note:p,key:p.document.path,onAddToChat:()=>d(p.document.title),onNavigateToNote:h=>c(p.document.path,h)}))))))});cie.displayName="RelevantNotes";var Wf=B(Y());var DH=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("rounded-xl border border-border bg-primary text-normal shadow",e),...t}));DH.displayName="Card";var jH=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));jH.displayName="CardHeader";var xAe=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("font-semibold leading-none tracking-tight",e),...t}));xAe.displayName="CardTitle";var Ndn=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("text-sm text-muted",e),...t}));Ndn.displayName="CardDescription";var NH=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("p-6 pt-0",e),...t}));NH.displayName="CardContent";var Ldn=Wf.forwardRef(({className:e,...t},r)=>Wf.createElement("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));Ldn.displayName="CardFooter";var pi=B(Y()),CAe={activeNote:{title:"Active Note Insights",prompts:["Provide three follow-up questions worded as if I'm asking you based on {activeNote}?","What key questions does {activeNote} answer?","Give me a quick recap of {activeNote} in two sentences."]},quoteNote:{title:"Note Link Chat",prompts:["Based on [[<note>]], what improvements should we focus on next?","Summarize the key points from [[<note>]].","Summarize the recent updates from [[<note>]].","Roast my writing in [[<note>]] and give concrete actionable feedback"]},fun:{title:"Test LLM",prompts:["9.11 and 9.8, which is bigger?","What's the longest river in the world?","If a lead ball and a feather are dropped simultaneously from the same height, which will reach the ground first?"]},qaVault:{title:"Vault Q&A",prompts:["What insights can I gather about <topic> from my notes?","Explain <concept> based on my stored notes.","Highlight important details on <topic> from my notes.","Based on my notes on <topic>, what is the question that I should be asking, but am not?"]},copilotPlus:{title:"Copilot Plus",prompts:["Give me a recap of last week @vault","What are the key takeaways from my notes on <topic> @vault","Summarize <url> in under 10 bullet points","@youtube <video_url>","@web what are most recent updates in the AI industry","What are the key insights from this paper <arxiv_url>","What new methods are proposed in this paper [[<note_with_embedded_pdf>]]"]}},tBt={llm_chain:["activeNote","quoteNote","fun"],vault_qa:["qaVault","qaVault","quoteNote"],copilot_plus:["copilotPlus","copilotPlus","copilotPlus"]};function Fdn(e="llm_chain"){let t=tBt[e]||tBt.llm_chain,r={};return t.map(n=>(r[n]||(r[n]=[...CAe[n].prompts].sort(()=>Math.random()-.5)),{title:CAe[n].title,text:r[n].pop()||CAe[n].prompts[0]}))}var rBt=({onClick:e})=>{let[t]=dy(),r=(0,pi.useMemo)(()=>Fdn(t),[t]),o=qo().indexVaultToVectorStore;return pi.default.createElement("div",{className:"flex flex-col gap-4"},pi.default.createElement(DH,{className:"w-full bg-transparent"},pi.default.createElement(jH,{className:"px-2"},pi.default.createElement(xAe,null,"Suggested Prompts")),pi.default.createElement(NH,{className:"p-2 pt-0"},pi.default.createElement("div",{className:"flex flex-col gap-2"},r.map((i,a)=>pi.default.createElement("div",{key:a,className:"flex gap-2 p-2 justify-between text-sm rounded-md border border-border border-solid"},pi.default.createElement("div",{className:"flex flex-col gap-1"},pi.default.createElement("div",{className:"text-muted"},i.title),pi.default.createElement("div",null,i.text)),pi.default.createElement("div",{className:"flex items-start h-full"},pi.default.createElement(Kr,null,pi.default.createElement(Yr,{asChild:!0},pi.default.createElement(qe,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>e(i.text)},pi.default.createElement(Zm,{className:"size-4"}))),pi.default.createElement(Hr,null,"Add to Chat")))))))),t==="vault_qa"&&pi.default.createElement("div",{className:"text-sm border border-border border-solid p-2 rounded-md"},"Please note that this is a retrieval-based QA. Questions should contain keywords and concepts that exist literally in your vault"),t==="vault_qa"&&o==="NEVER"&&pi.default.createElement("div",{className:"text-sm border border-border border-solid p-2 rounded-md"},pi.default.createElement("div",null,pi.default.createElement(yh,{className:"size-4"})," Your auto-index strategy is set to ",pi.default.createElement("b",null,"NEVER"),". Before proceeding, click the ",pi.default.createElement("span",{className:"text-accent"},"Refresh Index")," button below or run the"," ",pi.default.createElement("span",{className:"text-accent"},"Copilot command: Index (refresh) vault for QA")," to update the index.")))};var cd=B(Y()),nBt=(0,cd.memo)(({chatHistory:e,currentAiMessage:t,loading:r,loadingMessage:n,app:o,onRegenerate:i,onEdit:a,onDelete:s,onInsertToChat:u,onReplaceChat:l})=>{let[c,d]=(0,cd.useState)(""),f=qo(),p=()=>{let m=document.querySelector("[data-testid='chat-messages']");m&&(m.scrollTop=m.scrollHeight)};if((0,cd.useEffect)(()=>{r||p()},[r]),(0,cd.useEffect)(()=>{let m;return r?m=setInterval(()=>{d(_=>_.length<6?_+".":"")},200):d(""),()=>clearInterval(m)},[r]),!e.filter(m=>m.isVisible).length&&!t)return cd.default.createElement("div",{className:"flex flex-col gap-2 overflow-y-auto w-full h-full"},f.showRelevantNotes&&cd.default.createElement(cie,{onInsertToChat:u,defaultOpen:!0,key:"relevant-notes-before-chat"}),f.showSuggestedPrompts&&cd.default.createElement(rBt,{onClick:l}));let h=()=>n?`${n} ${c}`:c;return cd.default.createElement("div",{className:"flex flex-col flex-1 h-full overflow-hidden"},f.showRelevantNotes&&cd.default.createElement(cie,{className:"mb-4",onInsertToChat:u,defaultOpen:!1,key:"relevant-notes-in-chat"}),cd.default.createElement("div",{"data-testid":"chat-messages",className:"flex flex-col items-start justify-start flex-1 overflow-y-auto w-full break-words text-[calc(var(--font-text-size)_-_2px)] box-border scroll-smooth mt-auto select-text"},e.map((m,_)=>m.isVisible&&cd.default.createElement(UIe,{key:_,message:m,app:o,isStreaming:!1,onRegenerate:()=>i(_),onEdit:g=>a(_,g),onDelete:()=>s(_)})),(t||r)&&cd.default.createElement(UIe,{key:`ai_message_${t}`,message:{sender:"AI",message:t||h(),isVisible:!0,timestamp:null},app:o,isStreaming:!0,onDelete:()=>{}})))});nBt.displayName="ChatMessages";var oBt=nBt;var OAe=async(e,t,r,n,o,i={})=>{let a=new AbortController;o(a);try{await t.runChain(e,a,n,r,i)}catch(s){Ur("Model request failed:",s);let u="Model request failed: "+bi(s);r({sender:cy,isErrorMessage:!0,message:`Error: ${u}`,isVisible:!0,timestamp:ll(new Date)})}};var die=class e{constructor(){this.mentions=new Map,this.brevilabsClient=_l.getInstance()}static getInstance(){return e.instance||(e.instance=new e),e.instance}extractAllUrls(t){let r=/https?:\/\/[^\s"'<>]+/g;return(t.match(r)||[]).map(n=>n.replace(/,+$/,"")).filter((n,o,i)=>i.indexOf(n)===o)}extractUrls(t){let r=/https?:\/\/[^\s"'<>]+/g;return(t.match(r)||[]).map(n=>n.replace(/,+$/,"")).filter((n,o,i)=>i.indexOf(n)===o).filter(n=>!Xke(n))}async processUrl(t){try{return await this.brevilabsClient.url4llm(t)}catch(r){return console.error(`Error processing URL ${t}:`,r),{response:t,elapsed_time_ms:0}}}async processUrls(t){let r=this.extractUrls(t),n="",o=[];if(r.length===0)return{urlContext:"",imageUrls:[]};let i=r.map(async s=>{if(await DS.isImageUrl(s))return o.push(s),null;if(!this.mentions.has(s)){let u=await this.processUrl(s);this.mentions.set(s,{type:"url",original:s,processed:u.response})}return this.mentions.get(s)});return(await Promise.all(i)).forEach(s=>{s?.processed&&(n+=`

Content from ${s.original}:
${s.processed}`)}),{urlContext:n,imageUrls:o}}getMentions(){return this.mentions}clearMentions(){this.mentions.clear()}};var J1=B(Y()),EAe=class{constructor(){this.chatHistory=[]}addMessage(t){this.chatHistory.push(t)}getMessages(){return this.chatHistory}clearChatHistory(){this.chatHistory=[]}};function iBt(e){let[t,r]=(0,J1.useState)(e.getMessages());(0,J1.useEffect)(()=>{r(e.getMessages())},[e]);let n=(0,J1.useCallback)(i=>{e.addMessage(i),r([...e.getMessages()])},[e]),o=(0,J1.useCallback)(()=>{e.clearChatHistory(),r([])},[e]);return[t,n,o]}var aBt=EAe;var Qw=require("obsidian"),jn=B(Y()),sBt=B(Td()),kdn=({sharedState:e,chainManager:t,onSaveChat:r,updateUserMessageHistory:n,fileParserManager:o,plugin:i})=>{let a=qo(),s=(0,jn.useContext)(WB),[u,l,c]=iBt(e),[d]=lj(),[f]=dy(),[p,h]=(0,jn.useState)(""),[m,_]=(0,jn.useState)(""),[g,v]=(0,jn.useState)(null),[S,x]=(0,jn.useState)(!1),[O,T]=(0,jn.useState)(jS.DEFAULT),[E,M]=(0,jn.useState)(-1),[A,j]=(0,jn.useState)([]),[N,F]=(0,jn.useState)(!1),[k,L]=(0,jn.useState)([]),q=die.getInstance(),U=$B.getInstance(),G=(0,jn.useRef)(null);(0,jn.useEffect)(()=>{let ee=()=>{G.current&&G.current.focus()};return s?.addEventListener(NS.CHAT_IS_VISIBLE,ee),()=>{s?.removeEventListener(NS.CHAT_IS_VISIBLE,ee)}},[s]);let V=(0,jn.useContext)(sie),D=i.app||V,z=async(ee,ge)=>{let Ue=D.workspace.getActiveFile();return await U.processContextNotes(ee,ge,D.vault,A,N,Ue,f)},W=async({toolCalls:ee,urls:ge,contextNotes:Ue}={})=>{if(!m&&k.length===0)return;let ct=ll(new Date),Je=[];m&&Je.push({type:"text",text:m});for(let lr of k){let Xe=await lr.arrayBuffer(),Bn=sBt.Buffer.from(Xe).toString("base64");Je.push({type:"image_url",image_url:{url:`data:${lr.type};base64,${Bn}`}})}let sr=[...Ue||[]],Xr=D.workspace.getActiveFile();N&&Xr&&!sr.some(lr=>lr.path===Xr.path)&&sr.push(Xr);let ur={message:m||"Image message",originalMessage:m,sender:Uo,isVisible:!0,timestamp:ct,content:Je,context:{notes:sr,urls:ge||[]}};_(""),L([]),l(ur),x(!0),T(jS.DEFAULT);let Bt=UC.getInstance(D.vault),Bo=await Bt.processCustomPrompt(m||"","",D.workspace.getActiveFile()),Xi=f==="copilot_plus"?await q.processUrls(m||""):{urlContext:"",imageUrls:[]},jo=await z(Bt,o);Bo=Bo+Xi.urlContext+jo;let Ie=m;ee&&(Ie+=" "+ee.join(`
`));let Ze={message:Bo,originalMessage:Ie,sender:Uo,isVisible:!1,timestamp:ct,content:Je,context:{notes:sr,urls:f==="copilot_plus"?[...ge||[],...Xi.imageUrls]:ge||[]}};l(Ze),m&&(n(m),M(-1)),await OAe(Ze,t,l,h,v,{debug:a.debug,updateLoadingMessage:T}),x(!1),T(jS.DEFAULT)},J=ee=>{let ge=i.userMessageHistory;return ee==="up"&&E<ge.length-1?(M(E+1),ge[ge.length-1-E-1]):ee==="down"&&E>-1?(M(E-1),E===0?"":ge[ge.length-1-E+1]):m},te=(0,jn.useCallback)(async(ee=!1)=>{if(!D){console.error("App instance is not available.");return}let ge=u.filter(Je=>Je.isVisible);if(ge.length===0){new Qw.Notice("No messages to save.");return}let Ue=ge[0].timestamp?.epoch||Date.now(),ct=ge.map(Je=>`**${Je.sender}**: ${Je.message}
[Timestamp: ${Je.timestamp?.display}]`).join(`

`);try{D.vault.getAbstractFileByPath(a.defaultSaveFolder)||await D.vault.createFolder(a.defaultSaveFolder);let{fileName:sr}=ll(new Date(Ue)),Xr=ge.find(Ze=>Ze.sender===Uo),ur=Xr?Xr.message.split(/\s+/).slice(0,10).join(" ").replace(/[\\/:*?"<>|]/g,"").trim():"Untitled Chat",Bt=a.defaultConversationNoteName||"{$date}_{$time}__{$topic}";Bt=Bt.replace("{$topic}",ur.slice(0,100).replace(/\s+/g,"_")).replace("{$date}",sr.split("_")[0]).replace("{$time}",sr.split("_")[1]);let Bo=Bt.replace(/[\\/:*?"<>|]/g,"_"),Xi=`${a.defaultSaveFolder}/${Bo}.md`,jo=`---
epoch: ${Ue}
modelKey: ${d}
tags:
  - ${a.defaultConversationTag}
---

${ct}`,Ie=D.vault.getAbstractFileByPath(Xi);if(Ie instanceof Qw.TFile?(await D.vault.modify(Ie,jo),new Qw.Notice(`Chat updated in existing note: ${Xi}`)):(await D.vault.create(Xi,jo),new Qw.Notice(`Chat saved as new note: ${Xi}`)),ee){let Ze=D.vault.getAbstractFileByPath(Xi);Ze instanceof Qw.TFile&&D.workspace.getLeaf().openFile(Ze)}}catch(Je){console.error("Error saving chat as note:",bi(Je)),new Qw.Notice("Failed to save chat as note. Check console for details.")}},[D,u,d,a.defaultConversationTag,a.defaultSaveFolder,a.defaultConversationNoteName]),Ae=(0,jn.useCallback)(ee=>{g&&(a.debug&&console.log(`stopping generation..., reason: ${ee}`),g.abort(ee),x(!1))},[g,a.debug]),Z=(0,jn.useCallback)(async ee=>{let ge=ee-1;if(ge<0||u[ge].sender!==Uo){new Qw.Notice("Cannot regenerate the first message or a user message.");return}let Ue=u[ge],ct=u.slice(0,ee);c(),ct.forEach(l),t.memoryManager.clearChatMemory();for(let Je=0;Je<ct.length;Je+=2){let sr=ct[Je],Xr=ct[Je+1];sr&&Xr&&await t.memoryManager.getMemory().saveContext({input:sr.message},{output:Xr.message})}x(!0);try{await t.runChain(Ue,new AbortController,h,l,{debug:a.debug})&&a.debug&&console.log("Message regenerated successfully")}catch(Je){console.error("Error regenerating message:",Je),new Qw.Notice("Failed to regenerate message. Please try again.")}finally{x(!1)}},[l,t,u,c,a.debug]),Q=(0,jn.useCallback)(async(ee,ge)=>{let Ue=u[ee].message;if(Ue===ge)return;let ct=[...u];for(let Je=ee;Je<ct.length;Je++)ct[Je].originalMessage===Ue&&(ct[Je].message=ge,ct[Je].originalMessage=ge,ct[Je].context={notes:[],urls:[]});c(),ct.forEach(l),await Y8(ct,t.memoryManager),ct[ee].sender===Uo&&ee<ct.length-1&&Z(ee+1)},[l,t.memoryManager,u,c,Z]),ue=(ee,ge)=>()=>{let Ue=pe().debug,ct=async Je=>{let Xr={message:await ge(Je.detail.selectedText,Je.detail.eventSubtype),sender:Uo,isVisible:Ue,timestamp:ll(new Date)};Ue&&l(Xr),x(!0),await OAe(Xr,t,l,h,v,{debug:Ue,ignoreSystemMessage:!0}),x(!1)};return s?.addEventListener(ee,ct),()=>{s?.removeEventListener(ee,ct)}},Me=UC.getInstance(D.vault);(0,jn.useEffect)(ue(rr.APPLY_CUSTOM_PROMPT,async(ee,ge)=>ge?await Me.processCustomPrompt(ge,ee,D.workspace.getActiveFile()??void 0):ee),[]),(0,jn.useEffect)(ue(rr.APPLY_ADHOC_PROMPT,async(ee,ge)=>ge?await Me.processCustomPrompt(ge,ee,D.workspace.getActiveFile()):ee),[]),(0,jn.useEffect)(()=>{r&&r(te)},[r,te]);let ht=(0,jn.useCallback)(async ee=>{let ge=[...u];ge.splice(ee,1),c(),ge.forEach(l),await Y8(ge,t.memoryManager)},[l,t.memoryManager,u,c]),we=(0,jn.useCallback)(ee=>{_(ge=>`${ge} ${ee} `)},[]),ie=(0,jn.useCallback)(async()=>{Ae("new-chat"),a.autosaveChat&&u.length>0&&await te(!0),c(),t.memoryManager.clearChatMemory(),h(""),j([]),F(!1)},[Ae,a.autosaveChat,u.length,c,t.memoryManager,te]);return jn.default.createElement("div",{className:"chat-container"},jn.default.createElement(oBt,{chatHistory:u,currentAiMessage:p,loading:S,loadingMessage:O,app:D,onRegenerate:Z,onEdit:Q,onDelete:ht,onInsertToChat:we,onReplaceChat:_}),jn.default.createElement("div",{className:"bottom-container"},jn.default.createElement(VLt,{onNewChat:ie,onSaveAsNote:()=>te(!0)}),jn.default.createElement(jFt,{ref:G,inputMessage:m,setInputMessage:_,handleSendMessage:W,isGenerating:S,onStopGenerating:()=>Ae("user-stopped"),app:D,navigateHistory:J,contextNotes:A,setContextNotes:j,includeActiveNote:N,setIncludeActiveNote:F,mention:q,selectedImages:k,onAddImage:ee=>L(ge=>[...ge,...ee]),setSelectedImages:L})))},uBt=kdn;var lBt=require("obsidian"),YT=B(Y()),cBt=B(gh()),ZT=class extends lBt.ItemView{constructor(r,n){super(r);this.plugin=n;this.root=null;this.handleSaveAsNote=null;this.sharedState=n.sharedState,this.app=n.app,this.chainManager=n.chainManager,this.fileParserManager=n.fileParserManager,this.eventTarget=new EventTarget,this.plugin=n}getViewType(){return cl}getIcon(){return"message-square"}getTitle(){return"Copilot Chat"}getDisplayText(){return"Copilot"}async onOpen(){let r=(0,cBt.createRoot)(this.containerEl.children[1]),n=i=>{this.handleSaveAsNote=i},o=i=>{this.plugin.updateUserMessageHistory(i)};r.render(YT.createElement(sie.Provider,{value:this.app},YT.createElement(WB.Provider,{value:this.eventTarget},YT.createElement(YT.StrictMode,null,YT.createElement(Joe,{delayDuration:0},YT.createElement(uBt,{sharedState:this.sharedState,chainManager:this.chainManager,updateUserMessageHistory:o,fileParserManager:this.fileParserManager,plugin:this.plugin,onSaveChat:n}))))))}async saveChat(){this.handleSaveAsNote&&await this.handleSaveAsNote()}async onClose(){this.root&&this.root.unmount()}updateView(){this.onOpen()}};var dBt=require("obsidian"),fie=class extends dBt.FuzzySuggestModal{constructor(r,n,o){super(r);this.chatFiles=n;this.onChooseFile=o}getItems(){return this.chatFiles.sort((r,n)=>{let o=s=>{let u=this.app.metadataCache.getFileCache(s)?.frontmatter;return u&&u.epoch?u.epoch:s.stat.ctime},i=o(r);return o(n)-i})}getItemText(r){let n=r.basename.replace(/\{\$date}|\d{8}/g,"").replace(/\{\$time}|\d{6}/g,"").replace(/[@_]/g," ").replace(/\s+/g," ").trim(),o,i=this.app.metadataCache.getFileCache(r)?.frontmatter;return i&&i.epoch?o=ll(new Date(i.epoch)):o=ll(new Date(r.stat.ctime)),`${n} - ${o.display}`}onChooseItem(r,n){this.onChooseFile(r)}};function fBt(e,t,r){T1().filter(o=>o.showInContextMenu).forEach(o=>{e.addItem(i=>{i.setTitle(`Copilot: ${o.name}`).onClick(async a=>{r.app.commands.executeCommandById(`copilot:${SB(o.name)}`)})})})}var n6=require("obsidian"),Mzt=B(Y()),Izt=B(gh());var pBt=require("obsidian"),G1=B(Y()),hBt=B(gh());function Bdn({content:e,onConfirm:t,onCancel:r}){return G1.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},G1.default.createElement("div",null,e),G1.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"}},G1.default.createElement("button",{onClick:r},"Cancel"),G1.default.createElement("button",{style:{backgroundColor:"var(--interactive-accent)",color:"var(--text-on-accent)",cursor:"pointer"},onClick:t},"Continue")))}var GB=class extends pBt.Modal{constructor(r,n,o,i){super(r);this.onConfirm=n;this.content=o;this.setTitle(i)}onOpen(){let{contentEl:r}=this;this.root=(0,hBt.createRoot)(r);let n=()=>{this.onConfirm(),this.close()},o=()=>{this.close()};this.root.render(G1.default.createElement(Bdn,{content:this.content,onConfirm:n,onCancel:o}))}onClose(){this.root.unmount()}};var pie=class extends GB{constructor(t,r){super(t,r,"Resetting settings will clear all settings and restore the default values. You will lose any custom settings you have made including the API keys. Are you sure you want to continue?","Reset Settings")}};var LH=B(Y());var mBt=({tab:e,isSelected:t,onClick:r,isFirst:n,isLast:o})=>LH.default.createElement("div",{role:"tab",id:`tab-${e.id}`,"aria-controls":`tabpanel-${e.id}`,"aria-selected":t,onClick:r,className:_e("flex flex-row items-center","h-8","px-2 py-1","gap-1.5","cursor-pointer","overflow-hidden","whitespace-nowrap","text-sm","border border-border border-solid","rounded-t-md rounded-b-[2px]","bg-primary","transition-all duration-300 ease-in-out","hover:border-interactive-accent hover:border-b-0",t&&["!bg-interactive-accent","text-on-accent","!px-3","!max-w-full","border-b-0","transition-all duration-300 ease-in-out","delay-200"],"lg:max-w-32","md:max-w-32")},LH.default.createElement("div",{className:_e("flex items-center justify-center","w-4 h-4","transition-transform duration-200 ease-in-out",t?"opacity-100 max-w-[16px] translate-x-0":"opacity-0 max-w-0 -translate-x-4")},e.icon),LH.default.createElement("span",{className:_e("text-sm","font-medium","transition-all duration-200 ease-in-out","overflow-hidden whitespace-nowrap","opacity-100 max-w-[100px] translate-x-0")},e.label)),gBt=({id:e,children:t,isSelected:r})=>r?LH.default.createElement("div",{role:"tabpanel",id:`tabpanel-${e}`,"aria-labelledby":`tab-${e}`,className:_e("pt-4","transition-all duration-200 ease-in-out",r?"opacity-100 translate-y-0":"opacity-0 translate-y-2")},t):null;var Bp=B(Y()),yBt=(0,Bp.createContext)(void 0),bBt=({children:e})=>{let[t,r]=(0,Bp.useState)("basic"),[n,o]=(0,Bp.useState)(null),i=(0,Bp.useRef)(!1);return(0,Bp.useEffect)(()=>{if(!i.current){let a=document.querySelector(".modal-container");o(a),i.current=!0}},[]),Bp.default.createElement(yBt.Provider,{value:{selectedTab:t,setSelectedTab:r,modalContainer:n}},e)},eS=()=>{let e=(0,Bp.useContext)(yBt);if(e===void 0)throw new Error("useTab must be used within a TabProvider");return e};var hi=B(Y());var LBt=require("obsidian");var hie=B(Y());var xBt=B(Y(),1);var _Bt=B(Y(),1),vBt=B(as(),1);var wBt=B(lt(),1),$dn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nn=$dn.reduce((e,t)=>{let r=_Bt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?by:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,wBt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function SBt(e,t){e&&vBt.flushSync(()=>e.dispatchEvent(t))}var CBt=B(lt(),1),qdn="Label",OBt=xBt.forwardRef((e,t)=>(0,CBt.jsx)(Nn.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OBt.displayName=qdn;var PAe=OBt;var zdn=qj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jf=hie.forwardRef(({className:e,...t},r)=>hie.createElement(PAe,{ref:r,className:_e(zdn(),e),...t}));Jf.displayName=PAe.displayName;var ZB=B(Y());var $p=B(Y(),1);var PBt=B(Y(),1);function EBt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TAe(...e){return t=>{let r=!1,n=e.map(o=>{let i=EBt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():EBt(e[o],null)}}}}function TBt(...e){return PBt.useCallback(TAe(...e),e)}function MAe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var mie=B(Y(),1);function KB(e){let t=mie.useRef({value:e,previous:e});return mie.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var MBt=B(Y(),1),Gdn=B(as(),1);var Cc=B(Y(),1);var YB=B(lt(),1),AAe=Cc.forwardRef((e,t)=>{let{children:r,...n}=e,o=Cc.Children.toArray(r),i=o.find(Vdn);if(i){let a=i.props.children,s=o.map(u=>u===i?Cc.Children.count(a)>1?Cc.Children.only(null):Cc.isValidElement(a)?a.props.children:null:u);return(0,YB.jsx)(IAe,{...n,ref:t,children:Cc.isValidElement(a)?Cc.cloneElement(a,void 0,s):null})}return(0,YB.jsx)(IAe,{...n,ref:t,children:r})});AAe.displayName="Slot";var IAe=Cc.forwardRef((e,t)=>{let{children:r,...n}=e;if(Cc.isValidElement(r)){let o=Jdn(r);return Cc.cloneElement(r,{...Wdn(n,r.props),ref:t?TAe(t,o):o})}return Cc.Children.count(r)>1?Cc.Children.only(null):null});IAe.displayName="SlotClone";var Hdn=({children:e})=>(0,YB.jsx)(YB.Fragment,{children:e});function Vdn(e){return Cc.isValidElement(e)&&e.type===Hdn}function Wdn(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Jdn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IBt=B(lt(),1),Kdn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],RAe=Kdn.reduce((e,t)=>{let r=MBt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?AAe:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,IBt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var QT=B(lt(),1),DAe="Checkbox",[Ydn,FVo]=Ro(DAe),[Zdn,Xdn]=Ydn(DAe),ABt=$p.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:o,defaultChecked:i,required:a,disabled:s,value:u="on",onCheckedChange:l,form:c,...d}=e,[f,p]=$p.useState(null),h=TBt(t,x=>p(x)),m=$p.useRef(!1),_=f?c||!!f.closest("form"):!0,[g=!1,v]=Qu({prop:o,defaultProp:i,onChange:l}),S=$p.useRef(g);return $p.useEffect(()=>{let x=f?.form;if(x){let O=()=>v(S.current);return x.addEventListener("reset",O),()=>x.removeEventListener("reset",O)}},[f,v]),(0,QT.jsxs)(Zdn,{scope:r,state:g,disabled:s,children:[(0,QT.jsx)(RAe.button,{type:"button",role:"checkbox","aria-checked":XT(g)?"mixed":g,"aria-required":a,"data-state":jBt(g),"data-disabled":s?"":void 0,disabled:s,value:u,...d,ref:h,onKeyDown:MAe(e.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:MAe(e.onClick,x=>{v(O=>XT(O)?!0:!O),_&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),_&&(0,QT.jsx)(Qdn,{control:f,bubbles:!m.current,name:n,value:u,checked:g,required:a,disabled:s,form:c,style:{transform:"translateX(-100%)"},defaultChecked:XT(i)?!1:i})]})});ABt.displayName=DAe;var RBt="CheckboxIndicator",DBt=$p.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...o}=e,i=Xdn(RBt,r);return(0,QT.jsx)(Iu,{present:n||XT(i.state)||i.state===!0,children:(0,QT.jsx)(RAe.span,{"data-state":jBt(i.state),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});DBt.displayName=RBt;var Qdn=e=>{let{control:t,checked:r,bubbles:n=!0,defaultChecked:o,...i}=e,a=$p.useRef(null),s=KB(r),u=bm(t);$p.useEffect(()=>{let c=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&p){let h=new Event("click",{bubbles:n});c.indeterminate=XT(r),p.call(c,XT(r)?!1:r),c.dispatchEvent(h)}},[s,r,n]);let l=$p.useRef(XT(r)?!1:r);return(0,QT.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??l.current,...i,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XT(e){return e==="indeterminate"}function jBt(e){return XT(e)?"indeterminate":e?"checked":"unchecked"}var jAe=ABt,NBt=DBt;var Wd=ZB.forwardRef(({className:e,...t},r)=>ZB.createElement(jAe,{ref:r,className:_e("p-0 border-solid !bg-transparent !shadow transition-colors","hover:!bg-interactive-accent hover:!text-on-accent data-[state=checked]:!bg-interactive-accent data-[state=checked]:!text-on-accent","peer h-4 w-4 shrink-0 rounded-sm border border-interactive-accent focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-interactive-accent data-[state=checked]:text-on-accent",e),...t},ZB.createElement(NBt,{className:_e("flex items-center justify-center text-current")},ZB.createElement(Ym,{className:"h-4 w-4"}))));Wd.displayName=jAe.displayName;var kn=B(Y()),FBt=B(gh());function tfn({command:e,onConfirm:t,onCancel:r,onRemove:n}){let i=qo().activeModels.filter(f=>f.enabled).map(f=>({label:ooe(f),value:Dr(f)})),[a,s]=(0,kn.useState)(e),[u,l]=(0,kn.useState)({}),c=(f,p)=>{s(h=>({...h,[f]:p})),l(h=>({...h,[f]:void 0}))},d=()=>{let f={};try{j1t(a.name,e.name)}catch(p){f.name=p.message}if(a.prompt.trim()||(f.prompt="Prompt is required"),Object.keys(f).length>0){l(f);return}t(a)};return kn.default.createElement("div",{className:"flex flex-col gap-4 p-4"},kn.default.createElement("div",{className:"flex flex-col gap-2"},kn.default.createElement(Jf,{htmlFor:"name"},"Name"),kn.default.createElement(ti,{id:"name",value:a.name,onChange:f=>c("name",f.target.value),placeholder:"Enter command name"}),u.name&&kn.default.createElement("div",{className:"text-error text-sm"},u.name)),kn.default.createElement("div",{className:"flex flex-col gap-2"},kn.default.createElement(Jf,{htmlFor:"prompt"},"Prompt"),kn.default.createElement("div",{className:"text-sm text-muted mb-2"},"Use ",kn.default.createElement("code",null,"{copilot-selection}")," as a placeholder for the selected text. If not included, the selected text will be appended to the prompt."),kn.default.createElement(P1,{id:"prompt",value:a.prompt,onChange:f=>c("prompt",f.target.value),placeholder:"Enter command prompt",className:"min-h-[200px]"}),u.prompt&&kn.default.createElement("div",{className:"text-error text-sm"},u.prompt)),kn.default.createElement("div",{className:"flex flex-col gap-2"},kn.default.createElement(Jf,{htmlFor:"modelKey"},"Model (Optional)"),kn.default.createElement("div",{className:"relative w-full group"},kn.default.createElement("select",{value:a.modelKey,onChange:f=>{let p=f.target.value;if(!p){c("modelKey","");return}if(!i.find(m=>m.value===p)){Ur(`Model ${p} not found`),c("modelKey","");return}c("modelKey",f.target.value)},className:_e("w-full appearance-none","flex h-9 rounded-md border border-solid border-border bg-dropdown px-3 py-1 pr-8","text-sm !shadow transition-colors","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","hover:bg-interactive-hover hover:text-normal")},kn.default.createElement("option",{value:""},"Inherit from chat model"),i.map(f=>kn.default.createElement("option",{key:f.value,value:f.value.toString()},f.label))),kn.default.createElement("div",{className:_e("pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2","transition-colors group-hover:[&>svg]:text-normal")},kn.default.createElement(ss,{className:"h-4 w-4"})))),kn.default.createElement("div",{className:"flex items-center gap-2"},kn.default.createElement(Wd,{id:"showInContextMenu",checked:a.showInContextMenu,onCheckedChange:f=>c("showInContextMenu",f)}),kn.default.createElement(Jf,{htmlFor:"showInContextMenu"},"Show in context menu")),kn.default.createElement("div",{className:"flex justify-between gap-2"},n?kn.default.createElement(qe,{variant:"destructive",onClick:n},"Remove"):kn.default.createElement("div",{className:"flex-1"}),kn.default.createElement("div",{className:"flex gap-2"},kn.default.createElement(qe,{variant:"secondary",onClick:r},"Cancel"),kn.default.createElement(qe,{variant:"default",onClick:d},"Save"))))}var FH=class extends LBt.Modal{constructor(r,n,o,i){super(r);this.command=n;this.onUpdate=o;this.onRemove=i;this.setTitle("Edit Command")}onOpen(){let{contentEl:r}=this;this.root=(0,FBt.createRoot)(r);let n=i=>{this.onUpdate(i),this.close()},o=()=>{this.onRemove?.(),this.close()};this.root.render(kn.default.createElement(tfn,{command:this.command,onConfirm:n,onCancel:()=>this.close(),onRemove:this.onRemove?o:void 0}))}onClose(){this.root.unmount()}};var tl=B(Y());var kH=tl.forwardRef(({className:e,...t},r)=>tl.createElement("div",{className:"relative w-full overflow-auto"},tl.createElement("table",{ref:r,className:_e("w-full caption-bottom text-sm border-collapse",e),...t})));kH.displayName="Table";var BH=tl.forwardRef(({className:e,...t},r)=>tl.createElement("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));BH.displayName="TableHeader";var $H=tl.forwardRef(({className:e,...t},r)=>tl.createElement("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));$H.displayName="TableBody";var rfn=tl.forwardRef(({className:e,...t},r)=>tl.createElement("tfoot",{ref:r,className:_e("border-t bg-primary-alt/50 font-medium [&>tr]:last:border-b-0",e),...t}));rfn.displayName="TableFooter";var K1=tl.forwardRef(({className:e,...t},r)=>tl.createElement("tr",{ref:r,className:_e("border-b transition-colors hover:bg-primary-alt/50 data-[state=selected]:bg-primary-alt",e),...t}));K1.displayName="TableRow";var qp=tl.forwardRef(({className:e,...t},r)=>tl.createElement("th",{ref:r,className:_e("h-10 px-2 text-left align-middle font-medium text-muted [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));qp.displayName="TableHead";var Up=tl.forwardRef(({className:e,...t},r)=>tl.createElement("td",{ref:r,className:_e("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Up.displayName="TableCell";var nfn=tl.forwardRef(({className:e,...t},r)=>tl.createElement("caption",{ref:r,className:_e("mt-4 text-sm text-muted",e),...t}));nfn.displayName="TableCaption";var kBt=()=>{let e=L1t(),t=(n,o)=>{let i=e.findIndex(a=>a===n);i===-1?It("inlineEditCommands",[...e,o]):It("inlineEditCommands",[...e.slice(0,i),o,...e.slice(i+1)])},r=n=>{It("inlineEditCommands",e.filter(o=>o!==n))};return hi.default.createElement("div",{className:"space-y-4"},hi.default.createElement("section",null,hi.default.createElement("div",{className:"flex flex-col mb-4 gap-2"},hi.default.createElement("div",{className:"text-xl font-bold"},"Custom Commands"),hi.default.createElement("div",{className:"text-sm text-muted"},"To trigger a custom command, highlight text in the editor and select it from the command palette, or right-click and choose it from the context menu if configured.")),!k1t()&&hi.default.createElement("div",{className:"border border-border border-solid p-4 rounded-md text-muted flex items-start gap-2"},hi.default.createElement(KS,{className:"size-5"})," Take control of your inline edit commands! You can now create your own or edit built-in ones to tailor functionality to your needs."),hi.default.createElement("div",{className:"flex flex-col gap-4"},hi.default.createElement(kH,null,hi.default.createElement(BH,null,hi.default.createElement(K1,null,hi.default.createElement(qp,null,"Name"),hi.default.createElement(qp,{className:"text-center w-20"},"In Menu"),hi.default.createElement(qp,{className:"w-10"}))),hi.default.createElement($H,null,e.map(n=>hi.default.createElement(K1,{key:n.name},hi.default.createElement(Up,null,n.name),hi.default.createElement(Up,{className:"text-center"},hi.default.createElement(Wd,{checked:n.showInContextMenu,onCheckedChange:o=>t(n,{...n,showInContextMenu:o===!0}),className:"mx-auto"})),hi.default.createElement(Up,{className:"text-center"},hi.default.createElement(qe,{variant:"ghost",size:"icon",onClick:()=>new FH(app,n,o=>t(n,o),()=>r(n)).open()},hi.default.createElement(IU,{className:"h-4 w-4"}))))))),hi.default.createElement("div",{className:"flex w-full justify-end"},hi.default.createElement(qe,{variant:"secondary",onClick:()=>new FH(app,{name:"",prompt:"",showInContextMenu:!1},n=>t(n,n)).open()},hi.default.createElement(YS,{className:"h-4 w-4"})," Add Command")))))};var $r=B(Y());var Q1=B(Y());var ji=B(Y());var zp=B(Y());function eM({value:e,onChange:t,placeholder:r,disabled:n,className:o}){let[i,a]=(0,zp.useState)(!1),s=(0,zp.useRef)(null),u=(0,zp.useRef)(!0);return(0,zp.useEffect)(()=>{(async()=>{if(u.current&&e&&s.current){try{s.current.value=await Zo(e)}catch(c){Ur("Failed to decrypt value:"+bi(c)),s.current.value=e}u.current=!1}else s.current&&(s.current.value=e||"")})()},[e]),zp.default.createElement("div",{className:_e("relative",o)},zp.default.createElement(ti,{ref:s,type:i?"text":"password",onChange:l=>t?.(l.target.value),placeholder:r,disabled:n,className:_e("![padding-right:1.75rem] w-full")}),zp.default.createElement("div",{onClick:()=>!n&&a(!i),className:_e("absolute right-2 top-0 bottom-0 flex items-center justify-center","cursor-pointer",n&&"opacity-50 cursor-not-allowed"),role:"button","aria-label":i?"Hide password":"Show password"},i?zp.default.createElement(vU,{className:_e("h-3.5 w-3.5","text-muted/60 hover:text-accent","transition-colors duration-200")}):zp.default.createElement(GS,{className:_e("h-3.5 w-3.5","text-muted/60 hover:text-accent","transition-colors duration-200")})))}var Ec=B(Y());var mi=B(Y(),1);function tS(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var $Bt=B(Y(),1);function BBt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function NAe(...e){return t=>{let r=!1,n=e.map(o=>{let i=BBt(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():BBt(e[o],null)}}}}function GC(...e){return $Bt.useCallback(NAe(...e),e)}var xa=B(Y(),1);var qBt=B(Y(),1),UBt=B(as(),1);var Oc=B(Y(),1);var XB=B(lt(),1),qH=Oc.forwardRef((e,t)=>{let{children:r,...n}=e,o=Oc.Children.toArray(r),i=o.find(ifn);if(i){let a=i.props.children,s=o.map(u=>u===i?Oc.Children.count(a)>1?Oc.Children.only(null):Oc.isValidElement(a)?a.props.children:null:u);return(0,XB.jsx)(LAe,{...n,ref:t,children:Oc.isValidElement(a)?Oc.cloneElement(a,void 0,s):null})}return(0,XB.jsx)(LAe,{...n,ref:t,children:r})});qH.displayName="Slot";var LAe=Oc.forwardRef((e,t)=>{let{children:r,...n}=e;if(Oc.isValidElement(r)){let o=sfn(r);return Oc.cloneElement(r,{...afn(n,r.props),ref:t?NAe(t,o):o})}return Oc.Children.count(r)>1?Oc.Children.only(null):null});LAe.displayName="SlotClone";var ofn=({children:e})=>(0,XB.jsx)(XB.Fragment,{children:e});function ifn(e){return Oc.isValidElement(e)&&e.type===ofn}function afn(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function sfn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zBt=B(lt(),1),ufn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Hp=ufn.reduce((e,t)=>{let r=qBt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?qH:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,zBt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function HBt(e,t){e&&UBt.flushSync(()=>e.dispatchEvent(t))}var kAe=B(lt(),1),lfn="DismissableLayer",FAe="dismissableLayer.update",cfn="dismissableLayer.pointerDownOutside",dfn="dismissableLayer.focusOutside",VBt,JBt=xa.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BAe=xa.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=xa.useContext(JBt),[c,d]=xa.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=xa.useState({}),h=GC(t,E=>d(E)),m=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(_),v=c?m.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,O=hfn(E=>{let M=E.target,A=[...l.branches].some(j=>j.contains(M));!x||A||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=mfn(E=>{let M=E.target;[...l.branches].some(j=>j.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return Gw(E=>{v===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),xa.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(VBt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),WBt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=VBt)}},[c,f,r,l]),xa.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),WBt())},[c,l]),xa.useEffect(()=>{let E=()=>p({});return document.addEventListener(FAe,E),()=>document.removeEventListener(FAe,E)},[]),(0,kAe.jsx)(Hp.div,{...u,ref:h,style:{pointerEvents:S?x?"auto":"none":void 0,...e.style},onFocusCapture:tS(e.onFocusCapture,T.onFocusCapture),onBlurCapture:tS(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:tS(e.onPointerDownCapture,O.onPointerDownCapture)})});BAe.displayName=lfn;var ffn="DismissableLayerBranch",pfn=xa.forwardRef((e,t)=>{let r=xa.useContext(JBt),n=xa.useRef(null),o=GC(t,n);return xa.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,kAe.jsx)(Hp.div,{...e,ref:o})});pfn.displayName=ffn;function hfn(e,t=globalThis?.document){let r=Wt(e),n=xa.useRef(!1),o=xa.useRef(()=>{});return xa.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){GBt(cfn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function mfn(e,t=globalThis?.document){let r=Wt(e),n=xa.useRef(!1);return xa.useEffect(()=>{let o=i=>{i.target&&!n.current&&GBt(dfn,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WBt(){let e=new CustomEvent(FAe);document.dispatchEvent(e)}function GBt(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?HBt(o,i):o.dispatchEvent(i)}var Sm=B(Y(),1);var QBt=B(lt(),1),$Ae="focusScope.autoFocusOnMount",qAe="focusScope.autoFocusOnUnmount",KBt={bubbles:!1,cancelable:!0},gfn="FocusScope",UAe=Sm.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=Sm.useState(null),l=Wt(o),c=Wt(i),d=Sm.useRef(null),f=GC(t,m=>u(m)),p=Sm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Sm.useEffect(()=>{if(n){let v=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:tM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||tM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&tM(s)};var m=v,_=S,g=x;document.addEventListener("focusin",v),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),Sm.useEffect(()=>{if(s){ZBt.add(p);let m=document.activeElement;if(!s.contains(m)){let g=new CustomEvent($Ae,KBt);s.addEventListener($Ae,l),s.dispatchEvent(g),g.defaultPrevented||(yfn(Sfn(e$t(s)),{select:!0}),document.activeElement===m&&tM(s))}return()=>{s.removeEventListener($Ae,l),setTimeout(()=>{let g=new CustomEvent(qAe,KBt);s.addEventListener(qAe,c),s.dispatchEvent(g),g.defaultPrevented||tM(m??document.body,{select:!0}),s.removeEventListener(qAe,c),ZBt.remove(p)},0)}}},[s,l,c,p]);let h=Sm.useCallback(m=>{if(!r&&!n||p.paused)return;let _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(_&&g){let v=m.currentTarget,[S,x]=bfn(v);S&&x?!m.shiftKey&&g===x?(m.preventDefault(),r&&tM(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&tM(x,{select:!0})):g===v&&m.preventDefault()}},[r,n,p.paused]);return(0,QBt.jsx)(Hp.div,{tabIndex:-1,...a,ref:f,onKeyDown:h})});UAe.displayName=gfn;function yfn(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(tM(n,{select:t}),document.activeElement!==r)return}function bfn(e){let t=e$t(e),r=YBt(t,e),n=YBt(t.reverse(),e);return[r,n]}function e$t(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function YBt(e,t){for(let r of e)if(!_fn(r,{upTo:t}))return r}function _fn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vfn(e){return e instanceof HTMLInputElement&&"select"in e}function tM(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vfn(e)&&t&&e.select()}}var ZBt=wfn();function wfn(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),e=XBt(e,t),e.unshift(t)},remove(t){e=XBt(e,t),e[0]?.resume()}}}function XBt(e,t){let r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Sfn(e){return e.filter(t=>t.tagName!=="A")}var gie=B(Y(),1),t$t=B(as(),1);var r$t=B(lt(),1),xfn="Portal",zAe=gie.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=gie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?t$t.default.createPortal((0,r$t.jsx)(Hp.div,{...n,ref:t}),a):null});zAe.displayName=xfn;var _ie=B(Y());var dd=B(Y());var yie=F1();var HAe=function(){},UH=dd.forwardRef(function(e,t){var r=dd.useRef(null),n=dd.useState({onScrollCapture:HAe,onWheelCapture:HAe,onTouchMoveCapture:HAe}),o=n[0],i=n[1],a=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,_=e.as,g=_===void 0?"div":_,v=e.gapMode,S=qT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=L1([r,t]),T=Do(Do({},S),o);return dd.createElement(dd.Fragment,null,c&&dd.createElement(x,{sideCar:yie,removeScrollBar:l,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),a?dd.cloneElement(dd.Children.only(s),Do(Do({},T),{ref:O})):dd.createElement(g,Do({},T,{className:u,ref:O}),s))});UH.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UH.classNames={fullWidth:Ug,zeroRight:qg};var Di=B(Y());var VAe=!1;if(typeof window<"u")try{zH=Object.defineProperty({},"passive",{get:function(){return VAe=!0,!0}}),window.addEventListener("test",zH,zH),window.removeEventListener("test",zH,zH)}catch{VAe=!1}var zH,Y1=VAe?{passive:!1}:!1;var Cfn=function(e){return e.tagName==="TEXTAREA"},n$t=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Cfn(e)&&r[t]==="visible")},Ofn=function(e){return n$t(e,"overflowY")},Efn=function(e){return n$t(e,"overflowX")},WAe=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=o$t(e,n);if(o){var i=i$t(e,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Pfn=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Tfn=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},o$t=function(e,t){return e==="v"?Ofn(t):Efn(t)},i$t=function(e,t){return e==="v"?Pfn(t):Tfn(t)},Mfn=function(e,t){return e==="h"&&t==="rtl"?-1:1},a$t=function(e,t,r,n,o){var i=Mfn(e,window.getComputedStyle(t).direction),a=i*n,s=r.target,u=t.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=i$t(e,s),h=p[0],m=p[1],_=p[2],g=m-_-i*h;(h||g)&&o$t(e,s)&&(d+=g,f+=h),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var bie=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s$t=function(e){return[e.deltaX,e.deltaY]},u$t=function(e){return e&&"current"in e?e.current:e},Ifn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Afn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rfn=0,QB=[];function l$t(e){var t=Di.useRef([]),r=Di.useRef([0,0]),n=Di.useRef(),o=Di.useState(Rfn++)[0],i=Di.useState(WC)[0],a=Di.useRef(e);Di.useEffect(function(){a.current=e},[e]),Di.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=RB([e.lockRef.current],(e.shards||[]).map(u$t),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=Di.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=bie(m),v=r.current,S="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],O,T=m.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in m&&E==="h"&&T.type==="range")return!1;var M=WAe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=WAe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in m&&(S||x)&&(n.current=O),!O)return!0;var A=n.current||O;return a$t(A,_,m,A==="h"?S:x,!0)},[]),u=Di.useCallback(function(m){var _=m;if(!(!QB.length||QB[QB.length-1]!==i)){var g="deltaY"in _?s$t(_):bie(_),v=t.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&Ifn(O.delta,g)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var S=(a.current.shards||[]).map(u$t).filter(Boolean).filter(function(O){return O.contains(_.target)}),x=S.length>0?s(_,S[0]):!a.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),l=Di.useCallback(function(m,_,g,v){var S={name:m,delta:_,target:g,should:v,shadowParent:Dfn(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(x){return x!==S})},1)},[]),c=Di.useCallback(function(m){r.current=bie(m),n.current=void 0},[]),d=Di.useCallback(function(m){l(m.type,s$t(m),m.target,s(m,e.lockRef.current))},[]),f=Di.useCallback(function(m){l(m.type,bie(m),m.target,s(m,e.lockRef.current))},[]);Di.useEffect(function(){return QB.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Y1),document.addEventListener("touchmove",u,Y1),document.addEventListener("touchstart",c,Y1),function(){QB=QB.filter(function(m){return m!==i}),document.removeEventListener("wheel",u,Y1),document.removeEventListener("touchmove",u,Y1),document.removeEventListener("touchstart",c,Y1)}},[]);var p=e.removeScrollBar,h=e.inert;return Di.createElement(Di.Fragment,null,h?Di.createElement(i,{styles:Afn(o)}):null,p?Di.createElement(B1,{gapMode:e.gapMode}):null)}function Dfn(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var c$t=k1(yie,l$t);var d$t=_ie.forwardRef(function(e,t){return _ie.createElement(UH,Do({},e,{ref:t,sideCar:c$t}))});d$t.classNames=UH.classNames;var HH=d$t;var Ko=B(lt(),1),JAe="Dialog",[f$t,C9o]=Ro(JAe),[jfn,Jg]=f$t(JAe),p$t=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,s=mi.useRef(null),u=mi.useRef(null),[l=!1,c]=Qu({prop:n,defaultProp:o,onChange:i});return(0,Ko.jsx)(jfn,{scope:t,triggerRef:s,contentRef:u,contentId:Fa(),titleId:Fa(),descriptionId:Fa(),open:l,onOpenChange:c,onOpenToggle:mi.useCallback(()=>c(d=>!d),[c]),modal:a,children:r})};p$t.displayName=JAe;var h$t="DialogTrigger",m$t=mi.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Jg(h$t,r),i=GC(t,o.triggerRef);return(0,Ko.jsx)(Hp.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":YAe(o.open),...n,ref:i,onClick:tS(e.onClick,o.onOpenToggle)})});m$t.displayName=h$t;var GAe="DialogPortal",[Nfn,g$t]=f$t(GAe,{forceMount:void 0}),y$t=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:o}=e,i=Jg(GAe,t);return(0,Ko.jsx)(Nfn,{scope:t,forceMount:r,children:mi.Children.map(n,a=>(0,Ko.jsx)(Iu,{present:r||i.open,children:(0,Ko.jsx)(zAe,{asChild:!0,container:o,children:a})}))})};y$t.displayName=GAe;var vie="DialogOverlay",b$t=mi.forwardRef((e,t)=>{let r=g$t(vie,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=Jg(vie,e.__scopeDialog);return i.modal?(0,Ko.jsx)(Iu,{present:n||i.open,children:(0,Ko.jsx)(Lfn,{...o,ref:t})}):null});b$t.displayName=vie;var Lfn=mi.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Jg(vie,r);return(0,Ko.jsx)(HH,{as:qH,allowPinchZoom:!0,shards:[o.contentRef],children:(0,Ko.jsx)(Hp.div,{"data-state":YAe(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Z1="DialogContent",_$t=mi.forwardRef((e,t)=>{let r=g$t(Z1,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=Jg(Z1,e.__scopeDialog);return(0,Ko.jsx)(Iu,{present:n||i.open,children:i.modal?(0,Ko.jsx)(Ffn,{...o,ref:t}):(0,Ko.jsx)(kfn,{...o,ref:t})})});_$t.displayName=Z1;var Ffn=mi.forwardRef((e,t)=>{let r=Jg(Z1,e.__scopeDialog),n=mi.useRef(null),o=GC(t,r.contentRef,n);return mi.useEffect(()=>{let i=n.current;if(i)return $T(i)},[]),(0,Ko.jsx)(v$t,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tS(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tS(e.onPointerDownOutside,i=>{let a=i.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&i.preventDefault()}),onFocusOutside:tS(e.onFocusOutside,i=>i.preventDefault())})}),kfn=mi.forwardRef((e,t)=>{let r=Jg(Z1,e.__scopeDialog),n=mi.useRef(!1),o=mi.useRef(!1);return(0,Ko.jsx)(v$t,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),v$t=mi.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,s=Jg(Z1,r),u=mi.useRef(null),l=GC(t,u);return PT(),(0,Ko.jsxs)(Ko.Fragment,{children:[(0,Ko.jsx)(UAe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,Ko.jsx)(BAe,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":YAe(s.open),...a,ref:l,onDismiss:()=>s.onOpenChange(!1)})}),(0,Ko.jsxs)(Ko.Fragment,{children:[(0,Ko.jsx)(Bfn,{titleId:s.titleId}),(0,Ko.jsx)(qfn,{contentRef:u,descriptionId:s.descriptionId})]})]})}),KAe="DialogTitle",w$t=mi.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Jg(KAe,r);return(0,Ko.jsx)(Hp.h2,{id:o.titleId,...n,ref:t})});w$t.displayName=KAe;var S$t="DialogDescription",x$t=mi.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Jg(S$t,r);return(0,Ko.jsx)(Hp.p,{id:o.descriptionId,...n,ref:t})});x$t.displayName=S$t;var C$t="DialogClose",O$t=mi.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Jg(C$t,r);return(0,Ko.jsx)(Hp.button,{type:"button",...n,ref:t,onClick:tS(e.onClick,()=>o.onOpenChange(!1))})});O$t.displayName=C$t;function YAe(e){return e?"open":"closed"}var E$t="DialogTitleWarning",[O9o,P$t]=z1t(E$t,{contentName:Z1,titleName:KAe,docsSlug:"dialog"}),Bfn=({titleId:e})=>{let t=P$t(E$t),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return mi.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$fn="DialogDescriptionWarning",qfn=({contentRef:e,descriptionId:t})=>{let n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P$t($fn).contentName}}.`;return mi.useEffect(()=>{let o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},T$t=p$t,M$t=m$t,I$t=y$t,ZAe=b$t,XAe=_$t,QAe=w$t,eRe=x$t,A$t=O$t;var rM=T$t,R$t=M$t,zfn=I$t;var D$t=Ec.forwardRef(({className:e,...t},r)=>Ec.createElement(ZAe,{ref:r,className:_e("fixed inset-0 z-modal data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","bg-overlay/50",e),...t}));D$t.displayName=ZAe.displayName;var KC=Ec.forwardRef(({className:e,children:t,container:r,...n},o)=>Ec.createElement(zfn,{container:r},Ec.createElement(D$t,null),Ec.createElement(XAe,{ref:o,className:_e("fixed left-[50%] top-[50%] z-modal grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-primary p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n},t,Ec.createElement(A$t,{className:"absolute border-none right-4 top-4 text-faint clickable-icon bg-transparent hover:bg-opacity-100 hover:text-normal hover:bg-transparent outline-none focus-visible:outline-none focus-visible:text-normal focus-visible:ring-0"},Ec.createElement(bh,{className:"h-4 w-4"}),Ec.createElement("span",{className:"sr-only"},"Close")))));KC.displayName=XAe.displayName;var YC=({className:e,...t})=>Ec.createElement("div",{className:_e("flex flex-col space-y-0.5 text-center sm:text-left",e),...t});YC.displayName="DialogHeader";var Hfn=({className:e,...t})=>Ec.createElement("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hfn.displayName="DialogFooter";var ZC=Ec.forwardRef(({className:e,...t},r)=>Ec.createElement(QAe,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight mt-0",e),...t}));ZC.displayName=QAe.displayName;var XC=Ec.forwardRef(({className:e,...t},r)=>Ec.createElement(eRe,{ref:r,className:_e("text-sm text-muted",e),...t}));XC.displayName=eRe.displayName;var oM=B(Y());var X1=B(Y());var ni=B(Y(),1);function e$(e,[t,r]){return Math.min(r,Math.max(t,e))}function ko(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var nM=B(Y(),1);var QC=B(Y(),1),j$t=B(lt(),1);function N$t(e,t=[]){let r=[];function n(i,a){let s=QC.createContext(a),u=r.length;r=[...r,a];function l(d){let{scope:f,children:p,...h}=d,m=f?.[e][u]||s,_=QC.useMemo(()=>h,Object.values(h));return(0,j$t.jsx)(m.Provider,{value:_,children:p})}function c(d,f){let p=f?.[e][u]||s,h=QC.useContext(p);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}let o=()=>{let i=r.map(a=>QC.createContext(a));return function(s){let u=s?.[e]||i;return QC.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[n,Vfn(o,...t)]}function Vfn(...e){let t=e[0];if(e.length===1)return t;let r=()=>{let n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return QC.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var wie=B(lt(),1);function Sie(e){let t=e+"CollectionProvider",[r,n]=N$t(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:h,children:m}=p,_=nM.default.useRef(null),g=nM.default.useRef(new Map).current;return(0,wie.jsx)(o,{scope:h,itemMap:g,collectionRef:_,children:m})};a.displayName=t;let s=e+"CollectionSlot",u=nM.default.forwardRef((p,h)=>{let{scope:m,children:_}=p,g=i(s,m),v=zo(h,g.collectionRef);return(0,wie.jsx)(by,{ref:v,children:_})});u.displayName=s;let l=e+"CollectionItemSlot",c="data-radix-collection-item",d=nM.default.forwardRef((p,h)=>{let{scope:m,children:_,...g}=p,v=nM.default.useRef(null),S=zo(h,v),x=i(l,m);return nM.default.useEffect(()=>(x.itemMap.set(v,{ref:v,...g}),()=>void x.itemMap.delete(v))),(0,wie.jsx)(by,{[c]:"",ref:S,children:_})});d.displayName=l;function f(p){let h=i(e+"CollectionConsumer",p);return nM.default.useCallback(()=>{let _=h.collectionRef.current;if(!_)return[];let g=Array.from(_.querySelectorAll(`[${c}]`));return Array.from(h.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var rl=B(lt(),1),L$t=["PageUp","PageDown"],F$t=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k$t={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},t$="Slider",[tRe,Wfn,Jfn]=Sie(t$),[B$t,W9o]=Ro(t$,[Jfn]),[Gfn,xie]=B$t(t$),$$t=ni.forwardRef((e,t)=>{let{name:r,min:n=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:u=0,defaultValue:l=[n],value:c,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:h,...m}=e,_=ni.useRef(new Set),g=ni.useRef(0),S=a==="horizontal"?Kfn:Yfn,[x=[],O]=Qu({prop:c,defaultProp:l,onChange:N=>{[..._.current][g.current]?.focus(),d(N)}}),T=ni.useRef(x);function E(N){let F=tpn(x,N);j(N,F)}function M(N){j(N,g.current)}function A(){let N=T.current[g.current];x[g.current]!==N&&f(x)}function j(N,F,{commit:k}={commit:!1}){let L=ipn(i),q=apn(Math.round((N-n)/i)*i+n,L),U=e$(q,[n,o]);O((G=[])=>{let V=Qfn(G,U,F);if(opn(V,u*i)){g.current=V.indexOf(U);let D=String(V)!==String(G);return D&&k&&f(V),D?V:G}else return G})}return(0,rl.jsx)(Gfn,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:o,valueIndexToChangeRef:g,thumbs:_.current,values:x,orientation:a,form:h,children:(0,rl.jsx)(tRe.Provider,{scope:e.__scopeSlider,children:(0,rl.jsx)(tRe.Slot,{scope:e.__scopeSlider,children:(0,rl.jsx)(S,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:ko(m.onPointerDown,()=>{s||(T.current=x)}),min:n,max:o,inverted:p,onSlideStart:s?void 0:E,onSlideMove:s?void 0:M,onSlideEnd:s?void 0:A,onHomeKeyDown:()=>!s&&j(n,0,{commit:!0}),onEndKeyDown:()=>!s&&j(o,x.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:F})=>{if(!s){let q=L$t.includes(N.key)||N.shiftKey&&F$t.includes(N.key)?10:1,U=g.current,G=x[U],V=i*q*F;j(G+V,U,{commit:!0})}}})})})})});$$t.displayName=t$;var[q$t,U$t]=B$t(t$,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Kfn=ni.forwardRef((e,t)=>{let{min:r,max:n,dir:o,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:u,onStepKeyDown:l,...c}=e,[d,f]=ni.useState(null),p=zo(t,S=>f(S)),h=ni.useRef(),m=ET(o),_=m==="ltr",g=_&&!i||!_&&i;function v(S){let x=h.current||d.getBoundingClientRect(),O=[0,x.width],E=oRe(O,g?[r,n]:[n,r]);return h.current=x,E(S-x.left)}return(0,rl.jsx)(q$t,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:(0,rl.jsx)(z$t,{dir:m,"data-orientation":"horizontal",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{let x=v(S.clientX);a?.(x)},onSlideMove:S=>{let x=v(S.clientX);s?.(x)},onSlideEnd:()=>{h.current=void 0,u?.()},onStepKeyDown:S=>{let O=k$t[g?"from-left":"from-right"].includes(S.key);l?.({event:S,direction:O?-1:1})}})})}),Yfn=ni.forwardRef((e,t)=>{let{min:r,max:n,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onStepKeyDown:u,...l}=e,c=ni.useRef(null),d=zo(t,c),f=ni.useRef(),p=!o;function h(m){let _=f.current||c.current.getBoundingClientRect(),g=[0,_.height],S=oRe(g,p?[n,r]:[r,n]);return f.current=_,S(m-_.top)}return(0,rl.jsx)(q$t,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,rl.jsx)(z$t,{"data-orientation":"vertical",...l,ref:d,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{let _=h(m.clientY);i?.(_)},onSlideMove:m=>{let _=h(m.clientY);a?.(_)},onSlideEnd:()=>{f.current=void 0,s?.()},onStepKeyDown:m=>{let g=k$t[p?"from-bottom":"from-top"].includes(m.key);u?.({event:m,direction:g?-1:1})}})})}),z$t=ni.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:u,...l}=e,c=xie(t$,r);return(0,rl.jsx)(Nn.span,{...l,ref:t,onKeyDown:ko(e.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):L$t.concat(F$t).includes(d.key)&&(u(d),d.preventDefault())}),onPointerDown:ko(e.onPointerDown,d=>{let f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),c.thumbs.has(f)?f.focus():n(d)}),onPointerMove:ko(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&o(d)}),onPointerUp:ko(e.onPointerUp,d=>{let f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),i(d))})})}),H$t="SliderTrack",V$t=ni.forwardRef((e,t)=>{let{__scopeSlider:r,...n}=e,o=xie(H$t,r);return(0,rl.jsx)(Nn.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:t})});V$t.displayName=H$t;var rRe="SliderRange",W$t=ni.forwardRef((e,t)=>{let{__scopeSlider:r,...n}=e,o=xie(rRe,r),i=U$t(rRe,r),a=ni.useRef(null),s=zo(t,a),u=o.values.length,l=o.values.map(f=>G$t(f,o.min,o.max)),c=u>1?Math.min(...l):0,d=100-Math.max(...l);return(0,rl.jsx)(Nn.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{...e.style,[i.startEdge]:c+"%",[i.endEdge]:d+"%"}})});W$t.displayName=rRe;var nRe="SliderThumb",J$t=ni.forwardRef((e,t)=>{let r=Wfn(e.__scopeSlider),[n,o]=ni.useState(null),i=zo(t,s=>o(s)),a=ni.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return(0,rl.jsx)(Zfn,{...e,ref:i,index:a})}),Zfn=ni.forwardRef((e,t)=>{let{__scopeSlider:r,index:n,name:o,...i}=e,a=xie(nRe,r),s=U$t(nRe,r),[u,l]=ni.useState(null),c=zo(t,v=>l(v)),d=u?a.form||!!u.closest("form"):!0,f=bm(u),p=a.values[n],h=p===void 0?0:G$t(p,a.min,a.max),m=epn(n,a.values.length),_=f?.[s.size],g=_?rpn(_,h,s.direction):0;return ni.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),(0,rl.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${h}% + ${g}px)`},children:[(0,rl.jsx)(tRe.ItemSlot,{scope:e.__scopeSlider,children:(0,rl.jsx)(Nn.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:c,style:p===void 0?{display:"none"}:e.style,onFocus:ko(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&(0,rl.jsx)(Xfn,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},n)]})});J$t.displayName=nRe;var Xfn=e=>{let{value:t,...r}=e,n=ni.useRef(null),o=KB(t);return ni.useEffect(()=>{let i=n.current,a=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==t&&u){let l=new Event("input",{bubbles:!0});u.call(i,t),i.dispatchEvent(l)}},[o,t]),(0,rl.jsx)("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function Qfn(e=[],t,r){let n=[...e];return n[r]=t,n.sort((o,i)=>o-i)}function G$t(e,t,r){let i=100/(r-t)*(e-t);return e$(i,[0,100])}function epn(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function tpn(e,t){if(e.length===1)return 0;let r=e.map(o=>Math.abs(o-t)),n=Math.min(...r);return r.indexOf(n)}function rpn(e,t,r){let n=e/2,i=oRe([0,50],[0,n]);return(n-i(t)*r)*r}function npn(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function opn(e,t){if(t>0){let r=npn(e);return Math.min(...r)>=t}return!0}function oRe(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ipn(e){return(String(e).split(".")[1]||"").length}function apn(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}var iRe=$$t,K$t=V$t,Y$t=W$t,Z$t=J$t;var aRe=X1.forwardRef(({className:e,...t},r)=>X1.createElement(iRe,{ref:r,className:_e("relative flex w-full touch-none select-none items-center",e),...t},X1.createElement(K$t,{className:"relative h-1.5 w-full grow overflow-hidden border border-solid border-interactive-accent/30 rounded-full bg-interactive-accent/20"},X1.createElement(Y$t,{className:"absolute h-full bg-interactive-accent"})),X1.createElement(Z$t,{className:"block h-4 w-4 rounded-full border bg-toggle-thumb shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})));aRe.displayName=iRe.displayName;function X$t({value:e,onChange:t,min:r,max:n,step:o,disabled:i,className:a}){let[s,u]=(0,oM.useState)(e);return(0,oM.useEffect)(()=>{u(e)},[e]),oM.default.createElement("div",{className:_e("flex items-center gap-4",a)},oM.default.createElement(aRe,{value:[s],onValueChange:([l])=>u(l),onValueCommit:([l])=>t?.(l),min:r,max:n,step:o,disabled:i,className:"flex-1"}),oM.default.createElement("div",{className:"min-w-[40px] text-sm text-right"},s))}function Eo(e){let{title:t,description:r,className:n,disabled:o}=e,{modalContainer:i}=eS(),a="onChange"in e?e.onChange:void 0,s=(0,ji.useMemo)(()=>{if(a)return Qke(l=>{a(l)},1e3)},[a]),u=()=>{switch(e.type){case"text":case"number":return ji.default.createElement(ti,{type:e.type,defaultValue:e.value,onChange:l=>{s?.(l.target.value)},placeholder:e.placeholder,disabled:o,className:"w-full sm:w-[200px]"});case"password":return ji.default.createElement(eM,{value:e.value!==void 0?String(e.value):void 0,onChange:l=>{s?.(l)},placeholder:e.placeholder,disabled:o,className:"w-full sm:w-[200px]"});case"textarea":return ji.default.createElement(P1,{defaultValue:e.value,onChange:l=>{s?.(l.target.value)},placeholder:e.placeholder,rows:e.rows||3,disabled:o,className:"w-full sm:w-[300px] min-h-[80px]"});case"switch":return ji.default.createElement(LB,{checked:e.checked,onCheckedChange:e.onCheckedChange,disabled:o});case"select":return ji.default.createElement("div",{className:"relative w-full sm:w-[200px] group"},ji.default.createElement("select",{value:e.value?.toString(),onChange:l=>e.onChange?.(l.target.value),disabled:o,className:_e("w-full appearance-none","flex h-9 rounded-md border border-solid border-border bg-dropdown px-3 py-1 pr-8","text-sm !shadow transition-colors","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","hover:bg-interactive-hover hover:text-normal")},e.placeholder&&ji.default.createElement("option",{value:"",disabled:!0},e.placeholder),e.options.map(l=>ji.default.createElement("option",{key:l.value,value:l.value.toString()},l.label))),ji.default.createElement("div",{className:_e("pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2","transition-colors group-hover:[&>svg]:text-normal",o&&"opacity-50")},ji.default.createElement(ss,{className:"h-4 w-4"})));case"slider":return ji.default.createElement(X$t,{value:e.value||0,onChange:e.onChange,min:e.min,max:e.max,step:e.step,disabled:o,className:"w-full sm:w-[300px]"});case"dialog":return ji.default.createElement(rM,null,ji.default.createElement(R$t,{asChild:!0},e.trigger),ji.default.createElement(KC,{container:i},(e.dialogTitle||e.dialogDescription)&&ji.default.createElement(YC,null,e.dialogTitle&&ji.default.createElement(ZC,null,e.dialogTitle),e.dialogDescription&&ji.default.createElement(XC,null,e.dialogDescription)),e.children));case"custom":return e.children}};return ji.default.createElement("div",{className:_e("flex flex-col sm:flex-row items-start sm:items-center justify-between py-4 gap-4","w-full",n)},ji.default.createElement("div",{className:"space-y-1.5 w-full sm:w-[300px]"},ji.default.createElement("div",{className:"text-sm font-medium leading-none"},t),r&&ji.default.createElement("div",{className:"text-xs text-muted"},r)),ji.default.createElement("div",{className:"flex-1 w-full sm:flex sm:justify-end"},u()))}var Q$t=()=>{let e=qo();return Q1.default.createElement("div",{className:"space-y-4"},Q1.default.createElement("section",null,Q1.default.createElement(Eo,{type:"textarea",title:"User System Prompt",description:"Customize the system prompt for all messages, may result in unexpected behavior!",value:e.userSystemPrompt,onChange:t=>It("userSystemPrompt",t),placeholder:"Enter your system prompt here..."}),Q1.default.createElement("div",{className:"space-y-4"},Q1.default.createElement(Eo,{type:"switch",title:"Enable Encryption",description:"Enable encryption for the API keys.",checked:e.enableEncryption,onCheckedChange:t=>{It("enableEncryption",t)}}),Q1.default.createElement(Eo,{type:"switch",title:"Debug Mode",description:"Debug mode will log some debug message to the console.",checked:e.debug,onCheckedChange:t=>{It("debug",t)}}))))};var r$=class extends GB{constructor(t,r){super(t,r,"Changing this setting means you have to rebuild the index for your entire vault, do you wish to proceed?","Rebuild Index")}};var n$=require("obsidian"),Te=B(Y());var Cie=require("obsidian"),ka=B(Y()),upn=({open:e,onOpenChange:t,settings:r,updateSetting:n,modalContainer:o})=>{let[i,a]=(0,ka.useState)(new Set),[s,u]=(0,ka.useState)(new Set),l=h=>{h?u(new Set):s.forEach(m=>{let _=IO[m];n(_,"")}),t(h)},c=h=>{let m=IO[h];return r[m]??""},d=Ple().map(h=>{let m=h,_=c(m);return{provider:m,apiKey:_,isVerified:!!_&&!s.has(m)}}),f=(h,m)=>{c(h)!==m&&(n(IO[h],m),u(g=>new Set(g).add(h)))},p=async(h,m)=>{a(_=>new Set(_).add(h));try{r.debug&&console.log(`Verifying ${h} API key:`,m);let _=eI(h).testModel;if(!_){new Cie.Notice("API key verification failed: No default test model found for the selected provider.",1e4);return}let g={name:_,provider:h,apiKey:m,enabled:!0};await Ud.getInstance().ping(g),new Cie.Notice("API key verified successfully!"),u(v=>{let S=new Set(v);return S.delete(h),S})}catch(_){console.error("API key verification failed:",_),new Cie.Notice("API key verification failed: "+bi(_),1e4)}finally{a(_=>{let g=new Set(_);return g.delete(h),g})}};return ka.default.createElement(rM,{open:e,onOpenChange:l},ka.default.createElement(KC,{container:o,className:"sm:max-w-[480px]"},ka.default.createElement(YC,null,ka.default.createElement(ZC,null,"AI Provider Settings"),ka.default.createElement(XC,null,"Configure your AI providers by adding their API keys.")),ka.default.createElement("div",{className:"space-y-6 py-4"},ka.default.createElement("div",{className:"space-y-4"},d.map(h=>ka.default.createElement("div",{key:h.provider,className:"flex items-center gap-2"},ka.default.createElement("div",{className:"w-[120px] font-medium"},ka.default.createElement("div",{className:"truncate"},uh(h.provider)),eI(h.provider).keyManagementURL&&ka.default.createElement("a",{href:eI(h.provider).keyManagementURL,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-accent hover:text-accent-hover"},"Get ",uh(h.provider)," Key")),ka.default.createElement("div",{className:"flex-1 flex items-center gap-2"},ka.default.createElement("div",{className:"flex-1 pr-2"},ka.default.createElement(eM,{className:"w-full",value:h.apiKey,onChange:m=>f(h.provider,m),disabled:i.has(h.provider)})),ka.default.createElement("div",{className:"w-[72px]"},h.isVerified?ka.default.createElement("span",{className:"text-success text-sm flex items-center justify-center h-9"},"Verified"):ka.default.createElement(qe,{onClick:()=>p(h.provider,h.apiKey),disabled:!h.apiKey||i.size>0,variant:"secondary",size:"sm",className:"w-full whitespace-nowrap"},i.has(h.provider)?ka.default.createElement(Uc,{className:"mr-2 h-4 w-4 animate-spin"}):"Verify")))))))))},eqt=upn;var Du=B(Y()),tqt=require("obsidian"),rqt=B(gh());function lpn({onConfirm:e,onCancel:t}){let r=pe();return Du.default.createElement("div",{className:"flex flex-col gap-4"},Du.default.createElement("div",null,Du.default.createElement("p",null,"Thanks for purchasing ",Du.default.createElement("b",null,"Copilot Plus"),"! You have unlocked the full power of Copilot, featuring chat context, PDF and image support, exclusive chat and embedding models, and much more!"),Du.default.createElement("p",null,"Would you like to apply the Copilot Plus settings now? You can always change this later in Settings."),Du.default.createElement("ul",{className:"pl-4"},Du.default.createElement("li",null,"Default mode: ",Du.default.createElement("b",{className:"text-accent"},"Copilot Plus")),Du.default.createElement("li",null,"Chat model: ",Du.default.createElement("b",{className:"text-accent"},fCe)),Du.default.createElement("li",null,Du.default.createElement("div",null,"Embedding model: ",Du.default.createElement("b",{className:"text-accent"},pCe)),r.embeddingModelKey!==hCe&&Du.default.createElement("div",{className:"text-sm text-warning flex items-center gap-1"},Du.default.createElement(yh,{className:"size-4"})," It will rebuild your embeddings for the entire vault")))),Du.default.createElement("div",{className:"flex gap-2 justify-end w-full"},Du.default.createElement(qe,{variant:"ghost",onClick:t},"Apply Later"),Du.default.createElement(qe,{variant:"default",onClick:e},"Apply Now")))}var Oie=class extends tqt.Modal{constructor(t){super(t),this.setTitle("Welcome to Copilot Plus \u{1F680}")}onOpen(){let{contentEl:t}=this;this.root=(0,rqt.createRoot)(t);let r=()=>{i0t(),this.close()},n=()=>{this.close()};this.root.render(Du.default.createElement(lpn,{onConfirm:r,onCancel:n}))}onClose(){this.root.unmount()}};var Qa=B(Y());function nqt(){let e=qo(),[t,r]=(0,Qa.useState)(null),[n,o]=(0,Qa.useState)(!1),i=IQ(),[a,s]=(0,Qa.useState)(e.plusLicenseKey);return(0,Qa.useEffect)(()=>{s(e.plusLicenseKey)},[e.plusLicenseKey]),Qa.default.createElement("section",{className:"flex flex-col gap-4 bg-secondary p-4 rounded-lg"},Qa.default.createElement("div",{className:"text-xl font-bold flex items-center gap-2 justify-between"},Qa.default.createElement("span",null,"Copilot Plus (beta)"),i&&Qa.default.createElement(Vg,{variant:"outline",className:"text-success"},"Active")),Qa.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-2"},Qa.default.createElement("div",null,"Copilot Plus takes your Obsidian experience to the next level with cutting-edge AI capabilities. This premium tier unlocks advanced features, including chat context, PDF and image support, web search integration, exclusive chat and embedding models, and much more."),Qa.default.createElement("div",null,"Currently in beta, Copilot Plus is evolving fast, with new features and improvements rolling out regularly. Join now to secure the lowest price and get early access!")),Qa.default.createElement("div",{className:"flex items-center gap-2"},Qa.default.createElement(eM,{className:"w-full",placeholder:"Enter your license key",value:a,onChange:u=>{s(u)}}),Qa.default.createElement(qe,{disabled:n,onClick:async()=>{It("plusLicenseKey",a),o(!0);let u=await AQ();o(!1),u?(r(null),new Oie(app).open()):r("Invalid license key")},className:"min-w-20"},n?Qa.default.createElement(Uc,{className:"h-4 w-4 animate-spin"}):"Apply"),Qa.default.createElement(qe,{variant:"secondary",onClick:()=>Jj(AO.SETTINGS)},"Join Now ",Qa.default.createElement(CI,{className:"size-4"}))),Qa.default.createElement("div",{className:"text-error"},t))}var dpn={llm_chain:"Chat",vault_qa:"Vault QA (Basic)",copilot_plus:"Copilot Plus (beta)"},oqt=()=>{let{modalContainer:e}=eS(),t=qo(),[r,n]=(0,Te.useState)(!1),[o,i]=(0,Te.useState)(!1),[a,s]=(0,Te.useState)(t.defaultConversationNoteName||"{$date}_{$time}__{$topic}"),u=async f=>{f!==t.embeddingModelKey&&new r$(app,async()=>{It("embeddingModelKey",f),await ma.getInstance().indexVaultToVectorStore(!0)}).open()},l=()=>{i(!0);try{let f=a||"{$date}_{$time}__{$topic}",h=["{$date}","{$time}","{$topic}"].filter(x=>!f.includes(x));if(h.length>0){new n$.Notice(`Error: Missing required variables: ${h.join(", ")}`,4e3);return}let m=/[\\/:*?"<>|]/,_=f.replace(/\{\$date}/g,"").replace(/\{\$time}/g,"").replace(/\{\$topic}/g,"");if(m.test(_)){new n$.Notice('Error: Format contains illegal characters (\\/:*?"<>|)',4e3);return}let{fileName:g}=ll(new Date),S=f.replace("{$topic}","test topic name".slice(0,100).replace(/\s+/g,"_")).replace("{$date}",g.split("_")[0]).replace("{$time}",g.split("_")[1]);It("defaultConversationNoteName",f),s(f),new n$.Notice(`Format applied successfully! Example: ${S}`,4e3)}catch(f){new n$.Notice(`Error applying format: ${f.message}`,4e3)}finally{i(!1)}},c=!!t.activeModels.find(f=>f.enabled&&Dr(f)===t.defaultModelKey),d=t.activeModels.filter(f=>f.enabled).map(f=>({label:eMe(f),value:Dr(f)}));return Te.default.createElement("div",{className:"space-y-4"},Te.default.createElement(nqt,null),Te.default.createElement("section",null,Te.default.createElement("div",{className:"text-xl font-bold mb-3"},"General"),Te.default.createElement("div",{className:"space-y-4"},Te.default.createElement("div",{className:"space-y-4"},Te.default.createElement(Eo,{type:"custom",title:"API Keys",description:Te.default.createElement("div",{className:"flex items-center gap-1.5"},Te.default.createElement("span",{className:"leading-none"},"Configure API keys for different AI providers"),Te.default.createElement(vc,{delayDuration:0},Te.default.createElement(Kr,null,Te.default.createElement(Yr,{asChild:!0},Te.default.createElement(zl,{className:"size-4"})),Te.default.createElement(Hr,{className:"max-w-96 flex flex-col gap-2 py-4"},Te.default.createElement("div",{className:"text-sm font-medium text-accent"},"API key required for chat and QA features"),Te.default.createElement("div",{className:"text-xs text-muted"},"To enable chat and QA functionality, please provide an API key from your selected provider.")))))},Te.default.createElement(qe,{onClick:()=>n(!0),variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto justify-center sm:justify-start"},"Set Keys",Te.default.createElement(PU,{className:"h-4 w-4"}))),Te.default.createElement(eqt,{open:r,onOpenChange:n,settings:t,updateSetting:It,modalContainer:e})),Te.default.createElement(Eo,{type:"select",title:"Default Chat Model",description:"Select the Chat model to use",value:c?t.defaultModelKey:"Select Model",onChange:f=>{let p=t.activeModels.find(_=>_.enabled&&Dr(_)===f);if(!p)return;let{hasApiKey:h,errorNotice:m}=o5(p,t);if(!h&&m){new n$.Notice(m);return}It("defaultModelKey",f)},options:c?d:[{label:"Select Model",value:"Select Model"},...d],placeholder:"Model"}),Te.default.createElement(Eo,{type:"select",title:"Embedding Model",description:Te.default.createElement("div",{className:"space-y-2"},Te.default.createElement("div",{className:"flex items-center gap-1.5"},Te.default.createElement("span",{className:"leading-none font-medium text-accent"},"Core Feature: Powers Semantic Search & QA"),Te.default.createElement(vc,{delayDuration:0},Te.default.createElement(Kr,null,Te.default.createElement(Yr,{asChild:!0},Te.default.createElement(zl,{className:"size-4"})),Te.default.createElement(Hr,{className:"max-w-96 flex flex-col gap-2"},Te.default.createElement("div",{className:"text-sm text-muted pt-2"},"This model converts text into vector representations, essential for semantic search and QA functionality. Changing the embedding model will:"),Te.default.createElement("ul",{className:"text-sm text-muted pl-4"},Te.default.createElement("li",null,"Require rebuilding your vault's vector index"),Te.default.createElement("li",null,"Affect semantic search quality"),Te.default.createElement("li",null,"Impact QA feature performance"))))))),value:t.embeddingModelKey,onChange:u,options:t.activeEmbeddingModels.map(f=>({label:eMe(f),value:Dr(f)})),placeholder:"Model"}),Te.default.createElement(Eo,{type:"select",title:"Default Mode",description:Te.default.createElement("div",{className:"flex items-center gap-1.5"},Te.default.createElement("span",{className:"leading-none"},"Select the default chat mode"),Te.default.createElement(vc,{delayDuration:0},Te.default.createElement(Kr,null,Te.default.createElement(Yr,{asChild:!0},Te.default.createElement(zl,{className:"size-4"})),Te.default.createElement(Hr,{className:"max-w-96 flex flex-col gap-2"},Te.default.createElement("ul",{className:"text-sm text-muted pl-4"},Te.default.createElement("li",null,Te.default.createElement("strong",null,"Chat:")," Regular chat mode for general conversations and tasks. ",Te.default.createElement("i",null,"Free to use with your own API key.")),Te.default.createElement("li",null,Te.default.createElement("strong",null,"Vault QA (Basic):")," Ask questions about your vault content with semantic search. ",Te.default.createElement("i",null,"Free to use with your own API key.")),Te.default.createElement("li",null,Te.default.createElement("strong",null,"Copilot Plus:")," Covers all features of the 2 free modes, plus advanced paid features including chat context menu, advanced search, AI agents, and more. Check out"," ",Te.default.createElement("a",{href:mCe(AO.MODE_SELECT_TOOLTIP),target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-hover"},"obsidiancopilot.com")," ","for more details.")))))),value:t.defaultChainType,onChange:f=>It("defaultChainType",f),options:Object.entries(dpn).map(([f,p])=>({label:p,value:f}))}),Te.default.createElement(Eo,{type:"select",title:"Open Plugin In",description:"Choose where to open the plugin",value:t.defaultOpenArea,onChange:f=>It("defaultOpenArea",f),options:[{label:"Sidebar View",value:"view"},{label:"Editor",value:"editor"}]}),Te.default.createElement(Eo,{type:"text",title:"Default Conversation Folder Name",description:"The default folder name where chat conversations will be saved. Default is 'copilot-conversations'",value:t.defaultSaveFolder,onChange:f=>It("defaultSaveFolder",f),placeholder:"copilot-conversations"}),Te.default.createElement(Eo,{type:"text",title:"Custom Prompts Folder Name",description:"The default folder name where custom prompts will be saved. Default is 'copilot-custom-prompts'",value:t.customPromptsFolder,onChange:f=>It("customPromptsFolder",f),placeholder:"copilot-custom-prompts"}),Te.default.createElement(Eo,{type:"text",title:"Default Conversation Tag",description:"The default tag to be used when saving a conversation. Default is 'ai-conversations'",value:t.defaultConversationTag,onChange:f=>It("defaultConversationTag",f),placeholder:"ai-conversations"}),Te.default.createElement(Eo,{type:"custom",title:"Conversation Filename Template",description:Te.default.createElement("div",{className:"flex items-start gap-1.5 "},Te.default.createElement("span",{className:"leading-none"},"Customize the format of saved conversation note names."),Te.default.createElement(vc,{delayDuration:0},Te.default.createElement(Kr,null,Te.default.createElement(Yr,{asChild:!0},Te.default.createElement(zl,{className:"size-4"})),Te.default.createElement(Hr,{className:"max-w-96 flex flex-col gap-2 py-4"},Te.default.createElement("div",{className:"text-sm font-medium text-accent"},"Note: All the following variables must be included in the template."),Te.default.createElement("div",null,Te.default.createElement("div",{className:"text-sm font-medium text-muted"},"Available variables:"),Te.default.createElement("ul",{className:"text-sm text-muted pl-4"},Te.default.createElement("li",null,Te.default.createElement("strong",null,"{$date}"),": Date in YYYYMMDD format"),Te.default.createElement("li",null,Te.default.createElement("strong",null,"{$time}"),": Time in HHMMSS format"),Te.default.createElement("li",null,Te.default.createElement("strong",null,"{$topic}"),": Chat conversation topic")),Te.default.createElement("i",{className:"text-sm text-muted mt-2"},"Example: ","{$date}_{$time}__{$topic}"," \u2192 20250114_153232__polish_this_article_[[Readme]]"))))))},Te.default.createElement("div",{className:"flex items-center gap-1.5 w-[320px]"},Te.default.createElement(ti,{type:"text",className:`transition-all duration-200 flex-grow min-w-[80px] ${o?"w-[80px]":"w-[120px]"}`,placeholder:"{$date}_{$time}__{$topic}",value:a,onChange:f=>s(f.target.value),disabled:o}),Te.default.createElement(qe,{onClick:()=>l(),disabled:o,variant:"secondary"},o?Te.default.createElement(Te.default.Fragment,null,Te.default.createElement(Uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Apply"):"Apply"))),Te.default.createElement(Eo,{type:"switch",title:"Autosave Chat",description:"Automatically save the chat when starting a new one or when the plugin reloads",checked:t.autosaveChat,onCheckedChange:f=>It("autosaveChat",f)}),Te.default.createElement(Eo,{type:"switch",title:"Suggested Prompts",description:"Show suggested prompts in the chat view",checked:t.showSuggestedPrompts,onCheckedChange:f=>It("showSuggestedPrompts",f)}),Te.default.createElement(Eo,{type:"switch",title:"Relevant Notes",description:"Show relevant notes in the chat view",checked:t.showRelevantNotes,onCheckedChange:f=>It("showRelevantNotes",f)}))))};var Zi=B(Y());var ke=B(Y());var JH=require("obsidian");var Yo=B(Y());var We=B(Y(),1),CRe=B(as(),1);var Ca=B(Y(),1);var uRe=B(lt(),1),fpn="DismissableLayer",sRe="dismissableLayer.update",ppn="dismissableLayer.pointerDownOutside",hpn="dismissableLayer.focusOutside",iqt,sqt=Ca.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lRe=Ca.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=Ca.useContext(sqt),[c,d]=Ca.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Ca.useState({}),h=zo(t,E=>d(E)),m=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(_),v=c?m.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,O=ypn(E=>{let M=E.target,A=[...l.branches].some(j=>j.contains(M));!x||A||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=bpn(E=>{let M=E.target;[...l.branches].some(j=>j.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return Gw(E=>{v===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Ca.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(iqt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),aqt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=iqt)}},[c,f,r,l]),Ca.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),aqt())},[c,l]),Ca.useEffect(()=>{let E=()=>p({});return document.addEventListener(sRe,E),()=>document.removeEventListener(sRe,E)},[]),(0,uRe.jsx)(Nn.div,{...u,ref:h,style:{pointerEvents:S?x?"auto":"none":void 0,...e.style},onFocusCapture:ko(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ko(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ko(e.onPointerDownCapture,O.onPointerDownCapture)})});lRe.displayName=fpn;var mpn="DismissableLayerBranch",gpn=Ca.forwardRef((e,t)=>{let r=Ca.useContext(sqt),n=Ca.useRef(null),o=zo(t,n);return Ca.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,uRe.jsx)(Nn.div,{...e,ref:o})});gpn.displayName=mpn;function ypn(e,t=globalThis?.document){let r=Wt(e),n=Ca.useRef(!1),o=Ca.useRef(()=>{});return Ca.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){uqt(ppn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bpn(e,t=globalThis?.document){let r=Wt(e),n=Ca.useRef(!1);return Ca.useEffect(()=>{let o=i=>{i.target&&!n.current&&uqt(hpn,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aqt(){let e=new CustomEvent(sRe);document.dispatchEvent(e)}function uqt(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?SBt(o,i):o.dispatchEvent(i)}var xm=B(Y(),1);var pqt=B(lt(),1),cRe="focusScope.autoFocusOnMount",dRe="focusScope.autoFocusOnUnmount",lqt={bubbles:!1,cancelable:!0},_pn="FocusScope",fRe=xm.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=xm.useState(null),l=Wt(o),c=Wt(i),d=xm.useRef(null),f=zo(t,m=>u(m)),p=xm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;xm.useEffect(()=>{if(n){let v=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:iM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||iM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&iM(s)};var m=v,_=S,g=x;document.addEventListener("focusin",v),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),xm.useEffect(()=>{if(s){dqt.add(p);let m=document.activeElement;if(!s.contains(m)){let g=new CustomEvent(cRe,lqt);s.addEventListener(cRe,l),s.dispatchEvent(g),g.defaultPrevented||(vpn(Opn(hqt(s)),{select:!0}),document.activeElement===m&&iM(s))}return()=>{s.removeEventListener(cRe,l),setTimeout(()=>{let g=new CustomEvent(dRe,lqt);s.addEventListener(dRe,c),s.dispatchEvent(g),g.defaultPrevented||iM(m??document.body,{select:!0}),s.removeEventListener(dRe,c),dqt.remove(p)},0)}}},[s,l,c,p]);let h=xm.useCallback(m=>{if(!r&&!n||p.paused)return;let _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(_&&g){let v=m.currentTarget,[S,x]=wpn(v);S&&x?!m.shiftKey&&g===x?(m.preventDefault(),r&&iM(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&iM(x,{select:!0})):g===v&&m.preventDefault()}},[r,n,p.paused]);return(0,pqt.jsx)(Nn.div,{tabIndex:-1,...a,ref:f,onKeyDown:h})});fRe.displayName=_pn;function vpn(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(iM(n,{select:t}),document.activeElement!==r)return}function wpn(e){let t=hqt(e),r=cqt(t,e),n=cqt(t.reverse(),e);return[r,n]}function hqt(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cqt(e,t){for(let r of e)if(!Spn(r,{upTo:t}))return r}function Spn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xpn(e){return e instanceof HTMLInputElement&&"select"in e}function iM(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xpn(e)&&t&&e.select()}}var dqt=Cpn();function Cpn(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),e=fqt(e,t),e.unshift(t)},remove(t){e=fqt(e,t),e[0]?.resume()}}}function fqt(e,t){let r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Opn(e){return e.filter(t=>t.tagName!=="A")}var Vp=B(Y(),1);var mqt=B(Y(),1);var pRe=B(lt(),1),Epn="Arrow",gqt=mqt.forwardRef((e,t)=>{let{children:r,width:n=10,height:o=5,...i}=e;return(0,pRe.jsx)(Nn.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,pRe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});gqt.displayName=Epn;var yqt=gqt;var eO=B(Y(),1),bqt=B(lt(),1);function _qt(e,t=[]){let r=[];function n(i,a){let s=eO.createContext(a),u=r.length;r=[...r,a];function l(d){let{scope:f,children:p,...h}=d,m=f?.[e][u]||s,_=eO.useMemo(()=>h,Object.values(h));return(0,bqt.jsx)(m.Provider,{value:_,children:p})}function c(d,f){let p=f?.[e][u]||s,h=eO.useContext(p);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}let o=()=>{let i=r.map(a=>eO.createContext(a));return function(s){let u=s?.[e]||i;return eO.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[n,Tpn(o,...t)]}function Tpn(...e){let t=e[0];if(e.length===1)return t;let r=()=>{let n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return eO.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var aM=B(lt(),1);var hRe="Popper",[vqt,mRe]=_qt(hRe),[Mpn,wqt]=vqt(hRe),Sqt=e=>{let{__scopePopper:t,children:r}=e,[n,o]=Vp.useState(null);return(0,aM.jsx)(Mpn,{scope:t,anchor:n,onAnchorChange:o,children:r})};Sqt.displayName=hRe;var xqt="PopperAnchor",Cqt=Vp.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...o}=e,i=wqt(xqt,r),a=Vp.useRef(null),s=zo(t,a);return Vp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,aM.jsx)(Nn.div,{...o,ref:s})});Cqt.displayName=xqt;var gRe="PopperContent",[Ipn,Apn]=vqt(gRe),Oqt=Vp.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:h,...m}=e,_=wqt(gRe,r),[g,v]=Vp.useState(null),S=zo(t,ue=>v(ue)),[x,O]=Vp.useState(null),T=bm(x),E=T?.width??0,M=T?.height??0,A=n+(i!=="center"?"-"+i:""),j=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(l)?l:[l],F=N.length>0,k={padding:j,boundary:N.filter(Dpn),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:G,middlewareData:V}=MT({strategy:"fixed",placement:A,whileElementsMounted:(...ue)=>VC(...ue,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[IT({mainAxis:o+M,alignmentAxis:a}),u&&AT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?RT():void 0,...k}),u&&DT({...k}),jT({...k,apply:({elements:ue,rects:Me,availableWidth:ht,availableHeight:we})=>{let{width:ie,height:ee}=Me.reference,ge=ue.floating.style;ge.setProperty("--radix-popper-available-width",`${ht}px`),ge.setProperty("--radix-popper-available-height",`${we}px`),ge.setProperty("--radix-popper-anchor-width",`${ie}px`),ge.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&LT({element:x,padding:s}),jpn({arrowWidth:E,arrowHeight:M}),f&&NT({strategy:"referenceHidden",...k})]}),[D,z]=Tqt(U),W=Wt(h);Br(()=>{G&&W?.()},[G,W]);let J=V.arrow?.x,te=V.arrow?.y,Ae=V.arrow?.centerOffset!==0,[Z,Q]=Vp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,aM.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,aM.jsx)(Ipn,{scope:r,placedSide:D,onArrowChange:O,arrowX:J,arrowY:te,shouldHideArrow:Ae,children:(0,aM.jsx)(Nn.div,{"data-side":D,"data-align":z,...m,ref:S,style:{...m.style,animation:G?void 0:"none"}})})})});Oqt.displayName=gRe;var Eqt="PopperArrow",Rpn={top:"bottom",right:"left",bottom:"top",left:"right"},Pqt=Vp.forwardRef(function(t,r){let{__scopePopper:n,...o}=t,i=Apn(Eqt,n),a=Rpn[i.placedSide];return(0,aM.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,aM.jsx)(yqt,{...o,ref:r,style:{...o.style,display:"block"}})})});Pqt.displayName=Eqt;function Dpn(e){return e!==null}var jpn=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[l,c]=Tqt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,h="",m="";return l==="bottom"?(h=a?d:`${f}px`,m=`${-u}px`):l==="top"?(h=a?d:`${f}px`,m=`${n.floating.height+u}px`):l==="right"?(h=`${-u}px`,m=a?d:`${p}px`):l==="left"&&(h=`${n.floating.width+u}px`,m=a?d:`${p}px`),{data:{x:h,y:m}}}});function Tqt(e){let[t,r="center"]=e.split("-");return[t,r]}var Mqt=Sqt,Iqt=Cqt,Aqt=Oqt,Rqt=Pqt;var Eie=B(Y(),1),Dqt=B(as(),1);var jqt=B(lt(),1),Lpn="Portal",yRe=Eie.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=Eie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?Dqt.default.createPortal((0,jqt.jsx)(Nn.div,{...n,ref:t}),a):null});yRe.displayName=Lpn;var Nqt=B(Y(),1);var Lqt=B(lt(),1),Fpn="VisuallyHidden",bRe=Nqt.forwardRef((e,t)=>(0,Lqt.jsx)(Nn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));bRe.displayName=Fpn;var Nt=B(lt(),1),kpn=[" ","Enter","ArrowUp","ArrowDown"],Bpn=[" ","Enter"],WH="Select",[Tie,Mie,$pn]=Sie(WH),[o$,WJo]=Ro(WH,[$pn,mRe]),Iie=mRe(),[qpn,sM]=o$(WH),[Upn,zpn]=o$(WH),Fqt=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:i,value:a,defaultValue:s,onValueChange:u,dir:l,name:c,autoComplete:d,disabled:f,required:p,form:h}=e,m=Iie(t),[_,g]=We.useState(null),[v,S]=We.useState(null),[x,O]=We.useState(!1),T=ET(l),[E=!1,M]=Qu({prop:n,defaultProp:o,onChange:i}),[A,j]=Qu({prop:a,defaultProp:s,onChange:u}),N=We.useRef(null),F=_?h||!!_.closest("form"):!0,[k,L]=We.useState(new Set),q=Array.from(k).map(U=>U.props.value).join(";");return(0,Nt.jsx)(Mqt,{...m,children:(0,Nt.jsxs)(qpn,{required:p,scope:t,trigger:_,onTriggerChange:g,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:x,onValueNodeHasChildrenChange:O,contentId:Fa(),value:A,onValueChange:j,open:E,onOpenChange:M,dir:T,triggerPointerDownPosRef:N,disabled:f,children:[(0,Nt.jsx)(Tie.Provider,{scope:t,children:(0,Nt.jsx)(Upn,{scope:e.__scopeSelect,onNativeOptionAdd:We.useCallback(U=>{L(G=>new Set(G).add(U))},[]),onNativeOptionRemove:We.useCallback(U=>{L(G=>{let V=new Set(G);return V.delete(U),V})},[]),children:r})}),F?(0,Nt.jsxs)(uUt,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:d,value:A,onChange:U=>j(U.target.value),disabled:f,form:h,children:[A===void 0?(0,Nt.jsx)("option",{value:""}):null,Array.from(k)]},q):null]})})};Fqt.displayName=WH;var kqt="SelectTrigger",Bqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...o}=e,i=Iie(r),a=sM(kqt,r),s=a.disabled||n,u=zo(t,a.onTriggerChange),l=Mie(r),c=We.useRef("touch"),[d,f,p]=lUt(m=>{let _=l().filter(S=>!S.disabled),g=_.find(S=>S.value===a.value),v=cUt(_,m,g);v!==void 0&&a.onValueChange(v.value)}),h=m=>{s||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return(0,Nt.jsx)(Iqt,{asChild:!0,...i,children:(0,Nt.jsx)(Nn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":sUt(a.value)?"":void 0,...o,ref:u,onClick:ko(o.onClick,m=>{m.currentTarget.focus(),c.current!=="mouse"&&h(m)}),onPointerDown:ko(o.onPointerDown,m=>{c.current=m.pointerType;let _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(h(m),m.preventDefault())}),onKeyDown:ko(o.onKeyDown,m=>{let _=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(_&&m.key===" ")&&kpn.includes(m.key)&&(h(),m.preventDefault())})})})});Bqt.displayName=kqt;var $qt="SelectValue",qqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:o,children:i,placeholder:a="",...s}=e,u=sM($qt,r),{onValueNodeHasChildrenChange:l}=u,c=i!==void 0,d=zo(t,u.onValueNodeChange);return Br(()=>{l(c)},[l,c]),(0,Nt.jsx)(Nn.span,{...s,ref:d,style:{pointerEvents:"none"},children:sUt(u.value)?(0,Nt.jsx)(Nt.Fragment,{children:a}):i})});qqt.displayName=$qt;var Hpn="SelectIcon",Uqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...o}=e;return(0,Nt.jsx)(Nn.span,{"aria-hidden":!0,...o,ref:t,children:n||"\u25BC"})});Uqt.displayName=Hpn;var Vpn="SelectPortal",zqt=e=>(0,Nt.jsx)(yRe,{asChild:!0,...e});zqt.displayName=Vpn;var eD="SelectContent",Hqt=We.forwardRef((e,t)=>{let r=sM(eD,e.__scopeSelect),[n,o]=We.useState();if(Br(()=>{o(new DocumentFragment)},[]),!r.open){let i=n;return i?CRe.createPortal((0,Nt.jsx)(Vqt,{scope:e.__scopeSelect,children:(0,Nt.jsx)(Tie.Slot,{scope:e.__scopeSelect,children:(0,Nt.jsx)("div",{children:e.children})})}),i):null}return(0,Nt.jsx)(Wqt,{...e,ref:t})});Hqt.displayName=eD;var Gg=10,[Vqt,uM]=o$(eD),Wpn="SelectContentImpl",Wqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:h,hideWhenDetached:m,avoidCollisions:_,...g}=e,v=sM(eD,r),[S,x]=We.useState(null),[O,T]=We.useState(null),E=zo(t,ue=>x(ue)),[M,A]=We.useState(null),[j,N]=We.useState(null),F=Mie(r),[k,L]=We.useState(!1),q=We.useRef(!1);We.useEffect(()=>{if(S)return $T(S)},[S]),PT();let U=We.useCallback(ue=>{let[Me,...ht]=F().map(ee=>ee.ref.current),[we]=ht.slice(-1),ie=document.activeElement;for(let ee of ue)if(ee===ie||(ee?.scrollIntoView({block:"nearest"}),ee===Me&&O&&(O.scrollTop=0),ee===we&&O&&(O.scrollTop=O.scrollHeight),ee?.focus(),document.activeElement!==ie))return},[F,O]),G=We.useCallback(()=>U([M,S]),[U,M,S]);We.useEffect(()=>{k&&G()},[k,G]);let{onOpenChange:V,triggerPointerDownPosRef:D}=v;We.useEffect(()=>{if(S){let ue={x:0,y:0},Me=we=>{ue={x:Math.abs(Math.round(we.pageX)-(D.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(D.current?.y??0))}},ht=we=>{ue.x<=10&&ue.y<=10?we.preventDefault():S.contains(we.target)||V(!1),document.removeEventListener("pointermove",Me),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",ht,{capture:!0})}}},[S,V,D]),We.useEffect(()=>{let ue=()=>V(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[V]);let[z,W]=lUt(ue=>{let Me=F().filter(ie=>!ie.disabled),ht=Me.find(ie=>ie.ref.current===document.activeElement),we=cUt(Me,ue,ht);we&&setTimeout(()=>we.ref.current.focus())}),J=We.useCallback((ue,Me,ht)=>{let we=!q.current&&!ht;(v.value!==void 0&&v.value===Me||we)&&(A(ue),we&&(q.current=!0))},[v.value]),te=We.useCallback(()=>S?.focus(),[S]),Ae=We.useCallback((ue,Me,ht)=>{let we=!q.current&&!ht;(v.value!==void 0&&v.value===Me||we)&&N(ue)},[v.value]),Z=n==="popper"?_Re:Jqt,Q=Z===_Re?{side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:h,hideWhenDetached:m,avoidCollisions:_}:{};return(0,Nt.jsx)(Vqt,{scope:r,content:S,viewport:O,onViewportChange:T,itemRefCallback:J,selectedItem:M,onItemLeave:te,itemTextRefCallback:Ae,focusSelectedItem:G,selectedItemText:j,position:n,isPositioned:k,searchRef:z,children:(0,Nt.jsx)(HH,{as:by,allowPinchZoom:!0,children:(0,Nt.jsx)(fRe,{asChild:!0,trapped:v.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:ko(o,ue=>{v.trigger?.focus({preventScroll:!0}),ue.preventDefault()}),children:(0,Nt.jsx)(lRe,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,Nt.jsx)(Z,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ue=>ue.preventDefault(),...g,...Q,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ko(g.onKeyDown,ue=>{let Me=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Me&&ue.key.length===1&&W(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let we=F().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){let ie=ue.target,ee=we.indexOf(ie);we=we.slice(ee+1)}setTimeout(()=>U(we)),ue.preventDefault()}})})})})})})});Wqt.displayName=Wpn;var Jpn="SelectItemAlignedPosition",Jqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...o}=e,i=sM(eD,r),a=uM(eD,r),[s,u]=We.useState(null),[l,c]=We.useState(null),d=zo(t,E=>c(E)),f=Mie(r),p=We.useRef(!1),h=We.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:g,focusSelectedItem:v}=a,S=We.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&l&&m&&_&&g){let E=i.trigger.getBoundingClientRect(),M=l.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),j=g.getBoundingClientRect();if(i.dir!=="rtl"){let ie=j.left-M.left,ee=A.left-ie,ge=E.left-ee,Ue=E.width+ge,ct=Math.max(Ue,M.width),Je=window.innerWidth-Gg,sr=e$(ee,[Gg,Math.max(Gg,Je-ct)]);s.style.minWidth=Ue+"px",s.style.left=sr+"px"}else{let ie=M.right-j.right,ee=window.innerWidth-A.right-ie,ge=window.innerWidth-E.right-ee,Ue=E.width+ge,ct=Math.max(Ue,M.width),Je=window.innerWidth-Gg,sr=e$(ee,[Gg,Math.max(Gg,Je-ct)]);s.style.minWidth=Ue+"px",s.style.right=sr+"px"}let N=f(),F=window.innerHeight-Gg*2,k=m.scrollHeight,L=window.getComputedStyle(l),q=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),V=parseInt(L.paddingBottom,10),D=q+U+k+V+G,z=Math.min(_.offsetHeight*5,D),W=window.getComputedStyle(m),J=parseInt(W.paddingTop,10),te=parseInt(W.paddingBottom,10),Ae=E.top+E.height/2-Gg,Z=F-Ae,Q=_.offsetHeight/2,ue=_.offsetTop+Q,Me=q+U+ue,ht=D-Me;if(Me<=Ae){let ie=N.length>0&&_===N[N.length-1].ref.current;s.style.bottom="0px";let ee=l.clientHeight-m.offsetTop-m.offsetHeight,ge=Math.max(Z,Q+(ie?te:0)+ee+G),Ue=Me+ge;s.style.height=Ue+"px"}else{let ie=N.length>0&&_===N[0].ref.current;s.style.top="0px";let ge=Math.max(Ae,q+m.offsetTop+(ie?J:0)+Q)+ht;s.style.height=ge+"px",m.scrollTop=Me-Ae+m.offsetTop}s.style.margin=`${Gg}px 0`,s.style.minHeight=z+"px",s.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,s,l,m,_,g,i.dir,n]);Br(()=>S(),[S]);let[x,O]=We.useState();Br(()=>{l&&O(window.getComputedStyle(l).zIndex)},[l]);let T=We.useCallback(E=>{E&&h.current===!0&&(S(),v?.(),h.current=!1)},[S,v]);return(0,Nt.jsx)(Kpn,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:(0,Nt.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:(0,Nt.jsx)(Nn.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Jqt.displayName=Jpn;var Gpn="SelectPopperPosition",_Re=We.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:o=Gg,...i}=e,a=Iie(r);return(0,Nt.jsx)(Aqt,{...a,...i,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_Re.displayName=Gpn;var[Kpn,ORe]=o$(eD,{}),vRe="SelectViewport",Gqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...o}=e,i=uM(vRe,r),a=ORe(vRe,r),s=zo(t,i.onViewportChange),u=We.useRef(0);return(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,Nt.jsx)(Tie.Slot,{scope:r,children:(0,Nt.jsx)(Nn.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ko(o.onScroll,l=>{let c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f?.current&&d){let p=Math.abs(u.current-c.scrollTop);if(p>0){let h=window.innerHeight-Gg*2,m=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),g=Math.max(m,_);if(g<h){let v=g+p,S=Math.min(h,v),x=v-S;d.style.height=S+"px",d.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}u.current=c.scrollTop})})})]})});Gqt.displayName=vRe;var Kqt="SelectGroup",[Ypn,Zpn]=o$(Kqt),Xpn=We.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,o=Fa();return(0,Nt.jsx)(Ypn,{scope:r,id:o,children:(0,Nt.jsx)(Nn.div,{role:"group","aria-labelledby":o,...n,ref:t})})});Xpn.displayName=Kqt;var Yqt="SelectLabel",Zqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,o=Zpn(Yqt,r);return(0,Nt.jsx)(Nn.div,{id:o.id,...n,ref:t})});Zqt.displayName=Yqt;var Pie="SelectItem",[Qpn,Xqt]=o$(Pie),Qqt=We.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:o=!1,textValue:i,...a}=e,s=sM(Pie,r),u=uM(Pie,r),l=s.value===n,[c,d]=We.useState(i??""),[f,p]=We.useState(!1),h=zo(t,v=>u.itemRefCallback?.(v,n,o)),m=Fa(),_=We.useRef("touch"),g=()=>{o||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Nt.jsx)(Qpn,{scope:r,value:n,disabled:o,textId:m,isSelected:l,onItemTextChange:We.useCallback(v=>{d(S=>S||(v?.textContent??"").trim())},[]),children:(0,Nt.jsx)(Tie.ItemSlot,{scope:r,value:n,disabled:o,textValue:c,children:(0,Nt.jsx)(Nn.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:h,onFocus:ko(a.onFocus,()=>p(!0)),onBlur:ko(a.onBlur,()=>p(!1)),onClick:ko(a.onClick,()=>{_.current!=="mouse"&&g()}),onPointerUp:ko(a.onPointerUp,()=>{_.current==="mouse"&&g()}),onPointerDown:ko(a.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:ko(a.onPointerMove,v=>{_.current=v.pointerType,o?u.onItemLeave?.():_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ko(a.onPointerLeave,v=>{v.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ko(a.onKeyDown,v=>{u.searchRef?.current!==""&&v.key===" "||(Bpn.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Qqt.displayName=Pie;var VH="SelectItemText",eUt=We.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:o,...i}=e,a=sM(VH,r),s=uM(VH,r),u=Xqt(VH,r),l=zpn(VH,r),[c,d]=We.useState(null),f=zo(t,g=>d(g),u.onItemTextChange,g=>s.itemTextRefCallback?.(g,u.value,u.disabled)),p=c?.textContent,h=We.useMemo(()=>(0,Nt.jsx)("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=l;return Br(()=>(m(h),()=>_(h)),[m,_,h]),(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)(Nn.span,{id:u.textId,...i,ref:f}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?CRe.createPortal(i.children,a.valueNode):null]})});eUt.displayName=VH;var tUt="SelectItemIndicator",rUt=We.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return Xqt(tUt,r).isSelected?(0,Nt.jsx)(Nn.span,{"aria-hidden":!0,...n,ref:t}):null});rUt.displayName=tUt;var wRe="SelectScrollUpButton",nUt=We.forwardRef((e,t)=>{let r=uM(wRe,e.__scopeSelect),n=ORe(wRe,e.__scopeSelect),[o,i]=We.useState(!1),a=zo(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let u=function(){let c=l.scrollTop>0;i(c)};var s=u;let l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?(0,Nt.jsx)(iUt,{...e,ref:a,onAutoScroll:()=>{let{viewport:s,selectedItem:u}=r;s&&u&&(s.scrollTop=s.scrollTop-u.offsetHeight)}}):null});nUt.displayName=wRe;var SRe="SelectScrollDownButton",oUt=We.forwardRef((e,t)=>{let r=uM(SRe,e.__scopeSelect),n=ORe(SRe,e.__scopeSelect),[o,i]=We.useState(!1),a=zo(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let u=function(){let c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};var s=u;let l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?(0,Nt.jsx)(iUt,{...e,ref:a,onAutoScroll:()=>{let{viewport:s,selectedItem:u}=r;s&&u&&(s.scrollTop=s.scrollTop+u.offsetHeight)}}):null});oUt.displayName=SRe;var iUt=We.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...o}=e,i=uM("SelectScrollButton",r),a=We.useRef(null),s=Mie(r),u=We.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return We.useEffect(()=>()=>u(),[u]),Br(()=>{s().find(c=>c.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),(0,Nt.jsx)(Nn.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ko(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ko(o.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ko(o.onPointerLeave,()=>{u()})})}),ehn="SelectSeparator",aUt=We.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,Nt.jsx)(Nn.div,{"aria-hidden":!0,...n,ref:t})});aUt.displayName=ehn;var xRe="SelectArrow",thn=We.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,o=Iie(r),i=sM(xRe,r),a=uM(xRe,r);return i.open&&a.position==="popper"?(0,Nt.jsx)(Rqt,{...o,...n,ref:t}):null});thn.displayName=xRe;function sUt(e){return e===""||e===void 0}var uUt=We.forwardRef((e,t)=>{let{value:r,...n}=e,o=We.useRef(null),i=zo(t,o),a=KB(r);return We.useEffect(()=>{let s=o.current,u=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==r&&c){let d=new Event("change",{bubbles:!0});c.call(s,r),s.dispatchEvent(d)}},[a,r]),(0,Nt.jsx)(bRe,{asChild:!0,children:(0,Nt.jsx)("select",{...n,ref:i,defaultValue:r})})});uUt.displayName="BubbleSelect";function lUt(e){let t=Wt(e),r=We.useRef(""),n=We.useRef(0),o=We.useCallback(a=>{let s=r.current+a;t(s),function u(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(s)},[t]),i=We.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return We.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,i]}function cUt(e,t,r){let o=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1,a=rhn(e,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));let u=a.find(l=>l.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function rhn(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dUt=Fqt,ERe=Bqt,fUt=qqt,pUt=Uqt,hUt=zqt,PRe=Hqt,mUt=Gqt;var TRe=Zqt,MRe=Qqt,gUt=eUt,yUt=rUt,IRe=nUt,ARe=oUt,RRe=aUt;var bUt=dUt;var _Ut=fUt,DRe=Yo.forwardRef(({className:e,children:t,...r},n)=>Yo.createElement(ERe,{ref:n,className:_e("border-solid !bg-dropdown !shadow-sm transition-colors","focus-visible:shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"," hover:data-[state=closed]:!bg-interactive-accent hover:data-[state=closed]:!text-on-accent","flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-border px-3 py-1 text-sm ring-offset-ring placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r},t,Yo.createElement(pUt,{asChild:!0},Yo.createElement(ss,{className:"h-4 w-4"}))));DRe.displayName=ERe.displayName;var vUt=Yo.forwardRef(({className:e,...t},r)=>Yo.createElement(IRe,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t},Yo.createElement(vI,{className:"h-4 w-4"})));vUt.displayName=IRe.displayName;var wUt=Yo.forwardRef(({className:e,...t},r)=>Yo.createElement(ARe,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t},Yo.createElement(ss,{className:"h-4 w-4"})));wUt.displayName=ARe.displayName;var jRe=Yo.forwardRef(({className:e,children:t,position:r="popper",container:n,...o},i)=>Yo.createElement(hUt,{container:n},Yo.createElement(PRe,{ref:i,className:_e("relative z-modal max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-primary text-normal  shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o},Yo.createElement(vUt,null),Yo.createElement(mUt,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]")},t),Yo.createElement(wUt,null))));jRe.displayName=PRe.displayName;var ohn=Yo.forwardRef(({className:e,...t},r)=>Yo.createElement(TRe,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e),...t}));ohn.displayName=TRe.displayName;var NRe=Yo.forwardRef(({className:e,children:t,...r},n)=>Yo.createElement(MRe,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-interactive-accent focus:text-on-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r},Yo.createElement("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},Yo.createElement(yUt,null,Yo.createElement(Ym,{className:"h-4 w-4"}))),Yo.createElement(gUt,null,t)));NRe.displayName=MRe.displayName;var ihn=Yo.forwardRef(({className:e,...t},r)=>Yo.createElement(RRe,{ref:r,className:_e("-mx-1 my-1 h-px bg-primary-alt",e),...t}));ihn.displayName=RRe.displayName;var i$=B(Y());var fd=({label:e,required:t=!1,error:r=!1,description:n,errorMessage:o="This field is required",children:i})=>i$.default.createElement("div",{className:"space-y-2"},i$.default.createElement(Jf,{className:r?"text-error":""},e," ",t&&i$.default.createElement("span",{className:"text-error"},"*")),i,r&&i$.default.createElement("p",{className:"text-xs text-error"},o),n&&i$.default.createElement("p",{className:"text-sm text-muted"},n));var LRe=({open:e,onOpenChange:t,onAdd:r,ping:n,isEmbeddingModel:o=!1})=>{let{modalContainer:i}=eS(),a=pe(),s=o?"openai":"openai",[u,l]=(0,ke.useState)(null),[c,d]=(0,ke.useState)(!1),[f,p]=(0,ke.useState)(!1),[h,m]=(0,ke.useState)({name:!1,instanceName:!1,deploymentName:!1,embeddingDeploymentName:!1,apiVersion:!1,displayName:!1}),_=(D,z)=>{m(W=>({...W,[D]:z}))},g=()=>{m({name:!1,instanceName:!1,deploymentName:!1,embeddingDeploymentName:!1,apiVersion:!1,displayName:!1})},v=()=>{let D=!0,z={...h};return z.name=!O.name,O.name||(D=!1),O.provider==="azure openai"&&(z.instanceName=!O.azureOpenAIApiInstanceName,z.apiVersion=!O.azureOpenAIApiVersion,o?(z.embeddingDeploymentName=!O.azureOpenAIApiEmbeddingDeploymentName,O.azureOpenAIApiEmbeddingDeploymentName||(D=!1)):(z.deploymentName=!O.azureOpenAIApiDeploymentName,O.azureOpenAIApiDeploymentName||(D=!1)),(!O.azureOpenAIApiInstanceName||!O.azureOpenAIApiVersion)&&(D=!1)),m(z),D},S=D=>a[IO[D]]||"",x=(D=s)=>{let z={name:"",provider:D,enabled:!0,isBuiltIn:!1,baseUrl:"",apiKey:S(D),isEmbeddingModel:o,capabilities:[]};return o?z:{...z,stream:!0}},[O,T]=(0,ke.useState)(x()),E=D=>({...D,name:D.name?.trim(),baseUrl:D.baseUrl?.trim(),apiKey:D.apiKey?.trim(),openAIOrgId:D.openAIOrgId?.trim(),azureOpenAIApiInstanceName:D.azureOpenAIApiInstanceName?.trim(),azureOpenAIApiDeploymentName:D.azureOpenAIApiDeploymentName?.trim(),azureOpenAIApiEmbeddingDeploymentName:D.azureOpenAIApiEmbeddingDeploymentName?.trim(),azureOpenAIApiVersion:D.azureOpenAIApiVersion?.trim()}),[M,A]=(0,ke.useState)(eI(s)),j=()=>!!(O.name&&O.provider),N=()=>f||!j(),F=()=>{if(!v()){new JH.Notice("Please fill in all required fields");return}let D=E(O);r(D),t(!1),T(x()),g()},k=D=>{A(eI(D)),T({...O,provider:D,apiKey:S(D),...D==="openai"?{openAIOrgId:a.openAIOrgId}:{},...D==="azure openai"?{azureOpenAIApiInstanceName:a.azureOpenAIApiInstanceName,azureOpenAIApiDeploymentName:a.azureOpenAIApiDeploymentName,azureOpenAIApiVersion:a.azureOpenAIApiVersion,azureOpenAIApiEmbeddingDeploymentName:a.azureOpenAIApiEmbeddingDeploymentName}:{}})},L=D=>{D||(T(x()),g(),d(!1)),t(D)},q=async()=>{if(!v()){new JH.Notice("Please fill in all required fields");return}p(!0);try{let D=E(O);await n(D),new JH.Notice("Model verification successful!")}catch(D){console.error(D);let z=bi(D);new JH.Notice("Model verification failed: "+z)}finally{p(!1)}},U=()=>{let z=(()=>{switch(O.provider){case"openai":return ke.default.createElement(fd,{label:"OpenAI Organization ID",description:"Enter OpenAI Organization ID if applicable"},ke.default.createElement(ti,{type:"text",placeholder:"Enter OpenAI Organization ID if applicable",value:O.openAIOrgId||"",onChange:W=>T({...O,openAIOrgId:W.target.value})}));case"azure openai":return ke.default.createElement(ke.default.Fragment,null,ke.default.createElement(fd,{label:"Instance Name",required:!0,error:h.instanceName,errorMessage:"Instance name is required"},ke.default.createElement(ti,{type:"text",placeholder:"Enter Azure OpenAI API Instance Name",value:O.azureOpenAIApiInstanceName||"",onChange:W=>{T({...O,azureOpenAIApiInstanceName:W.target.value}),_("instanceName",!1)}})),o?ke.default.createElement(fd,{label:"Embedding Deployment Name",required:!0,error:h.embeddingDeploymentName,errorMessage:"Embedding deployment name is required"},ke.default.createElement(ti,{type:"text",placeholder:"Enter Azure OpenAI API Embedding Deployment Name",value:O.azureOpenAIApiEmbeddingDeploymentName||"",onChange:W=>{T({...O,azureOpenAIApiEmbeddingDeploymentName:W.target.value}),_("embeddingDeploymentName",!1)}})):ke.default.createElement(fd,{label:"Deployment Name",required:!0,error:h.deploymentName,errorMessage:"Deployment name is required",description:"This is your actual model, no need to pass a model name separately."},ke.default.createElement(ti,{type:"text",placeholder:"Enter Azure OpenAI API Deployment Name",value:O.azureOpenAIApiDeploymentName||"",onChange:W=>{T({...O,azureOpenAIApiDeploymentName:W.target.value}),_("deploymentName",!1)}})),ke.default.createElement(fd,{label:"API Version",required:!0,error:h.apiVersion,errorMessage:"API version is required"},ke.default.createElement(ti,{type:"text",placeholder:"Enter Azure OpenAI API Version",value:O.azureOpenAIApiVersion||"",onChange:W=>{T({...O,azureOpenAIApiVersion:W.target.value}),_("apiVersion",!1)}})));default:return null}})();return z?ke.default.createElement(CH,{open:c,onOpenChange:d,className:"space-y-2 border rounded-lg pt-4"},ke.default.createElement("div",{className:"flex items-center justify-between"},ke.default.createElement(Jf,null,"Additional ",uh(O.provider)," Settings"),ke.default.createElement(OH,{asChild:!0},ke.default.createElement(qe,{variant:"ghost",size:"sm",className:"w-9 p-0"},ke.default.createElement(ss,{className:"h-4 w-4"}),ke.default.createElement("span",{className:"sr-only"},"Toggle")))),ke.default.createElement(EH,{className:"space-y-4 max-h-[200px] overflow-y-auto pl-0.5 pr-2 pb-0.5"},z)):null},G=()=>{if(O.provider!=="azure openai")return M.host;let D=O.azureOpenAIApiInstanceName||"[instance]",z=o?O.azureOpenAIApiEmbeddingDeploymentName||"[deployment]":O.azureOpenAIApiDeploymentName||"[deployment]",W=O.azureOpenAIApiVersion||"[api-version]";return`https://${D}.openai.azure.com/openai/deployments/${z}/${o?"embeddings":"chat/completions"}?api-version=${W}`},V=Object.entries(RO).map(([D,z])=>({id:D,label:D.charAt(0).toUpperCase()+D.slice(1),description:z}));return ke.default.createElement(rM,{open:e,onOpenChange:L},ke.default.createElement(KC,{className:"sm:max-w-[425px]",container:i,ref:D=>l(D)},ke.default.createElement(YC,null,ke.default.createElement(ZC,null,"Add Custom ",o?"Embedding":"Chat"," Model"),ke.default.createElement(XC,null,"Add a new model to your collection.")),ke.default.createElement("div",{className:"space-y-3"},ke.default.createElement(fd,{label:"Model Name",required:!0,error:h.name,errorMessage:"Model name is required"},ke.default.createElement(ti,{type:"text",placeholder:`Enter model name (e.g. ${o?"text-embedding-3-small":"gpt-4"})`,value:O.name,onChange:D=>{T({...O,name:D.target.value}),_("name",!1)}})),ke.default.createElement(fd,{label:ke.default.createElement("div",{className:"flex items-center gap-1.5"},ke.default.createElement("span",{className:"leading-none"},"Display Name"),ke.default.createElement(vc,{delayDuration:0},ke.default.createElement(Kr,null,ke.default.createElement(Yr,{asChild:!0},ke.default.createElement(zl,{className:"size-4"})),ke.default.createElement(Hr,{align:"start",className:"max-w-96",side:"bottom"},ke.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-0.5"},ke.default.createElement("div",{className:"text-[12px] font-bold"},"Suggested format:"),ke.default.createElement("div",{className:"text-accent"},"[Source]-[Payment]:[Pretty Model Name]"),ke.default.createElement("div",{className:"text-[12px]"},"Example:",ke.default.createElement("li",null,"Direct-Paid:Ds-r1"),ke.default.createElement("li",null,"OpenRouter-Paid:Ds-r1"),ke.default.createElement("li",null,"Perplexity-Paid:lg")))))))},ke.default.createElement(ti,{type:"text",placeholder:"Custom display name (optional)",value:O.displayName||"",onChange:D=>{T({...O,displayName:D.target.value})}})),ke.default.createElement(fd,{label:"Provider"},ke.default.createElement(bUt,{value:O.provider,onValueChange:k},ke.default.createElement(DRe,null,ke.default.createElement(_Ut,{placeholder:"Select provider"})),ke.default.createElement(jRe,{container:u},Object.values(o?Ele(TO,["COPILOT_PLUS","COPILOT_PLUS_JINA"]):Ele(rI,["COPILOT_PLUS"])).map(D=>ke.default.createElement(NRe,{key:D,value:D},uh(D)))))),ke.default.createElement(fd,{label:"Base URL",description:"Leave it blank, unless you are using a proxy."},ke.default.createElement(ti,{type:"text",placeholder:G()||"https://api.example.com/v1",value:O.baseUrl||"",onChange:D=>T({...O,baseUrl:D.target.value})})),ke.default.createElement(fd,{label:"API Key"},ke.default.createElement(eM,{placeholder:`Enter ${M.label} API Key`,value:O.apiKey||"",onChange:D=>T({...O,apiKey:D})}),M.keyManagementURL&&ke.default.createElement("p",{className:"text-xs text-muted"},ke.default.createElement("a",{href:M.keyManagementURL,target:"_blank",rel:"noopener noreferrer"},"Get ",M.label," API Key"))),ke.default.createElement(fd,{label:"Model Capabilities"},ke.default.createElement("div",{className:"flex gap-4 items-center"},V.map(({id:D,label:z,description:W})=>ke.default.createElement("div",{key:D,className:"flex items-center gap-2"},ke.default.createElement(Wd,{id:D,checked:O.capabilities?.includes(D),onCheckedChange:J=>{let te=O.capabilities||[];T({...O,capabilities:J?[...te,D]:te.filter(Ae=>Ae!==D)})}}),ke.default.createElement(Jf,{htmlFor:D,className:"text-sm"},ke.default.createElement(vc,{delayDuration:0},ke.default.createElement(Kr,null,ke.default.createElement(Yr,{asChild:!0},ke.default.createElement("span",null,z)),ke.default.createElement(Hr,{side:"bottom"},W)))))))),U()),ke.default.createElement("div",{className:"flex justify-end gap-4 items-center"},ke.default.createElement("div",{className:"flex items-center gap-2"},ke.default.createElement(Wd,{id:"enable-cors",checked:O.enableCors||!1,onCheckedChange:D=>T({...O,enableCors:D})}),ke.default.createElement(Jf,{htmlFor:"enable-cors",className:"text-sm"},"Enable CORS")),ke.default.createElement("div",{className:"flex gap-2"},ke.default.createElement(qe,{variant:"secondary",onClick:F,disabled:N()},"Add Model"),ke.default.createElement(qe,{variant:"secondary",onClick:q,disabled:N()},f?ke.default.createElement(ke.default.Fragment,null,ke.default.createElement(Uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify"):"Verify")))))};var Be=B(Y());var ye=B(Y()),sD=B(as());var es=B(Y());function xUt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,es.useMemo)(()=>n=>{t.forEach(o=>o(n))},t)}var GH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tD(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Aie(e){return"nodeType"in e}function Jd(e){var t,r;return e?tD(e)?e:Aie(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Rie(e){let{Document:t}=Jd(e);return e instanceof t}function a$(e){return tD(e)?!1:e instanceof Jd(e).HTMLElement}function kRe(e){return e instanceof Jd(e).SVGElement}function rD(e){return e?tD(e)?e.document:Aie(e)?Rie(e)?e:a$(e)||kRe(e)?e.ownerDocument:document:document:document}var Cm=GH?es.useLayoutEffect:es.useEffect;function Die(e){let t=(0,es.useRef)(e);return Cm(()=>{t.current=e}),(0,es.useCallback)(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function CUt(){let e=(0,es.useRef)(null),t=(0,es.useCallback)((n,o)=>{e.current=setInterval(n,o)},[]),r=(0,es.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function s$(e,t){t===void 0&&(t=[e]);let r=(0,es.useRef)(e);return Cm(()=>{r.current!==e&&(r.current=e)},t),r}function u$(e,t){let r=(0,es.useRef)();return(0,es.useMemo)(()=>{let n=e(r.current);return r.current=n,n},[...t])}function KH(e){let t=Die(e),r=(0,es.useRef)(null),n=(0,es.useCallback)(o=>{o!==r.current&&t?.(o,r.current),r.current=o},[]);return[r,n]}function jie(e){let t=(0,es.useRef)();return(0,es.useEffect)(()=>{t.current=e},[e]),t.current}var FRe={};function nD(e,t){return(0,es.useMemo)(()=>{if(t)return t;let r=FRe[e]==null?0:FRe[e]+1;return FRe[e]=r,e+"-"+r},[e,t])}function OUt(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,a)=>{let s=Object.entries(a);for(let[u,l]of s){let c=i[u];c!=null&&(i[u]=c+e*l)}return i},{...t})}}var oD=OUt(1),iD=OUt(-1);function ahn(e){return"clientX"in e&&"clientY"in e}function YH(e){if(!e)return!1;let{KeyboardEvent:t}=Jd(e.target);return t&&e instanceof t}function shn(e){if(!e)return!1;let{TouchEvent:t}=Jd(e.target);return t&&e instanceof t}function Nie(e){if(shn(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return ahn(e)?{x:e.clientX,y:e.clientY}:null}var tO=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[tO.Translate.toString(e),tO.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),SUt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EUt(e){return e.matches(SUt)?e:e.querySelector(SUt)}var aD=B(Y()),uhn={display:"none"};function PUt(e){let{id:t,value:r}=e;return aD.default.createElement("div",{id:t,style:uhn},r)}function TUt(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e,o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return aD.default.createElement("div",{id:t,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function MUt(){let[e,t]=(0,aD.useState)("");return{announce:(0,aD.useCallback)(n=>{n!=null&&t(n)},[]),announcement:e}}var UUt=(0,ye.createContext)(null);function lhn(e){let t=(0,ye.useContext)(UUt);(0,ye.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function chn(){let[e]=(0,ye.useState)(()=>new Set),t=(0,ye.useCallback)(n=>(e.add(n),()=>e.delete(n)),[e]);return[(0,ye.useCallback)(n=>{let{type:o,event:i}=n;e.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[e]),t]}var dhn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fhn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function phn(e){let{announcements:t=fhn,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=dhn}=e,{announce:i,announcement:a}=MUt(),s=nD("DndLiveRegion"),[u,l]=(0,ye.useState)(!1);if((0,ye.useEffect)(()=>{l(!0)},[]),lhn((0,ye.useMemo)(()=>({onDragStart(d){let{active:f}=d;i(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:p}=d;t.onDragMove&&i(t.onDragMove({active:f,over:p}))},onDragOver(d){let{active:f,over:p}=d;i(t.onDragOver({active:f,over:p}))},onDragEnd(d){let{active:f,over:p}=d;i(t.onDragEnd({active:f,over:p}))},onDragCancel(d){let{active:f,over:p}=d;i(t.onDragCancel({active:f,over:p}))}}),[i,t])),!u)return null;let c=ye.default.createElement(ye.default.Fragment,null,ye.default.createElement(PUt,{id:n,value:o.draggable}),ye.default.createElement(TUt,{id:s,announcement:a}));return r?(0,sD.createPortal)(c,r):c}var nl;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(nl||(nl={}));function Fie(){}function JRe(e,t){return(0,ye.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function zUt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,ye.useMemo)(()=>[...t].filter(n=>n!=null),[...t])}var Kg=Object.freeze({x:0,y:0});function HUt(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function VUt(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function hhn(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function IUt(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function GRe(e,t){if(!e||e.length===0)return null;let[r]=e;return t?r[t]:r}function AUt(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}var KRe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,o=AUt(t,t.left,t.top),i=[];for(let a of n){let{id:s}=a,u=r.get(s);if(u){let l=HUt(AUt(u),o);i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(VUt)},WUt=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,o=IUt(t),i=[];for(let a of n){let{id:s}=a,u=r.get(s);if(u){let l=IUt(u),c=o.reduce((f,p,h)=>f+HUt(l[h],p),0),d=Number((c/4).toFixed(4));i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(VUt)};function mhn(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-n,s=i-r;if(n<o&&r<i){let u=t.width*t.height,l=e.width*e.height,c=a*s,d=c/(u+l-c);return Number(d.toFixed(4))}return 0}var ghn=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,o=[];for(let i of n){let{id:a}=i,s=r.get(a);if(s){let u=mhn(s,t);u>0&&o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(hhn)};function yhn(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function JUt(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Kg}function bhn(e){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...r})}}var _hn=bhn(1);function vhn(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function whn(e,t,r){let n=vhn(t);if(!n)return e;let{scaleX:o,scaleY:i,x:a,y:s}=n,u=e.left-a-(1-o)*parseFloat(r),l=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),c=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:c,height:d,top:l,right:u+c,bottom:l+d,left:u}}var Shn={ignoreTransform:!1};function cD(e,t){t===void 0&&(t=Shn);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:l,transformOrigin:c}=Jd(e).getComputedStyle(e);l&&(r=whn(r,l,c))}let{top:n,left:o,width:i,height:a,bottom:s,right:u}=r;return{top:n,left:o,width:i,height:a,bottom:s,right:u}}function RUt(e){return cD(e,{ignoreTransform:!0})}function xhn(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Chn(e,t){return t===void 0&&(t=Jd(e).getComputedStyle(e)),t.position==="fixed"}function Ohn(e,t){t===void 0&&(t=Jd(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let i=t[o];return typeof i=="string"?r.test(i):!1})}function t6(e,t){let r=[];function n(o){if(t!=null&&r.length>=t||!o)return r;if(Rie(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!a$(o)||kRe(o)||r.includes(o))return r;let i=Jd(e).getComputedStyle(o);return o!==e&&Ohn(o,i)&&r.push(o),Chn(o,i)?r:n(o.parentNode)}return e?n(e):r}function GUt(e){let[t]=t6(e,1);return t??null}function BRe(e){return!GH||!e?null:tD(e)?e:Aie(e)?Rie(e)||e===rD(e).scrollingElement?window:a$(e)?e:null:null}function KUt(e){return tD(e)?e.scrollX:e.scrollLeft}function YUt(e){return tD(e)?e.scrollY:e.scrollTop}function URe(e){return{x:KUt(e),y:YUt(e)}}var jl;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(jl||(jl={}));function ZUt(e){return!GH||!e?!1:e===document.scrollingElement}function XUt(e){let t={x:0,y:0},r=ZUt(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:n,minScroll:t}}var Ehn={x:.2,y:.2};function Phn(e,t,r,n,o){let{top:i,left:a,right:s,bottom:u}=r;n===void 0&&(n=10),o===void 0&&(o=Ehn);let{isTop:l,isBottom:c,isLeft:d,isRight:f}=XUt(e),p={x:0,y:0},h={x:0,y:0},m={height:t.height*o.y,width:t.width*o.x};return!l&&i<=t.top+m.height?(p.y=jl.Backward,h.y=n*Math.abs((t.top+m.height-i)/m.height)):!c&&u>=t.bottom-m.height&&(p.y=jl.Forward,h.y=n*Math.abs((t.bottom-m.height-u)/m.height)),!f&&s>=t.right-m.width?(p.x=jl.Forward,h.x=n*Math.abs((t.right-m.width-s)/m.width)):!d&&a<=t.left+m.width&&(p.x=jl.Backward,h.x=n*Math.abs((t.left+m.width-a)/m.width)),{direction:p,speed:h}}function Thn(e){if(e===document.scrollingElement){let{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}let{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function QUt(e){return e.reduce((t,r)=>oD(t,URe(r)),Kg)}function Mhn(e){return e.reduce((t,r)=>t+KUt(r),0)}function Ihn(e){return e.reduce((t,r)=>t+YUt(r),0)}function Ahn(e,t){if(t===void 0&&(t=cD),!e)return;let{top:r,left:n,bottom:o,right:i}=t(e);GUt(e)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var Rhn=[["x",["left","right"],Mhn],["y",["top","bottom"],Ihn]],XH=class{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=t6(r),o=QUt(n);this.rect={...t},this.width=t.width,this.height=t.height;for(let[i,a,s]of Rhn)for(let u of a)Object.defineProperty(this,u,{get:()=>{let l=s(n),c=o[i]-l;return this.rect[u]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},uD=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var o;(o=this.target)==null||o.addEventListener(t,r,n),this.listeners.push([t,r,n])}};function Dhn(e){let{EventTarget:t}=Jd(e);return e instanceof t?e:rD(e)}function $Re(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Om;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Om||(Om={}));function DUt(e){e.preventDefault()}function jhn(e){e.stopPropagation()}var pn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(pn||(pn={}));var ezt={start:[pn.Space,pn.Enter],cancel:[pn.Esc],end:[pn.Space,pn.Enter,pn.Tab]},Nhn=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case pn.Right:return{...r,x:r.x+25};case pn.Left:return{...r,x:r.x-25};case pn.Down:return{...r,y:r.y+25};case pn.Up:return{...r,y:r.y-25}}},l$=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:r}}=t;this.props=t,this.listeners=new uD(rD(r)),this.windowListeners=new uD(Jd(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Om.Resize,this.handleCancel),this.windowListeners.add(Om.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Om.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Ahn(n),r(Kg)}handleKeyDown(t){if(YH(t)){let{active:r,context:n,options:o}=this.props,{keyboardCodes:i=ezt,coordinateGetter:a=Nhn,scrollBehavior:s="smooth"}=o,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}let{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Kg;this.referenceCoordinates||(this.referenceCoordinates=c);let d=a(t,{active:r,context:n.current,currentCoordinates:c});if(d){let f=iD(d,c),p={x:0,y:0},{scrollableAncestors:h}=n.current;for(let m of h){let _=t.code,{isTop:g,isRight:v,isLeft:S,isBottom:x,maxScroll:O,minScroll:T}=XUt(m),E=Thn(m),M={x:Math.min(_===pn.Right?E.right-E.width/2:E.right,Math.max(_===pn.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(_===pn.Down?E.bottom-E.height/2:E.bottom,Math.max(_===pn.Down?E.top:E.top+E.height/2,d.y))},A=_===pn.Right&&!v||_===pn.Left&&!S,j=_===pn.Down&&!x||_===pn.Up&&!g;if(A&&M.x!==d.x){let N=m.scrollLeft+f.x,F=_===pn.Right&&N<=O.x||_===pn.Left&&N>=T.x;if(F&&!f.y){m.scrollTo({left:N,behavior:s});return}F?p.x=m.scrollLeft-N:p.x=_===pn.Right?m.scrollLeft-O.x:m.scrollLeft-T.x,p.x&&m.scrollBy({left:-p.x,behavior:s});break}else if(j&&M.y!==d.y){let N=m.scrollTop+f.y,F=_===pn.Down&&N<=O.y||_===pn.Up&&N>=T.y;if(F&&!f.x){m.scrollTo({top:N,behavior:s});return}F?p.y=m.scrollTop-N:p.y=_===pn.Down?m.scrollTop-O.y:m.scrollTop-T.y,p.y&&m.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(t,oD(iD(d,this.referenceCoordinates),p))}}}handleMove(t,r){let{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){let{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){let{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};l$.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=ezt,onActivation:o}=t,{active:i}=r,{code:a}=e.nativeEvent;if(n.start.includes(a)){let s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function jUt(e){return!!(e&&"distance"in e)}function NUt(e){return!!(e&&"delay"in e)}var QH=class{constructor(t,r,n){var o;n===void 0&&(n=Dhn(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;let{event:i}=t,{target:a}=i;this.props=t,this.events=r,this.document=rD(a),this.documentListeners=new uD(this.document),this.listeners=new uD(n),this.windowListeners=new uD(Jd(a)),this.initialCoordinates=(o=Nie(i))!=null?o:Kg,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Om.Resize,this.handleCancel),this.windowListeners.add(Om.DragStart,DUt),this.windowListeners.add(Om.VisibilityChange,this.handleCancel),this.windowListeners.add(Om.ContextMenu,DUt),this.documentListeners.add(Om.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(NUt(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(jUt(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){let{active:n,onPending:o}=this.props;o(n,t,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Om.Click,jhn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Om.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;let{activated:n,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;let u=(r=Nie(t))!=null?r:Kg,l=iD(o,u);if(!n&&s){if(jUt(s)){if(s.tolerance!=null&&$Re(l,s.tolerance))return this.handleCancel();if($Re(l,s.distance))return this.handleStart()}if(NUt(s)&&$Re(l,s.tolerance))return this.handleCancel();this.handlePending(s,l);return}t.cancelable&&t.preventDefault(),a(u)}handleEnd(){let{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){let{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===pn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},Lhn={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},c$=class extends QH{constructor(t){let{event:r}=t,n=rD(r.target);super(t,Lhn,n)}};c$.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];var Fhn={move:{name:"mousemove"},end:{name:"mouseup"}},zRe;(function(e){e[e.RightClick=2]="RightClick"})(zRe||(zRe={}));var HRe=class extends QH{constructor(t){super(t,Fhn,rD(t.event.target))}};HRe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===zRe.RightClick?!1:(n?.({event:r}),!0)}}];var qRe={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},VRe=class extends QH{constructor(t){super(t,qRe)}static setup(){return window.addEventListener(qRe.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qRe.move.name,t)};function t(){}}};VRe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:o}=r;return o.length>1?!1:(n?.({event:r}),!0)}}];var ZH;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ZH||(ZH={}));var kie;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(kie||(kie={}));function khn(e){let{acceleration:t,activator:r=ZH.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:a=5,order:s=kie.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:c,delta:d,threshold:f}=e,p=$hn({delta:d,disabled:!i}),[h,m]=CUt(),_=(0,ye.useRef)({x:0,y:0}),g=(0,ye.useRef)({x:0,y:0}),v=(0,ye.useMemo)(()=>{switch(r){case ZH.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ZH.DraggableRect:return o}},[r,o,u]),S=(0,ye.useRef)(null),x=(0,ye.useCallback)(()=>{let T=S.current;if(!T)return;let E=_.current.x*g.current.x,M=_.current.y*g.current.y;T.scrollBy(E,M)},[]),O=(0,ye.useMemo)(()=>s===kie.TreeOrder?[...l].reverse():l,[s,l]);(0,ye.useEffect)(()=>{if(!i||!l.length||!v){m();return}for(let T of O){if(n?.(T)===!1)continue;let E=l.indexOf(T),M=c[E];if(!M)continue;let{direction:A,speed:j}=Phn(T,M,v,t,f);for(let N of["x","y"])p[N][A[N]]||(j[N]=0,A[N]=0);if(j.x>0||j.y>0){m(),S.current=T,h(x,a),_.current=j,g.current=A;return}}_.current={x:0,y:0},g.current={x:0,y:0},m()},[t,x,n,m,i,a,JSON.stringify(v),JSON.stringify(p),h,l,O,c,JSON.stringify(f)])}var Bhn={x:{[jl.Backward]:!1,[jl.Forward]:!1},y:{[jl.Backward]:!1,[jl.Forward]:!1}};function $hn(e){let{delta:t,disabled:r}=e,n=jie(t);return u$(o=>{if(r||!n||!o)return Bhn;let i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[jl.Backward]:o.x[jl.Backward]||i.x===-1,[jl.Forward]:o.x[jl.Forward]||i.x===1},y:{[jl.Backward]:o.y[jl.Backward]||i.y===-1,[jl.Forward]:o.y[jl.Forward]||i.y===1}}},[r,t,n])}function qhn(e,t){let r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return u$(o=>{var i;return t==null?null:(i=n??o)!=null?i:null},[n,t])}function Uhn(e,t){return(0,ye.useMemo)(()=>e.reduce((r,n)=>{let{sensor:o}=n,i=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,n)}));return[...r,...i]},[]),[e,t])}var e6;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(e6||(e6={}));var WRe;(function(e){e.Optimized="optimized"})(WRe||(WRe={}));var LUt=new Map;function zhn(e,t){let{dragging:r,dependencies:n,config:o}=t,[i,a]=(0,ye.useState)(null),{frequency:s,measure:u,strategy:l}=o,c=(0,ye.useRef)(e),d=_(),f=s$(d),p=(0,ye.useCallback)(function(g){g===void 0&&(g=[]),!f.current&&a(v=>v===null?g:v.concat(g.filter(S=>!v.includes(S))))},[f]),h=(0,ye.useRef)(null),m=u$(g=>{if(d&&!r)return LUt;if(!g||g===LUt||c.current!==e||i!=null){let v=new Map;for(let S of e){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){v.set(S.id,S.rect.current);continue}let x=S.node.current,O=x?new XH(u(x),x):null;S.rect.current=O,O&&v.set(S.id,O)}return v}return g},[e,i,r,d,u]);return(0,ye.useEffect)(()=>{c.current=e},[e]),(0,ye.useEffect)(()=>{d||p()},[r,d]),(0,ye.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,ye.useEffect)(()=>{d||typeof s!="number"||h.current!==null||(h.current=setTimeout(()=>{p(),h.current=null},s))},[s,d,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:i!=null};function _(){switch(l){case e6.Always:return!1;case e6.BeforeDragging:return r;default:return!r}}}function tzt(e,t){return u$(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Hhn(e,t){return tzt(e,t)}function Vhn(e){let{callback:t,disabled:r}=e,n=Die(t),o=(0,ye.useMemo)(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(n)},[n,r]);return(0,ye.useEffect)(()=>()=>o?.disconnect(),[o]),o}function Bie(e){let{callback:t,disabled:r}=e,n=Die(t),o=(0,ye.useMemo)(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(n)},[r]);return(0,ye.useEffect)(()=>()=>o?.disconnect(),[o]),o}function Whn(e){return new XH(cD(e),e)}function FUt(e,t,r){t===void 0&&(t=Whn);let[n,o]=(0,ye.useState)(null);function i(){o(u=>{if(!e)return null;if(e.isConnected===!1){var l;return(l=u??r)!=null?l:null}let c=t(e);return JSON.stringify(u)===JSON.stringify(c)?u:c})}let a=Vhn({callback(u){if(e)for(let l of u){let{type:c,target:d}=l;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),s=Bie({callback:i});return Cm(()=>{i(),e?(s?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),a?.disconnect())},[e]),n}function Jhn(e){let t=tzt(e);return JUt(e,t)}var kUt=[];function Ghn(e){let t=(0,ye.useRef)(e),r=u$(n=>e?n&&n!==kUt&&e&&t.current&&e.parentNode===t.current.parentNode?n:t6(e):kUt,[e]);return(0,ye.useEffect)(()=>{t.current=e},[e]),r}function Khn(e){let[t,r]=(0,ye.useState)(null),n=(0,ye.useRef)(e),o=(0,ye.useCallback)(i=>{let a=BRe(i.target);a&&r(s=>s?(s.set(a,URe(a)),new Map(s)):null)},[]);return(0,ye.useEffect)(()=>{let i=n.current;if(e!==i){a(i);let s=e.map(u=>{let l=BRe(u);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,URe(l)]):null}).filter(u=>u!=null);r(s.length?new Map(s):null),n.current=e}return()=>{a(e),a(i)};function a(s){s.forEach(u=>{let l=BRe(u);l?.removeEventListener("scroll",o)})}},[o,e]),(0,ye.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>oD(i,a),Kg):QUt(e):Kg,[e,t])}function BUt(e,t){t===void 0&&(t=[]);let r=(0,ye.useRef)(null);return(0,ye.useEffect)(()=>{r.current=null},t),(0,ye.useEffect)(()=>{let n=e!==Kg;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?iD(e,r.current):Kg}function Yhn(e){(0,ye.useEffect)(()=>{if(!GH)return;let t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(let r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function Zhn(e,t){return(0,ye.useMemo)(()=>e.reduce((r,n)=>{let{eventName:o,handler:i}=n;return r[o]=a=>{i(a,t)},r},{}),[e,t])}function rzt(e){return(0,ye.useMemo)(()=>e?xhn(e):null,[e])}var $Ut=[];function Xhn(e,t){t===void 0&&(t=cD);let[r]=e,n=rzt(r?Jd(r):null),[o,i]=(0,ye.useState)($Ut);function a(){i(()=>e.length?e.map(u=>ZUt(u)?n:new XH(t(u),u)):$Ut)}let s=Bie({callback:a});return Cm(()=>{s?.disconnect(),a(),e.forEach(u=>s?.observe(u))},[e]),o}function Qhn(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return a$(t)?t:e}function emn(e){let{measure:t}=e,[r,n]=(0,ye.useState)(null),o=(0,ye.useCallback)(l=>{for(let{target:c}of l)if(a$(c)){n(d=>{let f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),i=Bie({callback:o}),a=(0,ye.useCallback)(l=>{let c=Qhn(l);i?.disconnect(),c&&i?.observe(c),n(c?t(c):null)},[t,i]),[s,u]=KH(a);return(0,ye.useMemo)(()=>({nodeRef:s,rect:r,setRef:u}),[r,s,u])}var tmn=[{sensor:c$,options:{}},{sensor:l$,options:{}}],rmn={current:{}},Lie={draggable:{measure:RUt},droppable:{measure:RUt,strategy:e6.WhileDragging,frequency:WRe.Optimized},dragOverlay:{measure:cD}},lD=class extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}},nmn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lD,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fie},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Lie,measureDroppableContainers:Fie,windowRect:null,measuringScheduled:!1},omn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fie,draggableNodes:new Map,over:null,measureDroppableContainers:Fie},$ie=(0,ye.createContext)(omn),nzt=(0,ye.createContext)(nmn);function imn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lD}}}function amn(e,t){switch(t.type){case nl.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case nl.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case nl.DragEnd:case nl.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case nl.RegisterDroppable:{let{element:r}=t,{id:n}=r,o=new lD(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case nl.SetDroppableDisabled:{let{id:r,key:n,disabled:o}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;let a=new lD(e.droppable.containers);return a.set(r,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case nl.UnregisterDroppable:{let{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;let i=new lD(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function smn(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:o}=(0,ye.useContext)($ie),i=jie(n),a=jie(r?.id);return(0,ye.useEffect)(()=>{if(!t&&!n&&i&&a!=null){if(!YH(i)||document.activeElement===i.target)return;let s=o.get(a);if(!s)return;let{activatorNode:u,node:l}=s;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(let c of[u.current,l.current]){if(!c)continue;let d=EUt(c);if(d){d.focus();break}}})}},[n,t,o,a,i]),null}function umn(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...n}),r):r}function lmn(e){return(0,ye.useMemo)(()=>({draggable:{...Lie.draggable,...e?.draggable},droppable:{...Lie.droppable,...e?.droppable},dragOverlay:{...Lie.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function cmn(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e,i=(0,ye.useRef)(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Cm(()=>{if(!a&&!s||!t){i.current=!1;return}if(i.current||!n)return;let l=t?.node.current;if(!l||l.isConnected===!1)return;let c=r(l),d=JUt(c,n);if(a||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){let f=GUt(l);f&&f.scrollBy({top:d.y,left:d.x})}},[t,a,s,n,r])}var ozt=(0,ye.createContext)({...Kg,scaleX:1,scaleY:1}),lM;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(lM||(lM={}));var YRe=(0,ye.memo)(function(t){var r,n,o,i;let{id:a,accessibility:s,autoScroll:u=!0,children:l,sensors:c=tmn,collisionDetection:d=ghn,measuring:f,modifiers:p,...h}=t,m=(0,ye.useReducer)(amn,void 0,imn),[_,g]=m,[v,S]=chn(),[x,O]=(0,ye.useState)(lM.Uninitialized),T=x===lM.Initialized,{draggable:{active:E,nodes:M,translate:A},droppable:{containers:j}}=_,N=E!=null?M.get(E):null,F=(0,ye.useRef)({initial:null,translated:null}),k=(0,ye.useMemo)(()=>{var Ea;return E!=null?{id:E,data:(Ea=N?.data)!=null?Ea:rmn,rect:F}:null},[E,N]),L=(0,ye.useRef)(null),[q,U]=(0,ye.useState)(null),[G,V]=(0,ye.useState)(null),D=s$(h,Object.values(h)),z=nD("DndDescribedBy",a),W=(0,ye.useMemo)(()=>j.getEnabled(),[j]),J=lmn(f),{droppableRects:te,measureDroppableContainers:Ae,measuringScheduled:Z}=zhn(W,{dragging:T,dependencies:[A.x,A.y],config:J.droppable}),Q=qhn(M,E),ue=(0,ye.useMemo)(()=>G?Nie(G):null,[G]),Me=oO(),ht=Hhn(Q,J.draggable.measure);cmn({activeNode:E!=null?M.get(E):null,config:Me.layoutShiftCompensation,initialRect:ht,measure:J.draggable.measure});let we=FUt(Q,J.draggable.measure,ht),ie=FUt(Q?Q.parentElement:null),ee=(0,ye.useRef)({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ge=j.getNodeFor((r=ee.current.over)==null?void 0:r.id),Ue=emn({measure:J.dragOverlay.measure}),ct=(n=Ue.nodeRef.current)!=null?n:Q,Je=T?(o=Ue.rect)!=null?o:we:null,sr=!!(Ue.nodeRef.current&&Ue.rect),Xr=Jhn(sr?null:we),ur=rzt(ct?Jd(ct):null),Bt=Ghn(T?ge??Q:null),Bo=Xhn(Bt),Xi=umn(p,{transform:{x:A.x-Xr.x,y:A.y-Xr.y,scaleX:1,scaleY:1},activatorEvent:G,active:k,activeNodeRect:we,containerNodeRect:ie,draggingNodeRect:Je,over:ee.current.over,overlayNodeRect:Ue.rect,scrollableAncestors:Bt,scrollableAncestorRects:Bo,windowRect:ur}),jo=ue?oD(ue,A):null,Ie=Khn(Bt),Ze=BUt(Ie),lr=BUt(Ie,[we]),Xe=oD(Xi,Ze),Bn=Je?_hn(Je,Xi):null,Qi=k&&Bn?d({active:k,collisionRect:Bn,droppableRects:te,droppableContainers:W,pointerCoordinates:jo}):null,ol=GRe(Qi,"id"),[Pc,Pm]=(0,ye.useState)(null),Tm=sr?Xi:oD(Xi,lr),Oa=yhn(Tm,(i=Pc?.rect)!=null?i:null,we),Wp=(0,ye.useRef)(null),Gf=(0,ye.useCallback)((Ea,rs)=>{let{sensor:ea,options:pd}=rs;if(L.current==null)return;let Tc=M.get(L.current);if(!Tc)return;let Ba=Ea.nativeEvent,Gd=new ea({active:L.current,activeNode:Tc,event:Ba,options:pd,context:ee,onAbort(rn){if(!M.get(rn))return;let{onDragAbort:md}=D.current,Kf={id:rn};md?.(Kf),v({type:"onDragAbort",event:Kf})},onPending(rn,je,md,Kf){if(!M.get(rn))return;let{onDragPending:rS}=D.current,Qr={id:rn,constraint:je,initialCoordinates:md,offset:Kf};rS?.(Qr),v({type:"onDragPending",event:Qr})},onStart(rn){let je=L.current;if(je==null)return;let md=M.get(je);if(!md)return;let{onDragStart:Kf}=D.current,ju={activatorEvent:Ba,active:{id:je,data:md.data,rect:F}};(0,sD.unstable_batchedUpdates)(()=>{Kf?.(ju),O(lM.Initializing),g({type:nl.DragStart,initialCoordinates:rn,active:je}),v({type:"onDragStart",event:ju}),U(Wp.current),V(Ba)})},onMove(rn){g({type:nl.DragMove,coordinates:rn})},onEnd:hd(nl.DragEnd),onCancel:hd(nl.DragCancel)});Wp.current=Gd;function hd(rn){return async function(){let{active:md,collisions:Kf,over:ju,scrollAdjustedTranslate:rS}=ee.current,Qr=null;if(md&&rS){let{cancelDrop:Mm}=D.current;Qr={activatorEvent:Ba,active:md,collisions:Kf,delta:rS,over:ju},rn===nl.DragEnd&&typeof Mm=="function"&&await Promise.resolve(Mm(Qr))&&(rn=nl.DragCancel)}L.current=null,(0,sD.unstable_batchedUpdates)(()=>{g({type:rn}),O(lM.Uninitialized),Pm(null),U(null),V(null),Wp.current=null;let Mm=rn===nl.DragEnd?"onDragEnd":"onDragCancel";if(Qr){let f$=D.current[Mm];f$?.(Qr),v({type:Mm,event:Qr})}})}}},[M]),Jp=(0,ye.useCallback)((Ea,rs)=>(ea,pd)=>{let Tc=ea.nativeEvent,Ba=M.get(pd);if(L.current!==null||!Ba||Tc.dndKit||Tc.defaultPrevented)return;let Gd={active:Ba};Ea(ea,rs.options,Gd)===!0&&(Tc.dndKit={capturedBy:rs.sensor},L.current=pd,Gf(ea,rs))},[M,Gf]),hn=Uhn(c,Jp);Yhn(c),Cm(()=>{we&&x===lM.Initializing&&O(lM.Initialized)},[we,x]),(0,ye.useEffect)(()=>{let{onDragMove:Ea}=D.current,{active:rs,activatorEvent:ea,collisions:pd,over:Tc}=ee.current;if(!rs||!ea)return;let Ba={active:rs,activatorEvent:ea,collisions:pd,delta:{x:Xe.x,y:Xe.y},over:Tc};(0,sD.unstable_batchedUpdates)(()=>{Ea?.(Ba),v({type:"onDragMove",event:Ba})})},[Xe.x,Xe.y]),(0,ye.useEffect)(()=>{let{active:Ea,activatorEvent:rs,collisions:ea,droppableContainers:pd,scrollAdjustedTranslate:Tc}=ee.current;if(!Ea||L.current==null||!rs||!Tc)return;let{onDragOver:Ba}=D.current,Gd=pd.get(ol),hd=Gd&&Gd.rect.current?{id:Gd.id,rect:Gd.rect.current,data:Gd.data,disabled:Gd.disabled}:null,rn={active:Ea,activatorEvent:rs,collisions:ea,delta:{x:Tc.x,y:Tc.y},over:hd};(0,sD.unstable_batchedUpdates)(()=>{Pm(hd),Ba?.(rn),v({type:"onDragOver",event:rn})})},[ol]),Cm(()=>{ee.current={activatorEvent:G,active:k,activeNode:Q,collisionRect:Bn,collisions:Qi,droppableRects:te,draggableNodes:M,draggingNode:ct,draggingNodeRect:Je,droppableContainers:j,over:Pc,scrollableAncestors:Bt,scrollAdjustedTranslate:Xe},F.current={initial:Je,translated:Bn}},[k,Q,Qi,Bn,M,ct,Je,te,j,Pc,Bt,Xe]),khn({...Me,delta:A,draggingRect:Bn,pointerCoordinates:jo,scrollableAncestors:Bt,scrollableAncestorRects:Bo});let nO=(0,ye.useMemo)(()=>({active:k,activeNode:Q,activeNodeRect:we,activatorEvent:G,collisions:Qi,containerNodeRect:ie,dragOverlay:Ue,draggableNodes:M,droppableContainers:j,droppableRects:te,over:Pc,measureDroppableContainers:Ae,scrollableAncestors:Bt,scrollableAncestorRects:Bo,measuringConfiguration:J,measuringScheduled:Z,windowRect:ur}),[k,Q,we,G,Qi,ie,Ue,M,j,te,Pc,Ae,Bt,Bo,J,Z,ur]),cM=(0,ye.useMemo)(()=>({activatorEvent:G,activators:hn,active:k,activeNodeRect:we,ariaDescribedById:{draggable:z},dispatch:g,draggableNodes:M,over:Pc,measureDroppableContainers:Ae}),[G,hn,k,we,g,z,M,Pc,Ae]);return ye.default.createElement(UUt.Provider,{value:S},ye.default.createElement($ie.Provider,{value:cM},ye.default.createElement(nzt.Provider,{value:nO},ye.default.createElement(ozt.Provider,{value:Oa},l)),ye.default.createElement(smn,{disabled:s?.restoreFocus===!1})),ye.default.createElement(phn,{...s,hiddenTextDescribedById:z}));function oO(){let Ea=q?.autoScrollEnabled===!1,rs=typeof u=="object"?u.enabled===!1:u===!1,ea=T&&!Ea&&!rs;return typeof u=="object"?{...u,enabled:ea}:{enabled:ea}}}),dmn=(0,ye.createContext)(null),qUt="button",fmn="Draggable";function izt(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e,i=nD(fmn),{activators:a,activatorEvent:s,active:u,activeNodeRect:l,ariaDescribedById:c,draggableNodes:d,over:f}=(0,ye.useContext)($ie),{role:p=qUt,roleDescription:h="draggable",tabIndex:m=0}=o??{},_=u?.id===t,g=(0,ye.useContext)(_?ozt:dmn),[v,S]=KH(),[x,O]=KH(),T=Zhn(a,t),E=s$(r);Cm(()=>(d.set(t,{id:t,key:i,node:v,activatorNode:x,data:E}),()=>{let A=d.get(t);A&&A.key===i&&d.delete(t)}),[d,t]);let M=(0,ye.useMemo)(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":_&&p===qUt?!0:void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[n,p,m,_,h,c.draggable]);return{active:u,activatorEvent:s,activeNodeRect:l,attributes:M,isDragging:_,listeners:n?void 0:T,node:v,over:f,setNodeRef:S,setActivatorNodeRef:O,transform:g}}function azt(){return(0,ye.useContext)(nzt)}var pmn="Droppable",hmn={timeout:25};function szt(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e,i=nD(pmn),{active:a,dispatch:s,over:u,measureDroppableContainers:l}=(0,ye.useContext)($ie),c=(0,ye.useRef)({disabled:r}),d=(0,ye.useRef)(!1),f=(0,ye.useRef)(null),p=(0,ye.useRef)(null),{disabled:h,updateMeasurementsFor:m,timeout:_}={...hmn,...o},g=s$(m??n),v=(0,ye.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(g.current)?g.current:[g.current]),p.current=null},_)},[_]),S=Bie({callback:v,disabled:h||!a}),x=(0,ye.useCallback)((M,A)=>{S&&(A&&(S.unobserve(A),d.current=!1),M&&S.observe(M))},[S]),[O,T]=KH(x),E=s$(t);return(0,ye.useEffect)(()=>{!S||!O.current||(S.disconnect(),d.current=!1,S.observe(O.current))},[O,S]),(0,ye.useEffect)(()=>(s({type:nl.RegisterDroppable,element:{id:n,key:i,disabled:r,node:O,rect:f,data:E}}),()=>s({type:nl.UnregisterDroppable,key:i,id:n})),[n]),(0,ye.useEffect)(()=>{r!==c.current.disabled&&(s({type:nl.SetDroppableDisabled,id:n,key:i,disabled:r}),c.current.disabled=r)},[n,i,r,s]),{active:a,rect:f,isOver:u?.id===n,node:O,over:u,setNodeRef:T}}var ts=B(Y());function Hie(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function mmn(e,t){return e.reduce((r,n,o)=>{let i=t.get(n);return i&&(r[o]=i),r},Array(e.length))}function qie(e){return e!==null&&e>=0}function gmn(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ymn(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var uzt=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e,i=Hie(t,n,r),a=t[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}};var Uie={scaleX:1,scaleY:1},ZRe=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:i,overIndex:a}=e,s=(t=i[r])!=null?t:n;if(!s)return null;if(o===r){let l=i[a];return l?{x:0,y:r<a?l.top+l.height-(s.top+s.height):l.top-s.top,...Uie}:null}let u=bmn(i,o,r);return o>r&&o<=a?{x:0,y:-s.height-u,...Uie}:o<r&&o>=a?{x:0,y:s.height+u,...Uie}:{x:0,y:0,...Uie}};function bmn(e,t,r){let n=e[t],o=e[t-1],i=e[t+1];return n?r<t?o?n.top-(o.top+o.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}var lzt="Sortable",czt=ts.default.createContext({activeIndex:-1,containerId:lzt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:uzt,disabled:{draggable:!1,droppable:!1}});function XRe(e){let{children:t,id:r,items:n,strategy:o=uzt,disabled:i=!1}=e,{active:a,dragOverlay:s,droppableRects:u,over:l,measureDroppableContainers:c}=azt(),d=nD(lzt,r),f=s.rect!==null,p=(0,ts.useMemo)(()=>n.map(T=>typeof T=="object"&&"id"in T?T.id:T),[n]),h=a!=null,m=a?p.indexOf(a.id):-1,_=l?p.indexOf(l.id):-1,g=(0,ts.useRef)(p),v=!gmn(p,g.current),S=_!==-1&&m===-1||v,x=ymn(i);Cm(()=>{v&&h&&c(p)},[v,p,h,c]),(0,ts.useEffect)(()=>{g.current=p},[p]);let O=(0,ts.useMemo)(()=>({activeIndex:m,containerId:d,disabled:x,disableTransforms:S,items:p,overIndex:_,useDragOverlay:f,sortedRects:mmn(p,u),strategy:o}),[m,d,x.draggable,x.droppable,S,p,_,u,f,o]);return ts.default.createElement(czt.Provider,{value:O},t)}var _mn=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Hie(r,n,o).indexOf(t)},vmn=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:u,transition:l}=e;return!l||!n||s!==i&&o===a?!1:r?!0:a!==o&&t===u},wmn={duration:200,easing:"ease"},dzt="transform",Smn=tO.Transition.toString({property:dzt,duration:0,easing:"linear"}),xmn={roleDescription:"sortable"};function Cmn(e){let{disabled:t,index:r,node:n,rect:o}=e,[i,a]=(0,ts.useState)(null),s=(0,ts.useRef)(r);return Cm(()=>{if(!t&&r!==s.current&&n.current){let u=o.current;if(u){let l=cD(n.current,{ignoreTransform:!0}),c={x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height};(c.x||c.y)&&a(c)}}r!==s.current&&(s.current=r)},[t,r,n,o]),(0,ts.useEffect)(()=>{i&&a(null)},[i]),i}function QRe(e){let{animateLayoutChanges:t=vmn,attributes:r,disabled:n,data:o,getNewIndex:i=_mn,id:a,strategy:s,resizeObserverConfig:u,transition:l=wmn}=e,{items:c,containerId:d,activeIndex:f,disabled:p,disableTransforms:h,sortedRects:m,overIndex:_,useDragOverlay:g,strategy:v}=(0,ts.useContext)(czt),S=Omn(n,p),x=c.indexOf(a),O=(0,ts.useMemo)(()=>({sortable:{containerId:d,index:x,items:c},...o}),[d,o,x,c]),T=(0,ts.useMemo)(()=>c.slice(c.indexOf(a)),[c,a]),{rect:E,node:M,isOver:A,setNodeRef:j}=szt({id:a,data:O,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...u}}),{active:N,activatorEvent:F,activeNodeRect:k,attributes:L,setNodeRef:q,listeners:U,isDragging:G,over:V,setActivatorNodeRef:D,transform:z}=izt({id:a,data:O,attributes:{...xmn,...r},disabled:S.draggable}),W=xUt(j,q),J=!!N,te=J&&!h&&qie(f)&&qie(_),Ae=!g&&G,Z=Ae&&te?z:null,ue=te?Z??(s??v)({rects:m,activeNodeRect:k,activeIndex:f,overIndex:_,index:x}):null,Me=qie(f)&&qie(_)?i({id:a,items:c,activeIndex:f,overIndex:_}):x,ht=N?.id,we=(0,ts.useRef)({activeId:ht,items:c,newIndex:Me,containerId:d}),ie=c!==we.current.items,ee=t({active:N,containerId:d,isDragging:G,isSorting:J,id:a,index:x,items:c,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:l,wasDragging:we.current.activeId!=null}),ge=Cmn({disabled:!ee,index:x,node:M,rect:E});return(0,ts.useEffect)(()=>{J&&we.current.newIndex!==Me&&(we.current.newIndex=Me),d!==we.current.containerId&&(we.current.containerId=d),c!==we.current.items&&(we.current.items=c)},[J,Me,d,c]),(0,ts.useEffect)(()=>{if(ht===we.current.activeId)return;if(ht!=null&&we.current.activeId==null){we.current.activeId=ht;return}let ct=setTimeout(()=>{we.current.activeId=ht},50);return()=>clearTimeout(ct)},[ht]),{active:N,activeIndex:f,attributes:L,data:O,rect:E,index:x,newIndex:Me,items:c,isOver:A,isSorting:J,isDragging:G,listeners:U,node:M,overIndex:_,over:V,setNodeRef:W,setActivatorNodeRef:D,setDroppableNodeRef:j,setDraggableNodeRef:q,transform:ge??ue,transition:Ue()};function Ue(){if(ge||ie&&we.current.newIndex===x)return Smn;if(!(Ae&&!YH(F)||!l)&&(J||ee))return tO.Transition.toString({...l,property:dzt})}}function Omn(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function zie(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var Emn=[pn.Down,pn.Right,pn.Up,pn.Left],fzt=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=t;if(Emn.includes(e.code)){if(e.preventDefault(),!r||!n)return;let u=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=o.get(d.id);if(f)switch(e.code){case pn.Down:n.top<f.top&&u.push(d);break;case pn.Up:n.top>f.top&&u.push(d);break;case pn.Left:n.left>f.left&&u.push(d);break;case pn.Right:n.left<f.left&&u.push(d);break}});let l=WUt({active:r,collisionRect:n,droppableRects:o,droppableContainers:u,pointerCoordinates:null}),c=GRe(l,"id");if(c===a?.id&&l.length>1&&(c=l[1].id),c!=null){let d=i.get(r.id),f=i.get(c),p=f?o.get(f.id):null,h=f?.node.current;if(h&&p&&d&&f){let _=t6(h).some((T,E)=>s[E]!==T),g=pzt(d,f),v=Pmn(d,f),S=_||!g?{x:0,y:0}:{x:v?n.width-p.width:0,y:v?n.height-p.height:0},x={x:p.left,y:p.top};return S.x&&S.y?x:iD(x,S)}}}};function pzt(e,t){return!zie(e)||!zie(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Pmn(e,t){return!zie(e)||!zie(t)||!pzt(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var Tmn={reasoning:{icon:KS,color:"text-model-capabilities-blue",tooltip:RO.reasoning},vision:{icon:GS,color:"text-model-capabilities-green",tooltip:RO.vision},websearch:{icon:EI,color:"text-model-capabilities-blue",tooltip:RO.websearch}},Mmn=["reasoning","vision","websearch"],Imn=e=>Be.default.createElement(vc,{delayDuration:0},Be.default.createElement("div",{className:"grid grid-cols-3 gap-1 w-16 mx-auto"},Mmn.map(t=>{let r=Tmn[t];if(!r)return Be.default.createElement("div",{key:t,className:"w-4"});let n=r.icon;return e.capabilities?.includes(t)?Be.default.createElement(Kr,{key:t},Be.default.createElement(Yr,{asChild:!0},Be.default.createElement("div",{className:"flex items-center justify-center"},Be.default.createElement(n,{className:`h-4 w-4 ${r.color}`}))),Be.default.createElement(Hr,{side:"bottom"},r.tooltip)):Be.default.createElement("div",{key:t,className:"flex items-center justify-center"},Be.default.createElement("div",{className:"w-4 h-4"}))}))),Amn=({model:e,onEdit:t,onDelete:r,onUpdateModel:n,id:o})=>{let[i,a]=Be.default.useState(!1),{attributes:s,listeners:u,setNodeRef:l,transform:c,transition:d,isDragging:f}=QRe({id:o,disabled:e.core}),p={transform:tO.Transform.toString(c),transition:d};return Be.default.createElement(DH,{ref:l,style:p,className:_e("mb-2",f&&["opacity-90","shadow-lg","border-2","border-accent/50","relative","z-[9999]","bg-background","rounded-lg","transform-gpu"],!e.core&&"touch-none")},Be.default.createElement(jH,{className:"p-3"},Be.default.createElement("div",{className:"flex items-center justify-between"},!e.core&&Be.default.createElement("div",{className:"mr-2 touch-none cursor-grab active:cursor-grabbing",...s,...u},Be.default.createElement(Vj,{className:"h-4 w-4 text-muted-foreground"})),Be.default.createElement("div",{className:"flex-1 cursor-pointer",onClick:()=>a(!i)},Be.default.createElement("div",{className:"flex items-center gap-2"},Be.default.createElement("div",{className:"w-3 h-3 flex items-center justify-center"},i?Be.default.createElement(ss,{className:"h-3 w-3 stroke-[7]"}):Be.default.createElement(JS,{className:"h-3 w-3 stroke-[7]"})),Be.default.createElement("div",null,Be.default.createElement("div",{className:"flex items-center gap-1"},Be.default.createElement("span",{className:"font-medium"},e.displayName||e.name),e.capabilities&&e.capabilities.length>0&&Be.default.createElement(XTe,{capabilities:e.capabilities,iconSize:14})),Be.default.createElement("div",{className:"flex items-center gap-2"},Be.default.createElement("span",{className:"text-sm text-muted bg-secondary"},uh(e.provider,e)))))),Be.default.createElement("div",{className:"flex items-center gap-2"},t&&Be.default.createElement(qe,{variant:"ghost",size:"icon",onClick:h=>{h.stopPropagation(),t()}},Be.default.createElement(Wj,{className:"h-4 w-4"})),r&&!e.core&&Be.default.createElement(qe,{variant:"ghost",size:"icon",onClick:h=>{h.stopPropagation(),r()}},Be.default.createElement(ZS,{className:"h-4 w-4"}))))),Be.default.createElement("div",{className:_e("transition-all duration-300 ease-in-out",i?"max-h-20 opacity-100":"max-h-0 opacity-0 overflow-hidden")},Be.default.createElement(NH,{className:"p-3 pt-0"},Be.default.createElement("div",{className:"flex justify-around"},!e.isEmbeddingModel&&Be.default.createElement("div",{className:"flex items-center gap-2"},Be.default.createElement("span",{className:"text-sm"},"Enabled"),Be.default.createElement(Wd,{checked:e.enabled,onCheckedChange:h=>n({...e,enabled:h})})),Be.default.createElement("div",{className:"flex items-center gap-2"},Be.default.createElement("span",{className:"text-sm"},"CORS"),Be.default.createElement(Wd,{checked:e.enableCors,onCheckedChange:h=>n({...e,enableCors:h})}))))))},Rmn=({model:e,onEdit:t,onDelete:r,onUpdateModel:n,isEmbeddingModel:o})=>{let{attributes:i,listeners:a,setNodeRef:s,transform:u,transition:l,isDragging:c}=QRe({id:Dr(e),disabled:e.core}),d={transform:tO.Transform.toString(u),transition:l};return Be.default.createElement(K1,{ref:s,style:d,className:_e("hover:bg-interactive-accent/10 transition-colors duration-200",c&&"shadow-lg bg-background/90 backdrop-blur-sm relative z-[100] cursor-grabbing border-2 border-accent/50",!c&&"z-auto")},Be.default.createElement(Up,{className:"w-6 px-2"},!e.core&&Be.default.createElement(qe,{variant:"ghost",size:"icon",className:"cursor-grab touch-none hover:cursor-grab active:cursor-grabbing p-0 h-6 w-6",...i,...a},Be.default.createElement(Vj,{className:"h-4 w-4 text-muted-foreground hover:text-foreground transition-colors"}))),Be.default.createElement(Up,{className:"pl-0"},e.displayName||e.name),Be.default.createElement(Up,null,uh(e.provider,e)),Be.default.createElement(Up,{className:"text-center flex justify-center"},Imn(e)),!o&&Be.default.createElement(Up,{className:"text-center"},Be.default.createElement(Wd,{id:`${Dr(e)}-enabled`,checked:e.enabled,onCheckedChange:f=>n({...e,enabled:f}),className:"mx-auto"})),Be.default.createElement(Up,{className:"text-center"},Be.default.createElement(Wd,{id:`${Dr(e)}-enableCors`,checked:e.enableCors,onCheckedChange:f=>n({...e,enableCors:f}),className:"mx-auto"})),Be.default.createElement(Up,{className:"text-center"},Be.default.createElement("div",{className:"flex justify-center gap-2"},t&&Be.default.createElement(qe,{variant:"ghost",size:"icon",onClick:()=>t(e),className:"shadow-sm hover:shadow-md transition-shadow"},Be.default.createElement(Wj,{className:"h-4 w-4"})),!e.core&&Be.default.createElement(qe,{variant:"ghost",size:"icon",onClick:()=>r(Dr(e)),className:"shadow-sm hover:shadow-md transition-shadow"},Be.default.createElement(ZS,{className:"h-4 w-4"})))))},e1e=({models:e,onEdit:t,onDelete:r,onAdd:n,onUpdateModel:o,onReorderModels:i,title:a})=>{let s=!!(e.length>0&&e[0].isEmbeddingModel),u=zUt(JRe(c$),JRe(l$,{coordinateGetter:fzt})),l=e.findIndex(p=>!p.core),c=p=>h=>{let{transform:m,active:_,activeNodeRect:g,over:v}=h;if(!_||!g)return m;let S=e.findIndex(M=>Dr(M)===_.id),x=e.filter(M=>!M.core).length,O=g.height,T=(l-S)*O,E=(l+x-1-S)*O;if(p&&v){let M=e.findIndex(j=>Dr(j)===v.id);if(e[M].core||M<l)return{...m,x:0,y:S*O}}return{...m,x:0,y:Math.min(Math.max(T,m.y),E)}},d=p=>{let{active:h,over:m}=p;if(m&&h.id!==m.id){let _=e.findIndex(x=>Dr(x)===h.id),g=e.findIndex(x=>Dr(x)===m.id),v=e[g];if(g<l||v.core)return;let S=Hie(e,_,g);i?.(S)}},f=()=>Be.default.createElement("div",{className:"md:hidden relative"},Be.default.createElement(YRe,{sensors:u,collisionDetection:KRe,onDragEnd:d,modifiers:[c(!0)]},Be.default.createElement(XRe,{items:e.map(p=>Dr(p)),strategy:ZRe},Be.default.createElement("div",{className:"space-y-2 relative"},e.map(p=>Be.default.createElement(Amn,{key:Dr(p),id:Dr(p),model:p,onEdit:t?()=>t(p):void 0,onDelete:()=>r(Dr(p)),onUpdateModel:o}))))));return Be.default.createElement("div",{className:"mb-4"},Be.default.createElement("div",{className:"hidden md:block"},Be.default.createElement(YRe,{sensors:u,collisionDetection:KRe,onDragEnd:d,modifiers:[c(!1)]},Be.default.createElement("div",{className:"relative overflow-hidden"},Be.default.createElement(kH,null,Be.default.createElement(BH,null,Be.default.createElement(K1,null,Be.default.createElement(qp,{className:"w-6 px-2"}),Be.default.createElement(qp,{className:"pl-0"},"Model"),Be.default.createElement(qp,null,"Provider"),Be.default.createElement(qp,{className:"text-center"},"Capabilities"),!s&&Be.default.createElement(qp,{className:"text-center"},"Enable"),Be.default.createElement(qp,{className:"text-center"},"CORS"),Be.default.createElement(qp,{className:"w-[100px] text-center"},"Actions"))),Be.default.createElement($H,{className:"relative"},Be.default.createElement(XRe,{items:e.map(p=>Dr(p)),strategy:ZRe},e.map(p=>Be.default.createElement(Rmn,{key:Dr(p),model:p,onEdit:t?()=>t(p):void 0,onDelete:r,onUpdateModel:o,isEmbeddingModel:s})))))))),f(),Be.default.createElement("div",{className:"mt-4 flex justify-end"},Be.default.createElement(qe,{onClick:n,variant:"secondary",className:"flex items-center gap-2"},Be.default.createElement(YS,{className:"h-4 w-4"}),"Add Custom Model")))};var Wr=B(Y());var hzt=({open:e,onOpenChange:t,model:r,onUpdate:n})=>{let{modalContainer:o}=eS(),[i,a]=(0,Wr.useState)(r);if((0,Wr.useEffect)(()=>{a(r)},[r]),!i)return null;let s=(l,c)=>{let d={...i,[l]:c};a(d),n(d)},u=Object.entries(RO).map(([l,c])=>({id:l,label:l.charAt(0).toUpperCase()+l.slice(1),description:c}));return Wr.default.createElement(rM,{open:e,onOpenChange:t},Wr.default.createElement(KC,{className:"sm:max-w-[425px]",container:o},Wr.default.createElement(YC,null,Wr.default.createElement(ZC,null,"Model Settings - ",i.name),Wr.default.createElement(XC,null,"Customize model parameters.")),Wr.default.createElement("div",{className:"space-y-6"},Wr.default.createElement(fd,{label:"Model Name",required:!0},Wr.default.createElement(ti,{type:"text",disabled:i.core,value:i.name,onChange:l=>s("name",l.target.value),placeholder:"Enter model name"})),Wr.default.createElement(fd,{label:Wr.default.createElement("div",{className:"flex items-center gap-1.5"},Wr.default.createElement("span",{className:"leading-none"},"Display Name"),Wr.default.createElement(vc,{delayDuration:0},Wr.default.createElement(Kr,null,Wr.default.createElement(Yr,{asChild:!0},Wr.default.createElement(zl,{className:"size-4"})),Wr.default.createElement(Hr,{align:"start",className:"max-w-96",side:"bottom"},Wr.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-0.5"},Wr.default.createElement("div",{className:"text-[12px] font-bold"},"Suggested format:"),Wr.default.createElement("div",{className:"text-accent"},"[Source]-[Payment]:[Pretty Model Name]"),Wr.default.createElement("div",{className:"text-[12px]"},"Example:",Wr.default.createElement("li",null,"Direct-Paid:Ds-r1"),Wr.default.createElement("li",null,"OpenRouter-Paid:Ds-r1"),Wr.default.createElement("li",null,"Perplexity-Paid:lg")))))))},Wr.default.createElement(ti,{type:"text",placeholder:"Custom display name (optional)",value:i.displayName||"",onChange:l=>s("displayName",l.target.value)})),Wr.default.createElement(fd,{label:"Model Capabilities"},Wr.default.createElement("div",{className:"flex gap-4 items-center"},u.map(({id:l,label:c,description:d})=>Wr.default.createElement("div",{key:l,className:"flex items-center gap-2"},Wr.default.createElement(Wd,{id:l,checked:i.capabilities?.includes(l),onCheckedChange:f=>{let p=i.capabilities||[];s("capabilities",f?[...p,l]:p.filter(h=>h!==l))}}),Wr.default.createElement(Jf,{htmlFor:l,className:"text-sm"},Wr.default.createElement(vc,{delayDuration:0},Wr.default.createElement(Kr,null,Wr.default.createElement(Yr,{asChild:!0},Wr.default.createElement("span",null,c)),Wr.default.createElement(Hr,{side:"bottom"},d)))))))))))};var mzt=()=>{let e=qo(),[t,r]=(0,Zi.useState)(null),[n,o]=(0,Zi.useState)(!1),[i,a]=(0,Zi.useState)(!1),s=p=>{let[h,m]=p.split("|"),_=e.activeModels.filter(v=>!(v.name===h&&v.provider===m)),g=e.defaultModelKey;if(p===e.defaultModelKey){let v=_.find(S=>S.enabled);g=v?`${v.name}|${v.provider}`:""}EO({activeModels:_,defaultModelKey:g})},u=p=>{let h=e.activeModels.map(m=>m.name===p.name&&m.provider===p.provider?p:m);It("activeModels",h)},l=p=>{It("activeModels",p)},c=p=>{let[h,m]=p.split("|"),_=e.activeEmbeddingModels.filter(g=>!(g.name===h&&g.provider===m));It("activeEmbeddingModels",_)},d=p=>{let h=e.activeEmbeddingModels.map(m=>m.name===p.name&&m.provider===p.provider?p:m);It("activeEmbeddingModels",h)},f=p=>{It("activeEmbeddingModels",p)};return Zi.default.createElement("div",{className:"space-y-4"},Zi.default.createElement("section",null,Zi.default.createElement("div",{className:"text-xl font-bold mb-3"},"Chat Models"),Zi.default.createElement(e1e,{models:e.activeModels,onEdit:r,onDelete:s,onAdd:()=>o(!0),onUpdateModel:u,onReorderModels:l,title:"Chat Model"}),Zi.default.createElement(hzt,{open:!!t,onOpenChange:p=>!p&&r(null),model:t,onUpdate:u}),Zi.default.createElement(LRe,{open:n,onOpenChange:o,onAdd:p=>{let h=[...e.activeModels,p];It("activeModels",h)},ping:p=>Ud.getInstance().ping(p)}),Zi.default.createElement("div",{className:"space-y-4"},Zi.default.createElement(Eo,{type:"slider",title:"Temperature",description:"Default is 0.1. Higher values will result in more creativeness, but also more mistakes. Set to 0 for no randomness.",value:e.temperature,onChange:p=>It("temperature",p),min:0,max:2,step:.05}),Zi.default.createElement(Eo,{type:"slider",title:"Token limit",description:Zi.default.createElement(Zi.default.Fragment,null,Zi.default.createElement("p",null,"The maximum number of ",Zi.default.createElement("em",null,"output tokens")," to generate. Default is 1000."),Zi.default.createElement("em",null,"This number plus the length of your prompt (input tokens) must be smaller than the context window of the model.")),value:e.maxTokens,onChange:p=>It("maxTokens",p),min:0,max:16e3,step:100}),Zi.default.createElement(Eo,{type:"slider",title:"Conversation turns in context",description:"The number of previous conversation turns to include in the context. Default is 15 turns, i.e. 30 messages.",value:e.contextTurns,onChange:p=>It("contextTurns",p),min:1,max:50,step:1}))),Zi.default.createElement("section",null,Zi.default.createElement("div",{className:"text-xl font-bold mb-3"},"Embedding Models"),Zi.default.createElement(e1e,{models:e.activeEmbeddingModels,onDelete:c,onAdd:()=>a(!0),onUpdateModel:d,onReorderModels:f,title:"Embedding Model"}),Zi.default.createElement(LRe,{open:i,onOpenChange:a,onAdd:p=>{let h=[...e.activeEmbeddingModels,p];It("activeEmbeddingModels",h)},isEmbeddingModel:!0,ping:p=>ps.getInstance().ping(p)})))};var xzt=require("obsidian");var Zr=B(Y()),Czt=B(gh());var gzt=require("obsidian"),Vie=class extends gzt.FuzzySuggestModal{constructor(r,n){super(r);this.onChooseTag=n}getItems(){let r=app.vault.getMarkdownFiles(),n=new Set;for(let o of r)mq(o).forEach(a=>n.add(a));return Array.from(n)}getItemText(r){return r}onChooseItem(r,n){this.onChooseTag(r)}};var yzt=require("obsidian");var Wie=class extends yzt.FuzzySuggestModal{constructor(r,n){super(r);this.onChooseFolder=n}getItems(){let r=new Set,n=OQ(this.app);return this.app.vault.getAllLoadedFiles().forEach(o=>{o.parent?.path&&o.parent.path!=="/"&&!n.some(a=>o.parent.path===a||o.parent.path.startsWith(a+"/"))&&r.add(o.parent.path)}),Array.from(r)}getItemText(r){return r}onChooseItem(r,n){this.onChooseFolder(r)}};var bzt=require("obsidian"),Em=B(Y()),_zt=B(gh());function Dmn({onConfirm:e,onCancel:t}){let[r,n]=(0,Em.useState)(""),[o,i]=(0,Em.useState)(null),a=u=>{if(u.includes(" ")){i("Extension cannot contain spaces");return}i(null),e(u)};return Em.default.createElement("div",{className:"flex flex-col gap-4"},Em.default.createElement("div",{className:"flex flex-col gap-2"},Em.default.createElement(ti,{placeholder:"Enter the extension (e.g. txt, excalidraw.md)",value:r,onChange:u=>{n(u.target.value),i(null)},onKeyDown:u=>{u.key==="Enter"&&a(r)}}),o&&Em.default.createElement("p",{className:"text-error text-sm"},o)),Em.default.createElement("div",{className:"flex justify-end gap-2"},Em.default.createElement(qe,{variant:"secondary",onClick:t},"Cancel"),Em.default.createElement(qe,{variant:"default",onClick:()=>a(r)},"Confirm")))}var Jie=class extends bzt.Modal{constructor(r,n){super(r);this.onConfirm=n;this.setTitle("Add Extension")}onOpen(){let{contentEl:r}=this;this.root=(0,_zt.createRoot)(r);let n=i=>{this.onConfirm(i),this.close()},o=()=>{this.close()};this.root.render(Em.default.createElement(Dmn,{onConfirm:n,onCancel:o}))}onClose(){this.root.unmount()}};var vzt=require("obsidian"),Yg=B(Y()),wzt=B(gh());function jmn({onConfirm:e,onCancel:t}){let[r,n]=(0,Yg.useState)("");return Yg.default.createElement("div",{className:"flex flex-col gap-4"},Yg.default.createElement("div",{className:"flex flex-col gap-4"},Yg.default.createElement("div",null,"Comma separated list of paths, tags, note titles or file extension e.g. folder1, folder1/folder2, #tag1, #tag2, [[note1]], [[note2]], *.jpg, *.excallidraw.md"),Yg.default.createElement(ti,{placeholder:"Enter the pattern",value:r,onChange:i=>n(i.target.value),onKeyDown:i=>{i.key==="Enter"&&e(r)}})),Yg.default.createElement("div",{className:"flex justify-end gap-2"},Yg.default.createElement(qe,{variant:"secondary",onClick:t},"Cancel"),Yg.default.createElement(qe,{variant:"default",onClick:()=>e(r)},"Confirm")))}var Gie=class extends vzt.Modal{constructor(r,n){super(r);this.onConfirm=n;this.setTitle("Add Custom Pattern")}onOpen(){let{contentEl:r}=this;this.root=(0,wzt.createRoot)(r);let n=i=>{this.onConfirm(i),this.close()},o=()=>{this.close()};this.root.render(Yg.default.createElement(jmn,{onConfirm:n,onCancel:o}))}onClose(){this.root.unmount()}};var d$=B(Y());var Kie=B(Y()),Nmn=2;function Lmn(e,t){return t&&t>1?e.current?e.current.offsetHeight<e.current.scrollHeight:!1:(e.current&&e.current?.offsetWidth+Nmn<e.current?.scrollWidth)??!1}function Fmn(e){switch(e){case 2:return"line-clamp-2";case 3:return"line-clamp-3";default:return""}}var Szt=({children:e,className:t,lineClamp:r,tooltipContent:n,...o})=>{let i=(0,Kie.useRef)(null),[a,s]=(0,Kie.useState)(!1);return d$.default.createElement(vc,{delayDuration:0},d$.default.createElement(Kr,{open:a,onOpenChange:l=>{s(l&&Lmn(i,r))}},d$.default.createElement(Yr,{asChild:!0},d$.default.createElement("div",{...o,ref:i,className:_e("max-w-full text-normal",(!r||r<=1)&&"truncate",r&&Fmn(r),t),"data-testid":"truncatedText"},e)),d$.default.createElement(Hr,{className:"max-w-64 text-wrap break-words text-body-normal"},n??e)))};function Yie({title:e,patterns:t,onRemove:r}){return Zr.default.createElement("div",{className:"grid grid-cols-4 gap-2"},Zr.default.createElement("div",{className:"font-bold"},e),Zr.default.createElement("ul",{className:"list-disc list-inside pl-0 m-0 col-span-3 flex flex-col gap-1"},t.map(n=>Zr.default.createElement("li",{key:n,className:"flex gap-2 hover:bg-dropdown-hover pl-2 pr-1 rounded-md"},Zr.default.createElement(Szt,{className:"flex-1"},n),Zr.default.createElement(qe,{variant:"ghost2",size:"fit",onClick:()=>r(n)},Zr.default.createElement(bh,{className:"size-4"}))))))}function kmn({value:e,onUpdate:t,container:r}){let[n,o]=(0,Zr.useState)(e),i=PP(n),{tagPatterns:a,extensionPatterns:s,folderPatterns:u,notePatterns:l}=k4(i),c=f=>{let p=t0t({tagPatterns:f.tagPatterns??a,extensionPatterns:f.extensionPatterns??s,folderPatterns:f.folderPatterns??u,notePatterns:f.notePatterns??l});o(p),t(p)},d=a.length>0||s.length>0||u.length>0||l.length>0;return Zr.default.createElement("div",{className:"flex flex-col gap-4 mt-2"},Zr.default.createElement("div",{className:"flex flex-col gap-2 p-4 border border-border border-solid rounded-md max-h-[400px] overflow-y-auto"},!d&&Zr.default.createElement("div",{className:"text-center text-sm text-muted-foreground"},"No patterns specified"),a.length>0&&Zr.default.createElement(Yie,{title:"Tags",patterns:a,onRemove:f=>{let p=a.filter(h=>h!==f);c({tagPatterns:p})}}),s.length>0&&Zr.default.createElement(Yie,{title:"Extensions",patterns:s,onRemove:f=>{let p=s.filter(h=>h!==f);c({extensionPatterns:p})}}),u.length>0&&Zr.default.createElement(Yie,{title:"Folders",patterns:u,onRemove:f=>{let p=u.filter(h=>h!==f);c({folderPatterns:p})}}),l.length>0&&Zr.default.createElement(Yie,{title:"Notes",patterns:l,onRemove:f=>{let p=l.filter(h=>h!==f);c({notePatterns:p})}})),Zr.default.createElement("div",{className:"flex justify-end gap-2"},Zr.default.createElement(qoe,null,Zr.default.createElement(Uoe,{asChild:!0},Zr.default.createElement(qe,{variant:"secondary"},"Add...")),Zr.default.createElement(zT,{align:"start",container:r},Zr.default.createElement(yc,{onSelect:()=>{new Vie(app,f=>{let p=`#${f}`;a.includes(p)||c({tagPatterns:[...a,p]})}).open()}},Zr.default.createElement("div",{className:"flex items-center gap-2"},Zr.default.createElement(jU,{className:"size-4"}),"Tag")),Zr.default.createElement(yc,{onSelect:()=>{new Wie(app,f=>{u.includes(f)||c({folderPatterns:[...u,f]})}).open()}},Zr.default.createElement("div",{className:"flex items-center gap-2"},Zr.default.createElement(CU,{className:"size-4"}),"Folder")),Zr.default.createElement(yc,{onSelect:()=>{new VT({app,onNoteSelect:f=>{let p=`[[${f.basename}]]`;l.includes(p)||c({notePatterns:[...l,p]})},excludeNotePaths:[],titleOnly:!0}).open()}},Zr.default.createElement("div",{className:"flex items-center gap-2"},Zr.default.createElement(OI,{className:"size-4"}),"Note")),Zr.default.createElement(yc,{onSelect:()=>{new Jie(app,f=>{let p=`*.${f}`;s.includes(p)||c({extensionPatterns:[...s,p]})}).open()}},Zr.default.createElement("div",{className:"flex items-center gap-2"},Zr.default.createElement(xU,{className:"size-4"}),"Extension")),Zr.default.createElement(yc,{onSelect:()=>{new Gie(app,f=>{let p=PP(f),{tagPatterns:h,extensionPatterns:m,folderPatterns:_,notePatterns:g}=k4(p);c({tagPatterns:[...a,...h],extensionPatterns:[...s,...m],folderPatterns:[...u,..._],notePatterns:[...l,...g]})}).open()}},Zr.default.createElement("div",{className:"flex items-center gap-2"},Zr.default.createElement(PI,{className:"size-4"}),"Custom"))))))}var r6=class extends xzt.Modal{constructor(r,n,o,i){super(r);this.onUpdate=n;this.value=o;this.setTitle(i)}onOpen(){let{contentEl:r}=this;this.root=(0,Czt.createRoot)(r);let n=o=>{this.onUpdate(o)};this.root.render(Zr.default.createElement(kmn,{value:this.value,onUpdate:n,container:this.contentEl}))}onClose(){this.root.unmount()}};var mr=B(Y()),Ozt=()=>{let e=qo(),t=r=>{let n=parseInt(r);n!==e.numPartitions&&new r$(app,async()=>{It("numPartitions",n),await ma.getInstance().indexVaultToVectorStore(!0)}).open()};return mr.default.createElement("div",{className:"space-y-4"},mr.default.createElement("section",null,mr.default.createElement("div",{className:"space-y-4"},mr.default.createElement(Eo,{type:"select",title:"Auto-Index Strategy",description:mr.default.createElement("div",{className:"flex items-center gap-1.5"},mr.default.createElement("span",{className:"leading-none"},"Decide when you want the vault to be indexed."),mr.default.createElement(vc,{delayDuration:0},mr.default.createElement(Kr,null,mr.default.createElement(Yr,{asChild:!0},mr.default.createElement(zl,{className:"size-4"})),mr.default.createElement(Hr,null,mr.default.createElement("div",{className:"space-y-2 py-2"},mr.default.createElement("div",{className:"space-y-1"},mr.default.createElement("div",{className:"text-muted text-sm"},"Choose when to index your vault:"),mr.default.createElement("ul",{className:"space-y-1 pl-2 list-disc text-sm"},mr.default.createElement("li",null,mr.default.createElement("div",{className:"flex items-center gap-1"},mr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"NEVER:"),mr.default.createElement("span",null,"Manual indexing via command or refresh only"))),mr.default.createElement("li",null,mr.default.createElement("div",{className:"flex items-center gap-1"},mr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"ON STARTUP:"),mr.default.createElement("span",null,"Index updates when plugin loads or reloads"))),mr.default.createElement("li",null,mr.default.createElement("div",{className:"flex items-center gap-1"},mr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"ON MODE SWITCH:"),mr.default.createElement("span",null,"Updates when entering QA mode (Recommended)"))))),mr.default.createElement("p",{className:"text-callout-warning text-sm"},"Warning: Cost implications for large vaults with paid models")))))),value:e.indexVaultToVectorStore,onChange:r=>{It("indexVaultToVectorStore",r)},options:iBe.map(r=>({label:r,value:r})),placeholder:"Strategy"}),mr.default.createElement(Eo,{type:"slider",title:"Max Sources",description:"Copilot goes through your vault to find relevant blocks and passes the top N blocks to the LLM. Default for N is 3. Increase if you want more sources included in the answer generation step.",min:1,max:128,step:1,value:e.maxSourceChunks,onChange:r=>It("maxSourceChunks",r)}),mr.default.createElement(Eo,{type:"slider",title:"Requests per Minute",description:"Default is 90. Decrease if you are rate limited by your embedding provider.",min:10,max:300,step:10,value:e.embeddingRequestsPerMin,onChange:r=>It("embeddingRequestsPerMin",r)}),mr.default.createElement(Eo,{type:"slider",title:"Embedding Batch Size",description:"Default is 16. Increase if you are rate limited by your embedding provider.",min:1,max:128,step:1,value:e.embeddingBatchSize,onChange:r=>It("embeddingBatchSize",r)}),mr.default.createElement(Eo,{type:"select",title:"Number of Partitions",description:"Number of partitions for Copilot index. Default is 1. Increase if you have issues indexing large vaults. Warning: Changes require clearing and rebuilding the index!",value:e.numPartitions.toString(),onChange:t,options:["1","2","3","4","5","6","7","8","12","16","20","24","28","32","36","40"].map(r=>({label:r,value:r}))}),mr.default.createElement(Eo,{type:"custom",title:"Exclusions",description:mr.default.createElement(mr.default.Fragment,null,mr.default.createElement("p",null,"Exclude folders, tags, note titles or file extensions from being indexed. Previously indexed files will remain until a force re-index is performed."))},mr.default.createElement(qe,{variant:"secondary",onClick:()=>new r6(app,r=>It("qaExclusions",r),e.qaExclusions,"Manage Exclusions").open()},"Manage")),mr.default.createElement(Eo,{type:"custom",title:"Inclusions",description:mr.default.createElement("p",null,"Index only the specified paths, tags, or note titles. Exclusions take precedence over inclusions. Previously indexed files will remain until a force re-index is performed.")},mr.default.createElement(qe,{variant:"secondary",onClick:()=>new r6(app,r=>It("qaInclusions",r),e.qaInclusions,"Manage Inclusions").open()},"Manage")),mr.default.createElement(Eo,{type:"switch",title:"Enable Obsidian Sync for Copilot index",description:"If enabled, the index will be stored in the .obsidian folder and synced with Obsidian Sync by default. If disabled, it will be stored in .copilot-index folder at vault root.",checked:e.enableIndexSync,onCheckedChange:r=>It("enableIndexSync",r)}),mr.default.createElement(Eo,{type:"switch",title:"Disable index loading on mobile",description:"When enabled, Copilot index won't be loaded on mobile devices to save resources. Only chat mode will be available. Any existing index from desktop sync will be preserved. Uncheck to enable QA modes on mobile.",checked:e.disableIndexOnMobile,onCheckedChange:r=>It("disableIndexOnMobile",r)}))))};var Pzt=["basic","model","QA","command","advanced"],Bmn={basic:$r.default.createElement(gU,{className:"w-5 h-5"}),model:$r.default.createElement(yU,{className:"w-5 h-5"}),QA:$r.default.createElement(bU,{className:"w-5 h-5"}),command:$r.default.createElement(wI,{className:"w-5 h-5"}),advanced:$r.default.createElement(PI,{className:"w-5 h-5"})},$mn={basic:()=>$r.default.createElement(oqt,null),model:()=>$r.default.createElement(mzt,null),QA:()=>$r.default.createElement(Ozt,null),command:()=>$r.default.createElement(kBt,null),advanced:()=>$r.default.createElement(Q$t,null)},Ezt=Pzt.map(e=>({id:e,icon:Bmn[e],label:e.charAt(0).toUpperCase()+e.slice(1)})),qmn=({plugin:e})=>{let{selectedTab:t,setSelectedTab:r}=eS();return $r.default.createElement("div",{className:"flex flex-col"},$r.default.createElement("div",{className:"inline-flex rounded-lg"},Ezt.map((n,o)=>$r.default.createElement(mBt,{key:n.id,tab:n,isSelected:t===n.id,onClick:()=>r(n.id),isFirst:o===0,isLast:o===Ezt.length-1}))),$r.default.createElement("div",{className:"w-[100%] border border-solid"}),$r.default.createElement("div",null,Pzt.map(n=>{let o=$mn[n];return $r.default.createElement(gBt,{key:n,id:n,isSelected:t===n},$r.default.createElement(o,null))})))},Umn=({plugin:e})=>{let[t,r]=$r.default.useState(0),[n,o]=(0,$r.useState)(null),[i,a]=(0,$r.useState)(null);(0,$r.useEffect)(()=>{(async()=>{let{version:c,error:d}=await tBe();d?(console.error("Version check failed:",d),a(d)):c&&(o(c),a(null))})()},[e.manifest.version]);let s=async()=>{new pie(app,async()=>{Ske(),r(c=>c+1)}).open()},u=n&&eBe(n,e.manifest.version);return $r.default.createElement(bBt,null,$r.default.createElement("div",null,$r.default.createElement("div",{className:"flex flex-col gap-2"},$r.default.createElement("h1",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},$r.default.createElement("div",{className:"flex items-center gap-2"},$r.default.createElement("span",null,"Copilot Settings"),$r.default.createElement("span",{className:"text-xs text-muted"},$r.default.createElement("a",{href:"https://github.com/logancyang/obsidian-copilot/releases/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline"},"v",e.manifest.version),i?$r.default.createElement("span",{className:"text-error",title:i}," ","(update check failed)"):n&&$r.default.createElement($r.default.Fragment,null,u?$r.default.createElement("span",{className:"text-accent",title:"A new version is available"}," ","(latest: v",n,")"):$r.default.createElement("span",{className:"text-accent"}," (up to date)")))),$r.default.createElement("div",{className:"self-end sm:self-auto"},$r.default.createElement(qe,{variant:"secondary",size:"sm",onClick:s},"Reset Settings")))),$r.default.createElement(qmn,{key:t,plugin:e})))},Tzt=Umn;var Zie=class extends n6.PluginSettingTab{constructor(t,r){super(t,r),this.plugin=r}async reloadPlugin(){try{this.app.workspace.getLeavesOfType(cl)[0]?.view&&pe().autosaveChat&&await this.plugin.autosaveCurrentChat();let r=this.plugin.app;await r.plugins.disablePlugin("copilot"),await r.plugins.enablePlugin("copilot"),r.setting.openTabById("copilot").display(),new n6.Notice("Plugin reloaded successfully.")}catch(t){new n6.Notice("Failed to reload the plugin. Please reload manually."),console.error("Error reloading plugin:",t)}}display(){let{containerEl:t}=this;t.empty(),t.style.userSelect="text";let r=t.createDiv("div");(0,Izt.createRoot)(r).render(Mzt.default.createElement(Tzt,{plugin:this.plugin}))}};var Azt=B(xQ()),Xie=class e{constructor(){this.cacheDir=".copilot/pdf-cache"}static getInstance(){return e.instance||(e.instance=new e),e.instance}async ensureCacheDir(){await app.vault.adapter.exists(this.cacheDir)||(br("Creating PDF cache directory:",this.cacheDir),await app.vault.adapter.mkdir(this.cacheDir))}getCacheKey(t){let r=`${t.path}:${t.stat.size}:${t.stat.mtime}`,n=(0,Azt.MD5)(r).toString();return br("Generated cache key for PDF:",{path:t.path,key:n}),n}getCachePath(t){return`${this.cacheDir}/${t}.json`}async get(t){try{let r=this.getCacheKey(t),n=this.getCachePath(r);if(await app.vault.adapter.exists(n)){br("Cache hit for PDF:",t.path);let o=await app.vault.adapter.read(n);return JSON.parse(o)}return br("Cache miss for PDF:",t.path),null}catch(r){return Ur("Error reading from PDF cache:",r),null}}async set(t,r){try{await this.ensureCacheDir();let n=this.getCacheKey(t),o=this.getCachePath(n);br("Caching PDF response for:",t.path),await app.vault.adapter.write(o,JSON.stringify(r))}catch(n){Ur("Error writing to PDF cache:",n)}}async clear(){try{if(await app.vault.adapter.exists(this.cacheDir)){let t=await app.vault.adapter.list(this.cacheDir);br("Clearing PDF cache, removing files:",t.files.length);for(let r of t.files)await app.vault.adapter.remove(r)}}catch(t){Ur("Error clearing PDF cache:",t)}}};var t1e=class{constructor(){this.supportedExtensions=["md"]}async parseFile(t,r){return await r.read(t)}},Qie=class{constructor(t){this.supportedExtensions=["pdf"];this.brevilabsClient=t,this.pdfCache=Xie.getInstance()}async parseFile(t,r){try{br("Parsing PDF file:",t.path);let n=await this.pdfCache.get(t);if(n)return br("Using cached PDF content for:",t.path),n.response;let o=await r.readBinary(t);br("Calling pdf4llm API for:",t.path);let i=await this.brevilabsClient.pdf4llm(o);return await this.pdfCache.set(t,i),i.response}catch(n){return Ur(`Error extracting content from PDF ${t.path}:`,n),`[Error: Could not extract content from PDF ${t.basename}]`}}async clearCache(){br("Clearing PDF cache"),await this.pdfCache.clear()}},eae=class{constructor(t){this.parsers=new Map;this.registerParser(new t1e),this.registerParser(new Qie(t))}registerParser(t){for(let r of t.supportedExtensions)this.parsers.set(r,t)}async parseFile(t,r){let n=this.parsers.get(t.extension);if(!n)throw new Error(`No parser found for file type: ${t.extension}`);return await n.parseFile(t,r)}supportsExtension(t){return this.parsers.has(t)}async clearPDFCache(){let t=this.parsers.get("pdf");t instanceof Qie&&await t.clearCache()}};var rO=require("obsidian");var tae=class extends rO.Plugin{constructor(){super(...arguments);this.userMessageHistory=[];this.handleContextMenu=(r,n)=>{fBt(r,n,this)}}async onload(){await this.loadSettings(),this.settingsUnsubscriber=sl(async(r,n)=>{n.enableEncryption?await this.saveData(await lBe(n)):await this.saveData(n),tMe(this,r,n)}),this.addSettingTab(new Zie(this.app,this)),this.sharedState=new aBt,this.vectorStoreManager=ma.getInstance(),this.brevilabsClient=_l.getInstance(),this.brevilabsClient.setPluginVersion(this.manifest.version),AQ(),this.chainManager=new $C(this.app,this.vectorStoreManager),this.fileParserManager=new eae(this.brevilabsClient),this.registerView(cl,r=>new ZT(r,this)),this.initActiveLeafChangeHandler(),this.addRibbonIcon("message-square","Open Copilot Chat",r=>{this.activateView()}),tMe(this,void 0,pe()),E1.initTools(this.app.vault),this.registerEvent(this.app.workspace.on("editor-menu",(r,n)=>{n.getSelection().trim()&&this.handleContextMenu(r,n)})),this.registerEvent(this.app.workspace.on("active-leaf-change",r=>{if(r&&r.view instanceof rO.MarkdownView&&r.view.file){let o=this.app.workspace.getLeavesOfType(cl).find(i=>i.view instanceof ZT)?.view;if(o){let i=new CustomEvent(NS.ACTIVE_LEAF_CHANGE);o.eventTarget.dispatchEvent(i)}}}))}async onunload(){this.vectorStoreManager&&this.vectorStoreManager.onunload(),this.settingsUnsubscriber?.(),console.log("Copilot plugin unloaded")}updateUserMessageHistory(r){this.userMessageHistory=[...this.userMessageHistory,r]}async autosaveCurrentChat(){if(pe().autosaveChat){let r=this.app.workspace.getLeavesOfType(cl)[0]?.view;r&&r.sharedState.chatHistory.length>0&&await r.saveChat()}}async processText(r,n,o,i=!0){let a=await r.getSelection();this.app.workspace.getLeavesOfType(cl).length>0||await this.activateView(),setTimeout(()=>{let u=this.app.workspace.getLeavesOfType(cl).find(l=>l.view instanceof ZT)?.view;if(u&&(!i||a)){let l=new CustomEvent(n,{detail:{selectedText:a,eventSubtype:o}});u.eventTarget.dispatchEvent(l)}},0)}processSelection(r,n,o){this.processText(r,n,o)}emitChatIsVisible(){let r=this.app.workspace.getLeavesOfType(cl).find(n=>n.view instanceof ZT)?.view;if(r){let n=new CustomEvent(NS.CHAT_IS_VISIBLE);r.eventTarget.dispatchEvent(n)}}initActiveLeafChangeHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",r=>{r&&r.getViewState().type===cl&&this.emitChatIsVisible()}))}getCurrentEditorOrDummy(){let r=this.app.workspace.getActiveViewOfType(rO.MarkdownView);return{getSelection:()=>{let n=r?.editor?.getSelection();if(n)return n;let o=this.app.workspace.getActiveFile();return o?this.app.vault.cachedRead(o):""},replaceSelection:r?.editor?.replaceSelection.bind(r.editor)||(()=>{})}}processCustomPrompt(r,n){let o=this.getCurrentEditorOrDummy();this.processText(o,r,n,!1)}toggleView(){this.app.workspace.getLeavesOfType(cl).length>0?this.deactivateView():this.activateView()}async activateView(){let r=this.app.workspace.getLeavesOfType(cl);r.length===0?pe().defaultOpenArea==="view"?await this.app.workspace.getRightLeaf(!1).setViewState({type:cl,active:!0}):await this.app.workspace.getLeaf(!0).setViewState({type:cl,active:!0}):this.app.workspace.revealLeaf(r[0]),this.emitChatIsVisible()}async deactivateView(){this.app.workspace.detachLeavesOfType(cl)}async loadSettings(){let r=await this.loadData(),n=xke(r);EO(n)}mergeActiveModels(r,n){let o=new Map;return r.forEach(i=>{let a=Dr(i),s=o.get(a);s?o.set(a,{...i,isBuiltIn:s.isBuiltIn||i.isBuiltIn}):o.set(a,i)}),Array.from(o.values())}async loadCopilotChatHistory(){let r=await this.getChatHistoryFiles();if(r.length===0){new rO.Notice("No chat history found.");return}new fie(this.app,r,this.loadChatHistory.bind(this)).open()}async getChatHistoryFiles(){let r=this.app.vault.getAbstractFileByPath(pe().defaultSaveFolder);return r instanceof rO.TFolder?(await this.app.vault.getMarkdownFiles()).filter(o=>o.path.startsWith(r.path)):[]}async loadChatHistory(r){let n=await this.app.vault.read(r),o=A1t(n);this.sharedState.clearChatHistory(),o.forEach(a=>this.sharedState.addMessage(a)),await Y8(o,this.chainManager.memoryManager);let i=this.app.workspace.getLeavesOfType(cl)[0];i?i.view.updateView():this.activateView()}async customSearchDB(r,n,o){return(await new oT({minSimilarityScore:.3,maxK:20,salientTerms:n,textWeight:o}).getOramaChunks(r,n)).map(s=>({content:s.pageContent,metadata:s.metadata}))}};
/*! Bundled license information:

@langchain/core/dist/utils/fast-json-patch/src/helpers.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   *)

@langchain/core/dist/utils/fast-json-patch/src/duplex.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2013-2021 Joachim Wester
   * MIT license
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@langchain/core/dist/utils/js-sha1/hash.js:
  (*
   * [js-sha1]{@link https://github.com/emn178/js-sha1}
   *
   * @version 0.6.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-big-up.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/bot.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/check.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-up.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-help.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-stop.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/cog.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/command.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/corner-down-left.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/cpu.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/database.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/download.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/ellipsis.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/external-link.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye-off.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-input.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-output.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-text.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/folder.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/globe.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/image.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/info.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/key.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/library-big.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lightbulb.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/loader-circle.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/message-circle-plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/move.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pen-line.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pencil-line.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pencil.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-ccw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-cw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/rotate-cw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sparkles.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-arrow-out-up-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-pen.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/tag.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/text-cursor-input.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash-2.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/triangle-alert.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/user.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/wrench.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/x.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/

/* nosourcemap */